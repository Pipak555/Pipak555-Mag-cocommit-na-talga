import{r as e,j as s,u as t}from"./react-vendor-DAkY0NgE.js";import{g as r,u as a,B as n,L as l,C as c,a as i,b as o,c as d,d as m,e as u}from"./index-BbvEjZj9.js";import{c as p,d as x}from"./ui-vendor-CZx_xpmK.js";import{e as h,A as f,S as g,T as b,f as j,F as N}from"./icons-vendor-3zhgXMYa.js";import{L as v}from"./label-kBNwlYyC.js";import{P as y}from"./progress-DpeQ-D4Z.js";import{V as w}from"./video-background-ClFV52Pv.js";import{T as k}from"./theme-toggle-C3pYvPx7.js";import"./maps-vendor-CYGXCXz5.js";import"./utils-vendor-yBsXXcRr.js";import"./firebase-vendor-CvoiOdvz.js";import"./dropdown-menu-BRbzCJvi.js";const R=e.forwardRef(({className:e,...t},a)=>s.jsx(p,{ref:a,className:r("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(x,{className:r("flex items-center justify-center text-current"),children:s.jsx(h,{className:"h-4 w-4"})})}));R.displayName=p.displayName;const P=()=>{const r=t(),{user:p,hasRole:x,addRole:h}=a(),[P,C]=e.useState(!1),[S,A]=e.useState(!1),[H,T]=e.useState(!1),E=P&&S&&H,[I,L]=e.useState(!1),[F,O]=e.useState(!1),[U,z]=e.useState(!1),D=e.useRef(null),B=e.useRef(null),M=e.useRef(null),G=e.useRef(null),V=()=>{if(!D.current)return;const e=D.current,s=e.scrollTop,t=e.scrollHeight,r=e.clientHeight,a=s+r;if(s+r>=t-100)return L(!0),O(!0),void z(!0);if(B.current){const e=B.current.offsetTop,s=B.current.offsetHeight;L(a>=e+s-50)}if(M.current){const e=M.current.offsetTop,s=M.current.offsetHeight;O(a>=e+s-50)}if(G.current){const e=G.current.offsetTop,s=G.current.offsetHeight;z(a>=e+s-50)}};return e.useEffect(()=>{const e=D.current;if(!e)return;const s=()=>{V()};return e.addEventListener("scroll",s),V(),()=>{e.removeEventListener("scroll",s)}},[]),s.jsxs("div",{className:"min-h-screen bg-background flex flex-col relative",children:[s.jsx(w,{src:"/videos/landing-hero.mp4",overlay:!0,className:"z-0"}),s.jsx("header",{className:"relative z-10 border-b bg-card/95 backdrop-blur supports-[backdrop-filter]:bg-card/60",children:s.jsxs("div",{className:"container mx-auto px-6 py-4 flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(n,{variant:"ghost",onClick:()=>r("/"),children:[s.jsx(f,{className:"h-4 w-4 mr-2"}),"Back to Home"]}),s.jsx(l,{size:"sm"})]}),s.jsx(k,{})]})}),s.jsx("div",{className:"relative z-10 flex-1 flex items-center justify-center p-6",children:s.jsxs(c,{className:"w-full max-w-4xl shadow-2xl border-border/50 bg-card/95 backdrop-blur-md max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs(i,{className:"space-y-4 text-center pb-6 border-b",children:[s.jsx("div",{className:"w-16 h-16 mx-auto rounded-2xl bg-primary/10 flex items-center justify-center",children:s.jsx(g,{className:"w-8 h-8 text-primary"})}),s.jsxs("div",{children:[s.jsx(o,{className:"text-3xl font-bold",children:"Host Policies & Compliance"}),s.jsx(d,{className:"text-base mt-2",children:"Please read and accept all policies before creating your host account"})]})]}),s.jsxs(m,{className:"flex-1 flex flex-col py-6 overflow-hidden",children:[s.jsxs("div",{className:"mb-6 space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Reading Progress:"}),s.jsxs("span",{className:"font-medium",children:[[I,F,U].filter(Boolean).length," / 3 sections read"]})]}),s.jsx(y,{value:[I,F,U].filter(Boolean).length/3*100,className:"h-2"})]}),s.jsx("div",{ref:D,className:"flex-1 overflow-y-auto pr-4",children:s.jsxs("div",{className:"space-y-8 pb-4",children:[s.jsxs("div",{ref:B,className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3 pb-2 border-b",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-orange-100 dark:bg-orange-900/20 flex items-center justify-center",children:s.jsx(b,{className:"h-5 w-5 text-orange-600 dark:text-orange-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Cancellation Policy"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Read and understand our cancellation terms"})]}),I&&s.jsx(j,{className:"h-5 w-5 text-green-600 dark:text-green-400 ml-auto"})]}),s.jsx("div",{className:"bg-muted/50 rounded-lg p-6 border",children:s.jsx("pre",{className:"whitespace-pre-wrap text-sm font-sans text-foreground leading-relaxed",children:"CANCELLATION POLICY\n\n1. Free Cancellation: \n   - Full refund if cancelled 48+ hours before check-in\n   - 50% refund if cancelled 24-48 hours before check-in\n   - No refund if cancelled less than 24 hours before check-in\n\n2. Host Cancellation:\n   - Hosts may cancel up to 7 days before check-in without penalty\n   - Last-minute host cancellations result in automatic full refund to guest\n   - Repeated cancellations may result in account suspension"})}),s.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-muted/30 rounded-lg border",children:[s.jsx(R,{id:"accept-cancellation",checked:P,disabled:!1,onCheckedChange:e=>C(!0===e),className:"mt-1"}),s.jsx(v,{htmlFor:"accept-cancellation",className:"text-sm font-medium flex-1 cursor-pointer",children:"I have read and agree to the Cancellation Policy"})]})]}),s.jsxs("div",{ref:M,className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3 pb-2 border-b",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-100 dark:bg-blue-900/20 flex items-center justify-center",children:s.jsx(N,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Terms of Service"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Platform usage and responsibilities"})]}),F&&s.jsx(j,{className:"h-5 w-5 text-green-600 dark:text-green-400 ml-auto"})]}),s.jsx("div",{className:"bg-muted/50 rounded-lg p-6 border",children:s.jsx("pre",{className:"whitespace-pre-wrap text-sm font-sans text-foreground leading-relaxed",children:"TERMS OF SERVICE\n\n1. User Responsibilities:\n   - Users must be 18+ years old\n   - Accurate information must be provided\n   - Properties must match their descriptions\n   - Respect other users and properties\n\n2. Platform Usage:\n   - No illegal activities\n   - No discrimination\n   - Respect booking agreements\n   - Pay all applicable fees\n\n3. Liability:\n   - Platform acts as intermediary only\n   - Users responsible for their own safety\n   - Insurance recommended for all parties\n\n4. Host Obligations:\n   - Maintain accurate property listings\n   - Honor confirmed bookings\n   - Provide safe and clean accommodations\n   - Respond to guest inquiries promptly"})}),s.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-muted/30 rounded-lg border",children:[s.jsx(R,{id:"accept-terms",checked:S,disabled:!1,onCheckedChange:e=>A(!0===e),className:"mt-1"}),s.jsx(v,{htmlFor:"accept-terms",className:"text-sm font-medium flex-1 cursor-pointer",children:"I have read and agree to the Terms of Service"})]})]}),s.jsxs("div",{ref:G,className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3 pb-2 border-b",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-purple-100 dark:bg-purple-900/20 flex items-center justify-center",children:s.jsx(g,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:"House Rules & Regulations"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Property rules and guest conduct"})]}),U&&s.jsx(j,{className:"h-5 w-5 text-green-600 dark:text-green-400 ml-auto"})]}),s.jsx("div",{className:"bg-muted/50 rounded-lg p-6 border",children:s.jsx("pre",{className:"whitespace-pre-wrap text-sm font-sans text-foreground leading-relaxed",children:"HOUSE RULES & REGULATIONS\n\n1. Guest Conduct:\n   - Respect noise limitations\n   - No smoking unless explicitly allowed\n   - Maximum guest count must be respected\n   - No parties without host permission\n\n2. Property Care:\n   - Report any damages immediately\n   - Keep property clean and tidy\n   - Dispose of trash properly\n   - Follow check-out procedures\n\n3. Security:\n   - Lock all doors and windows\n   - Don't share access codes\n   - Report suspicious activity\n\n4. Host Responsibilities:\n   - Ensure property meets safety standards\n   - Maintain accurate availability calendar\n   - Provide clear check-in instructions\n   - Address guest concerns promptly"})}),s.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-muted/30 rounded-lg border",children:[s.jsx(R,{id:"accept-rules",checked:H,disabled:!1,onCheckedChange:e=>T(!0===e),className:"mt-1"}),s.jsx(v,{htmlFor:"accept-rules",className:"text-sm font-medium flex-1 cursor-pointer",children:"I have read and agree to the House Rules & Regulations"})]})]})]})}),s.jsxs("div",{className:"mt-6 pt-6 border-t",children:[s.jsxs(n,{onClick:()=>{if(!D.current)return;const e=D.current,s=e.scrollTop,t=e.scrollHeight;s+e.clientHeight>=t-100||I&&F&&U?(C(!0),A(!0),T(!0),u.success("All policies accepted!")):(u.error("Please scroll to the end of all policies first."),e.scrollTo({top:t,behavior:"smooth"}))},variant:"outline",className:"w-full",disabled:E,children:[s.jsx(j,{className:"h-4 w-4 mr-2"}),E?"All Policies Accepted âœ“":"Accept All Policies"]}),!E&&s.jsx("p",{className:"text-xs text-muted-foreground text-center mt-2",children:'Scroll to the end of all policies, then click "Accept All Policies"'})]})]}),s.jsx("div",{className:"border-t p-6 bg-muted/30",children:s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:E?s.jsxs("span",{className:"text-green-600 dark:text-green-400 font-medium flex items-center gap-2",children:[s.jsx(j,{className:"h-4 w-4"}),"All policies accepted"]}):"Please accept all policies to continue"}),s.jsx(n,{onClick:async()=>{if(!E)return void u.error("Please accept all policies and terms to continue.");const e=(new Date).toISOString();if(p&&!x("host"))try{return await h("host",{policyAccepted:!0,policyAcceptedDate:e}),u.success("Welcome! You can now host properties. Redirecting to host dashboard..."),void setTimeout(()=>{r("/host/dashboard")},1500)}catch(s){return void u.error(s.message||"Failed to add host role. Please try again.")}sessionStorage.setItem("hostPolicyAccepted","true"),sessionStorage.setItem("hostPolicyAcceptedDate",e),p&&x("host")?r("/host/dashboard"):r("/host/login",{state:{showSignup:!0}})},disabled:!E,className:"min-w-[150px]",size:"lg",children:"Continue to Registration"})]})})]})})]})};export{P as default};
