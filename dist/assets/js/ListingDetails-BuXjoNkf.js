const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/index-F95ZJi6y.js","assets/js/react-vendor-DcULH_Au.js","assets/js/utils-vendor-yBsXXcRr.js","assets/js/maps-vendor-CYGXCXz5.js","assets/maps-vendor-Dgihpmma.css","assets/js/ui-vendor-C9dhA_ey.js","assets/js/icons-vendor-D18eSOBA.js","assets/js/firebase-vendor-BtzXZj7S.js","assets/index-jZhKPZKM.css","assets/js/recommendations-Brf4yw9Y.js"])))=>i.map(i=>d[i]);
import{p as e,C as s,d as t,B as a,e as i,u as r,q as n,r as l,j as c,s as o,a as d,b as m,i as h,_ as x,v as u}from"./index-F95ZJi6y.js";import{r as g,j as p,q as j,u as f}from"./react-vendor-DcULH_Au.js";import{B as w}from"./badge-BPytCQbI.js";import{C as v}from"./calendar-BinlYO1C.js";import{A as N,a as y}from"./avatar-Dgjf6jOv.js";import{S as b,a as _,b as C,c as S,d as k}from"./select-CpU4hhzn.js";import{y as R,z as I,h as T,s as L,G as E,I as D,e as A,J as F,K as P,O,Q as V,V as W,A as B,Y as z,q as M,u as H,U as q,o as U}from"./icons-vendor-D18eSOBA.js";import{D as $,a as Q,b as J,c as G,d as Y}from"./dropdown-menu-C4xHPRIa.js";import{D as K,a as Z,b as X,c as ee,d as se}from"./dialog-1q5CFjjn.js";import{I as te}from"./input-CGAn_-_v.js";import{L as ae}from"./ListingCard-D08Qz4_k.js";import{f as ie,e as re}from"./firebase-vendor-BtzXZj7S.js";import"./ui-vendor-C9dhA_ey.js";import"./utils-vendor-yBsXXcRr.js";import"./maps-vendor-CYGXCXz5.js";const ne=({listingId:i})=>{const[r,n]=g.useState([]),[l,c]=g.useState(!0),[o,d]=g.useState("newest"),[m,h]=g.useState(new Set);g.useEffect(()=>{x(),u()},[i]);const x=async()=>{try{const s=await e(i);n(s)}catch(s){}finally{c(!1)}},u=()=>{const e=localStorage.getItem("helpful_reviews_"+i);e&&h(new Set(JSON.parse(e)))},j=g.useMemo(()=>{const e=[...r];switch(o){case"newest":return e.sort((e,s)=>new Date(s.createdAt).getTime()-new Date(e.createdAt).getTime());case"highest":return e.sort((e,s)=>s.rating-e.rating);case"lowest":return e.sort((e,s)=>e.rating-s.rating);case"most_helpful":return e.sort((e,s)=>{const t=m.has(e.id)?1:0,a=m.has(s.id)?1:0;return t!==a?a-t:s.rating-e.rating});default:return e}},[r,o,m]),f=g.useMemo(()=>0===r.length?0:(r.reduce((e,s)=>e+s.rating,0)/r.length).toFixed(1),[r]),w=g.useMemo(()=>{const e={5:0,4:0,3:0,2:0,1:0};return r.forEach(s=>{e[s.rating]++}),e},[r]);return l?p.jsx("p",{children:"Loading reviews..."}):0===r.length?p.jsx(s,{children:p.jsx(t,{className:"py-8 text-center text-muted-foreground",children:"No reviews yet"})}):p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[p.jsxs("div",{children:[p.jsxs("h3",{className:"text-2xl font-semibold mb-2",children:["Reviews (",r.length,")"]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(R,{className:"h-5 w-5 fill-yellow-400 text-yellow-400"}),p.jsx("span",{className:"text-lg font-bold ml-1",children:f})]}),p.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",r.length," ",1===r.length?"review":"reviews",")"]})]})]}),p.jsxs(b,{value:o,onValueChange:e=>d(e),children:[p.jsxs(_,{className:"w-full sm:w-[200px]",children:[p.jsx(I,{className:"h-4 w-4 mr-2"}),p.jsx(C,{placeholder:"Sort by"})]}),p.jsxs(S,{children:[p.jsx(k,{value:"newest",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(T,{className:"h-4 w-4"}),p.jsx("span",{children:"Newest First"})]})}),p.jsx(k,{value:"highest",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(L,{className:"h-4 w-4"}),p.jsx("span",{children:"Highest Rated"})]})}),p.jsx(k,{value:"lowest",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(L,{className:"h-4 w-4 rotate-180"}),p.jsx("span",{children:"Lowest Rated"})]})}),p.jsx(k,{value:"most_helpful",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(E,{className:"h-4 w-4"}),p.jsx("span",{children:"Most Helpful"})]})})]})]})]}),p.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[p.jsx("h4",{className:"text-sm font-medium mb-3",children:"Rating Breakdown"}),p.jsx("div",{className:"space-y-2",children:[5,4,3,2,1].reverse().map(e=>{const s=w[e],t=s/r.length*100;return p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsxs("div",{className:"flex items-center gap-1 w-20",children:[p.jsx("span",{className:"text-sm",children:e}),p.jsx(R,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"})]}),p.jsx("div",{className:"flex-1 bg-background rounded-full h-2 overflow-hidden",children:p.jsx("div",{className:"bg-primary h-full rounded-full transition-all duration-300",style:{width:t+"%"}})}),p.jsx("span",{className:"text-sm text-muted-foreground w-12 text-right",children:s})]},e)})})]}),p.jsx("div",{className:"space-y-4",children:j.map(e=>p.jsx(s,{children:p.jsx(t,{className:"pt-6",children:p.jsxs("div",{className:"flex items-start gap-4",children:[p.jsx(N,{children:p.jsx(y,{children:e.guestId.slice(0,2).toUpperCase()})}),p.jsxs("div",{className:"flex-1",children:[p.jsx("div",{className:"flex items-start justify-between mb-2",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"flex",children:[...[,,,,,]].map((s,t)=>p.jsx(R,{className:"h-4 w-4 "+(t<e.rating?"fill-yellow-400 text-yellow-400":"text-muted")},t))}),p.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(e.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})}),p.jsx("p",{className:"text-sm mb-3 leading-relaxed",children:e.comment}),p.jsxs(a,{variant:"ghost",size:"sm",className:"h-8 text-xs",onClick:()=>(e=>{const s=new Set(m);s.has(e)?s.delete(e):s.add(e),h(s),localStorage.setItem("helpful_reviews_"+i,JSON.stringify(Array.from(s)))})(e.id),children:[p.jsx(E,{className:"h-3 w-3 mr-1 "+(m.has(e.id)?"fill-primary text-primary":"")}),"Helpful ",m.has(e.id)&&"(1)"]})]})]})})},e.id))})]})},le=({url:e,title:s,description:t="",variant:r="outline",size:n="default"})=>{const[l,c]=g.useState(!1),[o,d]=g.useState(!1),[m,h]=g.useState("Copy"),x=g.useRef(null),u=encodeURIComponent(e),j=encodeURIComponent(s),f=async()=>{if(window.isSecureContext||"localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname)try{if(navigator.clipboard&&navigator.clipboard.writeText)try{return await navigator.clipboard.writeText(e),c(!0),i.success("Link copied to clipboard!"),void setTimeout(()=>c(!1),2e3)}catch(s){}const a=document.createElement("input");a.value=e,a.type="text",a.readOnly=!0,a.style.position="fixed",a.style.left="0",a.style.top="0",a.style.width="1px",a.style.height="1px",a.style.opacity="0",a.style.pointerEvents="none",a.style.zIndex="9999",document.body.appendChild(a),a.focus(),a.select(),a.setSelectionRange(0,e.length),await new Promise(e=>setTimeout(e,10));try{const e=document.execCommand("copy");if(document.body.removeChild(a),e)return c(!0),i.success("Link copied to clipboard!"),void setTimeout(()=>c(!1),2e3)}catch(t){document.body.contains(a)&&document.body.removeChild(a)}}catch(a){}d(!0),h("Copy"),setTimeout(()=>{x.current&&(x.current.focus(),x.current.select())},100)};return p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex items-center gap-2",children:[navigator.share&&p.jsxs(a,{variant:r,size:n,onClick:async()=>{if(navigator.share)try{await navigator.share({title:s,text:t,url:e})}catch(a){a.name}else f()},className:"flex items-center gap-2",children:[p.jsx(D,{className:"h-4 w-4"}),p.jsx("span",{className:"hidden sm:inline",children:"Share"})]}),p.jsxs($,{children:[p.jsx(Q,{asChild:!0,children:p.jsxs(a,{variant:r,size:n,className:"flex items-center gap-2",children:[p.jsx(D,{className:"h-4 w-4"}),!navigator.share&&p.jsx("span",{children:"Share"}),navigator.share&&p.jsx("span",{className:"hidden sm:inline",children:"More"})]})}),p.jsxs(J,{align:"end",className:"w-48",children:[p.jsx(G,{onClick:f,children:l?p.jsxs(p.Fragment,{children:[p.jsx(A,{className:"h-4 w-4 mr-2 text-green-500"}),"Copied!"]}):p.jsxs(p.Fragment,{children:[p.jsx(F,{className:"h-4 w-4 mr-2"}),"Copy Link"]})}),p.jsx(Y,{}),p.jsxs(G,{onClick:()=>{const e="https://www.facebook.com/sharer/sharer.php?u="+u;window.open(e,"_blank","noopener,noreferrer")},children:[p.jsx(P,{className:"h-4 w-4 mr-2 text-blue-600"}),"Share to Facebook"]}),p.jsxs(G,{onClick:()=>{const e=`https://twitter.com/intent/tweet?url=${u}&text=${j}${t?"&hashtags=MojoDojoCasaHouse":""}`;window.open(e,"_blank","noopener,noreferrer")},children:[p.jsx(O,{className:"h-4 w-4 mr-2 text-sky-500"}),"Share to Twitter"]}),p.jsxs(G,{onClick:()=>{const e=`https://api.whatsapp.com/send?text=${j}%20${u}`;window.open(e,"_blank","noopener,noreferrer")},children:[p.jsx(V,{className:"h-4 w-4 mr-2 text-green-600"}),"Share to WhatsApp"]})]})]})]}),p.jsx(K,{open:o,onOpenChange:d,children:p.jsxs(Z,{className:"sm:max-w-[500px]",children:[p.jsxs(X,{children:[p.jsxs(ee,{className:"flex items-center gap-2",children:[p.jsx(F,{className:"h-5 w-5"}),"Copy Link"]}),p.jsx(se,{children:"Share this listing with others by copying the link below"})]}),p.jsxs("div",{className:"space-y-4 py-4",children:[p.jsxs("div",{className:"flex gap-2",children:[p.jsx(te,{ref:x,value:e,readOnly:!0,className:"flex-1 font-mono text-sm",onFocus:e=>e.target.select()}),p.jsx(a,{onClick:async()=>{if(!x.current)return;const s=x.current;s.focus(),s.select(),s.setSelectionRange(0,e.length);try{if(navigator.clipboard&&navigator.clipboard.writeText)try{return await navigator.clipboard.writeText(e),h("Copied!"),c(!0),i.success("Link copied to clipboard!"),void setTimeout(()=>{h("Copy"),d(!1),c(!1)},1500)}catch(t){}await new Promise(e=>setTimeout(e,10)),document.execCommand("copy")?(h("Copied!"),c(!0),i.success("Link copied to clipboard!"),setTimeout(()=>{h("Copy"),d(!1),c(!1)},1500)):(s.select(),i.info("Text selected. Press Ctrl+C (or Cmd+C) to copy"),h("Copy"))}catch(a){s.select(),i.info("Text selected. Press Ctrl+C (or Cmd+C) to copy"),h("Copy")}},className:"shrink-0",variant:"Copied!"===m?"default":"secondary",children:"Copied!"===m?p.jsxs(p.Fragment,{children:[p.jsx(A,{className:"h-4 w-4 mr-2"}),"Copied!"]}):p.jsxs(p.Fragment,{children:[p.jsx(W,{className:"h-4 w-4 mr-2"}),"Copy"]})})]}),p.jsxs("p",{className:"text-xs text-muted-foreground",children:["Tip: You can also select the link above and press ",p.jsx("kbd",{className:"px-1.5 py-0.5 bg-muted rounded text-xs font-mono",children:"Ctrl+C"})," (or ",p.jsx("kbd",{className:"px-1.5 py-0.5 bg-muted rounded text-xs font-mono",children:"Cmd+C"})," on Mac) to copy"]})]})]})})]})},ce=()=>{const{id:e}=j(),N=f(),{user:y}=r(),[b,_]=g.useState(null),[C,S]=g.useState(),[k,R]=g.useState(),[I,T]=g.useState(1),[L,E]=g.useState(!1),[D,A]=g.useState([]),[F,P]=g.useState([]),[O,V]=g.useState(null);g.useEffect(()=>{e&&W(),y&&(Q(),J())},[e,y]);const W=async()=>{if(!e)return;const s=await n(e);if(s){const t=await l(e),a={...s,averageRating:t.averageRating,reviewCount:t.reviewCount};_(a),s.hostId&&await $(s.hostId)}},$=async e=>{try{const s=await ie(re(c,"users",e));if(s.exists()){const e=s.data();V({fullName:e.fullName||"Host",email:e.email||""})}else V({fullName:"Host",email:""})}catch(s){V({fullName:"Host",email:""})}},Q=async()=>{if(!y)return;const e=await ie(re(c,"users",y.uid));e.exists()&&A(e.data().favorites||[])},J=async()=>{if(!y)return;const e=await ie(re(c,"users",y.uid));e.exists()&&P(e.data().wishlist||[])},G=()=>C&&k&&b?Math.ceil((k.getTime()-C.getTime())/864e5)*b.price:0;return b?p.jsx("div",{className:"min-h-screen bg-background p-6",children:p.jsxs("div",{className:"max-w-6xl mx-auto",children:[p.jsxs(a,{variant:"ghost",onClick:()=>N("/guest/browse"),className:"mb-4",children:[p.jsx(B,{className:"h-4 w-4 mr-2"}),"Back to Browse"]}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[p.jsxs("div",{children:[p.jsx("img",{src:b.images[0]||"/placeholder.svg",alt:b.title,className:"w-full h-96 object-cover rounded-lg mb-4"}),p.jsx("div",{className:"grid grid-cols-3 gap-2",children:b.images.slice(1,4).map((e,s)=>p.jsx("img",{src:e,alt:"",className:"w-full h-24 object-cover rounded"},s))})]}),p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsx(w,{children:b.category}),p.jsxs("div",{className:"flex items-center gap-2",children:[y&&b&&p.jsxs(p.Fragment,{children:[p.jsxs(a,{variant:"outline",size:"sm",onClick:async()=>{if(y&&b)try{const{toggleWishlist:e}=await x(async()=>{const{toggleWishlist:e}=await import("./index-F95ZJi6y.js").then(e=>e.R);return{toggleWishlist:e}},__vite__mapDeps([0,1,2,3,4,5,6,7,8])),s=await e(y.uid,b.id,F);P(s),i.success(s.includes(b.id)?"Added to wishlist":"Removed from wishlist")}catch(e){i.error("Failed to update wishlist")}else i.error("Please login to add to wishlist")},className:"flex items-center gap-2",title:F.includes(b.id)?"Remove from wishlist":"Add to wishlist",children:[p.jsx(z,{className:"h-4 w-4 "+(F.includes(b.id)?"fill-blue-500 text-blue-500":"")}),F.includes(b.id)?"In Wishlist":"Wishlist"]}),p.jsxs(a,{variant:"outline",size:"sm",onClick:async()=>{if(y&&b)try{const{toggleFavorite:e}=await x(async()=>{const{toggleFavorite:e}=await import("./index-F95ZJi6y.js").then(e=>e.R);return{toggleFavorite:e}},__vite__mapDeps([0,1,2,3,4,5,6,7,8])),s=await e(y.uid,b.id,D);A(s),i.success(s.includes(b.id)?"Added to favorites":"Removed from favorites")}catch(e){i.error("Failed to update favorites")}else i.error("Please login to add favorites")},className:"flex items-center gap-2",title:D.includes(b.id)?"Remove from favorites":"Add to favorites",children:[p.jsx(M,{className:"h-4 w-4 "+(D.includes(b.id)?"fill-red-500 text-red-500":"")}),D.includes(b.id)?"Favorited":"Favorite"]})]}),b&&p.jsx(le,{url:window.location.href,title:b.title,description:b.description,variant:"outline",size:"sm"})]})]}),p.jsx("h1",{className:"text-3xl font-bold mb-2",children:b.title}),p.jsxs("div",{className:"flex items-center text-muted-foreground mb-4",children:[p.jsx(H,{className:"h-4 w-4 mr-1"}),p.jsx("span",{children:b.location})]}),p.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[p.jsxs("span",{className:"flex items-center gap-1",children:[p.jsx(q,{className:"h-4 w-4"}),b.maxGuests," guests"]}),b.bedrooms&&p.jsxs("span",{children:[b.bedrooms," bedrooms"]}),b.bathrooms&&p.jsxs("span",{children:[b.bathrooms," bathrooms"]})]}),O&&p.jsx(s,{className:"mb-6 border-primary/20 bg-primary/5",children:p.jsx(t,{className:"p-4",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:p.jsx(U,{className:"h-6 w-6 text-primary"})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Hosted by"}),p.jsx("p",{className:"font-semibold text-lg",children:O.fullName})]})]})})}),p.jsx("p",{className:"text-muted-foreground mb-6",children:b.description}),b.amenities.length>0&&p.jsxs("div",{className:"mb-6",children:[p.jsx("h3",{className:"font-semibold mb-2",children:"Amenities"}),p.jsx("div",{className:"flex flex-wrap gap-2",children:b.amenities.map((e,s)=>p.jsx(w,{variant:"outline",children:e},s))})]}),p.jsxs(s,{children:[p.jsx(d,{children:p.jsxs(m,{className:"flex items-center justify-between",children:[p.jsx("span",{children:h(b.price)}),p.jsx("span",{className:"text-sm font-normal text-muted-foreground",children:"per night"})]})}),p.jsxs(t,{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Check-in"}),p.jsx(v,{mode:"single",selected:C,onSelect:S,disabled:e=>new Date>e,className:"rounded-md border"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Check-out"}),p.jsx(v,{mode:"single",selected:k,onSelect:R,disabled:e=>!C||C>=e,className:"rounded-md border"})]}),C&&k&&p.jsx("div",{className:"pt-4 border-t",children:p.jsxs("div",{className:"flex justify-between mb-2",children:[p.jsx("span",{children:"Total"}),p.jsx("span",{className:"font-bold",children:h(G())})]})}),p.jsx(a,{className:"w-full",onClick:async()=>{if(y&&b&&C&&k)if(b.hostId){E(!0);try{const s={listingId:b.id,guestId:y.uid,hostId:b.hostId,checkIn:C.toISOString(),checkOut:k.toISOString(),guests:I,totalPrice:G(),status:"pending"},t=await u(s);try{const{getDoc:e,doc:s}=await x(async()=>{const{getDoc:e,doc:s}=await import("./firebase-vendor-BtzXZj7S.js").then(e=>e.B);return{getDoc:e,doc:s}},[]),{db:a}=await x(async()=>{const{db:e}=await import("./index-F95ZJi6y.js").then(e=>e.Q);return{db:e}},__vite__mapDeps([0,1,2,3,4,5,6,7,8])),i=await e(s(a,"bookings",t));if(i.exists()&&(i.data(),b.id)){const t=await e(s(a,"listing",b.id));t.exists()&&t.data()}}catch(e){}i.success("Booking request sent! The host will review your request."),N("/guest/dashboard")}catch(s){i.error("Failed to create booking")}finally{E(!1)}}else i.error("Listing error: Missing host information. Please contact support.");else i.error("Please select dates and sign in")},disabled:!C||!k||L,children:L?"Booking...":"Request to Book"})]})]})]})]}),p.jsx("div",{className:"mt-12",children:p.jsx(ne,{listingId:b.id})}),p.jsx(oe,{listingId:b.id})]})}):p.jsx(o,{})},oe=({listingId:e})=>{const s=f(),{user:t}=r(),[a,n]=g.useState([]),[l,c]=g.useState([]),[o,d]=g.useState([]),[m,h]=g.useState(!0);g.useEffect(()=>{u(),t&&(j(),w())},[e,t]);const u=async()=>{try{const{getSimilarListings:s}=await x(async()=>{const{getSimilarListings:e}=await import("./recommendations-Brf4yw9Y.js");return{getSimilarListings:e}},__vite__mapDeps([9,7,0,1,2,3,4,5,6,8])),{getListingsRatings:t}=await x(async()=>{const{getListingsRatings:e}=await import("./index-F95ZJi6y.js").then(e=>e.R);return{getListingsRatings:e}},__vite__mapDeps([0,1,2,3,4,5,6,7,8])),a=await s(e,4);if(a.length>0){const e=a.map(e=>e.id),s=await t(e),i=a.map(e=>{const t=s.get(e.id);return{...e,averageRating:t?.averageRating||0,reviewCount:t?.reviewCount||0}});n(i)}else n(a)}catch(s){}finally{h(!1)}},j=async()=>{if(!t)return;const{doc:e,getDoc:s}=await x(async()=>{const{doc:e,getDoc:s}=await import("./firebase-vendor-BtzXZj7S.js").then(e=>e.B);return{doc:e,getDoc:s}},[]),{db:a}=await x(async()=>{const{db:e}=await import("./index-F95ZJi6y.js").then(e=>e.Q);return{db:e}},__vite__mapDeps([0,1,2,3,4,5,6,7,8])),i=await s(e(a,"users",t.uid));i.exists()&&c(i.data().favorites||[])},w=async()=>{if(!t)return;const{doc:e,getDoc:s}=await x(async()=>{const{doc:e,getDoc:s}=await import("./firebase-vendor-BtzXZj7S.js").then(e=>e.B);return{doc:e,getDoc:s}},[]),{db:a}=await x(async()=>{const{db:e}=await import("./index-F95ZJi6y.js").then(e=>e.Q);return{db:e}},__vite__mapDeps([0,1,2,3,4,5,6,7,8])),i=await s(e(a,"users",t.uid));i.exists()&&d(i.data().wishlist||[])};return m||0===a.length?null:p.jsxs("div",{className:"mt-12",children:[p.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Similar Listings"}),p.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:a.map(e=>p.jsx(ae,{listing:e,onView:()=>s("/guest/listing/"+e.id),onFavorite:()=>(async e=>{if(t)try{const{toggleFavorite:s}=await x(async()=>{const{toggleFavorite:e}=await import("./index-F95ZJi6y.js").then(e=>e.R);return{toggleFavorite:e}},__vite__mapDeps([0,1,2,3,4,5,6,7,8])),a=await s(t.uid,e,l);c(a),i.success(a.includes(e)?"Added to favorites":"Removed from favorites")}catch(s){i.error("Failed to update favorites")}else i.error("Please login to add favorites")})(e.id),onWishlist:()=>(async e=>{if(t)try{const{toggleWishlist:s}=await x(async()=>{const{toggleWishlist:e}=await import("./index-F95ZJi6y.js").then(e=>e.R);return{toggleWishlist:e}},__vite__mapDeps([0,1,2,3,4,5,6,7,8])),a=await s(t.uid,e,o);d(a),i.success(a.includes(e)?"Added to wishlist":"Removed from wishlist")}catch(s){i.error("Failed to update wishlist")}else i.error("Please login to add to wishlist")})(e.id),isFavorite:l.includes(e.id),isInWishlist:o.includes(e.id)},e.id))})]})};export{ce as default};
