const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/index-BbvEjZj9.js","assets/js/react-vendor-DAkY0NgE.js","assets/js/maps-vendor-CYGXCXz5.js","assets/maps-vendor-Dgihpmma.css","assets/js/utils-vendor-yBsXXcRr.js","assets/js/ui-vendor-CZx_xpmK.js","assets/js/icons-vendor-3zhgXMYa.js","assets/js/firebase-vendor-CvoiOdvz.js","assets/index-CLiUbsBH.css","assets/js/recommendations-DD8Y0n2s.js"])))=>i.map(i=>d[i]);
import{s as e,C as s,d as t,B as a,e as i,u as n,v as r,w as l,j as c,x as o,a as d,b as m,i as h,_ as x,y as u}from"./index-BbvEjZj9.js";import{r as g,j as p,w as j,u as f}from"./react-vendor-DAkY0NgE.js";import{B as w}from"./badge-Bdu_tSqo.js";import{D as v,a as N,b as y,c as b,d as _,C}from"./calendar-D55um_cb.js";import{A as S,a as k}from"./avatar-jgLwWdSB.js";import{S as R,a as I,b as T,c as L,d as E}from"./select-B0HuvfWd.js";import{u as D,G as A,h as F,r as P,I as O,J as V,e as B,K as W,O as M,Q as z,V as H,Y as U,A as Q,Z as $,p as J,w as q,U as Y,n as G}from"./icons-vendor-3zhgXMYa.js";import{D as K,a as X,b as Z,c as ee,d as se}from"./dropdown-menu-BRbzCJvi.js";import{I as te}from"./input-C1fDyqub.js";import{L as ae}from"./ListingCard-YDL4intN.js";import{f as ie,e as ne}from"./firebase-vendor-CvoiOdvz.js";import"./ui-vendor-CZx_xpmK.js";import"./utils-vendor-yBsXXcRr.js";import"./maps-vendor-CYGXCXz5.js";const re=({listingId:i})=>{const[n,r]=g.useState([]),[l,c]=g.useState(!0),[o,d]=g.useState("newest"),[m,h]=g.useState(new Set);g.useEffect(()=>{x(),u()},[i]);const x=async()=>{try{const s=await e(i);r(s)}catch(s){}finally{c(!1)}},u=()=>{const e=localStorage.getItem("helpful_reviews_"+i);e&&h(new Set(JSON.parse(e)))},j=g.useMemo(()=>{const e=[...n];switch(o){case"newest":return e.sort((e,s)=>new Date(s.createdAt).getTime()-new Date(e.createdAt).getTime());case"highest":return e.sort((e,s)=>s.rating-e.rating);case"lowest":return e.sort((e,s)=>e.rating-s.rating);case"most_helpful":return e.sort((e,s)=>{const t=m.has(e.id)?1:0,a=m.has(s.id)?1:0;return t!==a?a-t:s.rating-e.rating});default:return e}},[n,o,m]),f=g.useMemo(()=>0===n.length?0:(n.reduce((e,s)=>e+s.rating,0)/n.length).toFixed(1),[n]),w=g.useMemo(()=>{const e={5:0,4:0,3:0,2:0,1:0};return n.forEach(s=>{e[s.rating]++}),e},[n]);return l?p.jsx("p",{children:"Loading reviews..."}):0===n.length?p.jsx(s,{children:p.jsx(t,{className:"py-8 text-center text-muted-foreground",children:"No reviews yet"})}):p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[p.jsxs("div",{children:[p.jsxs("h3",{className:"text-2xl font-semibold mb-2",children:["Reviews (",n.length,")"]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(D,{className:"h-5 w-5 fill-yellow-400 text-yellow-400"}),p.jsx("span",{className:"text-lg font-bold ml-1",children:f})]}),p.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",n.length," ",1===n.length?"review":"reviews",")"]})]})]}),p.jsxs(R,{value:o,onValueChange:e=>d(e),children:[p.jsxs(I,{className:"w-full sm:w-[200px]",children:[p.jsx(A,{className:"h-4 w-4 mr-2"}),p.jsx(T,{placeholder:"Sort by"})]}),p.jsxs(L,{children:[p.jsx(E,{value:"newest",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(F,{className:"h-4 w-4"}),p.jsx("span",{children:"Newest First"})]})}),p.jsx(E,{value:"highest",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(P,{className:"h-4 w-4"}),p.jsx("span",{children:"Highest Rated"})]})}),p.jsx(E,{value:"lowest",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(P,{className:"h-4 w-4 rotate-180"}),p.jsx("span",{children:"Lowest Rated"})]})}),p.jsx(E,{value:"most_helpful",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(O,{className:"h-4 w-4"}),p.jsx("span",{children:"Most Helpful"})]})})]})]})]}),p.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[p.jsx("h4",{className:"text-sm font-medium mb-3",children:"Rating Breakdown"}),p.jsx("div",{className:"space-y-2",children:[5,4,3,2,1].reverse().map(e=>{const s=w[e],t=s/n.length*100;return p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsxs("div",{className:"flex items-center gap-1 w-20",children:[p.jsx("span",{className:"text-sm",children:e}),p.jsx(D,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"})]}),p.jsx("div",{className:"flex-1 bg-background rounded-full h-2 overflow-hidden",children:p.jsx("div",{className:"bg-primary h-full rounded-full transition-all duration-300",style:{width:t+"%"}})}),p.jsx("span",{className:"text-sm text-muted-foreground w-12 text-right",children:s})]},e)})})]}),p.jsx("div",{className:"space-y-4",children:j.map(e=>p.jsx(s,{children:p.jsx(t,{className:"pt-6",children:p.jsxs("div",{className:"flex items-start gap-4",children:[p.jsx(S,{children:p.jsx(k,{children:e.guestId.slice(0,2).toUpperCase()})}),p.jsxs("div",{className:"flex-1",children:[p.jsx("div",{className:"flex items-start justify-between mb-2",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"flex",children:[...[,,,,,]].map((s,t)=>p.jsx(D,{className:"h-4 w-4 "+(t<e.rating?"fill-yellow-400 text-yellow-400":"text-muted")},t))}),p.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(e.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})}),p.jsx("p",{className:"text-sm mb-3 leading-relaxed",children:e.comment}),p.jsxs(a,{variant:"ghost",size:"sm",className:"h-8 text-xs",onClick:()=>(e=>{const s=new Set(m);s.has(e)?s.delete(e):s.add(e),h(s),localStorage.setItem("helpful_reviews_"+i,JSON.stringify(Array.from(s)))})(e.id),children:[p.jsx(O,{className:"h-3 w-3 mr-1 "+(m.has(e.id)?"fill-primary text-primary":"")}),"Helpful ",m.has(e.id)&&"(1)"]})]})]})})},e.id))})]})},le=({url:e,title:s,description:t="",variant:n="outline",size:r="default"})=>{const[l,c]=g.useState(!1),[o,d]=g.useState(!1),[m,h]=g.useState("Copy"),x=g.useRef(null),u=encodeURIComponent(e),j=encodeURIComponent(s),f=async()=>{if(window.isSecureContext||"localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname)try{if(navigator.clipboard&&navigator.clipboard.writeText)try{return await navigator.clipboard.writeText(e),c(!0),i.success("Link copied to clipboard!"),void setTimeout(()=>c(!1),2e3)}catch(s){}const a=document.createElement("input");a.value=e,a.type="text",a.readOnly=!0,a.style.position="fixed",a.style.left="0",a.style.top="0",a.style.width="1px",a.style.height="1px",a.style.opacity="0",a.style.pointerEvents="none",a.style.zIndex="9999",document.body.appendChild(a),a.focus(),a.select(),a.setSelectionRange(0,e.length),await new Promise(e=>setTimeout(e,10));try{const e=document.execCommand("copy");if(document.body.removeChild(a),e)return c(!0),i.success("Link copied to clipboard!"),void setTimeout(()=>c(!1),2e3)}catch(t){document.body.contains(a)&&document.body.removeChild(a)}}catch(a){}d(!0),h("Copy"),setTimeout(()=>{x.current&&(x.current.focus(),x.current.select())},100)};return p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex items-center gap-2",children:[navigator.share&&p.jsxs(a,{variant:n,size:r,onClick:async()=>{if(navigator.share)try{await navigator.share({title:s,text:t,url:e})}catch(a){a.name}else f()},className:"flex items-center gap-2",children:[p.jsx(V,{className:"h-4 w-4"}),p.jsx("span",{className:"hidden sm:inline",children:"Share"})]}),p.jsxs(K,{children:[p.jsx(X,{asChild:!0,children:p.jsxs(a,{variant:n,size:r,className:"flex items-center gap-2",children:[p.jsx(V,{className:"h-4 w-4"}),!navigator.share&&p.jsx("span",{children:"Share"}),navigator.share&&p.jsx("span",{className:"hidden sm:inline",children:"More"})]})}),p.jsxs(Z,{align:"end",className:"w-48",children:[p.jsx(ee,{onClick:f,children:l?p.jsxs(p.Fragment,{children:[p.jsx(B,{className:"h-4 w-4 mr-2 text-green-500"}),"Copied!"]}):p.jsxs(p.Fragment,{children:[p.jsx(W,{className:"h-4 w-4 mr-2"}),"Copy Link"]})}),p.jsx(se,{}),p.jsxs(ee,{onClick:()=>{const e="https://www.facebook.com/sharer/sharer.php?u="+u;window.open(e,"_blank","noopener,noreferrer")},children:[p.jsx(M,{className:"h-4 w-4 mr-2 text-blue-600"}),"Share to Facebook"]}),p.jsxs(ee,{onClick:()=>{const e=`https://twitter.com/intent/tweet?url=${u}&text=${j}${t?"&hashtags=MojoDojoCasaHouse":""}`;window.open(e,"_blank","noopener,noreferrer")},children:[p.jsx(z,{className:"h-4 w-4 mr-2 text-sky-500"}),"Share to Twitter"]}),p.jsxs(ee,{onClick:()=>{const e=`https://api.whatsapp.com/send?text=${j}%20${u}`;window.open(e,"_blank","noopener,noreferrer")},children:[p.jsx(H,{className:"h-4 w-4 mr-2 text-green-600"}),"Share to WhatsApp"]})]})]})]}),p.jsx(v,{open:o,onOpenChange:d,children:p.jsxs(N,{className:"sm:max-w-[500px]",children:[p.jsxs(y,{children:[p.jsxs(b,{className:"flex items-center gap-2",children:[p.jsx(W,{className:"h-5 w-5"}),"Copy Link"]}),p.jsx(_,{children:"Share this listing with others by copying the link below"})]}),p.jsxs("div",{className:"space-y-4 py-4",children:[p.jsxs("div",{className:"flex gap-2",children:[p.jsx(te,{ref:x,value:e,readOnly:!0,className:"flex-1 font-mono text-sm",onFocus:e=>e.target.select()}),p.jsx(a,{onClick:async()=>{if(!x.current)return;const s=x.current;s.focus(),s.select(),s.setSelectionRange(0,e.length);try{if(navigator.clipboard&&navigator.clipboard.writeText)try{return await navigator.clipboard.writeText(e),h("Copied!"),c(!0),i.success("Link copied to clipboard!"),void setTimeout(()=>{h("Copy"),d(!1),c(!1)},1500)}catch(t){}await new Promise(e=>setTimeout(e,10)),document.execCommand("copy")?(h("Copied!"),c(!0),i.success("Link copied to clipboard!"),setTimeout(()=>{h("Copy"),d(!1),c(!1)},1500)):(s.select(),i.info("Text selected. Press Ctrl+C (or Cmd+C) to copy"),h("Copy"))}catch(a){s.select(),i.info("Text selected. Press Ctrl+C (or Cmd+C) to copy"),h("Copy")}},className:"shrink-0",variant:"Copied!"===m?"default":"secondary",children:"Copied!"===m?p.jsxs(p.Fragment,{children:[p.jsx(B,{className:"h-4 w-4 mr-2"}),"Copied!"]}):p.jsxs(p.Fragment,{children:[p.jsx(U,{className:"h-4 w-4 mr-2"}),"Copy"]})})]}),p.jsxs("p",{className:"text-xs text-muted-foreground",children:["Tip: You can also select the link above and press ",p.jsx("kbd",{className:"px-1.5 py-0.5 bg-muted rounded text-xs font-mono",children:"Ctrl+C"})," (or ",p.jsx("kbd",{className:"px-1.5 py-0.5 bg-muted rounded text-xs font-mono",children:"Cmd+C"})," on Mac) to copy"]})]})]})})]})},ce=()=>{const{id:e}=j(),v=f(),{user:N}=n(),[y,b]=g.useState(null),[_,S]=g.useState(),[k,R]=g.useState(),[I,T]=g.useState(1),[L,E]=g.useState(!1),[D,A]=g.useState([]),[F,P]=g.useState([]),[O,V]=g.useState(null);g.useEffect(()=>{e&&B(),N&&(M(),z())},[e,N]);const B=async()=>{if(!e)return;const s=await r(e);if(s){const t=await l(e),a={...s,averageRating:t.averageRating,reviewCount:t.reviewCount};b(a),s.hostId&&await W(s.hostId)}},W=async e=>{try{const s=await ie(ne(c,"users",e));if(s.exists()){const e=s.data();V({fullName:e.fullName||"Host",email:e.email||""})}else V({fullName:"Host",email:""})}catch(s){V({fullName:"Host",email:""})}},M=async()=>{if(!N)return;const e=await ie(ne(c,"users",N.uid));e.exists()&&A(e.data().favorites||[])},z=async()=>{if(!N)return;const e=await ie(ne(c,"users",N.uid));e.exists()&&P(e.data().wishlist||[])},H=()=>_&&k&&y?Math.ceil((k.getTime()-_.getTime())/864e5)*y.price:0;return y?p.jsx("div",{className:"min-h-screen bg-background p-6",children:p.jsxs("div",{className:"max-w-6xl mx-auto",children:[p.jsxs(a,{variant:"ghost",onClick:()=>v("/guest/browse"),className:"mb-4",children:[p.jsx(Q,{className:"h-4 w-4 mr-2"}),"Back to Browse"]}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[p.jsxs("div",{children:[p.jsx("img",{src:y.images[0]||"/placeholder.svg",alt:y.title,className:"w-full h-96 object-cover rounded-lg mb-4"}),p.jsx("div",{className:"grid grid-cols-3 gap-2",children:y.images.slice(1,4).map((e,s)=>p.jsx("img",{src:e,alt:"",className:"w-full h-24 object-cover rounded"},s))})]}),p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsx(w,{children:y.category}),p.jsxs("div",{className:"flex items-center gap-2",children:[N&&y&&p.jsxs(p.Fragment,{children:[p.jsxs(a,{variant:"outline",size:"sm",onClick:async()=>{if(N&&y)try{const{toggleWishlist:e}=await x(async()=>{const{toggleWishlist:e}=await import("./index-BbvEjZj9.js").then(e=>e.R);return{toggleWishlist:e}},__vite__mapDeps([0,1,2,3,4,5,6,7,8])),s=await e(N.uid,y.id,F);P(s),i.success(s.includes(y.id)?"Added to wishlist":"Removed from wishlist")}catch(e){i.error("Failed to update wishlist")}else i.error("Please login to add to wishlist")},className:"flex items-center gap-2",title:F.includes(y.id)?"Remove from wishlist":"Add to wishlist",children:[p.jsx($,{className:"h-4 w-4 "+(F.includes(y.id)?"fill-blue-500 text-blue-500":"")}),F.includes(y.id)?"In Wishlist":"Wishlist"]}),p.jsxs(a,{variant:"outline",size:"sm",onClick:async()=>{if(N&&y)try{const{toggleFavorite:e}=await x(async()=>{const{toggleFavorite:e}=await import("./index-BbvEjZj9.js").then(e=>e.R);return{toggleFavorite:e}},__vite__mapDeps([0,1,2,3,4,5,6,7,8])),s=await e(N.uid,y.id,D);A(s),i.success(s.includes(y.id)?"Added to favorites":"Removed from favorites")}catch(e){i.error("Failed to update favorites")}else i.error("Please login to add favorites")},className:"flex items-center gap-2",title:D.includes(y.id)?"Remove from favorites":"Add to favorites",children:[p.jsx(J,{className:"h-4 w-4 "+(D.includes(y.id)?"fill-red-500 text-red-500":"")}),D.includes(y.id)?"Favorited":"Favorite"]})]}),y&&p.jsx(le,{url:window.location.href,title:y.title,description:y.description,variant:"outline",size:"sm"})]})]}),p.jsx("h1",{className:"text-3xl font-bold mb-2",children:y.title}),p.jsxs("div",{className:"flex items-center text-muted-foreground mb-4",children:[p.jsx(q,{className:"h-4 w-4 mr-1"}),p.jsx("span",{children:y.location})]}),p.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[p.jsxs("span",{className:"flex items-center gap-1",children:[p.jsx(Y,{className:"h-4 w-4"}),y.maxGuests," guests"]}),y.bedrooms&&p.jsxs("span",{children:[y.bedrooms," bedrooms"]}),y.bathrooms&&p.jsxs("span",{children:[y.bathrooms," bathrooms"]})]}),O&&p.jsx(s,{className:"mb-6 border-primary/20 bg-primary/5",children:p.jsx(t,{className:"p-4",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:p.jsx(G,{className:"h-6 w-6 text-primary"})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Hosted by"}),p.jsx("p",{className:"font-semibold text-lg",children:O.fullName})]})]})})}),p.jsx("p",{className:"text-muted-foreground mb-6",children:y.description}),y.amenities.length>0&&p.jsxs("div",{className:"mb-6",children:[p.jsx("h3",{className:"font-semibold mb-2",children:"Amenities"}),p.jsx("div",{className:"flex flex-wrap gap-2",children:y.amenities.map((e,s)=>p.jsx(w,{variant:"outline",children:e},s))})]}),p.jsxs(s,{children:[p.jsx(d,{children:p.jsxs(m,{className:"flex items-center justify-between",children:[p.jsx("span",{children:h(y.price)}),p.jsx("span",{className:"text-sm font-normal text-muted-foreground",children:"per night"})]})}),p.jsxs(t,{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Check-in"}),p.jsx(C,{mode:"single",selected:_,onSelect:S,disabled:e=>new Date>e,className:"rounded-md border"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Check-out"}),p.jsx(C,{mode:"single",selected:k,onSelect:R,disabled:e=>!_||_>=e,className:"rounded-md border"})]}),_&&k&&p.jsx("div",{className:"pt-4 border-t",children:p.jsxs("div",{className:"flex justify-between mb-2",children:[p.jsx("span",{children:"Total"}),p.jsx("span",{className:"font-bold",children:h(H())})]})}),p.jsx(a,{className:"w-full",onClick:async()=>{if(N&&y&&_&&k)if(y.hostId){E(!0);try{const s={listingId:y.id,guestId:N.uid,hostId:y.hostId,checkIn:_.toISOString(),checkOut:k.toISOString(),guests:I,totalPrice:H(),status:"pending"},t=await u(s);try{const{getDoc:e,doc:s}=await x(async()=>{const{getDoc:e,doc:s}=await import("./firebase-vendor-CvoiOdvz.js").then(e=>e.B);return{getDoc:e,doc:s}},[]),{db:a}=await x(async()=>{const{db:e}=await import("./index-BbvEjZj9.js").then(e=>e.Q);return{db:e}},__vite__mapDeps([0,1,2,3,4,5,6,7,8])),i=await e(s(a,"bookings",t));if(i.exists()&&(i.data(),y.id)){const t=await e(s(a,"listing",y.id));t.exists()&&t.data()}}catch(e){}i.success("Booking request sent! The host will review your request."),v("/guest/dashboard")}catch(s){i.error("Failed to create booking")}finally{E(!1)}}else i.error("Listing error: Missing host information. Please contact support.");else i.error("Please select dates and sign in")},disabled:!_||!k||L,children:L?"Booking...":"Request to Book"})]})]})]})]}),p.jsx("div",{className:"mt-12",children:p.jsx(re,{listingId:y.id})}),p.jsx(oe,{listingId:y.id})]})}):p.jsx(o,{})},oe=({listingId:e})=>{const s=f(),{user:t}=n(),[a,r]=g.useState([]),[l,c]=g.useState([]),[o,d]=g.useState([]),[m,h]=g.useState(!0);g.useEffect(()=>{u(),t&&(j(),w())},[e,t]);const u=async()=>{try{const{getSimilarListings:s}=await x(async()=>{const{getSimilarListings:e}=await import("./recommendations-DD8Y0n2s.js");return{getSimilarListings:e}},__vite__mapDeps([9,7,0,1,2,3,4,5,6,8])),{getListingsRatings:t}=await x(async()=>{const{getListingsRatings:e}=await import("./index-BbvEjZj9.js").then(e=>e.R);return{getListingsRatings:e}},__vite__mapDeps([0,1,2,3,4,5,6,7,8])),a=await s(e,4);if(a.length>0){const e=a.map(e=>e.id),s=await t(e),i=a.map(e=>{const t=s.get(e.id);return{...e,averageRating:t?.averageRating||0,reviewCount:t?.reviewCount||0}});r(i)}else r(a)}catch(s){}finally{h(!1)}},j=async()=>{if(!t)return;const{doc:e,getDoc:s}=await x(async()=>{const{doc:e,getDoc:s}=await import("./firebase-vendor-CvoiOdvz.js").then(e=>e.B);return{doc:e,getDoc:s}},[]),{db:a}=await x(async()=>{const{db:e}=await import("./index-BbvEjZj9.js").then(e=>e.Q);return{db:e}},__vite__mapDeps([0,1,2,3,4,5,6,7,8])),i=await s(e(a,"users",t.uid));i.exists()&&c(i.data().favorites||[])},w=async()=>{if(!t)return;const{doc:e,getDoc:s}=await x(async()=>{const{doc:e,getDoc:s}=await import("./firebase-vendor-CvoiOdvz.js").then(e=>e.B);return{doc:e,getDoc:s}},[]),{db:a}=await x(async()=>{const{db:e}=await import("./index-BbvEjZj9.js").then(e=>e.Q);return{db:e}},__vite__mapDeps([0,1,2,3,4,5,6,7,8])),i=await s(e(a,"users",t.uid));i.exists()&&d(i.data().wishlist||[])};return m||0===a.length?null:p.jsxs("div",{className:"mt-12",children:[p.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Similar Listings"}),p.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:a.map(e=>p.jsx(ae,{listing:e,onView:()=>s("/guest/listing/"+e.id),onFavorite:()=>(async e=>{if(t)try{const{toggleFavorite:s}=await x(async()=>{const{toggleFavorite:e}=await import("./index-BbvEjZj9.js").then(e=>e.R);return{toggleFavorite:e}},__vite__mapDeps([0,1,2,3,4,5,6,7,8])),a=await s(t.uid,e,l);c(a),i.success(a.includes(e)?"Added to favorites":"Removed from favorites")}catch(s){i.error("Failed to update favorites")}else i.error("Please login to add favorites")})(e.id),onWishlist:()=>(async e=>{if(t)try{const{toggleWishlist:s}=await x(async()=>{const{toggleWishlist:e}=await import("./index-BbvEjZj9.js").then(e=>e.R);return{toggleWishlist:e}},__vite__mapDeps([0,1,2,3,4,5,6,7,8])),a=await s(t.uid,e,o);d(a),i.success(a.includes(e)?"Added to wishlist":"Removed from wishlist")}catch(s){i.error("Failed to update wishlist")}else i.error("Please login to add to wishlist")})(e.id),isFavorite:l.includes(e.id),isInWishlist:o.includes(e.id)},e.id))})]})};export{ce as default};
