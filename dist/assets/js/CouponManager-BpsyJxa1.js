import{r as e,j as s}from"./react-vendor-Ve3SFwKO.js";import{C as a,a as r,b as n,d as o,B as t,i as d,e as i}from"./index-DaMaslBo.js";import{I as l}from"./input-D5hloL4G.js";import{B as c}from"./badge-BSgvUoVt.js";import{a6 as m,Z as x}from"./icons-vendor-Dhca6XHc.js";const p=({coupons:p,onApplyCoupon:j})=>{const[h,u]=e.useState(""),f=p.filter(e=>!e.used),v=p.filter(e=>e.used);return s.jsxs(a,{children:[s.jsx(r,{children:s.jsxs(n,{className:"flex items-center gap-2",children:[s.jsx(m,{className:"h-5 w-5"}),"Coupons & Discounts"]})}),s.jsxs(o,{className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(l,{placeholder:"Enter coupon code",value:h,onChange:e=>u(e.target.value.toUpperCase())}),s.jsx(t,{onClick:()=>{h.trim()?(j?.(h),u("")):i.error("Please enter a coupon code")},children:"Apply"})]}),f.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-semibold text-sm",children:"Available Coupons:"}),f.map(e=>s.jsx("div",{className:"p-3 border rounded-lg border-primary/20 bg-primary/5",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-mono font-bold text-primary",children:e.code}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[d(e.discount)," off",e.minSpend&&" on orders over "+d(e.minSpend)]}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Valid until: ",new Date(e.validUntil).toLocaleDateString()]})]}),s.jsx(c,{variant:"secondary",children:d(e.discount)})]})},e.id))]}),v.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-semibold text-sm text-muted-foreground",children:"Used Coupons:"}),v.map(e=>s.jsx("div",{className:"p-3 border rounded-lg opacity-50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"font-mono text-sm",children:e.code}),s.jsx(x,{className:"h-4 w-4 text-green-500"})]})},e.id))]})]})]})};export{p as C};
