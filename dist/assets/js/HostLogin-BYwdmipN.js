import{r as e,u as s,i as a,k as t,j as r,F as o,L as l}from"./react-vendor-DcULH_Au.js";import{t as n}from"./form-vendor-B9GYGFCT.js";import{u as i,B as c,L as d,C as m,a as x,b as h,c as u,d as p,e as j,f}from"./index-F95ZJi6y.js";import{I as g}from"./input-CGAn_-_v.js";import{T as b,a as y,b as v,c as N}from"./tabs-nf6BJST9.js";import{V as w}from"./video-background-D2BJi4ly.js";import{F as S,a as P,b as k,c as I,d as C,e as A,l as F,s as z}from"./validation-5uF669uT.js";import{T as G}from"./theme-toggle-CJqSL7LK.js";import{s as T,a as V}from"./sanitize-GsD2yBhu.js";import{G as E,y as B}from"./firebase-vendor-BtzXZj7S.js";import{A as D,B as O,M,c as U,E as L,d as R}from"./icons-vendor-D18eSOBA.js";import"./utils-vendor-yBsXXcRr.js";import"./maps-vendor-CYGXCXz5.js";import"./ui-vendor-C9dhA_ey.js";import"./label-BX6RxrV3.js";import"./dropdown-menu-C4xHPRIa.js";const W=()=>{const[W,_]=e.useState(!1),[H,q]=e.useState(!1),[J,K]=e.useState(!1),[Q,X]=e.useState(!1),[Y,Z]=e.useState(null),{signIn:$,signUp:ee,signInWithGoogle:se}=i(),ae=s(),te=a(),re=!0===te.state?.showSignup,oe=t({resolver:n(F),defaultValues:{email:"",password:""}}),le=t({resolver:n(z),defaultValues:{fullName:"",email:"",password:"",confirmPassword:""}});return r.jsxs("div",{className:"min-h-screen bg-background flex flex-col relative",children:[r.jsx(w,{src:"/videos/landing-hero.mp4",overlay:!0,className:"z-0"}),r.jsx("header",{className:"relative z-10 border-b bg-card/95 backdrop-blur supports-[backdrop-filter]:bg-card/60",children:r.jsxs("div",{className:"container mx-auto px-6 py-4 flex justify-between items-center",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs(c,{variant:"ghost",onClick:()=>ae("/"),children:[r.jsx(D,{className:"h-4 w-4 mr-2"}),"Back to Home"]}),r.jsx(d,{size:"sm"})]}),r.jsx(G,{})]})}),r.jsx("div",{className:"relative z-10 flex-1 flex items-center justify-center p-6",children:r.jsxs(m,{className:"w-full max-w-md shadow-2xl border-2 border-secondary/20 bg-card/95 backdrop-blur-md relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-secondary/5 via-transparent to-primary/5 pointer-events-none"}),r.jsxs(x,{className:"space-y-4 text-center pb-8 relative z-10",children:[r.jsx("div",{className:"w-20 h-20 mx-auto rounded-3xl bg-gradient-to-br from-secondary via-secondary/80 to-primary/60 flex items-center justify-center shadow-lg ring-4 ring-secondary/20 animate-in fade-in zoom-in duration-500",children:r.jsx(O,{className:"w-10 h-10 text-white"})}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(h,{className:"text-4xl font-bold bg-gradient-to-r from-secondary to-primary bg-clip-text text-transparent",children:"Host Portal"}),r.jsx(u,{className:"text-base mt-2 font-medium",children:"Start hosting and earning today"})]})]}),r.jsxs(p,{className:"relative z-10",children:[r.jsxs(b,{defaultValue:re?"signup":"signin",className:"w-full",children:[r.jsxs(y,{className:"grid w-full grid-cols-2 mb-8 bg-muted/50 p-1 rounded-xl",children:[r.jsx(v,{value:"signin",className:"text-base font-semibold data-[state=active]:bg-gradient-to-r data-[state=active]:from-secondary data-[state=active]:to-secondary/80 data-[state=active]:text-white data-[state=active]:shadow-md transition-all",children:"Sign In"}),r.jsx(v,{value:"signup",className:"text-base font-semibold data-[state=active]:bg-gradient-to-r data-[state=active]:from-secondary data-[state=active]:to-secondary/80 data-[state=active]:text-white data-[state=active]:shadow-md transition-all",children:"Sign Up"})]}),r.jsx(N,{value:"signin",children:r.jsx(S,{...oe,children:r.jsxs("form",{onSubmit:oe.handleSubmit(async e=>{K(!0);try{const s=T(e.email),a=V(e.password);await $(s,a,"host"),j.success("Welcome back!"),ae("/host/dashboard")}catch(s){if("EMAIL_NOT_VERIFIED"===s.message)return j.info("Please verify your email address to continue."),void ae("/verify-otp");j.error(s.message||"Unable to sign in. Please check your email and password, then try again.")}finally{K(!1)}}),className:"space-y-6",children:[r.jsx(P,{control:oe.control,name:"email",render:({field:e})=>r.jsxs(k,{children:[r.jsx(I,{className:"text-base font-semibold",children:"Email"}),r.jsx(C,{children:r.jsxs("div",{className:"relative group",children:[r.jsx(M,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-secondary group-focus-within:text-secondary transition-colors"}),r.jsx(g,{type:"email",placeholder:"host@example.com",className:"pl-10 h-12 border-2 transition-all",...e})]})}),r.jsx(A,{})]})}),r.jsx(P,{control:oe.control,name:"password",render:({field:e})=>r.jsxs(k,{children:[r.jsx(I,{className:"text-base font-semibold",children:"Password"}),r.jsx(C,{children:r.jsxs("div",{className:"relative group",children:[r.jsx(U,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-secondary group-focus-within:text-secondary transition-colors"}),r.jsx(g,{type:W?"text":"password",placeholder:"••••••••",className:"pl-10 pr-10 h-12 border-2 transition-all",...e}),r.jsx("button",{type:"button",onClick:()=>_(!W),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-secondary transition-colors",children:W?r.jsx(L,{className:"h-5 w-5"}):r.jsx(R,{className:"h-5 w-5"})})]})}),r.jsx(A,{})]})}),r.jsx("div",{className:"flex justify-end",children:r.jsx(c,{type:"button",variant:"link",onClick:()=>ae("/forgot-password",{state:{userType:"host"}}),className:"text-sm text-secondary hover:text-secondary/80 p-0 h-auto font-semibold",children:"Forgot Password?"})}),r.jsx(c,{type:"submit",className:"w-full h-12 text-base font-semibold bg-gradient-to-r from-secondary to-secondary/90 hover:from-secondary/90 hover:to-secondary text-white shadow-lg hover:shadow-xl transition-all duration-300",disabled:J,children:J?"Signing in...":"Sign In"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-0 flex items-center",children:r.jsx("span",{className:"w-full border-t"})}),r.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:r.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"Or continue with"})})]}),r.jsx(c,{type:"button",variant:"outline",className:"w-full h-12 text-base font-semibold border-2 hover:bg-muted/50 hover:border-secondary/50 transition-all duration-300",onClick:async()=>{if(!Q&&!J){X(!0);try{await se("host"),j.success("Welcome!"),ae("/host/dashboard")}catch(e){e.message?.includes("not registered as a host")||e.message?.includes("sign up for a host account first")?j.info("Please complete your host account registration"):j.error(e.message||"Failed to sign in with Google")}finally{X(!1)}}},disabled:Q||J,children:Q?"Signing in...":r.jsxs(r.Fragment,{children:[r.jsx(o,{className:"h-5 w-5 mr-2"}),"Sign in with Google"]})})]})})}),r.jsxs(N,{value:"signup",children:[r.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-r from-secondary/10 via-primary/10 to-secondary/10 border-2 border-secondary/30 rounded-xl shadow-md",children:[r.jsxs("p",{className:"text-sm text-foreground font-medium",children:[r.jsx("strong",{className:"text-secondary",children:"Important:"})," Before creating your host account, you must read and accept our policies and compliance terms."]}),r.jsx(c,{type:"button",variant:"outline",className:"mt-3 w-full border-2 border-secondary/50 hover:bg-secondary/10 hover:border-secondary transition-all",onClick:()=>ae("/host/policies"),children:"Review Policies & Terms"})]}),r.jsx(S,{...le,children:r.jsxs("form",{onSubmit:le.handleSubmit(async e=>{if(K(!0),!sessionStorage.getItem("hostPolicyAccepted"))return j.error("To create a host account, you must first read and accept our policies and compliance terms. Please review them and accept before continuing."),ae("/host/policies"),void K(!1);try{const s=V(e.fullName),a=T(e.email),t=V(e.password),r=sessionStorage.getItem("hostPolicyAcceptedDate");await ee(a,t,s,"host",{policyAccepted:!0,policyAcceptedDate:r||(new Date).toISOString()}),sessionStorage.removeItem("hostPolicyAccepted"),sessionStorage.removeItem("hostPolicyAcceptedDate"),j.success("Account created! Please check your email to verify your account."),ae("/verification-pending")}catch(s){j.error(s.message||"Unable to create account. Please check your information and try again.")}finally{K(!1)}}),className:"space-y-6",children:[r.jsx(P,{control:le.control,name:"fullName",render:({field:e})=>r.jsxs(k,{children:[r.jsx(I,{className:"text-base font-semibold",children:"Full Name"}),r.jsx(C,{children:r.jsxs("div",{className:"relative group",children:[r.jsx(O,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-secondary group-focus-within:text-secondary transition-colors"}),r.jsx(g,{type:"text",placeholder:"Jane Smith",className:"pl-10 h-12 border-2 transition-all",...e})]})}),r.jsx(A,{})]})}),r.jsx(P,{control:le.control,name:"email",render:({field:e})=>r.jsxs(k,{children:[r.jsx(I,{className:"text-base font-semibold",children:"Email"}),r.jsx(C,{children:r.jsxs("div",{className:"relative group",children:[r.jsx(M,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-secondary group-focus-within:text-secondary transition-colors"}),r.jsx(g,{type:"email",placeholder:"host@example.com",className:"pl-10 h-12 border-2 transition-all",...e})]})}),r.jsx(A,{})]})}),r.jsx(P,{control:le.control,name:"password",render:({field:e})=>r.jsxs(k,{children:[r.jsx(I,{className:"text-base font-semibold",children:"Password"}),r.jsx(C,{children:r.jsxs("div",{className:"relative group",children:[r.jsx(U,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-secondary group-focus-within:text-secondary transition-colors"}),r.jsx(g,{type:W?"text":"password",placeholder:"••••••••",className:"pl-10 pr-10 h-12 border-2 transition-all",...e}),r.jsx("button",{type:"button",onClick:()=>_(!W),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-secondary transition-colors",children:W?r.jsx(L,{className:"h-5 w-5"}):r.jsx(R,{className:"h-5 w-5"})})]})}),r.jsx(A,{}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Must be at least 8 characters long"})]})}),r.jsx(P,{control:le.control,name:"confirmPassword",render:({field:e})=>r.jsxs(k,{children:[r.jsx(I,{className:"text-base font-semibold",children:"Confirm Password"}),r.jsx(C,{children:r.jsxs("div",{className:"relative group",children:[r.jsx(U,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-secondary group-focus-within:text-secondary transition-colors"}),r.jsx(g,{type:H?"text":"password",placeholder:"••••••••",className:"pl-10 pr-10 h-12 border-2 transition-all",...e}),r.jsx("button",{type:"button",onClick:()=>q(!H),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-secondary transition-colors",children:H?r.jsx(L,{className:"h-5 w-5"}):r.jsx(R,{className:"h-5 w-5"})})]})}),r.jsx(A,{})]})}),r.jsx(c,{type:"submit",className:"w-full h-12 text-base font-semibold bg-gradient-to-r from-secondary to-secondary/90 hover:from-secondary/90 hover:to-secondary text-white shadow-lg hover:shadow-xl transition-all duration-300",disabled:J,children:J?"Creating account...":"Create Account"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-0 flex items-center",children:r.jsx("span",{className:"w-full border-t"})}),r.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:r.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"Or continue with"})})]}),r.jsx(c,{type:"button",variant:"outline",className:"w-full h-12 text-base font-semibold border-2 hover:bg-muted/50 hover:border-secondary/50 transition-all duration-300",onClick:async()=>{if(!Q&&!J){X(!0);try{const e=new E;e.setCustomParameters({prompt:"select_account"});const s=(await B(f,e)).user;le.setValue("email",s.email||""),le.setValue("fullName",s.displayName||s.email?.split("@")[0]||""),Z({email:s.email||"",fullName:s.displayName||s.email?.split("@")[0]||""}),j.success("Signed up with Google! Please set a password to complete registration.")}catch(e){"auth/popup-closed-by-user"!==e.code&&"auth/cancelled-popup-request"!==e.code&&j.error(e.message||"Failed to get Google account info")}finally{X(!1)}}},disabled:Q||J,children:Q?"Signing up...":r.jsxs(r.Fragment,{children:[r.jsx(o,{className:"h-5 w-5 mr-2"}),"Sign up with Google"]})})]})})]})]}),r.jsx("div",{className:"mt-8 text-center text-sm text-muted-foreground",children:r.jsxs("p",{children:["Not a host? ",r.jsx(l,{to:"/guest/login",className:"text-secondary hover:text-secondary/80 hover:underline font-semibold transition-colors",children:"Browse as Guest"})]})})]})]})})]})};export{W as default};
