import{r as e,j as s}from"./react-vendor-Ve3SFwKO.js";import{i as t,C as a,B as i,d as l,O as r}from"./index-DaMaslBo.js";import{B as o}from"./badge-BSgvUoVt.js";import{p as n,w as m,O as c,U as x}from"./icons-vendor-Dhca6XHc.js";const d=e.memo(({listing:d,onView:p,onFavorite:h,onWishlist:g,isFavorite:u,isInWishlist:b})=>{const f=e.useCallback(e=>{e.stopPropagation(),h?.()},[h]),v=e.useCallback(()=>{p?.()},[p]),w=d.discount&&d.discount>0?d.price*(1-d.discount/100):d.price,j=t(w),N=d.discount&&d.discount>0?t(d.price):null,y=d.averageRating&&d.averageRating>0?d.averageRating.toFixed(1):"New",C=d.reviewCount&&d.reviewCount>0?`(${d.reviewCount})`:"";return s.jsxs(a,{className:"group relative overflow-hidden border-0 shadow-sm hover:shadow-xl transition-all duration-500 hover:-translate-y-1 active:scale-[0.98] h-full flex flex-col touch-manipulation",children:[s.jsxs("div",{className:"relative h-48 sm:h-56 overflow-hidden",children:[s.jsx("img",{src:d.images?.[0]||"/placeholder.svg",alt:d.title,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110",loading:"lazy"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),s.jsx("div",{className:"absolute top-2 sm:top-3 right-2 sm:right-3 flex gap-1.5 sm:gap-2 z-10",children:h&&s.jsx(i,{variant:"ghost",size:"icon",className:"backdrop-blur-sm hover:scale-110 active:scale-95 transition-all duration-300 shadow-lg h-9 w-9 sm:h-11 sm:w-11 touch-manipulation "+(u?"bg-red-500/20 hover:bg-red-500/30":"bg-white/90 hover:bg-white"),onClick:f,title:u?"Remove from favorites":"Add to favorites",children:s.jsx(n,{className:"h-5 w-5 sm:h-6 sm:w-6 transition-all "+(u?"fill-red-500 text-red-500 scale-110 drop-shadow-lg":"text-gray-700 fill-white")})})}),s.jsxs("div",{className:"absolute top-2 sm:top-3 left-2 sm:left-3 flex flex-col gap-1.5 z-10",children:[s.jsx(o,{className:"bg-white/95 backdrop-blur-sm text-gray-900 font-semibold shadow-lg capitalize border border-white/20 px-2 sm:px-3 py-0.5 sm:py-1 text-xs sm:text-sm",children:d.category}),d.promo&&s.jsx(o,{className:"bg-primary/90 backdrop-blur-sm text-white font-medium shadow-lg border border-primary/20 px-2 sm:px-3 py-0.5 sm:py-1 text-[10px] sm:text-xs line-clamp-1 max-w-[120px] sm:max-w-[150px]",children:d.promo})]}),s.jsxs("div",{className:"absolute bottom-2 sm:bottom-3 right-2 sm:right-3 bg-white/95 backdrop-blur-sm px-2 sm:px-3 py-1 sm:py-1.5 rounded-full shadow-lg z-10 border border-white/20 flex flex-col items-end",children:[d.discount&&d.discount>0&&s.jsxs(o,{className:"bg-red-500 text-white text-[9px] sm:text-xs mb-0.5 px-1.5 py-0",children:["-",d.discount,"%"]}),s.jsxs("div",{className:"flex items-center gap-1",children:[N&&s.jsx("span",{className:"text-[10px] sm:text-xs line-through text-gray-500",children:N}),s.jsx("span",{className:"text-base sm:text-lg font-bold text-gray-900",children:j}),s.jsx("span",{className:"text-[10px] sm:text-xs text-gray-700 font-medium",children:"/night"})]})]})]}),s.jsxs(l,{className:"p-4 sm:p-5 flex-1 flex flex-col",children:[s.jsx("h3",{className:"font-semibold text-base sm:text-lg mb-2 line-clamp-1 group-hover:text-primary transition-colors text-foreground",children:d.title}),s.jsxs("div",{className:"flex items-center text-xs sm:text-sm text-foreground/90 mb-2 sm:mb-3",children:[s.jsx(m,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 mr-1 sm:mr-1.5 flex-shrink-0 text-foreground/80"}),s.jsx("span",{className:"line-clamp-1",children:d.location})]}),s.jsx("p",{className:"text-xs sm:text-sm text-foreground/85 line-clamp-2 mb-3 sm:mb-4 leading-relaxed flex-1",children:d.description}),s.jsx("div",{className:"flex items-center justify-between pt-2 sm:pt-3 border-t border-border/50 mt-auto",children:s.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 text-[10px] sm:text-xs text-foreground/90 font-medium",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(c,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5 fill-yellow-400 text-yellow-400"}),s.jsxs("span",{children:[y,C&&s.jsx("span",{className:"text-foreground/60 ml-1",children:C})]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(x,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5 text-foreground/80"}),s.jsxs("span",{children:[d.maxGuests," guests"]})]})]})})]}),p&&s.jsx(r,{className:"px-4 sm:px-5 pb-4 sm:pb-5 pt-0 mt-auto",children:s.jsx(i,{className:"w-full h-11 sm:h-auto text-sm sm:text-base touch-manipulation",onClick:v,children:"View Details"})})]})},(e,s)=>e.listing.id===s.listing.id&&e.listing.price===s.listing.price&&e.listing.discount===s.listing.discount&&e.listing.promo===s.listing.promo&&e.listing.averageRating===s.listing.averageRating&&e.listing.reviewCount===s.listing.reviewCount&&e.isFavorite===s.isFavorite&&e.onView===s.onView&&e.onFavorite===s.onFavorite);d.displayName="ListingCard";export{d as L};
