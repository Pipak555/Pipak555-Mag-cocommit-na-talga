import{r as e,u as s,i as t,k as a,j as o,F as r,L as n}from"./react-vendor-BMVo5gto.js";import{t as i}from"./form-vendor-DoCI05P1.js";import{u as l,B as c,L as d,C as m,a as h,b as x,c as u,d as p,e as f,f as g}from"./index-Bl4WVUm9.js";import{I as j}from"./input-BUMXIaDj.js";import{T as b,a as y,b as w,c as v}from"./tabs-DCcHsf5T.js";import{V as N}from"./video-background-0x67CGr6.js";import{F as S,a as k,b as P,c as C,d as I,e as z,l as A,s as F}from"./validation-CuaTRHoF.js";import{T as G}from"./theme-toggle-Cc0KLt9y.js";import{s as V,a as E}from"./sanitize-GsD2yBhu.js";import{G as B,y as T}from"./firebase-vendor-BtzXZj7S.js";import{A as D,B as U,M as O,c as W,E as L,d as M}from"./icons-vendor-BQMxNFbQ.js";import"./utils-vendor-yBsXXcRr.js";import"./maps-vendor-CYGXCXz5.js";import"./ui-vendor-Dbp4DHG_.js";import"./label-CNgDwY3J.js";import"./dropdown-menu-CmwzabuV.js";const R=()=>{const[R,Z]=e.useState(!1),[_,H]=e.useState(!1),[q,J]=e.useState(!1),[X,Y]=e.useState(!1),[K,Q]=e.useState(null),[$,ee]=e.useState("signin"),{signIn:se,signUp:te,signInWithGoogle:ae}=l(),oe=s(),re=t(),ne=!0===re.state?.showSignup;e.useEffect(()=>{ne&&ee("signup")},[ne]);const ie=a({resolver:i(A),defaultValues:{email:"",password:""}}),le=a({resolver:i(F),defaultValues:{fullName:"",email:"",password:"",confirmPassword:""}});return o.jsxs("div",{className:"min-h-screen bg-background flex flex-col relative",children:[o.jsx("div",{className:"fixed inset-0 z-0",style:{width:"100vw",height:"100vh",transform:"translateZ(0)",willChange:"auto",pointerEvents:"none"},children:o.jsx(N,{src:"/videos/landing-hero.mp4",overlay:!0,className:"w-full h-full",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",transform:"scale(1) translateZ(0)",willChange:"auto"}})}),o.jsx("header",{className:"relative z-10 border-b bg-card/95 backdrop-blur supports-[backdrop-filter]:bg-card/60",children:o.jsxs("div",{className:"container mx-auto px-4 sm:px-6 py-3 sm:py-4 flex justify-between items-center gap-2 sm:gap-3",children:[o.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 min-w-0 flex-1",children:[o.jsxs(c,{variant:"ghost",onClick:()=>oe("/"),className:"h-9 sm:h-auto text-xs sm:text-sm px-2 sm:px-4 touch-manipulation",children:[o.jsx(D,{className:"h-4 w-4 mr-1.5 sm:mr-2"}),o.jsx("span",{className:"hidden sm:inline",children:"Back to Home"}),o.jsx("span",{className:"sm:hidden",children:"Back"})]}),o.jsx(d,{size:"sm"})]}),o.jsx(G,{})]})}),o.jsx("div",{className:"relative z-10 flex-1 flex items-center justify-center p-4 sm:p-6",children:o.jsxs(m,{className:"w-full max-w-md shadow-2xl border-2 border-secondary/20 bg-card/95 backdrop-blur-md relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-secondary/5 via-transparent to-primary/5 pointer-events-none"}),o.jsxs(h,{className:"space-y-3 sm:space-y-4 text-center pb-6 sm:pb-8 px-4 sm:px-6 pt-4 sm:pt-6 relative z-10",children:[o.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 mx-auto rounded-3xl bg-gradient-to-br from-secondary via-secondary/80 to-primary/60 flex items-center justify-center shadow-lg ring-4 ring-secondary/20 animate-in fade-in zoom-in duration-500",children:o.jsx(U,{className:"w-8 h-8 sm:w-10 sm:h-10 text-white"})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(x,{className:"text-2xl sm:text-3xl md:text-4xl font-bold bg-gradient-to-r from-secondary to-primary bg-clip-text text-transparent",children:"Host Portal"}),o.jsx(u,{className:"text-sm sm:text-base mt-2 font-medium text-foreground/80 dark:text-muted-foreground",children:"Start hosting and earning today"})]})]}),o.jsxs(p,{className:"relative z-10 px-4 sm:px-6 pb-4 sm:pb-6",children:[o.jsxs(b,{defaultValue:ne?"signup":"signin",onValueChange:e=>ee(e),className:"w-full",children:[o.jsxs(y,{className:"grid w-full grid-cols-2 mb-6 sm:mb-8 bg-muted/50 p-1 rounded-xl relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-y-1 bg-gradient-to-r from-secondary to-secondary/80 rounded-lg transition-all duration-300 ease-in-out",style:{left:"signin"===$?"4px":"50%",right:"signin"===$?"50%":"4px",width:"calc(50% - 4px)"}}),o.jsx(w,{value:"signin",className:"text-sm sm:text-base font-semibold text-foreground/90 dark:text-foreground data-[state=active]:bg-transparent data-[state=active]:text-white data-[state=active]:shadow-md transition-all duration-300 ease-in-out relative z-10 h-10 sm:h-auto touch-manipulation",children:"Sign In"}),o.jsx(w,{value:"signup",className:"text-sm sm:text-base font-semibold text-foreground/90 dark:text-foreground data-[state=active]:bg-transparent data-[state=active]:text-white data-[state=active]:shadow-md transition-all duration-300 ease-in-out relative z-10 h-10 sm:h-auto touch-manipulation",children:"Sign Up"})]}),o.jsx(v,{value:"signin",children:o.jsx(S,{...ie,children:o.jsxs("form",{onSubmit:ie.handleSubmit(async e=>{J(!0);try{const s=V(e.email),t=E(e.password);await se(s,t,"host"),f.success("Welcome back!"),oe("/host/dashboard")}catch(s){if("EMAIL_NOT_VERIFIED"===s.message)return f.info("Please verify your email address to continue."),void oe("/verify-otp");f.error(s.message||"Unable to sign in. Please check your email and password, then try again.")}finally{J(!1)}}),className:"space-y-4 sm:space-y-6",children:[o.jsx(k,{control:ie.control,name:"email",render:({field:e})=>o.jsxs(P,{children:[o.jsx(C,{className:"text-sm sm:text-base font-semibold",children:"Email"}),o.jsx(I,{children:o.jsxs("div",{className:"relative group",children:[o.jsx(O,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 sm:h-5 sm:w-5 text-secondary group-focus-within:text-secondary transition-colors"}),o.jsx(j,{type:"email",placeholder:"host@example.com",className:"pl-10 h-11 sm:h-12 border-2 transition-all text-base sm:text-sm",...e})]})}),o.jsx(z,{})]})}),o.jsx(k,{control:ie.control,name:"password",render:({field:e})=>o.jsxs(P,{children:[o.jsx(C,{className:"text-sm sm:text-base font-semibold",children:"Password"}),o.jsx(I,{children:o.jsxs("div",{className:"relative group",children:[o.jsx(W,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 sm:h-5 sm:w-5 text-secondary group-focus-within:text-secondary transition-colors"}),o.jsx(j,{type:R?"text":"password",placeholder:"••••••••",className:"pl-10 pr-10 h-11 sm:h-12 border-2 transition-all text-base sm:text-sm",...e}),o.jsx("button",{type:"button",onClick:()=>Z(!R),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-secondary transition-colors h-8 w-8 sm:h-auto sm:w-auto flex items-center justify-center touch-manipulation",children:R?o.jsx(L,{className:"h-4 w-4 sm:h-5 sm:w-5"}):o.jsx(M,{className:"h-4 w-4 sm:h-5 sm:w-5"})})]})}),o.jsx(z,{})]})}),o.jsx("div",{className:"flex justify-end",children:o.jsx(c,{type:"button",variant:"link",onClick:()=>oe("/forgot-password",{state:{userType:"host"}}),className:"text-sm text-secondary hover:text-secondary/80 p-0 h-auto font-semibold",children:"Forgot Password?"})}),o.jsx(c,{type:"submit",className:"w-full h-11 sm:h-12 text-sm sm:text-base font-semibold bg-gradient-to-r from-secondary to-secondary/90 hover:from-secondary/90 hover:to-secondary text-white shadow-lg hover:shadow-xl transition-all duration-300 touch-manipulation",disabled:q,children:q?"Signing in...":"Sign In"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("span",{className:"w-full border-t"})}),o.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:o.jsx("span",{className:"bg-card px-2 text-foreground/70 dark:text-muted-foreground",children:"Or continue with"})})]}),o.jsx(c,{type:"button",variant:"outline",className:"w-full h-11 sm:h-12 text-sm sm:text-base font-semibold border-2 hover:bg-muted/50 hover:border-secondary/50 transition-all duration-300 touch-manipulation",onClick:async()=>{if(!X&&!q){Y(!0);try{await ae("host"),f.success("Welcome!"),oe("/host/dashboard")}catch(e){e.message?.includes("not registered as a host")||e.message?.includes("sign up for a host account first")?f.info("Please complete your host account registration"):f.error(e.message||"Failed to sign in with Google")}finally{Y(!1)}}},disabled:X||q,children:X?"Signing in...":o.jsxs(o.Fragment,{children:[o.jsx(r,{className:"h-5 w-5 mr-2"}),"Sign in with Google"]})})]})})}),o.jsxs(v,{value:"signup",children:[o.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-r from-secondary/10 via-primary/10 to-secondary/10 border-2 border-secondary/30 rounded-xl shadow-md",children:[o.jsxs("p",{className:"text-sm text-foreground font-medium",children:[o.jsx("strong",{className:"text-secondary",children:"Important:"})," Before creating your host account, you must read and accept our policies and compliance terms."]}),o.jsx(c,{type:"button",variant:"outline",className:"mt-3 w-full border-2 border-secondary/50 hover:bg-secondary/10 hover:border-secondary transition-all",onClick:()=>oe("/host/policies"),children:"Review Policies & Terms"})]}),o.jsx(S,{...le,children:o.jsxs("form",{onSubmit:le.handleSubmit(async e=>{if(J(!0),!sessionStorage.getItem("hostPolicyAccepted"))return f.error("To create a host account, you must first read and accept our policies and compliance terms. Please review them and accept before continuing."),oe("/host/policies"),void J(!1);try{const s=E(e.fullName),t=V(e.email),a=E(e.password),o=sessionStorage.getItem("hostPolicyAcceptedDate");await te(t,a,s,"host",{policyAccepted:!0,policyAcceptedDate:o||(new Date).toISOString()}),sessionStorage.removeItem("hostPolicyAccepted"),sessionStorage.removeItem("hostPolicyAcceptedDate"),f.success("Account created! Please check your email to verify your account."),oe("/verification-pending")}catch(s){f.error(s.message||"Unable to create account. Please check your information and try again.")}finally{J(!1)}}),className:"space-y-4 sm:space-y-6",children:[o.jsx(k,{control:le.control,name:"fullName",render:({field:e})=>o.jsxs(P,{children:[o.jsx(C,{className:"text-sm sm:text-base font-semibold",children:"Full Name"}),o.jsx(I,{children:o.jsxs("div",{className:"relative group",children:[o.jsx(U,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 sm:h-5 sm:w-5 text-secondary group-focus-within:text-secondary transition-colors"}),o.jsx(j,{type:"text",placeholder:"Jane Smith",className:"pl-10 h-11 sm:h-12 border-2 transition-all text-base sm:text-sm",...e})]})}),o.jsx(z,{})]})}),o.jsx(k,{control:le.control,name:"email",render:({field:e})=>o.jsxs(P,{children:[o.jsx(C,{className:"text-sm sm:text-base font-semibold",children:"Email"}),o.jsx(I,{children:o.jsxs("div",{className:"relative group",children:[o.jsx(O,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 sm:h-5 sm:w-5 text-secondary group-focus-within:text-secondary transition-colors"}),o.jsx(j,{type:"email",placeholder:"host@example.com",className:"pl-10 h-11 sm:h-12 border-2 transition-all text-base sm:text-sm",...e})]})}),o.jsx(z,{})]})}),o.jsx(k,{control:le.control,name:"password",render:({field:e})=>o.jsxs(P,{children:[o.jsx(C,{className:"text-sm sm:text-base font-semibold",children:"Password"}),o.jsx(I,{children:o.jsxs("div",{className:"relative group",children:[o.jsx(W,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 sm:h-5 sm:w-5 text-secondary group-focus-within:text-secondary transition-colors"}),o.jsx(j,{type:R?"text":"password",placeholder:"••••••••",className:"pl-10 pr-10 h-11 sm:h-12 border-2 transition-all text-base sm:text-sm",...e}),o.jsx("button",{type:"button",onClick:()=>Z(!R),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-secondary transition-colors h-8 w-8 sm:h-auto sm:w-auto flex items-center justify-center touch-manipulation",children:R?o.jsx(L,{className:"h-4 w-4 sm:h-5 sm:w-5"}):o.jsx(M,{className:"h-4 w-4 sm:h-5 sm:w-5"})})]})}),o.jsx(z,{}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Must be at least 8 characters long"})]})}),o.jsx(k,{control:le.control,name:"confirmPassword",render:({field:e})=>o.jsxs(P,{children:[o.jsx(C,{className:"text-sm sm:text-base font-semibold",children:"Confirm Password"}),o.jsx(I,{children:o.jsxs("div",{className:"relative group",children:[o.jsx(W,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 sm:h-5 sm:w-5 text-secondary group-focus-within:text-secondary transition-colors"}),o.jsx(j,{type:_?"text":"password",placeholder:"••••••••",className:"pl-10 pr-10 h-11 sm:h-12 border-2 transition-all text-base sm:text-sm",...e}),o.jsx("button",{type:"button",onClick:()=>H(!_),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-secondary transition-colors h-8 w-8 sm:h-auto sm:w-auto flex items-center justify-center touch-manipulation",children:_?o.jsx(L,{className:"h-4 w-4 sm:h-5 sm:w-5"}):o.jsx(M,{className:"h-4 w-4 sm:h-5 sm:w-5"})})]})}),o.jsx(z,{})]})}),o.jsx(c,{type:"submit",className:"w-full h-11 sm:h-12 text-sm sm:text-base font-semibold bg-gradient-to-r from-secondary to-secondary/90 hover:from-secondary/90 hover:to-secondary text-white shadow-lg hover:shadow-xl transition-all duration-300 touch-manipulation",disabled:q,children:q?"Creating account...":"Create Account"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("span",{className:"w-full border-t"})}),o.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:o.jsx("span",{className:"bg-card px-2 text-foreground/70 dark:text-muted-foreground",children:"Or continue with"})})]}),o.jsx(c,{type:"button",variant:"outline",className:"w-full h-11 sm:h-12 text-sm sm:text-base font-semibold border-2 hover:bg-muted/50 hover:border-secondary/50 transition-all duration-300 touch-manipulation",onClick:async()=>{if(!X&&!q){Y(!0);try{const e=new B;e.setCustomParameters({prompt:"select_account"});const s=(await T(g,e)).user;le.setValue("email",s.email||""),le.setValue("fullName",s.displayName||s.email?.split("@")[0]||""),Q({email:s.email||"",fullName:s.displayName||s.email?.split("@")[0]||""}),f.success("Signed up with Google! Please set a password to complete registration.")}catch(e){"auth/popup-closed-by-user"!==e.code&&"auth/cancelled-popup-request"!==e.code&&f.error(e.message||"Failed to get Google account info")}finally{Y(!1)}}},disabled:X||q,children:X?"Signing up...":o.jsxs(o.Fragment,{children:[o.jsx(r,{className:"h-5 w-5 mr-2"}),"Sign up with Google"]})})]})})]})]}),o.jsxs("div",{className:"mt-8 text-center text-sm text-foreground/70 dark:text-muted-foreground space-y-2",children:[o.jsxs("p",{children:["New to hosting? ",o.jsx(n,{to:"/host/register",className:"text-secondary hover:text-secondary/80 hover:underline font-semibold transition-colors",children:"Get Started"})]}),o.jsxs("p",{children:["Not a host? ",o.jsx(n,{to:"/guest/login",className:"text-secondary hover:text-secondary/80 hover:underline font-semibold transition-colors",children:"Browse as Guest"})]})]})]})]})})]})};export{R as default};
