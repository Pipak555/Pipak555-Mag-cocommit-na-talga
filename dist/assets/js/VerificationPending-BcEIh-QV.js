import{r as e,u as s,j as a}from"./react-vendor-Ve3SFwKO.js";import{u as r,a as t,B as i,C as l,b as d,L as n,c,d as o,e as m}from"./index-BnushFQy.js";import{T as x}from"./theme-toggle-C_syTt2a.js";import{A as h,f as u,g as f,R as g}from"./icons-vendor-DD8ZfUKZ.js";import"./utils-vendor-DzY7Ay74.js";import"./maps-vendor-CYGXCXz5.js";import"./ui-vendor-D9RGQy8n.js";import"./firebase-vendor-BC71bXmb.js";import"./dropdown-menu-eYIb6UEc.js";const b=()=>{const[b,j]=e.useState(!1),[p,v]=e.useState(!1),[N,y]=e.useState(!1),{sendOTP:k,user:w,userProfile:C,userRole:E}=r(),V=s();return e.useEffect(()=>{w&&C?.emailVerified&&!N&&(y(!0),t.success("Email verified successfully! Redirecting to dashboard..."),setTimeout(()=>{V("guest"===E?"/guest/dashboard":"host"===E?"/host/dashboard":"admin"===E?"/admin/dashboard":"/guest/dashboard")},2e3))},[w,C,E,N,V]),e.useEffect(()=>{if(!w||N||!C)return;const e=setInterval(()=>{C.emailVerified&&!N&&(y(!0),clearInterval(e),t.success("Email verified successfully! Redirecting to dashboard..."),setTimeout(()=>{V("guest"===E?"/guest/dashboard":"host"===E?"/host/dashboard":"admin"===E?"/admin/dashboard":"/guest/dashboard")},2e3))},2e3);return()=>clearInterval(e)},[w,C,E,N,V]),a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex flex-col",children:[a.jsx("header",{className:"border-b bg-card/95 backdrop-blur supports-[backdrop-filter]:bg-card/60",children:a.jsxs("div",{className:"container mx-auto px-6 py-4 flex justify-between items-center",children:[a.jsx(i,{variant:"ghost",size:"icon",onClick:()=>V("/"),children:a.jsx(h,{className:"h-4 w-4"})}),a.jsx(x,{})]})}),a.jsx("div",{className:"flex-1 flex items-center justify-center p-6",children:a.jsxs(l,{className:"w-full max-w-md shadow-2xl border-border/50 bg-card/95 backdrop-blur",children:[a.jsxs(d,{className:"space-y-6 text-center pb-8 pt-12",children:[a.jsx("div",{className:"w-24 h-24 mx-auto flex items-center justify-center",children:a.jsx(n,{size:"xl",showText:!1})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(c,{className:"text-3xl font-bold bg-gradient-to-r from-orange-500 via-blue-500 to-green-500 bg-clip-text text-transparent",children:N?"Email Verified!":"Check Your Email"}),a.jsx(o,{className:"text-base leading-relaxed",children:N?a.jsx(a.Fragment,{children:"Your email has been verified successfully! Redirecting you to dashboard..."}):a.jsxs(a.Fragment,{children:["Hi ",a.jsx("strong",{children:C?.fullName||"there"}),"! We've sent a 6-digit verification code to ",a.jsx("strong",{children:w?.email})]})})]})]}),a.jsxs(m,{className:"space-y-6 pb-12",children:[N?a.jsxs("div",{className:"flex items-center space-x-2 p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[a.jsx(u,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),a.jsx("span",{className:"text-sm text-green-800 dark:text-green-200",children:"Email verified! You will be redirected to the dashboard shortly..."})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[a.jsx(u,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),a.jsxs("div",{className:"text-sm text-blue-800 dark:text-blue-200",children:[a.jsx("p",{className:"font-medium",children:"Next Steps:"}),a.jsxs("ol",{className:"mt-2 space-y-1 list-decimal list-inside",children:[a.jsx("li",{children:"Check your email inbox (and spam folder)"}),a.jsx("li",{children:"Copy the 6-digit verification code from the email"}),a.jsx("li",{children:"Click the button below to enter the code and verify your email"})]})]})]}),p&&a.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[a.jsx(u,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),a.jsx("span",{className:"text-sm text-green-800 dark:text-green-200",children:"Verification code sent successfully!"})]}),a.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-amber-50 dark:bg-amber-900/20 rounded-lg",children:[a.jsx(f,{className:"w-5 h-5 text-amber-600 dark:text-amber-400 mt-0.5 flex-shrink-0"}),a.jsxs("div",{className:"text-sm text-amber-800 dark:text-amber-200",children:[a.jsx("p",{className:"font-medium",children:"Didn't receive the email?"}),a.jsx("p",{className:"mt-1",children:"The verification code may take a few minutes to arrive. Check your spam folder or request a new one."})]})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(i,{onClick:()=>V("/verify-otp"),className:"w-full h-12 text-base font-semibold",size:"lg",children:"Enter Verification Code"}),a.jsx(i,{onClick:async()=>{j(!0);try{await k(),v(!0),t.success("Verification code sent! Check your inbox.")}catch(e){t.error(e.message||"Unable to send verification code. Please try again in a moment or contact support if the problem persists.")}finally{j(!1)}},className:"w-full",disabled:b,variant:"outline",children:b?a.jsxs(a.Fragment,{children:[a.jsx(g,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending..."]}):a.jsxs(a.Fragment,{children:[a.jsx(g,{className:"w-4 h-4 mr-2"}),"Resend Verification Code"]})}),a.jsx(i,{onClick:async()=>{V("host"===E?"/host/login":"admin"===E?"/admin/login":"/guest/login")},variant:"ghost",className:"w-full",children:"Cancel"})]})]}),a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"w-full h-px bg-gradient-to-r from-transparent via-border to-transparent"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Need help? Contact our support team for assistance."})]})]})]})})]})};export{b as default};
