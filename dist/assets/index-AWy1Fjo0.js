var xN=t=>{throw TypeError(t)};var Sy=(t,e,n)=>e.has(t)||xN("Cannot "+n);var re=(t,e,n)=>(Sy(t,e,"read from private field"),n?n.call(t):e.get(t)),xt=(t,e,n)=>e.has(t)?xN("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),nt=(t,e,n,r)=>(Sy(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Yn=(t,e,n)=>(Sy(t,e,"access private method"),n);var tm=(t,e,n,r)=>({set _(s){nt(t,e,s,n)},get _(){return re(t,e,r)}});function JV(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function ST(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var jT={exports:{}},Mg={},CT={exports:{}},lt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yh=Symbol.for("react.element"),e5=Symbol.for("react.portal"),t5=Symbol.for("react.fragment"),n5=Symbol.for("react.strict_mode"),r5=Symbol.for("react.profiler"),s5=Symbol.for("react.provider"),i5=Symbol.for("react.context"),o5=Symbol.for("react.forward_ref"),a5=Symbol.for("react.suspense"),l5=Symbol.for("react.memo"),c5=Symbol.for("react.lazy"),wN=Symbol.iterator;function u5(t){return t===null||typeof t!="object"?null:(t=wN&&t[wN]||t["@@iterator"],typeof t=="function"?t:null)}var kT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},TT=Object.assign,IT={};function Pu(t,e,n){this.props=t,this.context=e,this.refs=IT,this.updater=n||kT}Pu.prototype.isReactComponent={};Pu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Pu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function RT(){}RT.prototype=Pu.prototype;function nb(t,e,n){this.props=t,this.context=e,this.refs=IT,this.updater=n||kT}var rb=nb.prototype=new RT;rb.constructor=nb;TT(rb,Pu.prototype);rb.isPureReactComponent=!0;var bN=Array.isArray,PT=Object.prototype.hasOwnProperty,sb={current:null},AT={key:!0,ref:!0,__self:!0,__source:!0};function DT(t,e,n){var r,s={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)PT.call(e,r)&&!AT.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Yh,type:t,key:i,ref:a,props:s,_owner:sb.current}}function d5(t,e){return{$$typeof:Yh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ib(t){return typeof t=="object"&&t!==null&&t.$$typeof===Yh}function h5(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var _N=/\/+/g;function jy(t,e){return typeof t=="object"&&t!==null&&t.key!=null?h5(""+t.key):e.toString(36)}function Lm(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Yh:case e5:a=!0}}if(a)return a=t,s=s(a),t=r===""?"."+jy(a,0):r,bN(s)?(n="",t!=null&&(n=t.replace(_N,"$&/")+"/"),Lm(s,e,n,"",function(u){return u})):s!=null&&(ib(s)&&(s=d5(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(_N,"$&/")+"/")+t)),e.push(s)),1;if(a=0,r=r===""?".":r+":",bN(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+jy(i,l);a+=Lm(i,e,n,c,s)}else if(c=u5(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+jy(i,l++),a+=Lm(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function nm(t,e,n){if(t==null)return t;var r=[],s=0;return Lm(t,r,"","",function(i){return e.call(n,i,s++)}),r}function f5(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var br={current:null},Fm={transition:null},m5={ReactCurrentDispatcher:br,ReactCurrentBatchConfig:Fm,ReactCurrentOwner:sb};function OT(){throw Error("act(...) is not supported in production builds of React.")}lt.Children={map:nm,forEach:function(t,e,n){nm(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return nm(t,function(){e++}),e},toArray:function(t){return nm(t,function(e){return e})||[]},only:function(t){if(!ib(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};lt.Component=Pu;lt.Fragment=t5;lt.Profiler=r5;lt.PureComponent=nb;lt.StrictMode=n5;lt.Suspense=a5;lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=m5;lt.act=OT;lt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=TT({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=sb.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)PT.call(e,c)&&!AT.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Yh,type:t.type,key:s,ref:i,props:r,_owner:a}};lt.createContext=function(t){return t={$$typeof:i5,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:s5,_context:t},t.Consumer=t};lt.createElement=DT;lt.createFactory=function(t){var e=DT.bind(null,t);return e.type=t,e};lt.createRef=function(){return{current:null}};lt.forwardRef=function(t){return{$$typeof:o5,render:t}};lt.isValidElement=ib;lt.lazy=function(t){return{$$typeof:c5,_payload:{_status:-1,_result:t},_init:f5}};lt.memo=function(t,e){return{$$typeof:l5,type:t,compare:e===void 0?null:e}};lt.startTransition=function(t){var e=Fm.transition;Fm.transition={};try{t()}finally{Fm.transition=e}};lt.unstable_act=OT;lt.useCallback=function(t,e){return br.current.useCallback(t,e)};lt.useContext=function(t){return br.current.useContext(t)};lt.useDebugValue=function(){};lt.useDeferredValue=function(t){return br.current.useDeferredValue(t)};lt.useEffect=function(t,e){return br.current.useEffect(t,e)};lt.useId=function(){return br.current.useId()};lt.useImperativeHandle=function(t,e,n){return br.current.useImperativeHandle(t,e,n)};lt.useInsertionEffect=function(t,e){return br.current.useInsertionEffect(t,e)};lt.useLayoutEffect=function(t,e){return br.current.useLayoutEffect(t,e)};lt.useMemo=function(t,e){return br.current.useMemo(t,e)};lt.useReducer=function(t,e,n){return br.current.useReducer(t,e,n)};lt.useRef=function(t){return br.current.useRef(t)};lt.useState=function(t){return br.current.useState(t)};lt.useSyncExternalStore=function(t,e,n){return br.current.useSyncExternalStore(t,e,n)};lt.useTransition=function(){return br.current.useTransition()};lt.version="18.3.1";CT.exports=lt;var m=CT.exports;const ee=ST(m),ob=JV({__proto__:null,default:ee},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p5=m,g5=Symbol.for("react.element"),v5=Symbol.for("react.fragment"),y5=Object.prototype.hasOwnProperty,x5=p5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,w5={key:!0,ref:!0,__self:!0,__source:!0};function MT(t,e,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)y5.call(e,r)&&!w5.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:g5,type:t,key:i,ref:a,props:s,_owner:x5.current}}Mg.Fragment=v5;Mg.jsx=MT;Mg.jsxs=MT;jT.exports=Mg;var o=jT.exports,LT={exports:{}},ss={},FT={exports:{}},VT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,V){var F=L.length;L.push(V);e:for(;0<F;){var Q=F-1>>>1,$=L[Q];if(0<s($,V))L[Q]=V,L[F]=$,F=Q;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var V=L[0],F=L.pop();if(F!==V){L[0]=F;e:for(var Q=0,$=L.length,te=$>>>1;Q<te;){var ue=2*(Q+1)-1,de=L[ue],Ce=ue+1,J=L[Ce];if(0>s(de,F))Ce<$&&0>s(J,de)?(L[Q]=J,L[Ce]=F,Q=Ce):(L[Q]=de,L[ue]=F,Q=ue);else if(Ce<$&&0>s(J,F))L[Q]=J,L[Ce]=F,Q=Ce;else break e}}return V}function s(L,V){var F=L.sortIndex-V.sortIndex;return F!==0?F:L.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,f=null,p=3,g=!1,b=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(L){for(var V=n(u);V!==null;){if(V.callback===null)r(u);else if(V.startTime<=L)r(u),V.sortIndex=V.expirationTime,e(c,V);else break;V=n(u)}}function j(L){if(y=!1,v(L),!b)if(n(c)!==null)b=!0,q(P);else{var V=n(u);V!==null&&K(j,V.startTime-L)}}function P(L,V){b=!1,y&&(y=!1,_(N),N=-1),g=!0;var F=p;try{for(v(V),f=n(c);f!==null&&(!(f.expirationTime>V)||L&&!I());){var Q=f.callback;if(typeof Q=="function"){f.callback=null,p=f.priorityLevel;var $=Q(f.expirationTime<=V);V=t.unstable_now(),typeof $=="function"?f.callback=$:f===n(c)&&r(c),v(V)}else r(c);f=n(c)}if(f!==null)var te=!0;else{var ue=n(u);ue!==null&&K(j,ue.startTime-V),te=!1}return te}finally{f=null,p=F,g=!1}}var D=!1,S=null,N=-1,T=5,k=-1;function I(){return!(t.unstable_now()-k<T)}function A(){if(S!==null){var L=t.unstable_now();k=L;var V=!0;try{V=S(!0,L)}finally{V?R():(D=!1,S=null)}}else D=!1}var R;if(typeof x=="function")R=function(){x(A)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,U=W.port2;W.port1.onmessage=A,R=function(){U.postMessage(null)}}else R=function(){w(A,0)};function q(L){S=L,D||(D=!0,R())}function K(L,V){N=w(function(){L(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){b||g||(b=!0,q(P))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(L){switch(p){case 1:case 2:case 3:var V=3;break;default:V=p}var F=p;p=V;try{return L()}finally{p=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,V){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var F=p;p=L;try{return V()}finally{p=F}},t.unstable_scheduleCallback=function(L,V,F){var Q=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?Q+F:Q):F=Q,L){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=F+$,L={id:d++,callback:V,priorityLevel:L,startTime:F,expirationTime:$,sortIndex:-1},F>Q?(L.sortIndex=F,e(u,L),n(c)===null&&L===n(u)&&(y?(_(N),N=-1):y=!0,K(j,F-Q))):(L.sortIndex=$,e(c,L),b||g||(b=!0,q(P))),L},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(L){var V=p;return function(){var F=p;p=V;try{return L.apply(this,arguments)}finally{p=F}}}})(VT);FT.exports=VT;var b5=FT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _5=m,ts=b5;function ve(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var UT=new Set,rh={};function Kl(t,e){au(t,e),au(t+"Capture",e)}function au(t,e){for(rh[t]=e,t=0;t<e.length;t++)UT.add(e[t])}var to=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bx=Object.prototype.hasOwnProperty,E5=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,EN={},NN={};function N5(t){return Bx.call(NN,t)?!0:Bx.call(EN,t)?!1:E5.test(t)?NN[t]=!0:(EN[t]=!0,!1)}function S5(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function j5(t,e,n,r){if(e===null||typeof e>"u"||S5(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function _r(t,e,n,r,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var Hn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Hn[t]=new _r(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Hn[e]=new _r(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Hn[t]=new _r(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Hn[t]=new _r(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Hn[t]=new _r(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Hn[t]=new _r(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Hn[t]=new _r(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Hn[t]=new _r(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Hn[t]=new _r(t,5,!1,t.toLowerCase(),null,!1,!1)});var ab=/[\-:]([a-z])/g;function lb(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ab,lb);Hn[e]=new _r(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ab,lb);Hn[e]=new _r(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ab,lb);Hn[e]=new _r(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Hn[t]=new _r(t,1,!1,t.toLowerCase(),null,!1,!1)});Hn.xlinkHref=new _r("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Hn[t]=new _r(t,1,!1,t.toLowerCase(),null,!0,!0)});function cb(t,e,n,r){var s=Hn.hasOwnProperty(e)?Hn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(j5(e,n,s,r)&&(n=null),r||s===null?N5(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var go=_5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rm=Symbol.for("react.element"),Ec=Symbol.for("react.portal"),Nc=Symbol.for("react.fragment"),ub=Symbol.for("react.strict_mode"),zx=Symbol.for("react.profiler"),$T=Symbol.for("react.provider"),BT=Symbol.for("react.context"),db=Symbol.for("react.forward_ref"),Wx=Symbol.for("react.suspense"),Hx=Symbol.for("react.suspense_list"),hb=Symbol.for("react.memo"),Do=Symbol.for("react.lazy"),zT=Symbol.for("react.offscreen"),SN=Symbol.iterator;function ad(t){return t===null||typeof t!="object"?null:(t=SN&&t[SN]||t["@@iterator"],typeof t=="function"?t:null)}var Xt=Object.assign,Cy;function Nd(t){if(Cy===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Cy=e&&e[1]||""}return`
`+Cy+t}var ky=!1;function Ty(t,e){if(!t||ky)return"";ky=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=l);break}}}finally{ky=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Nd(t):""}function C5(t){switch(t.tag){case 5:return Nd(t.type);case 16:return Nd("Lazy");case 13:return Nd("Suspense");case 19:return Nd("SuspenseList");case 0:case 2:case 15:return t=Ty(t.type,!1),t;case 11:return t=Ty(t.type.render,!1),t;case 1:return t=Ty(t.type,!0),t;default:return""}}function qx(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Nc:return"Fragment";case Ec:return"Portal";case zx:return"Profiler";case ub:return"StrictMode";case Wx:return"Suspense";case Hx:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case BT:return(t.displayName||"Context")+".Consumer";case $T:return(t._context.displayName||"Context")+".Provider";case db:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case hb:return e=t.displayName||null,e!==null?e:qx(t.type)||"Memo";case Do:e=t._payload,t=t._init;try{return qx(t(e))}catch{}}return null}function k5(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qx(e);case 8:return e===ub?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function xa(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function WT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function T5(t){var e=WT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function sm(t){t._valueTracker||(t._valueTracker=T5(t))}function HT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=WT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function mp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Gx(t,e){var n=e.checked;return Xt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function jN(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=xa(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function qT(t,e){e=e.checked,e!=null&&cb(t,"checked",e,!1)}function Kx(t,e){qT(t,e);var n=xa(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Yx(t,e.type,n):e.hasOwnProperty("defaultValue")&&Yx(t,e.type,xa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function CN(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Yx(t,e,n){(e!=="number"||mp(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Sd=Array.isArray;function Lc(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+xa(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Qx(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ve(91));return Xt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function kN(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ve(92));if(Sd(n)){if(1<n.length)throw Error(ve(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:xa(n)}}function GT(t,e){var n=xa(e.value),r=xa(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function TN(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function KT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xx(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?KT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var im,YT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(im=im||document.createElement("div"),im.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=im.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function sh(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ld={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},I5=["Webkit","ms","Moz","O"];Object.keys(Ld).forEach(function(t){I5.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ld[e]=Ld[t]})});function QT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ld.hasOwnProperty(t)&&Ld[t]?(""+e).trim():e+"px"}function XT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=QT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var R5=Xt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zx(t,e){if(e){if(R5[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ve(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ve(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ve(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ve(62))}}function Jx(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ew=null;function fb(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var tw=null,Fc=null,Vc=null;function IN(t){if(t=Zh(t)){if(typeof tw!="function")throw Error(ve(280));var e=t.stateNode;e&&(e=$g(e),tw(t.stateNode,t.type,e))}}function ZT(t){Fc?Vc?Vc.push(t):Vc=[t]:Fc=t}function JT(){if(Fc){var t=Fc,e=Vc;if(Vc=Fc=null,IN(t),e)for(t=0;t<e.length;t++)IN(e[t])}}function eI(t,e){return t(e)}function tI(){}var Iy=!1;function nI(t,e,n){if(Iy)return t(e,n);Iy=!0;try{return eI(t,e,n)}finally{Iy=!1,(Fc!==null||Vc!==null)&&(tI(),JT())}}function ih(t,e){var n=t.stateNode;if(n===null)return null;var r=$g(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ve(231,e,typeof n));return n}var nw=!1;if(to)try{var ld={};Object.defineProperty(ld,"passive",{get:function(){nw=!0}}),window.addEventListener("test",ld,ld),window.removeEventListener("test",ld,ld)}catch{nw=!1}function P5(t,e,n,r,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Fd=!1,pp=null,gp=!1,rw=null,A5={onError:function(t){Fd=!0,pp=t}};function D5(t,e,n,r,s,i,a,l,c){Fd=!1,pp=null,P5.apply(A5,arguments)}function O5(t,e,n,r,s,i,a,l,c){if(D5.apply(this,arguments),Fd){if(Fd){var u=pp;Fd=!1,pp=null}else throw Error(ve(198));gp||(gp=!0,rw=u)}}function Yl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function rI(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function RN(t){if(Yl(t)!==t)throw Error(ve(188))}function M5(t){var e=t.alternate;if(!e){if(e=Yl(t),e===null)throw Error(ve(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return RN(s),t;if(i===r)return RN(s),e;i=i.sibling}throw Error(ve(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a)throw Error(ve(189))}}if(n.alternate!==r)throw Error(ve(190))}if(n.tag!==3)throw Error(ve(188));return n.stateNode.current===n?t:e}function sI(t){return t=M5(t),t!==null?iI(t):null}function iI(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=iI(t);if(e!==null)return e;t=t.sibling}return null}var oI=ts.unstable_scheduleCallback,PN=ts.unstable_cancelCallback,L5=ts.unstable_shouldYield,F5=ts.unstable_requestPaint,un=ts.unstable_now,V5=ts.unstable_getCurrentPriorityLevel,mb=ts.unstable_ImmediatePriority,aI=ts.unstable_UserBlockingPriority,vp=ts.unstable_NormalPriority,U5=ts.unstable_LowPriority,lI=ts.unstable_IdlePriority,Lg=null,pi=null;function $5(t){if(pi&&typeof pi.onCommitFiberRoot=="function")try{pi.onCommitFiberRoot(Lg,t,void 0,(t.current.flags&128)===128)}catch{}}var Ls=Math.clz32?Math.clz32:W5,B5=Math.log,z5=Math.LN2;function W5(t){return t>>>=0,t===0?32:31-(B5(t)/z5|0)|0}var om=64,am=4194304;function jd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function yp(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=jd(l):(i&=a,i!==0&&(r=jd(i)))}else a=n&~s,a!==0?r=jd(a):i!==0&&(r=jd(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ls(e),s=1<<n,r|=t[n],e&=~s;return r}function H5(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function q5(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-Ls(i),l=1<<a,c=s[a];c===-1?(!(l&n)||l&r)&&(s[a]=H5(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function sw(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function cI(){var t=om;return om<<=1,!(om&4194240)&&(om=64),t}function Ry(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Qh(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ls(e),t[e]=n}function G5(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Ls(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function pb(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ls(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Pt=0;function uI(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var dI,gb,hI,fI,mI,iw=!1,lm=[],ea=null,ta=null,na=null,oh=new Map,ah=new Map,Lo=[],K5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function AN(t,e){switch(t){case"focusin":case"focusout":ea=null;break;case"dragenter":case"dragleave":ta=null;break;case"mouseover":case"mouseout":na=null;break;case"pointerover":case"pointerout":oh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ah.delete(e.pointerId)}}function cd(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Zh(e),e!==null&&gb(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Y5(t,e,n,r,s){switch(e){case"focusin":return ea=cd(ea,t,e,n,r,s),!0;case"dragenter":return ta=cd(ta,t,e,n,r,s),!0;case"mouseover":return na=cd(na,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return oh.set(i,cd(oh.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,ah.set(i,cd(ah.get(i)||null,t,e,n,r,s)),!0}return!1}function pI(t){var e=ll(t.target);if(e!==null){var n=Yl(e);if(n!==null){if(e=n.tag,e===13){if(e=rI(n),e!==null){t.blockedOn=e,mI(t.priority,function(){hI(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Vm(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ow(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ew=r,n.target.dispatchEvent(r),ew=null}else return e=Zh(n),e!==null&&gb(e),t.blockedOn=n,!1;e.shift()}return!0}function DN(t,e,n){Vm(t)&&n.delete(e)}function Q5(){iw=!1,ea!==null&&Vm(ea)&&(ea=null),ta!==null&&Vm(ta)&&(ta=null),na!==null&&Vm(na)&&(na=null),oh.forEach(DN),ah.forEach(DN)}function ud(t,e){t.blockedOn===e&&(t.blockedOn=null,iw||(iw=!0,ts.unstable_scheduleCallback(ts.unstable_NormalPriority,Q5)))}function lh(t){function e(s){return ud(s,t)}if(0<lm.length){ud(lm[0],t);for(var n=1;n<lm.length;n++){var r=lm[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ea!==null&&ud(ea,t),ta!==null&&ud(ta,t),na!==null&&ud(na,t),oh.forEach(e),ah.forEach(e),n=0;n<Lo.length;n++)r=Lo[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Lo.length&&(n=Lo[0],n.blockedOn===null);)pI(n),n.blockedOn===null&&Lo.shift()}var Uc=go.ReactCurrentBatchConfig,xp=!0;function X5(t,e,n,r){var s=Pt,i=Uc.transition;Uc.transition=null;try{Pt=1,vb(t,e,n,r)}finally{Pt=s,Uc.transition=i}}function Z5(t,e,n,r){var s=Pt,i=Uc.transition;Uc.transition=null;try{Pt=4,vb(t,e,n,r)}finally{Pt=s,Uc.transition=i}}function vb(t,e,n,r){if(xp){var s=ow(t,e,n,r);if(s===null)$y(t,e,r,wp,n),AN(t,r);else if(Y5(s,t,e,n,r))r.stopPropagation();else if(AN(t,r),e&4&&-1<K5.indexOf(t)){for(;s!==null;){var i=Zh(s);if(i!==null&&dI(i),i=ow(t,e,n,r),i===null&&$y(t,e,r,wp,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else $y(t,e,r,null,n)}}var wp=null;function ow(t,e,n,r){if(wp=null,t=fb(r),t=ll(t),t!==null)if(e=Yl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=rI(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return wp=t,null}function gI(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(V5()){case mb:return 1;case aI:return 4;case vp:case U5:return 16;case lI:return 536870912;default:return 16}default:return 16}}var Ko=null,yb=null,Um=null;function vI(){if(Um)return Um;var t,e=yb,n=e.length,r,s="value"in Ko?Ko.value:Ko.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===s[i-r];r++);return Um=s.slice(t,1<r?1-r:void 0)}function $m(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function cm(){return!0}function ON(){return!1}function is(t){function e(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?cm:ON,this.isPropagationStopped=ON,this}return Xt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=cm)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=cm)},persist:function(){},isPersistent:cm}),e}var Au={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xb=is(Au),Xh=Xt({},Au,{view:0,detail:0}),J5=is(Xh),Py,Ay,dd,Fg=Xt({},Xh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wb,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==dd&&(dd&&t.type==="mousemove"?(Py=t.screenX-dd.screenX,Ay=t.screenY-dd.screenY):Ay=Py=0,dd=t),Py)},movementY:function(t){return"movementY"in t?t.movementY:Ay}}),MN=is(Fg),e3=Xt({},Fg,{dataTransfer:0}),t3=is(e3),n3=Xt({},Xh,{relatedTarget:0}),Dy=is(n3),r3=Xt({},Au,{animationName:0,elapsedTime:0,pseudoElement:0}),s3=is(r3),i3=Xt({},Au,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),o3=is(i3),a3=Xt({},Au,{data:0}),LN=is(a3),l3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},c3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},u3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function d3(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=u3[t])?!!e[t]:!1}function wb(){return d3}var h3=Xt({},Xh,{key:function(t){if(t.key){var e=l3[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=$m(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?c3[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wb,charCode:function(t){return t.type==="keypress"?$m(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$m(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),f3=is(h3),m3=Xt({},Fg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),FN=is(m3),p3=Xt({},Xh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wb}),g3=is(p3),v3=Xt({},Au,{propertyName:0,elapsedTime:0,pseudoElement:0}),y3=is(v3),x3=Xt({},Fg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),w3=is(x3),b3=[9,13,27,32],bb=to&&"CompositionEvent"in window,Vd=null;to&&"documentMode"in document&&(Vd=document.documentMode);var _3=to&&"TextEvent"in window&&!Vd,yI=to&&(!bb||Vd&&8<Vd&&11>=Vd),VN=" ",UN=!1;function xI(t,e){switch(t){case"keyup":return b3.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wI(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Sc=!1;function E3(t,e){switch(t){case"compositionend":return wI(e);case"keypress":return e.which!==32?null:(UN=!0,VN);case"textInput":return t=e.data,t===VN&&UN?null:t;default:return null}}function N3(t,e){if(Sc)return t==="compositionend"||!bb&&xI(t,e)?(t=vI(),Um=yb=Ko=null,Sc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return yI&&e.locale!=="ko"?null:e.data;default:return null}}var S3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $N(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!S3[t.type]:e==="textarea"}function bI(t,e,n,r){ZT(r),e=bp(e,"onChange"),0<e.length&&(n=new xb("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ud=null,ch=null;function j3(t){PI(t,0)}function Vg(t){var e=kc(t);if(HT(e))return t}function C3(t,e){if(t==="change")return e}var _I=!1;if(to){var Oy;if(to){var My="oninput"in document;if(!My){var BN=document.createElement("div");BN.setAttribute("oninput","return;"),My=typeof BN.oninput=="function"}Oy=My}else Oy=!1;_I=Oy&&(!document.documentMode||9<document.documentMode)}function zN(){Ud&&(Ud.detachEvent("onpropertychange",EI),ch=Ud=null)}function EI(t){if(t.propertyName==="value"&&Vg(ch)){var e=[];bI(e,ch,t,fb(t)),nI(j3,e)}}function k3(t,e,n){t==="focusin"?(zN(),Ud=e,ch=n,Ud.attachEvent("onpropertychange",EI)):t==="focusout"&&zN()}function T3(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vg(ch)}function I3(t,e){if(t==="click")return Vg(e)}function R3(t,e){if(t==="input"||t==="change")return Vg(e)}function P3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var $s=typeof Object.is=="function"?Object.is:P3;function uh(t,e){if($s(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Bx.call(e,s)||!$s(t[s],e[s]))return!1}return!0}function WN(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function HN(t,e){var n=WN(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=WN(n)}}function NI(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?NI(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function SI(){for(var t=window,e=mp();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=mp(t.document)}return e}function _b(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function A3(t){var e=SI(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&NI(n.ownerDocument.documentElement,n)){if(r!==null&&_b(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=HN(n,i);var a=HN(n,r);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var D3=to&&"documentMode"in document&&11>=document.documentMode,jc=null,aw=null,$d=null,lw=!1;function qN(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;lw||jc==null||jc!==mp(r)||(r=jc,"selectionStart"in r&&_b(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),$d&&uh($d,r)||($d=r,r=bp(aw,"onSelect"),0<r.length&&(e=new xb("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=jc)))}function um(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Cc={animationend:um("Animation","AnimationEnd"),animationiteration:um("Animation","AnimationIteration"),animationstart:um("Animation","AnimationStart"),transitionend:um("Transition","TransitionEnd")},Ly={},jI={};to&&(jI=document.createElement("div").style,"AnimationEvent"in window||(delete Cc.animationend.animation,delete Cc.animationiteration.animation,delete Cc.animationstart.animation),"TransitionEvent"in window||delete Cc.transitionend.transition);function Ug(t){if(Ly[t])return Ly[t];if(!Cc[t])return t;var e=Cc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in jI)return Ly[t]=e[n];return t}var CI=Ug("animationend"),kI=Ug("animationiteration"),TI=Ug("animationstart"),II=Ug("transitionend"),RI=new Map,GN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Oa(t,e){RI.set(t,e),Kl(e,[t])}for(var Fy=0;Fy<GN.length;Fy++){var Vy=GN[Fy],O3=Vy.toLowerCase(),M3=Vy[0].toUpperCase()+Vy.slice(1);Oa(O3,"on"+M3)}Oa(CI,"onAnimationEnd");Oa(kI,"onAnimationIteration");Oa(TI,"onAnimationStart");Oa("dblclick","onDoubleClick");Oa("focusin","onFocus");Oa("focusout","onBlur");Oa(II,"onTransitionEnd");au("onMouseEnter",["mouseout","mouseover"]);au("onMouseLeave",["mouseout","mouseover"]);au("onPointerEnter",["pointerout","pointerover"]);au("onPointerLeave",["pointerout","pointerover"]);Kl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Kl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Kl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Kl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Kl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Kl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),L3=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cd));function KN(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,O5(r,e,void 0,t),t.currentTarget=null}function PI(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;KN(s,l,u),i=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;KN(s,l,u),i=c}}}if(gp)throw t=rw,gp=!1,rw=null,t}function zt(t,e){var n=e[fw];n===void 0&&(n=e[fw]=new Set);var r=t+"__bubble";n.has(r)||(AI(e,t,2,!1),n.add(r))}function Uy(t,e,n){var r=0;e&&(r|=4),AI(n,t,r,e)}var dm="_reactListening"+Math.random().toString(36).slice(2);function dh(t){if(!t[dm]){t[dm]=!0,UT.forEach(function(n){n!=="selectionchange"&&(L3.has(n)||Uy(n,!1,t),Uy(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[dm]||(e[dm]=!0,Uy("selectionchange",!1,e))}}function AI(t,e,n,r){switch(gI(e)){case 1:var s=X5;break;case 4:s=Z5;break;default:s=vb}n=s.bind(null,e,n,t),s=void 0,!nw||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function $y(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=ll(l),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}l=l.parentNode}}r=r.return}nI(function(){var u=i,d=fb(n),f=[];e:{var p=RI.get(t);if(p!==void 0){var g=xb,b=t;switch(t){case"keypress":if($m(n)===0)break e;case"keydown":case"keyup":g=f3;break;case"focusin":b="focus",g=Dy;break;case"focusout":b="blur",g=Dy;break;case"beforeblur":case"afterblur":g=Dy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=MN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=t3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=g3;break;case CI:case kI:case TI:g=s3;break;case II:g=y3;break;case"scroll":g=J5;break;case"wheel":g=w3;break;case"copy":case"cut":case"paste":g=o3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=FN}var y=(e&4)!==0,w=!y&&t==="scroll",_=y?p!==null?p+"Capture":null:p;y=[];for(var x=u,v;x!==null;){v=x;var j=v.stateNode;if(v.tag===5&&j!==null&&(v=j,_!==null&&(j=ih(x,_),j!=null&&y.push(hh(x,j,v)))),w)break;x=x.return}0<y.length&&(p=new g(p,b,null,n,d),f.push({event:p,listeners:y}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==ew&&(b=n.relatedTarget||n.fromElement)&&(ll(b)||b[no]))break e;if((g||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,g?(b=n.relatedTarget||n.toElement,g=u,b=b?ll(b):null,b!==null&&(w=Yl(b),b!==w||b.tag!==5&&b.tag!==6)&&(b=null)):(g=null,b=u),g!==b)){if(y=MN,j="onMouseLeave",_="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(y=FN,j="onPointerLeave",_="onPointerEnter",x="pointer"),w=g==null?p:kc(g),v=b==null?p:kc(b),p=new y(j,x+"leave",g,n,d),p.target=w,p.relatedTarget=v,j=null,ll(d)===u&&(y=new y(_,x+"enter",b,n,d),y.target=v,y.relatedTarget=w,j=y),w=j,g&&b)t:{for(y=g,_=b,x=0,v=y;v;v=cc(v))x++;for(v=0,j=_;j;j=cc(j))v++;for(;0<x-v;)y=cc(y),x--;for(;0<v-x;)_=cc(_),v--;for(;x--;){if(y===_||_!==null&&y===_.alternate)break t;y=cc(y),_=cc(_)}y=null}else y=null;g!==null&&YN(f,p,g,y,!1),b!==null&&w!==null&&YN(f,w,b,y,!0)}}e:{if(p=u?kc(u):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var P=C3;else if($N(p))if(_I)P=R3;else{P=T3;var D=k3}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(P=I3);if(P&&(P=P(t,u))){bI(f,P,n,d);break e}D&&D(t,p,u),t==="focusout"&&(D=p._wrapperState)&&D.controlled&&p.type==="number"&&Yx(p,"number",p.value)}switch(D=u?kc(u):window,t){case"focusin":($N(D)||D.contentEditable==="true")&&(jc=D,aw=u,$d=null);break;case"focusout":$d=aw=jc=null;break;case"mousedown":lw=!0;break;case"contextmenu":case"mouseup":case"dragend":lw=!1,qN(f,n,d);break;case"selectionchange":if(D3)break;case"keydown":case"keyup":qN(f,n,d)}var S;if(bb)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Sc?xI(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(yI&&n.locale!=="ko"&&(Sc||N!=="onCompositionStart"?N==="onCompositionEnd"&&Sc&&(S=vI()):(Ko=d,yb="value"in Ko?Ko.value:Ko.textContent,Sc=!0)),D=bp(u,N),0<D.length&&(N=new LN(N,t,null,n,d),f.push({event:N,listeners:D}),S?N.data=S:(S=wI(n),S!==null&&(N.data=S)))),(S=_3?E3(t,n):N3(t,n))&&(u=bp(u,"onBeforeInput"),0<u.length&&(d=new LN("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=S))}PI(f,e)})}function hh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function bp(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ih(t,n),i!=null&&r.unshift(hh(t,i,s)),i=ih(t,e),i!=null&&r.push(hh(t,i,s))),t=t.return}return r}function cc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function YN(t,e,n,r,s){for(var i=e._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=ih(n,i),c!=null&&a.unshift(hh(n,c,l))):s||(c=ih(n,i),c!=null&&a.push(hh(n,c,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var F3=/\r\n?/g,V3=/\u0000|\uFFFD/g;function QN(t){return(typeof t=="string"?t:""+t).replace(F3,`
`).replace(V3,"")}function hm(t,e,n){if(e=QN(e),QN(t)!==e&&n)throw Error(ve(425))}function _p(){}var cw=null,uw=null;function dw(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var hw=typeof setTimeout=="function"?setTimeout:void 0,U3=typeof clearTimeout=="function"?clearTimeout:void 0,XN=typeof Promise=="function"?Promise:void 0,$3=typeof queueMicrotask=="function"?queueMicrotask:typeof XN<"u"?function(t){return XN.resolve(null).then(t).catch(B3)}:hw;function B3(t){setTimeout(function(){throw t})}function By(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),lh(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);lh(e)}function ra(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ZN(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Du=Math.random().toString(36).slice(2),ui="__reactFiber$"+Du,fh="__reactProps$"+Du,no="__reactContainer$"+Du,fw="__reactEvents$"+Du,z3="__reactListeners$"+Du,W3="__reactHandles$"+Du;function ll(t){var e=t[ui];if(e)return e;for(var n=t.parentNode;n;){if(e=n[no]||n[ui]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ZN(t);t!==null;){if(n=t[ui])return n;t=ZN(t)}return e}t=n,n=t.parentNode}return null}function Zh(t){return t=t[ui]||t[no],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function kc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ve(33))}function $g(t){return t[fh]||null}var mw=[],Tc=-1;function Ma(t){return{current:t}}function Wt(t){0>Tc||(t.current=mw[Tc],mw[Tc]=null,Tc--)}function Ft(t,e){Tc++,mw[Tc]=t.current,t.current=e}var wa={},ur=Ma(wa),Lr=Ma(!1),El=wa;function lu(t,e){var n=t.type.contextTypes;if(!n)return wa;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Fr(t){return t=t.childContextTypes,t!=null}function Ep(){Wt(Lr),Wt(ur)}function JN(t,e,n){if(ur.current!==wa)throw Error(ve(168));Ft(ur,e),Ft(Lr,n)}function DI(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(ve(108,k5(t)||"Unknown",s));return Xt({},n,r)}function Np(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||wa,El=ur.current,Ft(ur,t),Ft(Lr,Lr.current),!0}function eS(t,e,n){var r=t.stateNode;if(!r)throw Error(ve(169));n?(t=DI(t,e,El),r.__reactInternalMemoizedMergedChildContext=t,Wt(Lr),Wt(ur),Ft(ur,t)):Wt(Lr),Ft(Lr,n)}var Wi=null,Bg=!1,zy=!1;function OI(t){Wi===null?Wi=[t]:Wi.push(t)}function H3(t){Bg=!0,OI(t)}function La(){if(!zy&&Wi!==null){zy=!0;var t=0,e=Pt;try{var n=Wi;for(Pt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Wi=null,Bg=!1}catch(s){throw Wi!==null&&(Wi=Wi.slice(t+1)),oI(mb,La),s}finally{Pt=e,zy=!1}}return null}var Ic=[],Rc=0,Sp=null,jp=0,ls=[],cs=0,Nl=null,Gi=1,Ki="";function tl(t,e){Ic[Rc++]=jp,Ic[Rc++]=Sp,Sp=t,jp=e}function MI(t,e,n){ls[cs++]=Gi,ls[cs++]=Ki,ls[cs++]=Nl,Nl=t;var r=Gi;t=Ki;var s=32-Ls(r)-1;r&=~(1<<s),n+=1;var i=32-Ls(e)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Gi=1<<32-Ls(e)+s|n<<s|r,Ki=i+t}else Gi=1<<i|n<<s|r,Ki=t}function Eb(t){t.return!==null&&(tl(t,1),MI(t,1,0))}function Nb(t){for(;t===Sp;)Sp=Ic[--Rc],Ic[Rc]=null,jp=Ic[--Rc],Ic[Rc]=null;for(;t===Nl;)Nl=ls[--cs],ls[cs]=null,Ki=ls[--cs],ls[cs]=null,Gi=ls[--cs],ls[cs]=null}var Jr=null,Xr=null,qt=!1,Rs=null;function LI(t,e){var n=us(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function tS(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Jr=t,Xr=ra(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Jr=t,Xr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Nl!==null?{id:Gi,overflow:Ki}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=us(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Jr=t,Xr=null,!0):!1;default:return!1}}function pw(t){return(t.mode&1)!==0&&(t.flags&128)===0}function gw(t){if(qt){var e=Xr;if(e){var n=e;if(!tS(t,e)){if(pw(t))throw Error(ve(418));e=ra(n.nextSibling);var r=Jr;e&&tS(t,e)?LI(r,n):(t.flags=t.flags&-4097|2,qt=!1,Jr=t)}}else{if(pw(t))throw Error(ve(418));t.flags=t.flags&-4097|2,qt=!1,Jr=t}}}function nS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Jr=t}function fm(t){if(t!==Jr)return!1;if(!qt)return nS(t),qt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!dw(t.type,t.memoizedProps)),e&&(e=Xr)){if(pw(t))throw FI(),Error(ve(418));for(;e;)LI(t,e),e=ra(e.nextSibling)}if(nS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ve(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Xr=ra(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Xr=null}}else Xr=Jr?ra(t.stateNode.nextSibling):null;return!0}function FI(){for(var t=Xr;t;)t=ra(t.nextSibling)}function cu(){Xr=Jr=null,qt=!1}function Sb(t){Rs===null?Rs=[t]:Rs.push(t)}var q3=go.ReactCurrentBatchConfig;function hd(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ve(309));var r=n.stateNode}if(!r)throw Error(ve(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(ve(284));if(!n._owner)throw Error(ve(290,t))}return t}function mm(t,e){throw t=Object.prototype.toString.call(e),Error(ve(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function rS(t){var e=t._init;return e(t._payload)}function VI(t){function e(_,x){if(t){var v=_.deletions;v===null?(_.deletions=[x],_.flags|=16):v.push(x)}}function n(_,x){if(!t)return null;for(;x!==null;)e(_,x),x=x.sibling;return null}function r(_,x){for(_=new Map;x!==null;)x.key!==null?_.set(x.key,x):_.set(x.index,x),x=x.sibling;return _}function s(_,x){return _=aa(_,x),_.index=0,_.sibling=null,_}function i(_,x,v){return _.index=v,t?(v=_.alternate,v!==null?(v=v.index,v<x?(_.flags|=2,x):v):(_.flags|=2,x)):(_.flags|=1048576,x)}function a(_){return t&&_.alternate===null&&(_.flags|=2),_}function l(_,x,v,j){return x===null||x.tag!==6?(x=Qy(v,_.mode,j),x.return=_,x):(x=s(x,v),x.return=_,x)}function c(_,x,v,j){var P=v.type;return P===Nc?d(_,x,v.props.children,j,v.key):x!==null&&(x.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Do&&rS(P)===x.type)?(j=s(x,v.props),j.ref=hd(_,x,v),j.return=_,j):(j=Km(v.type,v.key,v.props,null,_.mode,j),j.ref=hd(_,x,v),j.return=_,j)}function u(_,x,v,j){return x===null||x.tag!==4||x.stateNode.containerInfo!==v.containerInfo||x.stateNode.implementation!==v.implementation?(x=Xy(v,_.mode,j),x.return=_,x):(x=s(x,v.children||[]),x.return=_,x)}function d(_,x,v,j,P){return x===null||x.tag!==7?(x=wl(v,_.mode,j,P),x.return=_,x):(x=s(x,v),x.return=_,x)}function f(_,x,v){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Qy(""+x,_.mode,v),x.return=_,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case rm:return v=Km(x.type,x.key,x.props,null,_.mode,v),v.ref=hd(_,null,x),v.return=_,v;case Ec:return x=Xy(x,_.mode,v),x.return=_,x;case Do:var j=x._init;return f(_,j(x._payload),v)}if(Sd(x)||ad(x))return x=wl(x,_.mode,v,null),x.return=_,x;mm(_,x)}return null}function p(_,x,v,j){var P=x!==null?x.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return P!==null?null:l(_,x,""+v,j);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case rm:return v.key===P?c(_,x,v,j):null;case Ec:return v.key===P?u(_,x,v,j):null;case Do:return P=v._init,p(_,x,P(v._payload),j)}if(Sd(v)||ad(v))return P!==null?null:d(_,x,v,j,null);mm(_,v)}return null}function g(_,x,v,j,P){if(typeof j=="string"&&j!==""||typeof j=="number")return _=_.get(v)||null,l(x,_,""+j,P);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case rm:return _=_.get(j.key===null?v:j.key)||null,c(x,_,j,P);case Ec:return _=_.get(j.key===null?v:j.key)||null,u(x,_,j,P);case Do:var D=j._init;return g(_,x,v,D(j._payload),P)}if(Sd(j)||ad(j))return _=_.get(v)||null,d(x,_,j,P,null);mm(x,j)}return null}function b(_,x,v,j){for(var P=null,D=null,S=x,N=x=0,T=null;S!==null&&N<v.length;N++){S.index>N?(T=S,S=null):T=S.sibling;var k=p(_,S,v[N],j);if(k===null){S===null&&(S=T);break}t&&S&&k.alternate===null&&e(_,S),x=i(k,x,N),D===null?P=k:D.sibling=k,D=k,S=T}if(N===v.length)return n(_,S),qt&&tl(_,N),P;if(S===null){for(;N<v.length;N++)S=f(_,v[N],j),S!==null&&(x=i(S,x,N),D===null?P=S:D.sibling=S,D=S);return qt&&tl(_,N),P}for(S=r(_,S);N<v.length;N++)T=g(S,_,N,v[N],j),T!==null&&(t&&T.alternate!==null&&S.delete(T.key===null?N:T.key),x=i(T,x,N),D===null?P=T:D.sibling=T,D=T);return t&&S.forEach(function(I){return e(_,I)}),qt&&tl(_,N),P}function y(_,x,v,j){var P=ad(v);if(typeof P!="function")throw Error(ve(150));if(v=P.call(v),v==null)throw Error(ve(151));for(var D=P=null,S=x,N=x=0,T=null,k=v.next();S!==null&&!k.done;N++,k=v.next()){S.index>N?(T=S,S=null):T=S.sibling;var I=p(_,S,k.value,j);if(I===null){S===null&&(S=T);break}t&&S&&I.alternate===null&&e(_,S),x=i(I,x,N),D===null?P=I:D.sibling=I,D=I,S=T}if(k.done)return n(_,S),qt&&tl(_,N),P;if(S===null){for(;!k.done;N++,k=v.next())k=f(_,k.value,j),k!==null&&(x=i(k,x,N),D===null?P=k:D.sibling=k,D=k);return qt&&tl(_,N),P}for(S=r(_,S);!k.done;N++,k=v.next())k=g(S,_,N,k.value,j),k!==null&&(t&&k.alternate!==null&&S.delete(k.key===null?N:k.key),x=i(k,x,N),D===null?P=k:D.sibling=k,D=k);return t&&S.forEach(function(A){return e(_,A)}),qt&&tl(_,N),P}function w(_,x,v,j){if(typeof v=="object"&&v!==null&&v.type===Nc&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case rm:e:{for(var P=v.key,D=x;D!==null;){if(D.key===P){if(P=v.type,P===Nc){if(D.tag===7){n(_,D.sibling),x=s(D,v.props.children),x.return=_,_=x;break e}}else if(D.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Do&&rS(P)===D.type){n(_,D.sibling),x=s(D,v.props),x.ref=hd(_,D,v),x.return=_,_=x;break e}n(_,D);break}else e(_,D);D=D.sibling}v.type===Nc?(x=wl(v.props.children,_.mode,j,v.key),x.return=_,_=x):(j=Km(v.type,v.key,v.props,null,_.mode,j),j.ref=hd(_,x,v),j.return=_,_=j)}return a(_);case Ec:e:{for(D=v.key;x!==null;){if(x.key===D)if(x.tag===4&&x.stateNode.containerInfo===v.containerInfo&&x.stateNode.implementation===v.implementation){n(_,x.sibling),x=s(x,v.children||[]),x.return=_,_=x;break e}else{n(_,x);break}else e(_,x);x=x.sibling}x=Xy(v,_.mode,j),x.return=_,_=x}return a(_);case Do:return D=v._init,w(_,x,D(v._payload),j)}if(Sd(v))return b(_,x,v,j);if(ad(v))return y(_,x,v,j);mm(_,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,x!==null&&x.tag===6?(n(_,x.sibling),x=s(x,v),x.return=_,_=x):(n(_,x),x=Qy(v,_.mode,j),x.return=_,_=x),a(_)):n(_,x)}return w}var uu=VI(!0),UI=VI(!1),Cp=Ma(null),kp=null,Pc=null,jb=null;function Cb(){jb=Pc=kp=null}function kb(t){var e=Cp.current;Wt(Cp),t._currentValue=e}function vw(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function $c(t,e){kp=t,jb=Pc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Or=!0),t.firstContext=null)}function gs(t){var e=t._currentValue;if(jb!==t)if(t={context:t,memoizedValue:e,next:null},Pc===null){if(kp===null)throw Error(ve(308));Pc=t,kp.dependencies={lanes:0,firstContext:t}}else Pc=Pc.next=t;return e}var cl=null;function Tb(t){cl===null?cl=[t]:cl.push(t)}function $I(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Tb(e)):(n.next=s.next,s.next=n),e.interleaved=n,ro(t,r)}function ro(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Oo=!1;function Ib(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function BI(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Xi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function sa(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,gt&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,ro(t,n)}return s=r.interleaved,s===null?(e.next=e,Tb(r)):(e.next=s.next,s.next=e),r.interleaved=e,ro(t,n)}function Bm(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,pb(t,n)}}function sS(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Tp(t,e,n,r){var s=t.updateQueue;Oo=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;a=0,d=u=c=null,l=i;do{var p=l.lane,g=l.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=t,y=l;switch(p=e,g=n,y.tag){case 1:if(b=y.payload,typeof b=="function"){f=b.call(g,f,p);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=y.payload,p=typeof b=="function"?b.call(g,f,p):b,p==null)break e;f=Xt({},f,p);break e;case 2:Oo=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else g={eventTime:g,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=g,c=f):d=d.next=g,a|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);jl|=a,t.lanes=a,t.memoizedState=f}}function iS(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(ve(191,s));s.call(r)}}}var Jh={},gi=Ma(Jh),mh=Ma(Jh),ph=Ma(Jh);function ul(t){if(t===Jh)throw Error(ve(174));return t}function Rb(t,e){switch(Ft(ph,e),Ft(mh,t),Ft(gi,Jh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Xx(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Xx(e,t)}Wt(gi),Ft(gi,e)}function du(){Wt(gi),Wt(mh),Wt(ph)}function zI(t){ul(ph.current);var e=ul(gi.current),n=Xx(e,t.type);e!==n&&(Ft(mh,t),Ft(gi,n))}function Pb(t){mh.current===t&&(Wt(gi),Wt(mh))}var Kt=Ma(0);function Ip(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Wy=[];function Ab(){for(var t=0;t<Wy.length;t++)Wy[t]._workInProgressVersionPrimary=null;Wy.length=0}var zm=go.ReactCurrentDispatcher,Hy=go.ReactCurrentBatchConfig,Sl=0,Qt=null,Nn=null,Pn=null,Rp=!1,Bd=!1,gh=0,G3=0;function Qn(){throw Error(ve(321))}function Db(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!$s(t[n],e[n]))return!1;return!0}function Ob(t,e,n,r,s,i){if(Sl=i,Qt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,zm.current=t===null||t.memoizedState===null?X3:Z3,t=n(r,s),Bd){i=0;do{if(Bd=!1,gh=0,25<=i)throw Error(ve(301));i+=1,Pn=Nn=null,e.updateQueue=null,zm.current=J3,t=n(r,s)}while(Bd)}if(zm.current=Pp,e=Nn!==null&&Nn.next!==null,Sl=0,Pn=Nn=Qt=null,Rp=!1,e)throw Error(ve(300));return t}function Mb(){var t=gh!==0;return gh=0,t}function ii(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pn===null?Qt.memoizedState=Pn=t:Pn=Pn.next=t,Pn}function vs(){if(Nn===null){var t=Qt.alternate;t=t!==null?t.memoizedState:null}else t=Nn.next;var e=Pn===null?Qt.memoizedState:Pn.next;if(e!==null)Pn=e,Nn=t;else{if(t===null)throw Error(ve(310));Nn=t,t={memoizedState:Nn.memoizedState,baseState:Nn.baseState,baseQueue:Nn.baseQueue,queue:Nn.queue,next:null},Pn===null?Qt.memoizedState=Pn=t:Pn=Pn.next=t}return Pn}function vh(t,e){return typeof e=="function"?e(t):e}function qy(t){var e=vs(),n=e.queue;if(n===null)throw Error(ve(311));n.lastRenderedReducer=t;var r=Nn,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=a=null,c=null,u=i;do{var d=u.lane;if((Sl&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,a=r):c=c.next=f,Qt.lanes|=d,jl|=d}u=u.next}while(u!==null&&u!==i);c===null?a=r:c.next=l,$s(r,e.memoizedState)||(Or=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Qt.lanes|=i,jl|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Gy(t){var e=vs(),n=e.queue;if(n===null)throw Error(ve(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);$s(i,e.memoizedState)||(Or=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function WI(){}function HI(t,e){var n=Qt,r=vs(),s=e(),i=!$s(r.memoizedState,s);if(i&&(r.memoizedState=s,Or=!0),r=r.queue,Lb(KI.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Pn!==null&&Pn.memoizedState.tag&1){if(n.flags|=2048,yh(9,GI.bind(null,n,r,s,e),void 0,null),On===null)throw Error(ve(349));Sl&30||qI(n,e,s)}return s}function qI(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Qt.updateQueue,e===null?(e={lastEffect:null,stores:null},Qt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function GI(t,e,n,r){e.value=n,e.getSnapshot=r,YI(e)&&QI(t)}function KI(t,e,n){return n(function(){YI(e)&&QI(t)})}function YI(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!$s(t,n)}catch{return!0}}function QI(t){var e=ro(t,1);e!==null&&Fs(e,t,1,-1)}function oS(t){var e=ii();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vh,lastRenderedState:t},e.queue=t,t=t.dispatch=Q3.bind(null,Qt,t),[e.memoizedState,t]}function yh(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Qt.updateQueue,e===null?(e={lastEffect:null,stores:null},Qt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function XI(){return vs().memoizedState}function Wm(t,e,n,r){var s=ii();Qt.flags|=t,s.memoizedState=yh(1|e,n,void 0,r===void 0?null:r)}function zg(t,e,n,r){var s=vs();r=r===void 0?null:r;var i=void 0;if(Nn!==null){var a=Nn.memoizedState;if(i=a.destroy,r!==null&&Db(r,a.deps)){s.memoizedState=yh(e,n,i,r);return}}Qt.flags|=t,s.memoizedState=yh(1|e,n,i,r)}function aS(t,e){return Wm(8390656,8,t,e)}function Lb(t,e){return zg(2048,8,t,e)}function ZI(t,e){return zg(4,2,t,e)}function JI(t,e){return zg(4,4,t,e)}function eR(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function tR(t,e,n){return n=n!=null?n.concat([t]):null,zg(4,4,eR.bind(null,e,t),n)}function Fb(){}function nR(t,e){var n=vs();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Db(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function rR(t,e){var n=vs();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Db(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function sR(t,e,n){return Sl&21?($s(n,e)||(n=cI(),Qt.lanes|=n,jl|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Or=!0),t.memoizedState=n)}function K3(t,e){var n=Pt;Pt=n!==0&&4>n?n:4,t(!0);var r=Hy.transition;Hy.transition={};try{t(!1),e()}finally{Pt=n,Hy.transition=r}}function iR(){return vs().memoizedState}function Y3(t,e,n){var r=oa(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},oR(t))aR(e,n);else if(n=$I(t,e,n,r),n!==null){var s=yr();Fs(n,t,r,s),lR(n,e,r)}}function Q3(t,e,n){var r=oa(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(oR(t))aR(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,l=i(a,n);if(s.hasEagerState=!0,s.eagerState=l,$s(l,a)){var c=e.interleaved;c===null?(s.next=s,Tb(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=$I(t,e,s,r),n!==null&&(s=yr(),Fs(n,t,r,s),lR(n,e,r))}}function oR(t){var e=t.alternate;return t===Qt||e!==null&&e===Qt}function aR(t,e){Bd=Rp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function lR(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,pb(t,n)}}var Pp={readContext:gs,useCallback:Qn,useContext:Qn,useEffect:Qn,useImperativeHandle:Qn,useInsertionEffect:Qn,useLayoutEffect:Qn,useMemo:Qn,useReducer:Qn,useRef:Qn,useState:Qn,useDebugValue:Qn,useDeferredValue:Qn,useTransition:Qn,useMutableSource:Qn,useSyncExternalStore:Qn,useId:Qn,unstable_isNewReconciler:!1},X3={readContext:gs,useCallback:function(t,e){return ii().memoizedState=[t,e===void 0?null:e],t},useContext:gs,useEffect:aS,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Wm(4194308,4,eR.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Wm(4194308,4,t,e)},useInsertionEffect:function(t,e){return Wm(4,2,t,e)},useMemo:function(t,e){var n=ii();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ii();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Y3.bind(null,Qt,t),[r.memoizedState,t]},useRef:function(t){var e=ii();return t={current:t},e.memoizedState=t},useState:oS,useDebugValue:Fb,useDeferredValue:function(t){return ii().memoizedState=t},useTransition:function(){var t=oS(!1),e=t[0];return t=K3.bind(null,t[1]),ii().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Qt,s=ii();if(qt){if(n===void 0)throw Error(ve(407));n=n()}else{if(n=e(),On===null)throw Error(ve(349));Sl&30||qI(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,aS(KI.bind(null,r,i,t),[t]),r.flags|=2048,yh(9,GI.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=ii(),e=On.identifierPrefix;if(qt){var n=Ki,r=Gi;n=(r&~(1<<32-Ls(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=gh++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=G3++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Z3={readContext:gs,useCallback:nR,useContext:gs,useEffect:Lb,useImperativeHandle:tR,useInsertionEffect:ZI,useLayoutEffect:JI,useMemo:rR,useReducer:qy,useRef:XI,useState:function(){return qy(vh)},useDebugValue:Fb,useDeferredValue:function(t){var e=vs();return sR(e,Nn.memoizedState,t)},useTransition:function(){var t=qy(vh)[0],e=vs().memoizedState;return[t,e]},useMutableSource:WI,useSyncExternalStore:HI,useId:iR,unstable_isNewReconciler:!1},J3={readContext:gs,useCallback:nR,useContext:gs,useEffect:Lb,useImperativeHandle:tR,useInsertionEffect:ZI,useLayoutEffect:JI,useMemo:rR,useReducer:Gy,useRef:XI,useState:function(){return Gy(vh)},useDebugValue:Fb,useDeferredValue:function(t){var e=vs();return Nn===null?e.memoizedState=t:sR(e,Nn.memoizedState,t)},useTransition:function(){var t=Gy(vh)[0],e=vs().memoizedState;return[t,e]},useMutableSource:WI,useSyncExternalStore:HI,useId:iR,unstable_isNewReconciler:!1};function js(t,e){if(t&&t.defaultProps){e=Xt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function yw(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Xt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Wg={isMounted:function(t){return(t=t._reactInternals)?Yl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=yr(),s=oa(t),i=Xi(r,s);i.payload=e,n!=null&&(i.callback=n),e=sa(t,i,s),e!==null&&(Fs(e,t,s,r),Bm(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=yr(),s=oa(t),i=Xi(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=sa(t,i,s),e!==null&&(Fs(e,t,s,r),Bm(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=yr(),r=oa(t),s=Xi(n,r);s.tag=2,e!=null&&(s.callback=e),e=sa(t,s,r),e!==null&&(Fs(e,t,r,n),Bm(e,t,r))}};function lS(t,e,n,r,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!uh(n,r)||!uh(s,i):!0}function cR(t,e,n){var r=!1,s=wa,i=e.contextType;return typeof i=="object"&&i!==null?i=gs(i):(s=Fr(e)?El:ur.current,r=e.contextTypes,i=(r=r!=null)?lu(t,s):wa),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Wg,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function cS(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Wg.enqueueReplaceState(e,e.state,null)}function xw(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Ib(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=gs(i):(i=Fr(e)?El:ur.current,s.context=lu(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(yw(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Wg.enqueueReplaceState(s,s.state,null),Tp(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function hu(t,e){try{var n="",r=e;do n+=C5(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Ky(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ww(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var e6=typeof WeakMap=="function"?WeakMap:Map;function uR(t,e,n){n=Xi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Dp||(Dp=!0,Iw=r),ww(t,e)},n}function dR(t,e,n){n=Xi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){ww(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ww(t,e),typeof r!="function"&&(ia===null?ia=new Set([this]):ia.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function uS(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new e6;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=m6.bind(null,t,e,n),e.then(t,t))}function dS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function hS(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Xi(-1,1),e.tag=2,sa(n,e,1))),n.lanes|=1),t)}var t6=go.ReactCurrentOwner,Or=!1;function mr(t,e,n,r){e.child=t===null?UI(e,null,n,r):uu(e,t.child,n,r)}function fS(t,e,n,r,s){n=n.render;var i=e.ref;return $c(e,s),r=Ob(t,e,n,r,i,s),n=Mb(),t!==null&&!Or?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,so(t,e,s)):(qt&&n&&Eb(e),e.flags|=1,mr(t,e,r,s),e.child)}function mS(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!qb(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,hR(t,e,i,r,s)):(t=Km(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:uh,n(a,r)&&t.ref===e.ref)return so(t,e,s)}return e.flags|=1,t=aa(i,r),t.ref=e.ref,t.return=e,e.child=t}function hR(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(uh(i,r)&&t.ref===e.ref)if(Or=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Or=!0);else return e.lanes=t.lanes,so(t,e,s)}return bw(t,e,n,r,s)}function fR(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ft(Dc,qr),qr|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ft(Dc,qr),qr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ft(Dc,qr),qr|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ft(Dc,qr),qr|=r;return mr(t,e,s,n),e.child}function mR(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function bw(t,e,n,r,s){var i=Fr(n)?El:ur.current;return i=lu(e,i),$c(e,s),n=Ob(t,e,n,r,i,s),r=Mb(),t!==null&&!Or?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,so(t,e,s)):(qt&&r&&Eb(e),e.flags|=1,mr(t,e,n,s),e.child)}function pS(t,e,n,r,s){if(Fr(n)){var i=!0;Np(e)}else i=!1;if($c(e,s),e.stateNode===null)Hm(t,e),cR(e,n,r),xw(e,n,r,s),r=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=gs(u):(u=Fr(n)?El:ur.current,u=lu(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==u)&&cS(e,a,r,u),Oo=!1;var p=e.memoizedState;a.state=p,Tp(e,r,a,s),c=e.memoizedState,l!==r||p!==c||Lr.current||Oo?(typeof d=="function"&&(yw(e,n,d,r),c=e.memoizedState),(l=Oo||lS(e,n,l,r,p,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,BI(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:js(e.type,l),a.props=u,f=e.pendingProps,p=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=gs(c):(c=Fr(n)?El:ur.current,c=lu(e,c));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||p!==c)&&cS(e,a,r,c),Oo=!1,p=e.memoizedState,a.state=p,Tp(e,r,a,s);var b=e.memoizedState;l!==f||p!==b||Lr.current||Oo?(typeof g=="function"&&(yw(e,n,g,r),b=e.memoizedState),(u=Oo||lS(e,n,u,r,p,b,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,b,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,b,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=b),a.props=r,a.state=b,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return _w(t,e,n,r,i,s)}function _w(t,e,n,r,s,i){mR(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&eS(e,n,!1),so(t,e,i);r=e.stateNode,t6.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=uu(e,t.child,null,i),e.child=uu(e,null,l,i)):mr(t,e,l,i),e.memoizedState=r.state,s&&eS(e,n,!0),e.child}function pR(t){var e=t.stateNode;e.pendingContext?JN(t,e.pendingContext,e.pendingContext!==e.context):e.context&&JN(t,e.context,!1),Rb(t,e.containerInfo)}function gS(t,e,n,r,s){return cu(),Sb(s),e.flags|=256,mr(t,e,n,r),e.child}var Ew={dehydrated:null,treeContext:null,retryLane:0};function Nw(t){return{baseLanes:t,cachePool:null,transitions:null}}function gR(t,e,n){var r=e.pendingProps,s=Kt.current,i=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ft(Kt,s&1),t===null)return gw(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Gg(a,r,0,null),t=wl(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Nw(n),e.memoizedState=Ew,t):Vb(e,a));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return n6(t,e,a,r,l,s,n);if(i){i=r.fallback,a=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=aa(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=aa(l,i):(i=wl(i,a,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=t.child.memoizedState,a=a===null?Nw(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~n,e.memoizedState=Ew,r}return i=t.child,t=i.sibling,r=aa(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Vb(t,e){return e=Gg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function pm(t,e,n,r){return r!==null&&Sb(r),uu(e,t.child,null,n),t=Vb(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function n6(t,e,n,r,s,i,a){if(n)return e.flags&256?(e.flags&=-257,r=Ky(Error(ve(422))),pm(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Gg({mode:"visible",children:r.children},s,0,null),i=wl(i,s,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&uu(e,t.child,null,a),e.child.memoizedState=Nw(a),e.memoizedState=Ew,i);if(!(e.mode&1))return pm(t,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(ve(419)),r=Ky(i,r,void 0),pm(t,e,a,r)}if(l=(a&t.childLanes)!==0,Or||l){if(r=On,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ro(t,s),Fs(r,t,s,-1))}return Hb(),r=Ky(Error(ve(421))),pm(t,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=p6.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Xr=ra(s.nextSibling),Jr=e,qt=!0,Rs=null,t!==null&&(ls[cs++]=Gi,ls[cs++]=Ki,ls[cs++]=Nl,Gi=t.id,Ki=t.overflow,Nl=e),e=Vb(e,r.children),e.flags|=4096,e)}function vS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),vw(t.return,e,n)}function Yy(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function vR(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(mr(t,e,r.children,n),r=Kt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&vS(t,n,e);else if(t.tag===19)vS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ft(Kt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Ip(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Yy(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Ip(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Yy(e,!0,n,null,i);break;case"together":Yy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Hm(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function so(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),jl|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ve(153));if(e.child!==null){for(t=e.child,n=aa(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=aa(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function r6(t,e,n){switch(e.tag){case 3:pR(e),cu();break;case 5:zI(e);break;case 1:Fr(e.type)&&Np(e);break;case 4:Rb(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ft(Cp,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ft(Kt,Kt.current&1),e.flags|=128,null):n&e.child.childLanes?gR(t,e,n):(Ft(Kt,Kt.current&1),t=so(t,e,n),t!==null?t.sibling:null);Ft(Kt,Kt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return vR(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ft(Kt,Kt.current),r)break;return null;case 22:case 23:return e.lanes=0,fR(t,e,n)}return so(t,e,n)}var yR,Sw,xR,wR;yR=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Sw=function(){};xR=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,ul(gi.current);var i=null;switch(n){case"input":s=Gx(t,s),r=Gx(t,r),i=[];break;case"select":s=Xt({},s,{value:void 0}),r=Xt({},r,{value:void 0}),i=[];break;case"textarea":s=Qx(t,s),r=Qx(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=_p)}Zx(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(rh.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(rh.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&zt("scroll",t),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};wR=function(t,e,n,r){n!==r&&(e.flags|=4)};function fd(t,e){if(!qt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Xn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function s6(t,e,n){var r=e.pendingProps;switch(Nb(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xn(e),null;case 1:return Fr(e.type)&&Ep(),Xn(e),null;case 3:return r=e.stateNode,du(),Wt(Lr),Wt(ur),Ab(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(fm(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Rs!==null&&(Aw(Rs),Rs=null))),Sw(t,e),Xn(e),null;case 5:Pb(e);var s=ul(ph.current);if(n=e.type,t!==null&&e.stateNode!=null)xR(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ve(166));return Xn(e),null}if(t=ul(gi.current),fm(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[ui]=e,r[fh]=i,t=(e.mode&1)!==0,n){case"dialog":zt("cancel",r),zt("close",r);break;case"iframe":case"object":case"embed":zt("load",r);break;case"video":case"audio":for(s=0;s<Cd.length;s++)zt(Cd[s],r);break;case"source":zt("error",r);break;case"img":case"image":case"link":zt("error",r),zt("load",r);break;case"details":zt("toggle",r);break;case"input":jN(r,i),zt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},zt("invalid",r);break;case"textarea":kN(r,i),zt("invalid",r)}Zx(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&hm(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&hm(r.textContent,l,t),s=["children",""+l]):rh.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&zt("scroll",r)}switch(n){case"input":sm(r),CN(r,i,!0);break;case"textarea":sm(r),TN(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=_p)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=KT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[ui]=e,t[fh]=r,yR(t,e,!1,!1),e.stateNode=t;e:{switch(a=Jx(n,r),n){case"dialog":zt("cancel",t),zt("close",t),s=r;break;case"iframe":case"object":case"embed":zt("load",t),s=r;break;case"video":case"audio":for(s=0;s<Cd.length;s++)zt(Cd[s],t);s=r;break;case"source":zt("error",t),s=r;break;case"img":case"image":case"link":zt("error",t),zt("load",t),s=r;break;case"details":zt("toggle",t),s=r;break;case"input":jN(t,r),s=Gx(t,r),zt("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Xt({},r,{value:void 0}),zt("invalid",t);break;case"textarea":kN(t,r),s=Qx(t,r),zt("invalid",t);break;default:s=r}Zx(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?XT(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&YT(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&sh(t,c):typeof c=="number"&&sh(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(rh.hasOwnProperty(i)?c!=null&&i==="onScroll"&&zt("scroll",t):c!=null&&cb(t,i,c,a))}switch(n){case"input":sm(t),CN(t,r,!1);break;case"textarea":sm(t),TN(t);break;case"option":r.value!=null&&t.setAttribute("value",""+xa(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Lc(t,!!r.multiple,i,!1):r.defaultValue!=null&&Lc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=_p)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Xn(e),null;case 6:if(t&&e.stateNode!=null)wR(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ve(166));if(n=ul(ph.current),ul(gi.current),fm(e)){if(r=e.stateNode,n=e.memoizedProps,r[ui]=e,(i=r.nodeValue!==n)&&(t=Jr,t!==null))switch(t.tag){case 3:hm(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&hm(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ui]=e,e.stateNode=r}return Xn(e),null;case 13:if(Wt(Kt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(qt&&Xr!==null&&e.mode&1&&!(e.flags&128))FI(),cu(),e.flags|=98560,i=!1;else if(i=fm(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(ve(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ve(317));i[ui]=e}else cu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Xn(e),i=!1}else Rs!==null&&(Aw(Rs),Rs=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Kt.current&1?jn===0&&(jn=3):Hb())),e.updateQueue!==null&&(e.flags|=4),Xn(e),null);case 4:return du(),Sw(t,e),t===null&&dh(e.stateNode.containerInfo),Xn(e),null;case 10:return kb(e.type._context),Xn(e),null;case 17:return Fr(e.type)&&Ep(),Xn(e),null;case 19:if(Wt(Kt),i=e.memoizedState,i===null)return Xn(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)fd(i,!1);else{if(jn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Ip(t),a!==null){for(e.flags|=128,fd(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ft(Kt,Kt.current&1|2),e.child}t=t.sibling}i.tail!==null&&un()>fu&&(e.flags|=128,r=!0,fd(i,!1),e.lanes=4194304)}else{if(!r)if(t=Ip(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),fd(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!qt)return Xn(e),null}else 2*un()-i.renderingStartTime>fu&&n!==1073741824&&(e.flags|=128,r=!0,fd(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=un(),e.sibling=null,n=Kt.current,Ft(Kt,r?n&1|2:n&1),e):(Xn(e),null);case 22:case 23:return Wb(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?qr&1073741824&&(Xn(e),e.subtreeFlags&6&&(e.flags|=8192)):Xn(e),null;case 24:return null;case 25:return null}throw Error(ve(156,e.tag))}function i6(t,e){switch(Nb(e),e.tag){case 1:return Fr(e.type)&&Ep(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return du(),Wt(Lr),Wt(ur),Ab(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Pb(e),null;case 13:if(Wt(Kt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ve(340));cu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Wt(Kt),null;case 4:return du(),null;case 10:return kb(e.type._context),null;case 22:case 23:return Wb(),null;case 24:return null;default:return null}}var gm=!1,tr=!1,o6=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function Ac(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){rn(t,e,r)}else n.current=null}function jw(t,e,n){try{n()}catch(r){rn(t,e,r)}}var yS=!1;function a6(t,e){if(cw=xp,t=SI(),_b(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,f=t,p=null;t:for(;;){for(var g;f!==n||s!==0&&f.nodeType!==3||(l=a+s),f!==i||r!==0&&f.nodeType!==3||(c=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(g=f.firstChild)!==null;)p=f,f=g;for(;;){if(f===t)break t;if(p===n&&++u===s&&(l=a),p===i&&++d===r&&(c=a),(g=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=g}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(uw={focusedElem:t,selectionRange:n},xp=!1,Ae=e;Ae!==null;)if(e=Ae,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ae=t;else for(;Ae!==null;){e=Ae;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var y=b.memoizedProps,w=b.memoizedState,_=e.stateNode,x=_.getSnapshotBeforeUpdate(e.elementType===e.type?y:js(e.type,y),w);_.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ve(163))}}catch(j){rn(e,e.return,j)}if(t=e.sibling,t!==null){t.return=e.return,Ae=t;break}Ae=e.return}return b=yS,yS=!1,b}function zd(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&jw(e,n,i)}s=s.next}while(s!==r)}}function Hg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Cw(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function bR(t){var e=t.alternate;e!==null&&(t.alternate=null,bR(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ui],delete e[fh],delete e[fw],delete e[z3],delete e[W3])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function _R(t){return t.tag===5||t.tag===3||t.tag===4}function xS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||_R(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function kw(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=_p));else if(r!==4&&(t=t.child,t!==null))for(kw(t,e,n),t=t.sibling;t!==null;)kw(t,e,n),t=t.sibling}function Tw(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Tw(t,e,n),t=t.sibling;t!==null;)Tw(t,e,n),t=t.sibling}var Vn=null,Is=!1;function Co(t,e,n){for(n=n.child;n!==null;)ER(t,e,n),n=n.sibling}function ER(t,e,n){if(pi&&typeof pi.onCommitFiberUnmount=="function")try{pi.onCommitFiberUnmount(Lg,n)}catch{}switch(n.tag){case 5:tr||Ac(n,e);case 6:var r=Vn,s=Is;Vn=null,Co(t,e,n),Vn=r,Is=s,Vn!==null&&(Is?(t=Vn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Vn.removeChild(n.stateNode));break;case 18:Vn!==null&&(Is?(t=Vn,n=n.stateNode,t.nodeType===8?By(t.parentNode,n):t.nodeType===1&&By(t,n),lh(t)):By(Vn,n.stateNode));break;case 4:r=Vn,s=Is,Vn=n.stateNode.containerInfo,Is=!0,Co(t,e,n),Vn=r,Is=s;break;case 0:case 11:case 14:case 15:if(!tr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&jw(n,e,a),s=s.next}while(s!==r)}Co(t,e,n);break;case 1:if(!tr&&(Ac(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){rn(n,e,l)}Co(t,e,n);break;case 21:Co(t,e,n);break;case 22:n.mode&1?(tr=(r=tr)||n.memoizedState!==null,Co(t,e,n),tr=r):Co(t,e,n);break;default:Co(t,e,n)}}function wS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new o6),e.forEach(function(r){var s=g6.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Es(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:Vn=l.stateNode,Is=!1;break e;case 3:Vn=l.stateNode.containerInfo,Is=!0;break e;case 4:Vn=l.stateNode.containerInfo,Is=!0;break e}l=l.return}if(Vn===null)throw Error(ve(160));ER(i,a,s),Vn=null,Is=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){rn(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)NR(e,t),e=e.sibling}function NR(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Es(e,t),ri(t),r&4){try{zd(3,t,t.return),Hg(3,t)}catch(y){rn(t,t.return,y)}try{zd(5,t,t.return)}catch(y){rn(t,t.return,y)}}break;case 1:Es(e,t),ri(t),r&512&&n!==null&&Ac(n,n.return);break;case 5:if(Es(e,t),ri(t),r&512&&n!==null&&Ac(n,n.return),t.flags&32){var s=t.stateNode;try{sh(s,"")}catch(y){rn(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&qT(s,i),Jx(l,a);var u=Jx(l,i);for(a=0;a<c.length;a+=2){var d=c[a],f=c[a+1];d==="style"?XT(s,f):d==="dangerouslySetInnerHTML"?YT(s,f):d==="children"?sh(s,f):cb(s,d,f,u)}switch(l){case"input":Kx(s,i);break;case"textarea":GT(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Lc(s,!!i.multiple,g,!1):p!==!!i.multiple&&(i.defaultValue!=null?Lc(s,!!i.multiple,i.defaultValue,!0):Lc(s,!!i.multiple,i.multiple?[]:"",!1))}s[fh]=i}catch(y){rn(t,t.return,y)}}break;case 6:if(Es(e,t),ri(t),r&4){if(t.stateNode===null)throw Error(ve(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){rn(t,t.return,y)}}break;case 3:if(Es(e,t),ri(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{lh(e.containerInfo)}catch(y){rn(t,t.return,y)}break;case 4:Es(e,t),ri(t);break;case 13:Es(e,t),ri(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Bb=un())),r&4&&wS(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(tr=(u=tr)||d,Es(e,t),tr=u):Es(e,t),ri(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Ae=t,d=t.child;d!==null;){for(f=Ae=d;Ae!==null;){switch(p=Ae,g=p.child,p.tag){case 0:case 11:case 14:case 15:zd(4,p,p.return);break;case 1:Ac(p,p.return);var b=p.stateNode;if(typeof b.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(y){rn(r,n,y)}}break;case 5:Ac(p,p.return);break;case 22:if(p.memoizedState!==null){_S(f);continue}}g!==null?(g.return=p,Ae=g):_S(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=QT("display",a))}catch(y){rn(t,t.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){rn(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Es(e,t),ri(t),r&4&&wS(t);break;case 21:break;default:Es(e,t),ri(t)}}function ri(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(_R(n)){var r=n;break e}n=n.return}throw Error(ve(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(sh(s,""),r.flags&=-33);var i=xS(t);Tw(t,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=xS(t);kw(t,l,a);break;default:throw Error(ve(161))}}catch(c){rn(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function l6(t,e,n){Ae=t,SR(t)}function SR(t,e,n){for(var r=(t.mode&1)!==0;Ae!==null;){var s=Ae,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||gm;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||tr;l=gm;var u=tr;if(gm=a,(tr=c)&&!u)for(Ae=s;Ae!==null;)a=Ae,c=a.child,a.tag===22&&a.memoizedState!==null?ES(s):c!==null?(c.return=a,Ae=c):ES(s);for(;i!==null;)Ae=i,SR(i),i=i.sibling;Ae=s,gm=l,tr=u}bS(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Ae=i):bS(t)}}function bS(t){for(;Ae!==null;){var e=Ae;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:tr||Hg(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!tr)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:js(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&iS(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}iS(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&lh(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ve(163))}tr||e.flags&512&&Cw(e)}catch(p){rn(e,e.return,p)}}if(e===t){Ae=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ae=n;break}Ae=e.return}}function _S(t){for(;Ae!==null;){var e=Ae;if(e===t){Ae=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ae=n;break}Ae=e.return}}function ES(t){for(;Ae!==null;){var e=Ae;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Hg(4,e)}catch(c){rn(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){rn(e,s,c)}}var i=e.return;try{Cw(e)}catch(c){rn(e,i,c)}break;case 5:var a=e.return;try{Cw(e)}catch(c){rn(e,a,c)}}}catch(c){rn(e,e.return,c)}if(e===t){Ae=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Ae=l;break}Ae=e.return}}var c6=Math.ceil,Ap=go.ReactCurrentDispatcher,Ub=go.ReactCurrentOwner,hs=go.ReactCurrentBatchConfig,gt=0,On=null,pn=null,zn=0,qr=0,Dc=Ma(0),jn=0,xh=null,jl=0,qg=0,$b=0,Wd=null,Ar=null,Bb=0,fu=1/0,zi=null,Dp=!1,Iw=null,ia=null,vm=!1,Yo=null,Op=0,Hd=0,Rw=null,qm=-1,Gm=0;function yr(){return gt&6?un():qm!==-1?qm:qm=un()}function oa(t){return t.mode&1?gt&2&&zn!==0?zn&-zn:q3.transition!==null?(Gm===0&&(Gm=cI()),Gm):(t=Pt,t!==0||(t=window.event,t=t===void 0?16:gI(t.type)),t):1}function Fs(t,e,n,r){if(50<Hd)throw Hd=0,Rw=null,Error(ve(185));Qh(t,n,r),(!(gt&2)||t!==On)&&(t===On&&(!(gt&2)&&(qg|=n),jn===4&&Fo(t,zn)),Vr(t,r),n===1&&gt===0&&!(e.mode&1)&&(fu=un()+500,Bg&&La()))}function Vr(t,e){var n=t.callbackNode;q5(t,e);var r=yp(t,t===On?zn:0);if(r===0)n!==null&&PN(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&PN(n),e===1)t.tag===0?H3(NS.bind(null,t)):OI(NS.bind(null,t)),$3(function(){!(gt&6)&&La()}),n=null;else{switch(uI(r)){case 1:n=mb;break;case 4:n=aI;break;case 16:n=vp;break;case 536870912:n=lI;break;default:n=vp}n=AR(n,jR.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function jR(t,e){if(qm=-1,Gm=0,gt&6)throw Error(ve(327));var n=t.callbackNode;if(Bc()&&t.callbackNode!==n)return null;var r=yp(t,t===On?zn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Mp(t,r);else{e=r;var s=gt;gt|=2;var i=kR();(On!==t||zn!==e)&&(zi=null,fu=un()+500,xl(t,e));do try{h6();break}catch(l){CR(t,l)}while(!0);Cb(),Ap.current=i,gt=s,pn!==null?e=0:(On=null,zn=0,e=jn)}if(e!==0){if(e===2&&(s=sw(t),s!==0&&(r=s,e=Pw(t,s))),e===1)throw n=xh,xl(t,0),Fo(t,r),Vr(t,un()),n;if(e===6)Fo(t,r);else{if(s=t.current.alternate,!(r&30)&&!u6(s)&&(e=Mp(t,r),e===2&&(i=sw(t),i!==0&&(r=i,e=Pw(t,i))),e===1))throw n=xh,xl(t,0),Fo(t,r),Vr(t,un()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(ve(345));case 2:nl(t,Ar,zi);break;case 3:if(Fo(t,r),(r&130023424)===r&&(e=Bb+500-un(),10<e)){if(yp(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){yr(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=hw(nl.bind(null,t,Ar,zi),e);break}nl(t,Ar,zi);break;case 4:if(Fo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var a=31-Ls(r);i=1<<a,a=e[a],a>s&&(s=a),r&=~i}if(r=s,r=un()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*c6(r/1960))-r,10<r){t.timeoutHandle=hw(nl.bind(null,t,Ar,zi),r);break}nl(t,Ar,zi);break;case 5:nl(t,Ar,zi);break;default:throw Error(ve(329))}}}return Vr(t,un()),t.callbackNode===n?jR.bind(null,t):null}function Pw(t,e){var n=Wd;return t.current.memoizedState.isDehydrated&&(xl(t,e).flags|=256),t=Mp(t,e),t!==2&&(e=Ar,Ar=n,e!==null&&Aw(e)),t}function Aw(t){Ar===null?Ar=t:Ar.push.apply(Ar,t)}function u6(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!$s(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Fo(t,e){for(e&=~$b,e&=~qg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ls(e),r=1<<n;t[n]=-1,e&=~r}}function NS(t){if(gt&6)throw Error(ve(327));Bc();var e=yp(t,0);if(!(e&1))return Vr(t,un()),null;var n=Mp(t,e);if(t.tag!==0&&n===2){var r=sw(t);r!==0&&(e=r,n=Pw(t,r))}if(n===1)throw n=xh,xl(t,0),Fo(t,e),Vr(t,un()),n;if(n===6)throw Error(ve(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,nl(t,Ar,zi),Vr(t,un()),null}function zb(t,e){var n=gt;gt|=1;try{return t(e)}finally{gt=n,gt===0&&(fu=un()+500,Bg&&La())}}function Cl(t){Yo!==null&&Yo.tag===0&&!(gt&6)&&Bc();var e=gt;gt|=1;var n=hs.transition,r=Pt;try{if(hs.transition=null,Pt=1,t)return t()}finally{Pt=r,hs.transition=n,gt=e,!(gt&6)&&La()}}function Wb(){qr=Dc.current,Wt(Dc)}function xl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,U3(n)),pn!==null)for(n=pn.return;n!==null;){var r=n;switch(Nb(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ep();break;case 3:du(),Wt(Lr),Wt(ur),Ab();break;case 5:Pb(r);break;case 4:du();break;case 13:Wt(Kt);break;case 19:Wt(Kt);break;case 10:kb(r.type._context);break;case 22:case 23:Wb()}n=n.return}if(On=t,pn=t=aa(t.current,null),zn=qr=e,jn=0,xh=null,$b=qg=jl=0,Ar=Wd=null,cl!==null){for(e=0;e<cl.length;e++)if(n=cl[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}cl=null}return t}function CR(t,e){do{var n=pn;try{if(Cb(),zm.current=Pp,Rp){for(var r=Qt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Rp=!1}if(Sl=0,Pn=Nn=Qt=null,Bd=!1,gh=0,Ub.current=null,n===null||n.return===null){jn=1,xh=e,pn=null;break}e:{var i=t,a=n.return,l=n,c=e;if(e=zn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=dS(a);if(g!==null){g.flags&=-257,hS(g,a,l,i,e),g.mode&1&&uS(i,u,e),e=g,c=u;var b=e.updateQueue;if(b===null){var y=new Set;y.add(c),e.updateQueue=y}else b.add(c);break e}else{if(!(e&1)){uS(i,u,e),Hb();break e}c=Error(ve(426))}}else if(qt&&l.mode&1){var w=dS(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),hS(w,a,l,i,e),Sb(hu(c,l));break e}}i=c=hu(c,l),jn!==4&&(jn=2),Wd===null?Wd=[i]:Wd.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var _=uR(i,c,e);sS(i,_);break e;case 1:l=c;var x=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(ia===null||!ia.has(v)))){i.flags|=65536,e&=-e,i.lanes|=e;var j=dR(i,l,e);sS(i,j);break e}}i=i.return}while(i!==null)}IR(n)}catch(P){e=P,pn===n&&n!==null&&(pn=n=n.return);continue}break}while(!0)}function kR(){var t=Ap.current;return Ap.current=Pp,t===null?Pp:t}function Hb(){(jn===0||jn===3||jn===2)&&(jn=4),On===null||!(jl&268435455)&&!(qg&268435455)||Fo(On,zn)}function Mp(t,e){var n=gt;gt|=2;var r=kR();(On!==t||zn!==e)&&(zi=null,xl(t,e));do try{d6();break}catch(s){CR(t,s)}while(!0);if(Cb(),gt=n,Ap.current=r,pn!==null)throw Error(ve(261));return On=null,zn=0,jn}function d6(){for(;pn!==null;)TR(pn)}function h6(){for(;pn!==null&&!L5();)TR(pn)}function TR(t){var e=PR(t.alternate,t,qr);t.memoizedProps=t.pendingProps,e===null?IR(t):pn=e,Ub.current=null}function IR(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=i6(n,e),n!==null){n.flags&=32767,pn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{jn=6,pn=null;return}}else if(n=s6(n,e,qr),n!==null){pn=n;return}if(e=e.sibling,e!==null){pn=e;return}pn=e=t}while(e!==null);jn===0&&(jn=5)}function nl(t,e,n){var r=Pt,s=hs.transition;try{hs.transition=null,Pt=1,f6(t,e,n,r)}finally{hs.transition=s,Pt=r}return null}function f6(t,e,n,r){do Bc();while(Yo!==null);if(gt&6)throw Error(ve(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ve(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(G5(t,i),t===On&&(pn=On=null,zn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||vm||(vm=!0,AR(vp,function(){return Bc(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=hs.transition,hs.transition=null;var a=Pt;Pt=1;var l=gt;gt|=4,Ub.current=null,a6(t,n),NR(n,t),A3(uw),xp=!!cw,uw=cw=null,t.current=n,l6(n),F5(),gt=l,Pt=a,hs.transition=i}else t.current=n;if(vm&&(vm=!1,Yo=t,Op=s),i=t.pendingLanes,i===0&&(ia=null),$5(n.stateNode),Vr(t,un()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Dp)throw Dp=!1,t=Iw,Iw=null,t;return Op&1&&t.tag!==0&&Bc(),i=t.pendingLanes,i&1?t===Rw?Hd++:(Hd=0,Rw=t):Hd=0,La(),null}function Bc(){if(Yo!==null){var t=uI(Op),e=hs.transition,n=Pt;try{if(hs.transition=null,Pt=16>t?16:t,Yo===null)var r=!1;else{if(t=Yo,Yo=null,Op=0,gt&6)throw Error(ve(331));var s=gt;for(gt|=4,Ae=t.current;Ae!==null;){var i=Ae,a=i.child;if(Ae.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Ae=u;Ae!==null;){var d=Ae;switch(d.tag){case 0:case 11:case 15:zd(8,d,i)}var f=d.child;if(f!==null)f.return=d,Ae=f;else for(;Ae!==null;){d=Ae;var p=d.sibling,g=d.return;if(bR(d),d===u){Ae=null;break}if(p!==null){p.return=g,Ae=p;break}Ae=g}}}var b=i.alternate;if(b!==null){var y=b.child;if(y!==null){b.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}Ae=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,Ae=a;else e:for(;Ae!==null;){if(i=Ae,i.flags&2048)switch(i.tag){case 0:case 11:case 15:zd(9,i,i.return)}var _=i.sibling;if(_!==null){_.return=i.return,Ae=_;break e}Ae=i.return}}var x=t.current;for(Ae=x;Ae!==null;){a=Ae;var v=a.child;if(a.subtreeFlags&2064&&v!==null)v.return=a,Ae=v;else e:for(a=x;Ae!==null;){if(l=Ae,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Hg(9,l)}}catch(P){rn(l,l.return,P)}if(l===a){Ae=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,Ae=j;break e}Ae=l.return}}if(gt=s,La(),pi&&typeof pi.onPostCommitFiberRoot=="function")try{pi.onPostCommitFiberRoot(Lg,t)}catch{}r=!0}return r}finally{Pt=n,hs.transition=e}}return!1}function SS(t,e,n){e=hu(n,e),e=uR(t,e,1),t=sa(t,e,1),e=yr(),t!==null&&(Qh(t,1,e),Vr(t,e))}function rn(t,e,n){if(t.tag===3)SS(t,t,n);else for(;e!==null;){if(e.tag===3){SS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ia===null||!ia.has(r))){t=hu(n,t),t=dR(e,t,1),e=sa(e,t,1),t=yr(),e!==null&&(Qh(e,1,t),Vr(e,t));break}}e=e.return}}function m6(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=yr(),t.pingedLanes|=t.suspendedLanes&n,On===t&&(zn&n)===n&&(jn===4||jn===3&&(zn&130023424)===zn&&500>un()-Bb?xl(t,0):$b|=n),Vr(t,e)}function RR(t,e){e===0&&(t.mode&1?(e=am,am<<=1,!(am&130023424)&&(am=4194304)):e=1);var n=yr();t=ro(t,e),t!==null&&(Qh(t,e,n),Vr(t,n))}function p6(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),RR(t,n)}function g6(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ve(314))}r!==null&&r.delete(e),RR(t,n)}var PR;PR=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Lr.current)Or=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Or=!1,r6(t,e,n);Or=!!(t.flags&131072)}else Or=!1,qt&&e.flags&1048576&&MI(e,jp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Hm(t,e),t=e.pendingProps;var s=lu(e,ur.current);$c(e,n),s=Ob(null,e,r,t,s,n);var i=Mb();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Fr(r)?(i=!0,Np(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ib(e),s.updater=Wg,e.stateNode=s,s._reactInternals=e,xw(e,r,t,n),e=_w(null,e,r,!0,i,n)):(e.tag=0,qt&&i&&Eb(e),mr(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Hm(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=y6(r),t=js(r,t),s){case 0:e=bw(null,e,r,t,n);break e;case 1:e=pS(null,e,r,t,n);break e;case 11:e=fS(null,e,r,t,n);break e;case 14:e=mS(null,e,r,js(r.type,t),n);break e}throw Error(ve(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:js(r,s),bw(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:js(r,s),pS(t,e,r,s,n);case 3:e:{if(pR(e),t===null)throw Error(ve(387));r=e.pendingProps,i=e.memoizedState,s=i.element,BI(t,e),Tp(e,r,null,n);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=hu(Error(ve(423)),e),e=gS(t,e,r,n,s);break e}else if(r!==s){s=hu(Error(ve(424)),e),e=gS(t,e,r,n,s);break e}else for(Xr=ra(e.stateNode.containerInfo.firstChild),Jr=e,qt=!0,Rs=null,n=UI(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(cu(),r===s){e=so(t,e,n);break e}mr(t,e,r,n)}e=e.child}return e;case 5:return zI(e),t===null&&gw(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,dw(r,s)?a=null:i!==null&&dw(r,i)&&(e.flags|=32),mR(t,e),mr(t,e,a,n),e.child;case 6:return t===null&&gw(e),null;case 13:return gR(t,e,n);case 4:return Rb(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=uu(e,null,r,n):mr(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:js(r,s),fS(t,e,r,s,n);case 7:return mr(t,e,e.pendingProps,n),e.child;case 8:return mr(t,e,e.pendingProps.children,n),e.child;case 12:return mr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,Ft(Cp,r._currentValue),r._currentValue=a,i!==null)if($s(i.value,a)){if(i.children===s.children&&!Lr.current){e=so(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Xi(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),vw(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(ve(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),vw(a,n,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}mr(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,$c(e,n),s=gs(s),r=r(s),e.flags|=1,mr(t,e,r,n),e.child;case 14:return r=e.type,s=js(r,e.pendingProps),s=js(r.type,s),mS(t,e,r,s,n);case 15:return hR(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:js(r,s),Hm(t,e),e.tag=1,Fr(r)?(t=!0,Np(e)):t=!1,$c(e,n),cR(e,r,s),xw(e,r,s,n),_w(null,e,r,!0,t,n);case 19:return vR(t,e,n);case 22:return fR(t,e,n)}throw Error(ve(156,e.tag))};function AR(t,e){return oI(t,e)}function v6(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function us(t,e,n,r){return new v6(t,e,n,r)}function qb(t){return t=t.prototype,!(!t||!t.isReactComponent)}function y6(t){if(typeof t=="function")return qb(t)?1:0;if(t!=null){if(t=t.$$typeof,t===db)return 11;if(t===hb)return 14}return 2}function aa(t,e){var n=t.alternate;return n===null?(n=us(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Km(t,e,n,r,s,i){var a=2;if(r=t,typeof t=="function")qb(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Nc:return wl(n.children,s,i,e);case ub:a=8,s|=8;break;case zx:return t=us(12,n,e,s|2),t.elementType=zx,t.lanes=i,t;case Wx:return t=us(13,n,e,s),t.elementType=Wx,t.lanes=i,t;case Hx:return t=us(19,n,e,s),t.elementType=Hx,t.lanes=i,t;case zT:return Gg(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $T:a=10;break e;case BT:a=9;break e;case db:a=11;break e;case hb:a=14;break e;case Do:a=16,r=null;break e}throw Error(ve(130,t==null?t:typeof t,""))}return e=us(a,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function wl(t,e,n,r){return t=us(7,t,r,e),t.lanes=n,t}function Gg(t,e,n,r){return t=us(22,t,r,e),t.elementType=zT,t.lanes=n,t.stateNode={isHidden:!1},t}function Qy(t,e,n){return t=us(6,t,null,e),t.lanes=n,t}function Xy(t,e,n){return e=us(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function x6(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ry(0),this.expirationTimes=Ry(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ry(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Gb(t,e,n,r,s,i,a,l,c){return t=new x6(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=us(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ib(i),t}function w6(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ec,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function DR(t){if(!t)return wa;t=t._reactInternals;e:{if(Yl(t)!==t||t.tag!==1)throw Error(ve(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Fr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ve(171))}if(t.tag===1){var n=t.type;if(Fr(n))return DI(t,n,e)}return e}function OR(t,e,n,r,s,i,a,l,c){return t=Gb(n,r,!0,t,s,i,a,l,c),t.context=DR(null),n=t.current,r=yr(),s=oa(n),i=Xi(r,s),i.callback=e??null,sa(n,i,s),t.current.lanes=s,Qh(t,s,r),Vr(t,r),t}function Kg(t,e,n,r){var s=e.current,i=yr(),a=oa(s);return n=DR(n),e.context===null?e.context=n:e.pendingContext=n,e=Xi(i,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=sa(s,e,a),t!==null&&(Fs(t,s,a,i),Bm(t,s,a)),a}function Lp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function jS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Kb(t,e){jS(t,e),(t=t.alternate)&&jS(t,e)}function b6(){return null}var MR=typeof reportError=="function"?reportError:function(t){console.error(t)};function Yb(t){this._internalRoot=t}Yg.prototype.render=Yb.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ve(409));Kg(t,e,null,null)};Yg.prototype.unmount=Yb.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Cl(function(){Kg(null,t,null,null)}),e[no]=null}};function Yg(t){this._internalRoot=t}Yg.prototype.unstable_scheduleHydration=function(t){if(t){var e=fI();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Lo.length&&e!==0&&e<Lo[n].priority;n++);Lo.splice(n,0,t),n===0&&pI(t)}};function Qb(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Qg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function CS(){}function _6(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Lp(a);i.call(u)}}var a=OR(e,r,t,0,null,!1,!1,"",CS);return t._reactRootContainer=a,t[no]=a.current,dh(t.nodeType===8?t.parentNode:t),Cl(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Lp(c);l.call(u)}}var c=Gb(t,0,!1,null,null,!1,!1,"",CS);return t._reactRootContainer=c,t[no]=c.current,dh(t.nodeType===8?t.parentNode:t),Cl(function(){Kg(e,c,n,r)}),c}function Xg(t,e,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=Lp(a);l.call(c)}}Kg(e,a,t,s)}else a=_6(n,e,t,s,r);return Lp(a)}dI=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=jd(e.pendingLanes);n!==0&&(pb(e,n|1),Vr(e,un()),!(gt&6)&&(fu=un()+500,La()))}break;case 13:Cl(function(){var r=ro(t,1);if(r!==null){var s=yr();Fs(r,t,1,s)}}),Kb(t,1)}};gb=function(t){if(t.tag===13){var e=ro(t,134217728);if(e!==null){var n=yr();Fs(e,t,134217728,n)}Kb(t,134217728)}};hI=function(t){if(t.tag===13){var e=oa(t),n=ro(t,e);if(n!==null){var r=yr();Fs(n,t,e,r)}Kb(t,e)}};fI=function(){return Pt};mI=function(t,e){var n=Pt;try{return Pt=t,e()}finally{Pt=n}};tw=function(t,e,n){switch(e){case"input":if(Kx(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=$g(r);if(!s)throw Error(ve(90));HT(r),Kx(r,s)}}}break;case"textarea":GT(t,n);break;case"select":e=n.value,e!=null&&Lc(t,!!n.multiple,e,!1)}};eI=zb;tI=Cl;var E6={usingClientEntryPoint:!1,Events:[Zh,kc,$g,ZT,JT,zb]},md={findFiberByHostInstance:ll,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},N6={bundleType:md.bundleType,version:md.version,rendererPackageName:md.rendererPackageName,rendererConfig:md.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:go.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=sI(t),t===null?null:t.stateNode},findFiberByHostInstance:md.findFiberByHostInstance||b6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ym=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ym.isDisabled&&ym.supportsFiber)try{Lg=ym.inject(N6),pi=ym}catch{}}ss.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=E6;ss.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qb(e))throw Error(ve(200));return w6(t,e,null,n)};ss.createRoot=function(t,e){if(!Qb(t))throw Error(ve(299));var n=!1,r="",s=MR;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Gb(t,1,!1,null,null,n,!1,r,s),t[no]=e.current,dh(t.nodeType===8?t.parentNode:t),new Yb(e)};ss.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ve(188)):(t=Object.keys(t).join(","),Error(ve(268,t)));return t=sI(e),t=t===null?null:t.stateNode,t};ss.flushSync=function(t){return Cl(t)};ss.hydrate=function(t,e,n){if(!Qg(e))throw Error(ve(200));return Xg(null,t,e,!0,n)};ss.hydrateRoot=function(t,e,n){if(!Qb(t))throw Error(ve(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=MR;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=OR(e,null,t,1,n??null,s,!1,i,a),t[no]=e.current,dh(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Yg(e)};ss.render=function(t,e,n){if(!Qg(e))throw Error(ve(200));return Xg(null,t,e,!1,n)};ss.unmountComponentAtNode=function(t){if(!Qg(t))throw Error(ve(40));return t._reactRootContainer?(Cl(function(){Xg(null,null,t,!1,function(){t._reactRootContainer=null,t[no]=null})}),!0):!1};ss.unstable_batchedUpdates=zb;ss.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Qg(n))throw Error(ve(200));if(t==null||t._reactInternals===void 0)throw Error(ve(38));return Xg(t,e,n,!1,r)};ss.version="18.3.1-next-f1338f8080-20240426";function LR(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(LR)}catch(t){console.error(t)}}LR(),LT.exports=ss;var Ql=LT.exports;const FR=ST(Ql);var VR,kS=Ql;VR=kS.createRoot,kS.hydrateRoot;const S6=1,j6=1e6;let Zy=0;function C6(){return Zy=(Zy+1)%Number.MAX_SAFE_INTEGER,Zy.toString()}const Jy=new Map,TS=t=>{if(Jy.has(t))return;const e=setTimeout(()=>{Jy.delete(t),qd({type:"REMOVE_TOAST",toastId:t})},j6);Jy.set(t,e)},k6=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,S6)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?TS(n):t.toasts.forEach(r=>{TS(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Ym=[];let Qm={toasts:[]};function qd(t){Qm=k6(Qm,t),Ym.forEach(e=>{e(Qm)})}function T6({...t}){const e=C6(),n=s=>qd({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>qd({type:"DISMISS_TOAST",toastId:e});return qd({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function I6(){const[t,e]=m.useState(Qm);return m.useEffect(()=>(Ym.push(e),()=>{const n=Ym.indexOf(e);n>-1&&Ym.splice(n,1)}),[t]),{...t,toast:T6,dismiss:n=>qd({type:"DISMISS_TOAST",toastId:n})}}function xe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function IS(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function io(...t){return e=>{let n=!1;const r=t.map(s=>{const i=IS(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():IS(t[s],null)}}}}function Ze(...t){return m.useCallback(io(...t),t)}function R6(t,e){const n=m.createContext(e),r=i=>{const{children:a,...l}=i,c=m.useMemo(()=>l,Object.values(l));return o.jsx(n.Provider,{value:c,children:a})};r.displayName=t+"Provider";function s(i){const a=m.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Kn(t,e=[]){let n=[];function r(i,a){const l=m.createContext(a),c=n.length;n=[...n,a];const u=f=>{var _;const{scope:p,children:g,...b}=f,y=((_=p==null?void 0:p[t])==null?void 0:_[c])||l,w=m.useMemo(()=>b,Object.values(b));return o.jsx(y.Provider,{value:w,children:g})};u.displayName=i+"Provider";function d(f,p){var y;const g=((y=p==null?void 0:p[t])==null?void 0:y[c])||l,b=m.useContext(g);if(b)return b;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(a=>m.createContext(a));return function(l){const c=(l==null?void 0:l[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[r,P6(s,...e)]}function P6(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function ba(t){const e=A6(t),n=m.forwardRef((r,s)=>{const{children:i,...a}=r,l=m.Children.toArray(i),c=l.find(D6);if(c){const u=c.props.children,d=l.map(f=>f===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:f);return o.jsx(e,{...a,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,d):null})}return o.jsx(e,{...a,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var UR=ba("Slot");function A6(t){const e=m.forwardRef((n,r)=>{const{children:s,...i}=n;if(m.isValidElement(s)){const a=M6(s),l=O6(i,s.props);return s.type!==m.Fragment&&(l.ref=r?io(r,a):a),m.cloneElement(s,l)}return m.Children.count(s)>1?m.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var $R=Symbol("radix.slottable");function BR(t){const e=({children:n})=>o.jsx(o.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=$R,e}function D6(t){return m.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===$R}function O6(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function M6(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Zg(t){const e=t+"CollectionProvider",[n,r]=Kn(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=y=>{const{scope:w,children:_}=y,x=ee.useRef(null),v=ee.useRef(new Map).current;return o.jsx(s,{scope:w,itemMap:v,collectionRef:x,children:_})};a.displayName=e;const l=t+"CollectionSlot",c=ba(l),u=ee.forwardRef((y,w)=>{const{scope:_,children:x}=y,v=i(l,_),j=Ze(w,v.collectionRef);return o.jsx(c,{ref:j,children:x})});u.displayName=l;const d=t+"CollectionItemSlot",f="data-radix-collection-item",p=ba(d),g=ee.forwardRef((y,w)=>{const{scope:_,children:x,...v}=y,j=ee.useRef(null),P=Ze(w,j),D=i(d,_);return ee.useEffect(()=>(D.itemMap.set(j,{ref:j,...v}),()=>void D.itemMap.delete(j))),o.jsx(p,{[f]:"",ref:P,children:x})});g.displayName=d;function b(y){const w=i(t+"CollectionConsumer",y);return ee.useCallback(()=>{const x=w.collectionRef.current;if(!x)return[];const v=Array.from(x.querySelectorAll(`[${f}]`));return Array.from(w.itemMap.values()).sort((D,S)=>v.indexOf(D.ref.current)-v.indexOf(S.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:a,Slot:u,ItemSlot:g},b,r]}var L6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ke=L6.reduce((t,e)=>{const n=ba(`Primitive.${e}`),r=m.forwardRef((s,i)=>{const{asChild:a,...l}=s,c=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Xb(t,e){t&&Ql.flushSync(()=>t.dispatchEvent(e))}function sn(t){const e=m.useRef(t);return m.useEffect(()=>{e.current=t}),m.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function F6(t,e=globalThis==null?void 0:globalThis.document){const n=sn(t);m.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var V6="DismissableLayer",Dw="dismissableLayer.update",U6="dismissableLayer.pointerDownOutside",$6="dismissableLayer.focusOutside",RS,zR=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Xl=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:l,...c}=t,u=m.useContext(zR),[d,f]=m.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),b=Ze(e,S=>f(S)),y=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),_=y.indexOf(w),x=d?y.indexOf(d):-1,v=u.layersWithOutsidePointerEventsDisabled.size>0,j=x>=_,P=z6(S=>{const N=S.target,T=[...u.branches].some(k=>k.contains(N));!j||T||(s==null||s(S),a==null||a(S),S.defaultPrevented||l==null||l())},p),D=W6(S=>{const N=S.target;[...u.branches].some(k=>k.contains(N))||(i==null||i(S),a==null||a(S),S.defaultPrevented||l==null||l())},p);return F6(S=>{x===u.layers.size-1&&(r==null||r(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},p),m.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(RS=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),PS(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=RS)}},[d,p,n,u]),m.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),PS())},[d,u]),m.useEffect(()=>{const S=()=>g({});return document.addEventListener(Dw,S),()=>document.removeEventListener(Dw,S)},[]),o.jsx(ke.div,{...c,ref:b,style:{pointerEvents:v?j?"auto":"none":void 0,...t.style},onFocusCapture:xe(t.onFocusCapture,D.onFocusCapture),onBlurCapture:xe(t.onBlurCapture,D.onBlurCapture),onPointerDownCapture:xe(t.onPointerDownCapture,P.onPointerDownCapture)})});Xl.displayName=V6;var B6="DismissableLayerBranch",WR=m.forwardRef((t,e)=>{const n=m.useContext(zR),r=m.useRef(null),s=Ze(e,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),o.jsx(ke.div,{...t,ref:s})});WR.displayName=B6;function z6(t,e=globalThis==null?void 0:globalThis.document){const n=sn(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){HR(U6,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function W6(t,e=globalThis==null?void 0:globalThis.document){const n=sn(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&HR($6,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function PS(){const t=new CustomEvent(Dw);document.dispatchEvent(t)}function HR(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Xb(s,i):s.dispatchEvent(i)}var H6=Xl,q6=WR,hn=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},G6="Portal",Ou=m.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[s,i]=m.useState(!1);hn(()=>i(!0),[]);const a=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?FR.createPortal(o.jsx(ke.div,{...r,ref:e}),a):null});Ou.displayName=G6;function K6(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var Ln=t=>{const{present:e,children:n}=t,r=Y6(e),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=Ze(r.ref,Q6(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:i}):null};Ln.displayName="Presence";function Y6(t){const[e,n]=m.useState(),r=m.useRef(null),s=m.useRef(t),i=m.useRef("none"),a=t?"mounted":"unmounted",[l,c]=K6(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=xm(r.current);i.current=l==="mounted"?u:"none"},[l]),hn(()=>{const u=r.current,d=s.current;if(d!==t){const p=i.current,g=xm(u);t?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),hn(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=g=>{const y=xm(r.current).includes(g.animationName);if(g.target===e&&y&&(c("ANIMATION_END"),!s.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},p=g=>{g.target===e&&(i.current=xm(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function xm(t){return(t==null?void 0:t.animationName)||"none"}function Q6(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var X6=ob[" useInsertionEffect ".trim().toString()]||hn;function Si({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,a]=Z6({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:s;{const d=m.useRef(t!==void 0);m.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=m.useCallback(d=>{var f;if(l){const p=J6(d)?d(t):d;p!==t&&((f=a.current)==null||f.call(a,p))}else i(d)},[l,t,i,a]);return[c,u]}function Z6({defaultProp:t,onChange:e}){const[n,r]=m.useState(t),s=m.useRef(n),i=m.useRef(e);return X6(()=>{i.current=e},[e]),m.useEffect(()=>{var a;s.current!==n&&((a=i.current)==null||a.call(i,n),s.current=n)},[n,s]),[n,r,i]}function J6(t){return typeof t=="function"}var qR=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),e9="VisuallyHidden",Jg=m.forwardRef((t,e)=>o.jsx(ke.span,{...t,ref:e,style:{...qR,...t.style}}));Jg.displayName=e9;var t9=Jg,Zb="ToastProvider",[Jb,n9,r9]=Zg("Toast"),[GR,$oe]=Kn("Toast",[r9]),[s9,ev]=GR(Zb),KR=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:a}=t,[l,c]=m.useState(null),[u,d]=m.useState(0),f=m.useRef(!1),p=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Zb}\`. Expected non-empty \`string\`.`),o.jsx(Jb.Provider,{scope:e,children:o.jsx(s9,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:m.useCallback(()=>d(g=>g+1),[]),onToastRemove:m.useCallback(()=>d(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:a})})};KR.displayName=Zb;var YR="ToastViewport",i9=["F8"],Ow="toast.viewportPause",Mw="toast.viewportResume",QR=m.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=i9,label:s="Notifications ({hotkey})",...i}=t,a=ev(YR,n),l=n9(n),c=m.useRef(null),u=m.useRef(null),d=m.useRef(null),f=m.useRef(null),p=Ze(e,f,a.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=a.toastCount>0;m.useEffect(()=>{const w=_=>{var v;r.length!==0&&r.every(j=>_[j]||_.code===j)&&((v=f.current)==null||v.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),m.useEffect(()=>{const w=c.current,_=f.current;if(b&&w&&_){const x=()=>{if(!a.isClosePausedRef.current){const D=new CustomEvent(Ow);_.dispatchEvent(D),a.isClosePausedRef.current=!0}},v=()=>{if(a.isClosePausedRef.current){const D=new CustomEvent(Mw);_.dispatchEvent(D),a.isClosePausedRef.current=!1}},j=D=>{!w.contains(D.relatedTarget)&&v()},P=()=>{w.contains(document.activeElement)||v()};return w.addEventListener("focusin",x),w.addEventListener("focusout",j),w.addEventListener("pointermove",x),w.addEventListener("pointerleave",P),window.addEventListener("blur",x),window.addEventListener("focus",v),()=>{w.removeEventListener("focusin",x),w.removeEventListener("focusout",j),w.removeEventListener("pointermove",x),w.removeEventListener("pointerleave",P),window.removeEventListener("blur",x),window.removeEventListener("focus",v)}}},[b,a.isClosePausedRef]);const y=m.useCallback(({tabbingDirection:w})=>{const x=l().map(v=>{const j=v.ref.current,P=[j,...y9(j)];return w==="forwards"?P:P.reverse()});return(w==="forwards"?x.reverse():x).flat()},[l]);return m.useEffect(()=>{const w=f.current;if(w){const _=x=>{var P,D,S;const v=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!v){const N=document.activeElement,T=x.shiftKey;if(x.target===w&&T){(P=u.current)==null||P.focus();return}const A=y({tabbingDirection:T?"backwards":"forwards"}),R=A.findIndex(W=>W===N);ex(A.slice(R+1))?x.preventDefault():T?(D=u.current)==null||D.focus():(S=d.current)==null||S.focus()}};return w.addEventListener("keydown",_),()=>w.removeEventListener("keydown",_)}},[l,y]),o.jsxs(q6,{ref:c,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&o.jsx(Lw,{ref:u,onFocusFromOutsideViewport:()=>{const w=y({tabbingDirection:"forwards"});ex(w)}}),o.jsx(Jb.Slot,{scope:n,children:o.jsx(ke.ol,{tabIndex:-1,...i,ref:p})}),b&&o.jsx(Lw,{ref:d,onFocusFromOutsideViewport:()=>{const w=y({tabbingDirection:"backwards"});ex(w)}})]})});QR.displayName=YR;var XR="ToastFocusProxy",Lw=m.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=ev(XR,n);return o.jsx(Jg,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:a=>{var u;const l=a.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&r()}})});Lw.displayName=XR;var ef="Toast",o9="toast.swipeStart",a9="toast.swipeMove",l9="toast.swipeCancel",c9="toast.swipeEnd",ZR=m.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...a}=t,[l,c]=Si({prop:r,defaultProp:s??!0,onChange:i,caller:ef});return o.jsx(Ln,{present:n||l,children:o.jsx(h9,{open:l,...a,ref:e,onClose:()=>c(!1),onPause:sn(t.onPause),onResume:sn(t.onResume),onSwipeStart:xe(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:xe(t.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:xe(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:xe(t.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});ZR.displayName=ef;var[u9,d9]=GR(ef,{onClose(){}}),h9=m.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:a,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:g,...b}=t,y=ev(ef,n),[w,_]=m.useState(null),x=Ze(e,W=>_(W)),v=m.useRef(null),j=m.useRef(null),P=s||y.duration,D=m.useRef(0),S=m.useRef(P),N=m.useRef(0),{onToastAdd:T,onToastRemove:k}=y,I=sn(()=>{var U;(w==null?void 0:w.contains(document.activeElement))&&((U=y.viewport)==null||U.focus()),a()}),A=m.useCallback(W=>{!W||W===1/0||(window.clearTimeout(N.current),D.current=new Date().getTime(),N.current=window.setTimeout(I,W))},[I]);m.useEffect(()=>{const W=y.viewport;if(W){const U=()=>{A(S.current),u==null||u()},q=()=>{const K=new Date().getTime()-D.current;S.current=S.current-K,window.clearTimeout(N.current),c==null||c()};return W.addEventListener(Ow,q),W.addEventListener(Mw,U),()=>{W.removeEventListener(Ow,q),W.removeEventListener(Mw,U)}}},[y.viewport,P,c,u,A]),m.useEffect(()=>{i&&!y.isClosePausedRef.current&&A(P)},[i,P,y.isClosePausedRef,A]),m.useEffect(()=>(T(),()=>k()),[T,k]);const R=m.useMemo(()=>w?iP(w):null,[w]);return y.viewport?o.jsxs(o.Fragment,{children:[R&&o.jsx(f9,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:R}),o.jsx(u9,{scope:n,onClose:I,children:Ql.createPortal(o.jsx(Jb.ItemSlot,{scope:n,children:o.jsx(H6,{asChild:!0,onEscapeKeyDown:xe(l,()=>{y.isFocusedToastEscapeKeyDownRef.current||I(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(ke.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":y.swipeDirection,...b,ref:x,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:xe(t.onKeyDown,W=>{W.key==="Escape"&&(l==null||l(W.nativeEvent),W.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:xe(t.onPointerDown,W=>{W.button===0&&(v.current={x:W.clientX,y:W.clientY})}),onPointerMove:xe(t.onPointerMove,W=>{if(!v.current)return;const U=W.clientX-v.current.x,q=W.clientY-v.current.y,K=!!j.current,L=["left","right"].includes(y.swipeDirection),V=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,F=L?V(0,U):0,Q=L?0:V(0,q),$=W.pointerType==="touch"?10:2,te={x:F,y:Q},ue={originalEvent:W,delta:te};K?(j.current=te,wm(a9,f,ue,{discrete:!1})):AS(te,y.swipeDirection,$)?(j.current=te,wm(o9,d,ue,{discrete:!1}),W.target.setPointerCapture(W.pointerId)):(Math.abs(U)>$||Math.abs(q)>$)&&(v.current=null)}),onPointerUp:xe(t.onPointerUp,W=>{const U=j.current,q=W.target;if(q.hasPointerCapture(W.pointerId)&&q.releasePointerCapture(W.pointerId),j.current=null,v.current=null,U){const K=W.currentTarget,L={originalEvent:W,delta:U};AS(U,y.swipeDirection,y.swipeThreshold)?wm(c9,g,L,{discrete:!0}):wm(l9,p,L,{discrete:!0}),K.addEventListener("click",V=>V.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),f9=t=>{const{__scopeToast:e,children:n,...r}=t,s=ev(ef,e),[i,a]=m.useState(!1),[l,c]=m.useState(!1);return g9(()=>a(!0)),m.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:o.jsx(Ou,{asChild:!0,children:o.jsx(Jg,{...r,children:i&&o.jsxs(o.Fragment,{children:[s.label," ",n]})})})},m9="ToastTitle",JR=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return o.jsx(ke.div,{...r,ref:e})});JR.displayName=m9;var p9="ToastDescription",eP=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return o.jsx(ke.div,{...r,ref:e})});eP.displayName=p9;var tP="ToastAction",nP=m.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?o.jsx(sP,{altText:n,asChild:!0,children:o.jsx(e_,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${tP}\`. Expected non-empty \`string\`.`),null)});nP.displayName=tP;var rP="ToastClose",e_=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=d9(rP,n);return o.jsx(sP,{asChild:!0,children:o.jsx(ke.button,{type:"button",...r,ref:e,onClick:xe(t.onClick,s.onClose)})})});e_.displayName=rP;var sP=m.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return o.jsx(ke.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function iP(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),v9(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const a=r.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...iP(r))}}),e}function wm(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Xb(s,i):s.dispatchEvent(i)}var AS=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function g9(t=()=>{}){const e=sn(t);hn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function v9(t){return t.nodeType===t.ELEMENT_NODE}function y9(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function ex(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var x9=KR,oP=QR,aP=ZR,lP=JR,cP=eP,uP=nP,dP=e_;function hP(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=hP(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function fP(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=hP(t))&&(r&&(r+=" "),r+=e);return r}const DS=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,OS=fP,tv=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return OS(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,a=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],f=i==null?void 0:i[u];if(d===null)return null;const p=DS(d)||DS(f);return s[u][p]}),l=n&&Object.entries(n).reduce((u,d)=>{let[f,p]=d;return p===void 0||(u[f]=p),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:p,...g}=d;return Object.entries(g).every(b=>{let[y,w]=b;return Array.isArray(w)?w.includes({...i,...l}[y]):{...i,...l}[y]===w})?[...u,f,p]:u},[]);return OS(t,a,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mP=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var b9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _9=m.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:a,...l},c)=>m.createElement("svg",{ref:c,...b9,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:mP("lucide",s),...l},[...a.map(([u,d])=>m.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=(t,e)=>{const n=m.forwardRef(({className:r,...s},i)=>m.createElement(_9,{ref:i,iconNode:e,className:mP(`lucide-${w9(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=Pe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E9=Pe("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pP=Pe("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t_=Pe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mu=Pe("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fw=Pe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=Pe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tf=Pe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n_=Pe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N9=Pe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gP=Pe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vP=Pe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r_=Pe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zc=Pe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vw=Pe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S9=Pe("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=Pe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j9=Pe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=Pe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C9=Pe("Compass",[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nf=Pe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k9=Pe("Dot",[["circle",{cx:"12.1",cy:"12.1",r:"1",key:"18d7e5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T9=Pe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bl=Pe("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _l=Pe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=Pe("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rf=Pe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I9=Pe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R9=Pe("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P9=Pe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=Pe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=Pe("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A9=Pe("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D9=Pe("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O9=Pe("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wh=Pe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=Pe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=Pe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s_=Pe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M9=Pe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L9=Pe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F9=Pe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V9=Pe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uw=Pe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tl=Pe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xP=Pe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wc=Pe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U9=Pe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i_=Pe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=Pe("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=Pe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wP=Pe("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $9=Pe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=Pe("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B9=Pe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=Pe("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o_=Pe("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $w=Pe("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Il=Pe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a_=Pe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bP=Pe("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _P=Pe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sf=Pe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rl=Pe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l_=Pe("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z9=Pe("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pl=Pe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),c_="-",W9=t=>{const e=q9(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const l=a.split(c_);return l[0]===""&&l.length!==1&&l.shift(),EP(l,e)||H9(a)},getConflictingClassGroupIds:(a,l)=>{const c=n[a]||[];return l&&r[a]?[...c,...r[a]]:c}}},EP=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?EP(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(c_);return(a=e.validators.find(({validator:l})=>l(i)))==null?void 0:a.classGroupId},VS=/^\[(.+)\]$/,H9=t=>{if(VS.test(t)){const e=VS.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},q9=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return K9(Object.entries(t.classGroups),n).forEach(([i,a])=>{Bw(a,r,i,e)}),r},Bw=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:US(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(G9(s)){Bw(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,a])=>{Bw(a,US(e,i),n,r)})})},US=(t,e)=>{let n=t;return e.split(c_).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},G9=t=>t.isThemeGetter,K9=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,l])=>[e+a,l])):i);return[n,s]}):t,Y9=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,a)=>{n.set(i,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let a=n.get(i);if(a!==void 0)return a;if((a=r.get(i))!==void 0)return s(i,a),a},set(i,a){n.has(i)?n.set(i,a):s(i,a)}}},NP="!",Q9=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,a=l=>{const c=[];let u=0,d=0,f;for(let w=0;w<l.length;w++){let _=l[w];if(u===0){if(_===s&&(r||l.slice(w,w+i)===e)){c.push(l.slice(d,w)),d=w+i;continue}if(_==="/"){f=w;continue}}_==="["?u++:_==="]"&&u--}const p=c.length===0?l:l.substring(d),g=p.startsWith(NP),b=g?p.substring(1):p,y=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:b,maybePostfixModifierPosition:y}};return n?l=>n({className:l,parseClassName:a}):a},X9=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},Z9=t=>({cache:Y9(t.cacheSize),parseClassName:Q9(t),...W9(t)}),J9=/\s+/,eU=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],a=t.trim().split(J9);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:d,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:g}=n(u);let b=!!g,y=r(b?p.substring(0,g):p);if(!y){if(!b){l=u+(l.length>0?" "+l:l);continue}if(y=r(p),!y){l=u+(l.length>0?" "+l:l);continue}b=!1}const w=X9(d).join(":"),_=f?w+NP:w,x=_+y;if(i.includes(x))continue;i.push(x);const v=s(y,b);for(let j=0;j<v.length;++j){const P=v[j];i.push(_+P)}l=u+(l.length>0?" "+l:l)}return l};function tU(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=SP(e))&&(r&&(r+=" "),r+=n);return r}const SP=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=SP(t[r]))&&(n&&(n+=" "),n+=e);return n};function nU(t,...e){let n,r,s,i=a;function a(c){const u=e.reduce((d,f)=>f(d),t());return n=Z9(u),r=n.cache.get,s=n.cache.set,i=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=eU(c,n);return s(c,d),d}return function(){return i(tU.apply(null,arguments))}}const Bt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},jP=/^\[(?:([a-z-]+):)?(.+)\]$/i,rU=/^\d+\/\d+$/,sU=new Set(["px","full","screen"]),iU=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,oU=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,aU=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,lU=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,cU=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Fi=t=>Hc(t)||sU.has(t)||rU.test(t),ko=t=>Mu(t,"length",vU),Hc=t=>!!t&&!Number.isNaN(Number(t)),tx=t=>Mu(t,"number",Hc),pd=t=>!!t&&Number.isInteger(Number(t)),uU=t=>t.endsWith("%")&&Hc(t.slice(0,-1)),it=t=>jP.test(t),To=t=>iU.test(t),dU=new Set(["length","size","percentage"]),hU=t=>Mu(t,dU,CP),fU=t=>Mu(t,"position",CP),mU=new Set(["image","url"]),pU=t=>Mu(t,mU,xU),gU=t=>Mu(t,"",yU),gd=()=>!0,Mu=(t,e,n)=>{const r=jP.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},vU=t=>oU.test(t)&&!aU.test(t),CP=()=>!1,yU=t=>lU.test(t),xU=t=>cU.test(t),wU=()=>{const t=Bt("colors"),e=Bt("spacing"),n=Bt("blur"),r=Bt("brightness"),s=Bt("borderColor"),i=Bt("borderRadius"),a=Bt("borderSpacing"),l=Bt("borderWidth"),c=Bt("contrast"),u=Bt("grayscale"),d=Bt("hueRotate"),f=Bt("invert"),p=Bt("gap"),g=Bt("gradientColorStops"),b=Bt("gradientColorStopPositions"),y=Bt("inset"),w=Bt("margin"),_=Bt("opacity"),x=Bt("padding"),v=Bt("saturate"),j=Bt("scale"),P=Bt("sepia"),D=Bt("skew"),S=Bt("space"),N=Bt("translate"),T=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",it,e],A=()=>[it,e],R=()=>["",Fi,ko],W=()=>["auto",Hc,it],U=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],q=()=>["solid","dashed","dotted","double","none"],K=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],V=()=>["","0",it],F=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>[Hc,it];return{cacheSize:500,separator:":",theme:{colors:[gd],spacing:[Fi,ko],blur:["none","",To,it],brightness:Q(),borderColor:[t],borderRadius:["none","","full",To,it],borderSpacing:A(),borderWidth:R(),contrast:Q(),grayscale:V(),hueRotate:Q(),invert:V(),gap:A(),gradientColorStops:[t],gradientColorStopPositions:[uU,ko],inset:I(),margin:I(),opacity:Q(),padding:A(),saturate:Q(),scale:Q(),sepia:V(),skew:Q(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",it]}],container:["container"],columns:[{columns:[To]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...U(),it]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",pd,it]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",it]}],grow:[{grow:V()}],shrink:[{shrink:V()}],order:[{order:["first","last","none",pd,it]}],"grid-cols":[{"grid-cols":[gd]}],"col-start-end":[{col:["auto",{span:["full",pd,it]},it]}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":[gd]}],"row-start-end":[{row:["auto",{span:[pd,it]},it]}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",it]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",it]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",it,e]}],"min-w":[{"min-w":[it,e,"min","max","fit"]}],"max-w":[{"max-w":[it,e,"none","full","min","max","fit","prose",{screen:[To]},To]}],h:[{h:[it,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[it,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[it,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[it,e,"auto","min","max","fit"]}],"font-size":[{text:["base",To,ko]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",tx]}],"font-family":[{font:[gd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",it]}],"line-clamp":[{"line-clamp":["none",Hc,tx]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Fi,it]}],"list-image":[{"list-image":["none",it]}],"list-style-type":[{list:["none","disc","decimal",it]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Fi,ko]}],"underline-offset":[{"underline-offset":["auto",Fi,it]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",it]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",it]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...U(),fU]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",hU]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},pU]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...q(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:q()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...q()]}],"outline-offset":[{"outline-offset":[Fi,it]}],"outline-w":[{outline:[Fi,ko]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[Fi,ko]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",To,gU]}],"shadow-color":[{shadow:[gd]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...K(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":K()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",To,it]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[v]}],sepia:[{sepia:[P]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[P]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",it]}],duration:[{duration:Q()}],ease:[{ease:["linear","in","out","in-out",it]}],delay:[{delay:Q()}],animate:[{animate:["none","spin","ping","pulse","bounce",it]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[pd,it]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[D]}],"skew-y":[{"skew-y":[D]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",it]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",it]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",it]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Fi,ko,tx]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},bU=nU(wU);function _e(...t){return bU(fP(t))}const _U=x9,kP=m.forwardRef(({className:t,...e},n)=>o.jsx(oP,{ref:n,className:_e("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));kP.displayName=oP.displayName;const EU=tv("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),TP=m.forwardRef(({className:t,variant:e,...n},r)=>o.jsx(aP,{ref:r,className:_e(EU({variant:e}),t),...n}));TP.displayName=aP.displayName;const NU=m.forwardRef(({className:t,...e},n)=>o.jsx(uP,{ref:n,className:_e("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));NU.displayName=uP.displayName;const IP=m.forwardRef(({className:t,...e},n)=>o.jsx(dP,{ref:n,className:_e("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:o.jsx(Pl,{className:"h-4 w-4"})}));IP.displayName=dP.displayName;const RP=m.forwardRef(({className:t,...e},n)=>o.jsx(lP,{ref:n,className:_e("text-sm font-semibold",t),...e}));RP.displayName=lP.displayName;const PP=m.forwardRef(({className:t,...e},n)=>o.jsx(cP,{ref:n,className:_e("text-sm opacity-90",t),...e}));PP.displayName=cP.displayName;function SU(){const{toasts:t}=I6();return o.jsxs(_U,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return o.jsxs(TP,{...i,children:[o.jsxs("div",{className:"grid gap-1",children:[n&&o.jsx(RP,{children:n}),r&&o.jsx(PP,{children:r})]}),s,o.jsx(IP,{})]},e)}),o.jsx(kP,{})]})}var Fp=["light","dark"],u_="(prefers-color-scheme: dark)",jU=typeof window>"u",d_=m.createContext(void 0),CU={setTheme:t=>{},themes:[]},AP=()=>{var t;return(t=m.useContext(d_))!=null?t:CU},kU=t=>m.useContext(d_)?t.children:m.createElement(IU,{...t}),TU=["light","dark"],IU=({forcedTheme:t,disableTransitionOnChange:e=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:s="theme",themes:i=TU,defaultTheme:a=n?"system":"light",attribute:l="data-theme",value:c,children:u,nonce:d})=>{let[f,p]=m.useState(()=>$S(s,a)),[g,b]=m.useState(()=>$S(s)),y=c?Object.values(c):i,w=m.useCallback(j=>{let P=j;if(!P)return;j==="system"&&n&&(P=BS());let D=c?c[P]:P,S=e?PU():null,N=document.documentElement;if(l==="class"?(N.classList.remove(...y),D&&N.classList.add(D)):D?N.setAttribute(l,D):N.removeAttribute(l),r){let T=Fp.includes(a)?a:null,k=Fp.includes(P)?P:T;N.style.colorScheme=k}S==null||S()},[]),_=m.useCallback(j=>{let P=typeof j=="function"?j(j):j;p(P);try{localStorage.setItem(s,P)}catch{}},[t]),x=m.useCallback(j=>{let P=BS(j);b(P),f==="system"&&n&&!t&&w("system")},[f,t]);m.useEffect(()=>{let j=window.matchMedia(u_);return j.addListener(x),x(j),()=>j.removeListener(x)},[x]),m.useEffect(()=>{let j=P=>{if(P.key!==s)return;let D=P.newValue||a;_(D)};return window.addEventListener("storage",j),()=>window.removeEventListener("storage",j)},[_]),m.useEffect(()=>{w(t??f)},[t,f]);let v=m.useMemo(()=>({theme:f,setTheme:_,forcedTheme:t,resolvedTheme:f==="system"?g:f,themes:n?[...i,"system"]:i,systemTheme:n?g:void 0}),[f,_,t,g,n,i]);return m.createElement(d_.Provider,{value:v},m.createElement(RU,{forcedTheme:t,disableTransitionOnChange:e,enableSystem:n,enableColorScheme:r,storageKey:s,themes:i,defaultTheme:a,attribute:l,value:c,children:u,attrs:y,nonce:d}),u)},RU=m.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:a,attrs:l,nonce:c})=>{let u=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(b=>`'${b}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?Fp.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(b,y=!1,w=!0)=>{let _=a?a[b]:b,x=y?b+"|| ''":`'${_}'`,v="";return s&&w&&!y&&Fp.includes(b)&&(v+=`d.style.colorScheme = '${b}';`),n==="class"?y||_?v+=`c.add(${x})`:v+="null":_&&(v+=`d[s](n,${x})`),v},g=t?`!function(){${d}${p(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${u_}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${p(a?"x[e]":"e",!0)}}${u?"":"else{"+p(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${p(a?"x[e]":"e",!0)}}else{${p(i,!1,!1)};}${f}}catch(t){}}();`;return m.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:g}})}),$S=(t,e)=>{if(jU)return;let n;try{n=localStorage.getItem(t)||void 0}catch{}return n||e},PU=()=>{let t=document.createElement("style");return t.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},BS=t=>(t||(t=window.matchMedia(u_)),t.matches?"dark":"light"),AU=t=>{switch(t){case"success":return MU;case"info":return FU;case"warning":return LU;case"error":return VU;default:return null}},DU=Array(12).fill(0),OU=({visible:t,className:e})=>ee.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},ee.createElement("div",{className:"sonner-spinner"},DU.map((n,r)=>ee.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),MU=ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ee.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),LU=ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ee.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),FU=ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ee.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),VU=ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ee.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),UU=ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ee.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ee.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),$U=()=>{let[t,e]=ee.useState(document.hidden);return ee.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},zw=1,BU=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:zw++,a=this.toasts.find(c=>c.id===i),l=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),a?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...e,id:i,title:r}),{...c,...e,id:i,dismissible:l,title:r}):c):this.addToast({title:r,...s,dismissible:l,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0,a,l=s.then(async u=>{if(a=["resolve",u],ee.isValidElement(u))i=!1,this.create({id:r,type:"default",message:u});else if(WU(u)&&!u.ok){i=!1;let d=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,f=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description;this.create({id:r,type:"error",message:d,description:f})}else if(n.success!==void 0){i=!1;let d=typeof n.success=="function"?await n.success(u):n.success,f=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"success",message:d,description:f})}}).catch(async u=>{if(a=["reject",u],n.error!==void 0){i=!1;let d=typeof n.error=="function"?await n.error(u):n.error,f=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"error",message:d,description:f})}}).finally(()=>{var u;i&&(this.dismiss(r),r=void 0),(u=n.finally)==null||u.call(n)}),c=()=>new Promise((u,d)=>l.then(()=>a[0]==="reject"?d(a[1]):u(a[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||zw++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Rr=new BU,zU=(t,e)=>{let n=(e==null?void 0:e.id)||zw++;return Rr.addToast({title:t,...e,id:n}),n},WU=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",HU=zU,qU=()=>Rr.toasts,GU=()=>Rr.getActiveToasts(),H=Object.assign(HU,{success:Rr.success,info:Rr.info,warning:Rr.warning,error:Rr.error,custom:Rr.custom,message:Rr.message,promise:Rr.promise,dismiss:Rr.dismiss,loading:Rr.loading},{getHistory:qU,getToasts:GU});function KU(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}KU(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function bm(t){return t.label!==void 0}var YU=3,QU="32px",XU="16px",zS=4e3,ZU=356,JU=14,e$=20,t$=200;function Ns(...t){return t.filter(Boolean).join(" ")}function n$(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var r$=t=>{var e,n,r,s,i,a,l,c,u,d,f;let{invert:p,toast:g,unstyled:b,interacting:y,setHeights:w,visibleToasts:_,heights:x,index:v,toasts:j,expanded:P,removeToast:D,defaultRichColors:S,closeButton:N,style:T,cancelButtonStyle:k,actionButtonStyle:I,className:A="",descriptionClassName:R="",duration:W,position:U,gap:q,loadingIcon:K,expandByDefault:L,classNames:V,icons:F,closeButtonAriaLabel:Q="Close toast",pauseWhenPageIsHidden:$}=t,[te,ue]=ee.useState(null),[de,Ce]=ee.useState(null),[J,Fe]=ee.useState(!1),[Me,le]=ee.useState(!1),[Ne,De]=ee.useState(!1),[Nt,Re]=ee.useState(!1),[Ue,ht]=ee.useState(!1),[Z,X]=ee.useState(0),[ce,M]=ee.useState(0),B=ee.useRef(g.duration||W||zS),G=ee.useRef(null),he=ee.useRef(null),fe=v===0,oe=v+1<=_,ye=g.type,We=g.dismissible!==!1,ft=g.className||"",xn=g.descriptionClassName||"",Br=ee.useMemo(()=>x.findIndex(He=>He.toastId===g.id)||0,[x,g.id]),hr=ee.useMemo(()=>{var He;return(He=g.closeButton)!=null?He:N},[g.closeButton,N]),Mi=ee.useMemo(()=>g.duration||W||zS,[g.duration,W]),on=ee.useRef(0),kn=ee.useRef(0),Js=ee.useRef(0),Fn=ee.useRef(null),[oc,Li]=U.split("-"),Yu=ee.useMemo(()=>x.reduce((He,St,Ot)=>Ot>=Br?He:He+St.height,0),[x,Br]),wo=$U(),Hf=g.invert||p,wn=ye==="loading";kn.current=ee.useMemo(()=>Br*q+Yu,[Br,Yu]),ee.useEffect(()=>{B.current=Mi},[Mi]),ee.useEffect(()=>{Fe(!0)},[]),ee.useEffect(()=>{let He=he.current;if(He){let St=He.getBoundingClientRect().height;return M(St),w(Ot=>[{toastId:g.id,height:St,position:g.position},...Ot]),()=>w(Ot=>Ot.filter(Tn=>Tn.toastId!==g.id))}},[w,g.id]),ee.useLayoutEffect(()=>{if(!J)return;let He=he.current,St=He.style.height;He.style.height="auto";let Ot=He.getBoundingClientRect().height;He.style.height=St,M(Ot),w(Tn=>Tn.find(zr=>zr.toastId===g.id)?Tn.map(zr=>zr.toastId===g.id?{...zr,height:Ot}:zr):[{toastId:g.id,height:Ot,position:g.position},...Tn])},[J,g.title,g.description,w,g.id]);let bs=ee.useCallback(()=>{le(!0),X(kn.current),w(He=>He.filter(St=>St.toastId!==g.id)),setTimeout(()=>{D(g)},t$)},[g,D,w,kn]);ee.useEffect(()=>{if(g.promise&&ye==="loading"||g.duration===1/0||g.type==="loading")return;let He;return P||y||$&&wo?(()=>{if(Js.current<on.current){let St=new Date().getTime()-on.current;B.current=B.current-St}Js.current=new Date().getTime()})():B.current!==1/0&&(on.current=new Date().getTime(),He=setTimeout(()=>{var St;(St=g.onAutoClose)==null||St.call(g,g),bs()},B.current)),()=>clearTimeout(He)},[P,y,g,ye,$,wo,bs]),ee.useEffect(()=>{g.delete&&bs()},[bs,g.delete]);function Ka(){var He,St,Ot;return F!=null&&F.loading?ee.createElement("div",{className:Ns(V==null?void 0:V.loader,(He=g==null?void 0:g.classNames)==null?void 0:He.loader,"sonner-loader"),"data-visible":ye==="loading"},F.loading):K?ee.createElement("div",{className:Ns(V==null?void 0:V.loader,(St=g==null?void 0:g.classNames)==null?void 0:St.loader,"sonner-loader"),"data-visible":ye==="loading"},K):ee.createElement(OU,{className:Ns(V==null?void 0:V.loader,(Ot=g==null?void 0:g.classNames)==null?void 0:Ot.loader),visible:ye==="loading"})}return ee.createElement("li",{tabIndex:0,ref:he,className:Ns(A,ft,V==null?void 0:V.toast,(e=g==null?void 0:g.classNames)==null?void 0:e.toast,V==null?void 0:V.default,V==null?void 0:V[ye],(n=g==null?void 0:g.classNames)==null?void 0:n[ye]),"data-sonner-toast":"","data-rich-colors":(r=g.richColors)!=null?r:S,"data-styled":!(g.jsx||g.unstyled||b),"data-mounted":J,"data-promise":!!g.promise,"data-swiped":Ue,"data-removed":Me,"data-visible":oe,"data-y-position":oc,"data-x-position":Li,"data-index":v,"data-front":fe,"data-swiping":Ne,"data-dismissible":We,"data-type":ye,"data-invert":Hf,"data-swipe-out":Nt,"data-swipe-direction":de,"data-expanded":!!(P||L&&J),style:{"--index":v,"--toasts-before":v,"--z-index":j.length-v,"--offset":`${Me?Z:kn.current}px`,"--initial-height":L?"auto":`${ce}px`,...T,...g.style},onDragEnd:()=>{De(!1),ue(null),Fn.current=null},onPointerDown:He=>{wn||!We||(G.current=new Date,X(kn.current),He.target.setPointerCapture(He.pointerId),He.target.tagName!=="BUTTON"&&(De(!0),Fn.current={x:He.clientX,y:He.clientY}))},onPointerUp:()=>{var He,St,Ot,Tn;if(Nt||!We)return;Fn.current=null;let zr=Number(((He=he.current)==null?void 0:He.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ei=Number(((St=he.current)==null?void 0:St.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),os=new Date().getTime()-((Ot=G.current)==null?void 0:Ot.getTime()),Sr=te==="x"?zr:ei,_s=Math.abs(Sr)/os;if(Math.abs(Sr)>=e$||_s>.11){X(kn.current),(Tn=g.onDismiss)==null||Tn.call(g,g),Ce(te==="x"?zr>0?"right":"left":ei>0?"down":"up"),bs(),Re(!0),ht(!1);return}De(!1),ue(null)},onPointerMove:He=>{var St,Ot,Tn,zr;if(!Fn.current||!We||((St=window.getSelection())==null?void 0:St.toString().length)>0)return;let ei=He.clientY-Fn.current.y,os=He.clientX-Fn.current.x,Sr=(Ot=t.swipeDirections)!=null?Ot:n$(U);!te&&(Math.abs(os)>1||Math.abs(ei)>1)&&ue(Math.abs(os)>Math.abs(ei)?"x":"y");let _s={x:0,y:0};te==="y"?(Sr.includes("top")||Sr.includes("bottom"))&&(Sr.includes("top")&&ei<0||Sr.includes("bottom")&&ei>0)&&(_s.y=ei):te==="x"&&(Sr.includes("left")||Sr.includes("right"))&&(Sr.includes("left")&&os<0||Sr.includes("right")&&os>0)&&(_s.x=os),(Math.abs(_s.x)>0||Math.abs(_s.y)>0)&&ht(!0),(Tn=he.current)==null||Tn.style.setProperty("--swipe-amount-x",`${_s.x}px`),(zr=he.current)==null||zr.style.setProperty("--swipe-amount-y",`${_s.y}px`)}},hr&&!g.jsx?ee.createElement("button",{"aria-label":Q,"data-disabled":wn,"data-close-button":!0,onClick:wn||!We?()=>{}:()=>{var He;bs(),(He=g.onDismiss)==null||He.call(g,g)},className:Ns(V==null?void 0:V.closeButton,(s=g==null?void 0:g.classNames)==null?void 0:s.closeButton)},(i=F==null?void 0:F.close)!=null?i:UU):null,g.jsx||m.isValidElement(g.title)?g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title:ee.createElement(ee.Fragment,null,ye||g.icon||g.promise?ee.createElement("div",{"data-icon":"",className:Ns(V==null?void 0:V.icon,(a=g==null?void 0:g.classNames)==null?void 0:a.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||Ka():null,g.type!=="loading"?g.icon||(F==null?void 0:F[ye])||AU(ye):null):null,ee.createElement("div",{"data-content":"",className:Ns(V==null?void 0:V.content,(l=g==null?void 0:g.classNames)==null?void 0:l.content)},ee.createElement("div",{"data-title":"",className:Ns(V==null?void 0:V.title,(c=g==null?void 0:g.classNames)==null?void 0:c.title)},typeof g.title=="function"?g.title():g.title),g.description?ee.createElement("div",{"data-description":"",className:Ns(R,xn,V==null?void 0:V.description,(u=g==null?void 0:g.classNames)==null?void 0:u.description)},typeof g.description=="function"?g.description():g.description):null),m.isValidElement(g.cancel)?g.cancel:g.cancel&&bm(g.cancel)?ee.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||k,onClick:He=>{var St,Ot;bm(g.cancel)&&We&&((Ot=(St=g.cancel).onClick)==null||Ot.call(St,He),bs())},className:Ns(V==null?void 0:V.cancelButton,(d=g==null?void 0:g.classNames)==null?void 0:d.cancelButton)},g.cancel.label):null,m.isValidElement(g.action)?g.action:g.action&&bm(g.action)?ee.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||I,onClick:He=>{var St,Ot;bm(g.action)&&((Ot=(St=g.action).onClick)==null||Ot.call(St,He),!He.defaultPrevented&&bs())},className:Ns(V==null?void 0:V.actionButton,(f=g==null?void 0:g.classNames)==null?void 0:f.actionButton)},g.action.label):null))};function WS(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function s$(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,a=i?"--mobile-offset":"--offset",l=i?XU:QU;function c(u){["top","right","bottom","left"].forEach(d=>{n[`${a}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${a}-${u}`]=l:n[`${a}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(l)}),n}var i$=m.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:a,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:p,style:g,visibleToasts:b=YU,toastOptions:y,dir:w=WS(),gap:_=JU,loadingIcon:x,icons:v,containerAriaLabel:j="Notifications",pauseWhenPageIsHidden:P}=t,[D,S]=ee.useState([]),N=ee.useMemo(()=>Array.from(new Set([r].concat(D.filter($=>$.position).map($=>$.position)))),[D,r]),[T,k]=ee.useState([]),[I,A]=ee.useState(!1),[R,W]=ee.useState(!1),[U,q]=ee.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),K=ee.useRef(null),L=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),V=ee.useRef(null),F=ee.useRef(!1),Q=ee.useCallback($=>{S(te=>{var ue;return(ue=te.find(de=>de.id===$.id))!=null&&ue.delete||Rr.dismiss($.id),te.filter(({id:de})=>de!==$.id)})},[]);return ee.useEffect(()=>Rr.subscribe($=>{if($.dismiss){S(te=>te.map(ue=>ue.id===$.id?{...ue,delete:!0}:ue));return}setTimeout(()=>{FR.flushSync(()=>{S(te=>{let ue=te.findIndex(de=>de.id===$.id);return ue!==-1?[...te.slice(0,ue),{...te[ue],...$},...te.slice(ue+1)]:[$,...te]})})})}),[]),ee.useEffect(()=>{if(d!=="system"){q(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?q("dark"):q("light")),typeof window>"u")return;let $=window.matchMedia("(prefers-color-scheme: dark)");try{$.addEventListener("change",({matches:te})=>{q(te?"dark":"light")})}catch{$.addListener(({matches:ue})=>{try{q(ue?"dark":"light")}catch(de){console.error(de)}})}},[d]),ee.useEffect(()=>{D.length<=1&&A(!1)},[D]),ee.useEffect(()=>{let $=te=>{var ue,de;s.every(Ce=>te[Ce]||te.code===Ce)&&(A(!0),(ue=K.current)==null||ue.focus()),te.code==="Escape"&&(document.activeElement===K.current||(de=K.current)!=null&&de.contains(document.activeElement))&&A(!1)};return document.addEventListener("keydown",$),()=>document.removeEventListener("keydown",$)},[s]),ee.useEffect(()=>{if(K.current)return()=>{V.current&&(V.current.focus({preventScroll:!0}),V.current=null,F.current=!1)}},[K.current]),ee.createElement("section",{ref:e,"aria-label":`${j} ${L}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},N.map(($,te)=>{var ue;let[de,Ce]=$.split("-");return D.length?ee.createElement("ol",{key:$,dir:w==="auto"?WS():w,tabIndex:-1,ref:K,className:l,"data-sonner-toaster":!0,"data-theme":U,"data-y-position":de,"data-lifted":I&&D.length>1&&!i,"data-x-position":Ce,style:{"--front-toast-height":`${((ue=T[0])==null?void 0:ue.height)||0}px`,"--width":`${ZU}px`,"--gap":`${_}px`,...g,...s$(c,u)},onBlur:J=>{F.current&&!J.currentTarget.contains(J.relatedTarget)&&(F.current=!1,V.current&&(V.current.focus({preventScroll:!0}),V.current=null))},onFocus:J=>{J.target instanceof HTMLElement&&J.target.dataset.dismissible==="false"||F.current||(F.current=!0,V.current=J.relatedTarget)},onMouseEnter:()=>A(!0),onMouseMove:()=>A(!0),onMouseLeave:()=>{R||A(!1)},onDragEnd:()=>A(!1),onPointerDown:J=>{J.target instanceof HTMLElement&&J.target.dataset.dismissible==="false"||W(!0)},onPointerUp:()=>W(!1)},D.filter(J=>!J.position&&te===0||J.position===$).map((J,Fe)=>{var Me,le;return ee.createElement(r$,{key:J.id,icons:v,index:Fe,toast:J,defaultRichColors:f,duration:(Me=y==null?void 0:y.duration)!=null?Me:p,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:n,visibleToasts:b,closeButton:(le=y==null?void 0:y.closeButton)!=null?le:a,interacting:R,position:$,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,removeToast:Q,toasts:D.filter(Ne=>Ne.position==J.position),heights:T.filter(Ne=>Ne.position==J.position),setHeights:k,expandByDefault:i,gap:_,loadingIcon:x,expanded:I,pauseWhenPageIsHidden:P,swipeDirections:t.swipeDirections})})):null}))});const o$=({...t})=>{const{theme:e="system"}=AP();return o.jsx(i$,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var a$=ob[" useId ".trim().toString()]||(()=>{}),l$=0;function Wn(t){const[e,n]=m.useState(a$());return hn(()=>{t||n(r=>r??String(l$++))},[t]),t||(e?`radix-${e}`:"")}const c$=["top","right","bottom","left"],Ea=Math.min,Kr=Math.max,Vp=Math.round,_m=Math.floor,vi=t=>({x:t,y:t}),u$={left:"right",right:"left",bottom:"top",top:"bottom"},d$={start:"end",end:"start"};function Ww(t,e,n){return Kr(t,Ea(e,n))}function oo(t,e){return typeof t=="function"?t(e):t}function ao(t){return t.split("-")[0]}function Lu(t){return t.split("-")[1]}function h_(t){return t==="x"?"y":"x"}function f_(t){return t==="y"?"height":"width"}const h$=new Set(["top","bottom"]);function hi(t){return h$.has(ao(t))?"y":"x"}function m_(t){return h_(hi(t))}function f$(t,e,n){n===void 0&&(n=!1);const r=Lu(t),s=m_(t),i=f_(s);let a=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(a=Up(a)),[a,Up(a)]}function m$(t){const e=Up(t);return[Hw(t),e,Hw(e)]}function Hw(t){return t.replace(/start|end/g,e=>d$[e])}const HS=["left","right"],qS=["right","left"],p$=["top","bottom"],g$=["bottom","top"];function v$(t,e,n){switch(t){case"top":case"bottom":return n?e?qS:HS:e?HS:qS;case"left":case"right":return e?p$:g$;default:return[]}}function y$(t,e,n,r){const s=Lu(t);let i=v$(ao(t),n==="start",r);return s&&(i=i.map(a=>a+"-"+s),e&&(i=i.concat(i.map(Hw)))),i}function Up(t){return t.replace(/left|right|bottom|top/g,e=>u$[e])}function x$(t){return{top:0,right:0,bottom:0,left:0,...t}}function DP(t){return typeof t!="number"?x$(t):{top:t,right:t,bottom:t,left:t}}function $p(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function GS(t,e,n){let{reference:r,floating:s}=t;const i=hi(e),a=m_(e),l=f_(a),c=ao(e),u=i==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,p=r[l]/2-s[l]/2;let g;switch(c){case"top":g={x:d,y:r.y-s.height};break;case"bottom":g={x:d,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:f};break;case"left":g={x:r.x-s.width,y:f};break;default:g={x:r.x,y:r.y}}switch(Lu(e)){case"start":g[a]-=p*(n&&u?-1:1);break;case"end":g[a]+=p*(n&&u?-1:1);break}return g}const w$=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:a}=n,l=i.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(e));let u=await a.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:f}=GS(u,r,c),p=r,g={},b=0;for(let y=0;y<l.length;y++){const{name:w,fn:_}=l[y],{x,y:v,data:j,reset:P}=await _({x:d,y:f,initialPlacement:r,placement:p,strategy:s,middlewareData:g,rects:u,platform:a,elements:{reference:t,floating:e}});d=x??d,f=v??f,g={...g,[w]:{...g[w],...j}},P&&b<=50&&(b++,typeof P=="object"&&(P.placement&&(p=P.placement),P.rects&&(u=P.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:s}):P.rects),{x:d,y:f}=GS(u,p,c)),y=-1)}return{x:d,y:f,placement:p,strategy:s,middlewareData:g}};async function bh(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:a,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:g=0}=oo(e,t),b=DP(g),w=l[p?f==="floating"?"reference":"floating":f],_=$p(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(w)))==null||n?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),x=f==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,v=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),j=await(i.isElement==null?void 0:i.isElement(v))?await(i.getScale==null?void 0:i.getScale(v))||{x:1,y:1}:{x:1,y:1},P=$p(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:v,strategy:c}):x);return{top:(_.top-P.top+b.top)/j.y,bottom:(P.bottom-_.bottom+b.bottom)/j.y,left:(_.left-P.left+b.left)/j.x,right:(P.right-_.right+b.right)/j.x}}const b$=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:a,elements:l,middlewareData:c}=e,{element:u,padding:d=0}=oo(t,e)||{};if(u==null)return{};const f=DP(d),p={x:n,y:r},g=m_(s),b=f_(g),y=await a.getDimensions(u),w=g==="y",_=w?"top":"left",x=w?"bottom":"right",v=w?"clientHeight":"clientWidth",j=i.reference[b]+i.reference[g]-p[g]-i.floating[b],P=p[g]-i.reference[g],D=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let S=D?D[v]:0;(!S||!await(a.isElement==null?void 0:a.isElement(D)))&&(S=l.floating[v]||i.floating[b]);const N=j/2-P/2,T=S/2-y[b]/2-1,k=Ea(f[_],T),I=Ea(f[x],T),A=k,R=S-y[b]-I,W=S/2-y[b]/2+N,U=Ww(A,W,R),q=!c.arrow&&Lu(s)!=null&&W!==U&&i.reference[b]/2-(W<A?k:I)-y[b]/2<0,K=q?W<A?W-A:W-R:0;return{[g]:p[g]+K,data:{[g]:U,centerOffset:W-U-K,...q&&{alignmentOffset:K}},reset:q}}}),_$=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:a,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:y=!0,...w}=oo(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const _=ao(s),x=hi(l),v=ao(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),P=p||(v||!y?[Up(l)]:m$(l)),D=b!=="none";!p&&D&&P.push(...y$(l,y,b,j));const S=[l,...P],N=await bh(e,w),T=[];let k=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&T.push(N[_]),f){const W=f$(s,a,j);T.push(N[W[0]],N[W[1]])}if(k=[...k,{placement:s,overflows:T}],!T.every(W=>W<=0)){var I,A;const W=(((I=i.flip)==null?void 0:I.index)||0)+1,U=S[W];if(U&&(!(f==="alignment"?x!==hi(U):!1)||k.every(L=>L.overflows[0]>0&&hi(L.placement)===x)))return{data:{index:W,overflows:k},reset:{placement:U}};let q=(A=k.filter(K=>K.overflows[0]<=0).sort((K,L)=>K.overflows[1]-L.overflows[1])[0])==null?void 0:A.placement;if(!q)switch(g){case"bestFit":{var R;const K=(R=k.filter(L=>{if(D){const V=hi(L.placement);return V===x||V==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(V=>V>0).reduce((V,F)=>V+F,0)]).sort((L,V)=>L[1]-V[1])[0])==null?void 0:R[0];K&&(q=K);break}case"initialPlacement":q=l;break}if(s!==q)return{reset:{placement:q}}}return{}}}};function KS(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function YS(t){return c$.some(e=>t[e]>=0)}const E$=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=oo(t,e);switch(r){case"referenceHidden":{const i=await bh(e,{...s,elementContext:"reference"}),a=KS(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:YS(a)}}}case"escaped":{const i=await bh(e,{...s,altBoundary:!0}),a=KS(i,n.floating);return{data:{escapedOffsets:a,escaped:YS(a)}}}default:return{}}}}},OP=new Set(["left","top"]);async function N$(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=ao(n),l=Lu(n),c=hi(n)==="y",u=OP.has(a)?-1:1,d=i&&c?-1:1,f=oo(e,t);let{mainAxis:p,crossAxis:g,alignmentAxis:b}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof b=="number"&&(g=l==="end"?b*-1:b),c?{x:g*d,y:p*u}:{x:p*u,y:g*d}}const S$=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:a,middlewareData:l}=e,c=await N$(e,t);return a===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:a}}}}},j$=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:a=!1,limiter:l={fn:w=>{let{x:_,y:x}=w;return{x:_,y:x}}},...c}=oo(t,e),u={x:n,y:r},d=await bh(e,c),f=hi(ao(s)),p=h_(f);let g=u[p],b=u[f];if(i){const w=p==="y"?"top":"left",_=p==="y"?"bottom":"right",x=g+d[w],v=g-d[_];g=Ww(x,g,v)}if(a){const w=f==="y"?"top":"left",_=f==="y"?"bottom":"right",x=b+d[w],v=b-d[_];b=Ww(x,b,v)}const y=l.fn({...e,[p]:g,[f]:b});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[p]:i,[f]:a}}}}}},C$=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:a}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=oo(t,e),d={x:n,y:r},f=hi(s),p=h_(f);let g=d[p],b=d[f];const y=oo(l,e),w=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(c){const v=p==="y"?"height":"width",j=i.reference[p]-i.floating[v]+w.mainAxis,P=i.reference[p]+i.reference[v]-w.mainAxis;g<j?g=j:g>P&&(g=P)}if(u){var _,x;const v=p==="y"?"width":"height",j=OP.has(ao(s)),P=i.reference[f]-i.floating[v]+(j&&((_=a.offset)==null?void 0:_[f])||0)+(j?0:w.crossAxis),D=i.reference[f]+i.reference[v]+(j?0:((x=a.offset)==null?void 0:x[f])||0)-(j?w.crossAxis:0);b<P?b=P:b>D&&(b=D)}return{[p]:g,[f]:b}}}},k$=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:a,elements:l}=e,{apply:c=()=>{},...u}=oo(t,e),d=await bh(e,u),f=ao(s),p=Lu(s),g=hi(s)==="y",{width:b,height:y}=i.floating;let w,_;f==="top"||f==="bottom"?(w=f,_=p===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(_=f,w=p==="end"?"top":"bottom");const x=y-d.top-d.bottom,v=b-d.left-d.right,j=Ea(y-d[w],x),P=Ea(b-d[_],v),D=!e.middlewareData.shift;let S=j,N=P;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(N=v),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(S=x),D&&!p){const k=Kr(d.left,0),I=Kr(d.right,0),A=Kr(d.top,0),R=Kr(d.bottom,0);g?N=b-2*(k!==0||I!==0?k+I:Kr(d.left,d.right)):S=y-2*(A!==0||R!==0?A+R:Kr(d.top,d.bottom))}await c({...e,availableWidth:N,availableHeight:S});const T=await a.getDimensions(l.floating);return b!==T.width||y!==T.height?{reset:{rects:!0}}:{}}}};function rv(){return typeof window<"u"}function Fu(t){return MP(t)?(t.nodeName||"").toLowerCase():"#document"}function es(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ri(t){var e;return(e=(MP(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function MP(t){return rv()?t instanceof Node||t instanceof es(t).Node:!1}function zs(t){return rv()?t instanceof Element||t instanceof es(t).Element:!1}function ji(t){return rv()?t instanceof HTMLElement||t instanceof es(t).HTMLElement:!1}function QS(t){return!rv()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof es(t).ShadowRoot}const T$=new Set(["inline","contents"]);function of(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Ws(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!T$.has(s)}const I$=new Set(["table","td","th"]);function R$(t){return I$.has(Fu(t))}const P$=[":popover-open",":modal"];function sv(t){return P$.some(e=>{try{return t.matches(e)}catch{return!1}})}const A$=["transform","translate","scale","rotate","perspective"],D$=["transform","translate","scale","rotate","perspective","filter"],O$=["paint","layout","strict","content"];function p_(t){const e=g_(),n=zs(t)?Ws(t):t;return A$.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||D$.some(r=>(n.willChange||"").includes(r))||O$.some(r=>(n.contain||"").includes(r))}function M$(t){let e=Na(t);for(;ji(e)&&!pu(e);){if(p_(e))return e;if(sv(e))return null;e=Na(e)}return null}function g_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const L$=new Set(["html","body","#document"]);function pu(t){return L$.has(Fu(t))}function Ws(t){return es(t).getComputedStyle(t)}function iv(t){return zs(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Na(t){if(Fu(t)==="html")return t;const e=t.assignedSlot||t.parentNode||QS(t)&&t.host||Ri(t);return QS(e)?e.host:e}function LP(t){const e=Na(t);return pu(e)?t.ownerDocument?t.ownerDocument.body:t.body:ji(e)&&of(e)?e:LP(e)}function _h(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=LP(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),a=es(s);if(i){const l=qw(a);return e.concat(a,a.visualViewport||[],of(s)?s:[],l&&n?_h(l):[])}return e.concat(s,_h(s,[],n))}function qw(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function FP(t){const e=Ws(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=ji(t),i=s?t.offsetWidth:n,a=s?t.offsetHeight:r,l=Vp(n)!==i||Vp(r)!==a;return l&&(n=i,r=a),{width:n,height:r,$:l}}function v_(t){return zs(t)?t:t.contextElement}function qc(t){const e=v_(t);if(!ji(e))return vi(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=FP(e);let a=(i?Vp(n.width):n.width)/r,l=(i?Vp(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const F$=vi(0);function VP(t){const e=es(t);return!g_()||!e.visualViewport?F$:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function V$(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==es(t)?!1:e}function Al(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=v_(t);let a=vi(1);e&&(r?zs(r)&&(a=qc(r)):a=qc(t));const l=V$(i,n,r)?VP(i):vi(0);let c=(s.left+l.x)/a.x,u=(s.top+l.y)/a.y,d=s.width/a.x,f=s.height/a.y;if(i){const p=es(i),g=r&&zs(r)?es(r):r;let b=p,y=qw(b);for(;y&&r&&g!==b;){const w=qc(y),_=y.getBoundingClientRect(),x=Ws(y),v=_.left+(y.clientLeft+parseFloat(x.paddingLeft))*w.x,j=_.top+(y.clientTop+parseFloat(x.paddingTop))*w.y;c*=w.x,u*=w.y,d*=w.x,f*=w.y,c+=v,u+=j,b=es(y),y=qw(b)}}return $p({width:d,height:f,x:c,y:u})}function y_(t,e){const n=iv(t).scrollLeft;return e?e.left+n:Al(Ri(t)).left+n}function UP(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:y_(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function U$(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",a=Ri(r),l=e?sv(e.floating):!1;if(r===a||l&&i)return n;let c={scrollLeft:0,scrollTop:0},u=vi(1);const d=vi(0),f=ji(r);if((f||!f&&!i)&&((Fu(r)!=="body"||of(a))&&(c=iv(r)),ji(r))){const g=Al(r);u=qc(r),d.x=g.x+r.clientLeft,d.y=g.y+r.clientTop}const p=a&&!f&&!i?UP(a,c,!0):vi(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+p.x,y:n.y*u.y-c.scrollTop*u.y+d.y+p.y}}function $$(t){return Array.from(t.getClientRects())}function B$(t){const e=Ri(t),n=iv(t),r=t.ownerDocument.body,s=Kr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Kr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+y_(t);const l=-n.scrollTop;return Ws(r).direction==="rtl"&&(a+=Kr(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:a,y:l}}function z$(t,e){const n=es(t),r=Ri(t),s=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,l=0,c=0;if(s){i=s.width,a=s.height;const u=g_();(!u||u&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:a,x:l,y:c}}const W$=new Set(["absolute","fixed"]);function H$(t,e){const n=Al(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=ji(t)?qc(t):vi(1),a=t.clientWidth*i.x,l=t.clientHeight*i.y,c=s*i.x,u=r*i.y;return{width:a,height:l,x:c,y:u}}function XS(t,e,n){let r;if(e==="viewport")r=z$(t,n);else if(e==="document")r=B$(Ri(t));else if(zs(e))r=H$(e,n);else{const s=VP(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return $p(r)}function $P(t,e){const n=Na(t);return n===e||!zs(n)||pu(n)?!1:Ws(n).position==="fixed"||$P(n,e)}function q$(t,e){const n=e.get(t);if(n)return n;let r=_h(t,[],!1).filter(l=>zs(l)&&Fu(l)!=="body"),s=null;const i=Ws(t).position==="fixed";let a=i?Na(t):t;for(;zs(a)&&!pu(a);){const l=Ws(a),c=p_(a);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&W$.has(s.position)||of(a)&&!c&&$P(t,a))?r=r.filter(d=>d!==a):s=l,a=Na(a)}return e.set(t,r),r}function G$(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const a=[...n==="clippingAncestors"?sv(e)?[]:q$(e,this._c):[].concat(n),r],l=a[0],c=a.reduce((u,d)=>{const f=XS(e,d,s);return u.top=Kr(f.top,u.top),u.right=Ea(f.right,u.right),u.bottom=Ea(f.bottom,u.bottom),u.left=Kr(f.left,u.left),u},XS(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function K$(t){const{width:e,height:n}=FP(t);return{width:e,height:n}}function Y$(t,e,n){const r=ji(e),s=Ri(e),i=n==="fixed",a=Al(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const c=vi(0);function u(){c.x=y_(s)}if(r||!r&&!i)if((Fu(e)!=="body"||of(s))&&(l=iv(e)),r){const g=Al(e,!0,i,e);c.x=g.x+e.clientLeft,c.y=g.y+e.clientTop}else s&&u();i&&!r&&s&&u();const d=s&&!r&&!i?UP(s,l):vi(0),f=a.left+l.scrollLeft-c.x-d.x,p=a.top+l.scrollTop-c.y-d.y;return{x:f,y:p,width:a.width,height:a.height}}function nx(t){return Ws(t).position==="static"}function ZS(t,e){if(!ji(t)||Ws(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Ri(t)===n&&(n=n.ownerDocument.body),n}function BP(t,e){const n=es(t);if(sv(t))return n;if(!ji(t)){let s=Na(t);for(;s&&!pu(s);){if(zs(s)&&!nx(s))return s;s=Na(s)}return n}let r=ZS(t,e);for(;r&&R$(r)&&nx(r);)r=ZS(r,e);return r&&pu(r)&&nx(r)&&!p_(r)?n:r||M$(t)||n}const Q$=async function(t){const e=this.getOffsetParent||BP,n=this.getDimensions,r=await n(t.floating);return{reference:Y$(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function X$(t){return Ws(t).direction==="rtl"}const Z$={convertOffsetParentRelativeRectToViewportRelativeRect:U$,getDocumentElement:Ri,getClippingRect:G$,getOffsetParent:BP,getElementRects:Q$,getClientRects:$$,getDimensions:K$,getScale:qc,isElement:zs,isRTL:X$};function zP(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function J$(t,e){let n=null,r;const s=Ri(t);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=t.getBoundingClientRect(),{left:d,top:f,width:p,height:g}=u;if(l||e(),!p||!g)return;const b=_m(f),y=_m(s.clientWidth-(d+p)),w=_m(s.clientHeight-(f+g)),_=_m(d),v={rootMargin:-b+"px "+-y+"px "+-w+"px "+-_+"px",threshold:Kr(0,Ea(1,c))||1};let j=!0;function P(D){const S=D[0].intersectionRatio;if(S!==c){if(!j)return a();S?a(!1,S):r=setTimeout(()=>{a(!1,1e-7)},1e3)}S===1&&!zP(u,t.getBoundingClientRect())&&a(),j=!1}try{n=new IntersectionObserver(P,{...v,root:s.ownerDocument})}catch{n=new IntersectionObserver(P,v)}n.observe(t)}return a(!0),i}function eB(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=v_(t),d=s||i?[...u?_h(u):[],..._h(e)]:[];d.forEach(_=>{s&&_.addEventListener("scroll",n,{passive:!0}),i&&_.addEventListener("resize",n)});const f=u&&l?J$(u,n):null;let p=-1,g=null;a&&(g=new ResizeObserver(_=>{let[x]=_;x&&x.target===u&&g&&(g.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var v;(v=g)==null||v.observe(e)})),n()}),u&&!c&&g.observe(u),g.observe(e));let b,y=c?Al(t):null;c&&w();function w(){const _=Al(t);y&&!zP(y,_)&&n(),y=_,b=requestAnimationFrame(w)}return n(),()=>{var _;d.forEach(x=>{s&&x.removeEventListener("scroll",n),i&&x.removeEventListener("resize",n)}),f==null||f(),(_=g)==null||_.disconnect(),g=null,c&&cancelAnimationFrame(b)}}const tB=S$,nB=j$,rB=_$,sB=k$,iB=E$,JS=b$,oB=C$,aB=(t,e,n)=>{const r=new Map,s={platform:Z$,...n},i={...s.platform,_c:r};return w$(t,e,{...s,platform:i})};var lB=typeof document<"u",cB=function(){},Xm=lB?m.useLayoutEffect:cB;function Bp(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Bp(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Bp(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function WP(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function ej(t,e){const n=WP(t);return Math.round(e*n)/n}function rx(t){const e=m.useRef(t);return Xm(()=>{e.current=t}),e}function uB(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[d,f]=m.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,g]=m.useState(r);Bp(p,r)||g(r);const[b,y]=m.useState(null),[w,_]=m.useState(null),x=m.useCallback(L=>{L!==D.current&&(D.current=L,y(L))},[]),v=m.useCallback(L=>{L!==S.current&&(S.current=L,_(L))},[]),j=i||b,P=a||w,D=m.useRef(null),S=m.useRef(null),N=m.useRef(d),T=c!=null,k=rx(c),I=rx(s),A=rx(u),R=m.useCallback(()=>{if(!D.current||!S.current)return;const L={placement:e,strategy:n,middleware:p};I.current&&(L.platform=I.current),aB(D.current,S.current,L).then(V=>{const F={...V,isPositioned:A.current!==!1};W.current&&!Bp(N.current,F)&&(N.current=F,Ql.flushSync(()=>{f(F)}))})},[p,e,n,I,A]);Xm(()=>{u===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,f(L=>({...L,isPositioned:!1})))},[u]);const W=m.useRef(!1);Xm(()=>(W.current=!0,()=>{W.current=!1}),[]),Xm(()=>{if(j&&(D.current=j),P&&(S.current=P),j&&P){if(k.current)return k.current(j,P,R);R()}},[j,P,R,k,T]);const U=m.useMemo(()=>({reference:D,floating:S,setReference:x,setFloating:v}),[x,v]),q=m.useMemo(()=>({reference:j,floating:P}),[j,P]),K=m.useMemo(()=>{const L={position:n,left:0,top:0};if(!q.floating)return L;const V=ej(q.floating,d.x),F=ej(q.floating,d.y);return l?{...L,transform:"translate("+V+"px, "+F+"px)",...WP(q.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:V,top:F}},[n,l,q.floating,d.x,d.y]);return m.useMemo(()=>({...d,update:R,refs:U,elements:q,floatingStyles:K}),[d,R,U,q,K])}const dB=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?JS({element:r.current,padding:s}).fn(n):{}:r?JS({element:r,padding:s}).fn(n):{}}}},hB=(t,e)=>({...tB(t),options:[t,e]}),fB=(t,e)=>({...nB(t),options:[t,e]}),mB=(t,e)=>({...oB(t),options:[t,e]}),pB=(t,e)=>({...rB(t),options:[t,e]}),gB=(t,e)=>({...sB(t),options:[t,e]}),vB=(t,e)=>({...iB(t),options:[t,e]}),yB=(t,e)=>({...dB(t),options:[t,e]});var xB="Arrow",HP=m.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return o.jsx(ke.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});HP.displayName=xB;var wB=HP;function x_(t){const[e,n]=m.useState(void 0);return hn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,l=u.blockSize}else a=t.offsetWidth,l=t.offsetHeight;n({width:a,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var w_="Popper",[qP,Fa]=Kn(w_),[bB,GP]=qP(w_),KP=t=>{const{__scopePopper:e,children:n}=t,[r,s]=m.useState(null);return o.jsx(bB,{scope:e,anchor:r,onAnchorChange:s,children:n})};KP.displayName=w_;var YP="PopperAnchor",QP=m.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=GP(YP,n),a=m.useRef(null),l=Ze(e,a);return m.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:o.jsx(ke.div,{...s,ref:l})});QP.displayName=YP;var b_="PopperContent",[_B,EB]=qP(b_),XP=m.forwardRef((t,e)=>{var J,Fe,Me,le,Ne,De;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:g="optimized",onPlaced:b,...y}=t,w=GP(b_,n),[_,x]=m.useState(null),v=Ze(e,Nt=>x(Nt)),[j,P]=m.useState(null),D=x_(j),S=(D==null?void 0:D.width)??0,N=(D==null?void 0:D.height)??0,T=r+(i!=="center"?"-"+i:""),k=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},I=Array.isArray(u)?u:[u],A=I.length>0,R={padding:k,boundary:I.filter(SB),altBoundary:A},{refs:W,floatingStyles:U,placement:q,isPositioned:K,middlewareData:L}=uB({strategy:"fixed",placement:T,whileElementsMounted:(...Nt)=>eB(...Nt,{animationFrame:g==="always"}),elements:{reference:w.anchor},middleware:[hB({mainAxis:s+N,alignmentAxis:a}),c&&fB({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?mB():void 0,...R}),c&&pB({...R}),gB({...R,apply:({elements:Nt,rects:Re,availableWidth:Ue,availableHeight:ht})=>{const{width:Z,height:X}=Re.reference,ce=Nt.floating.style;ce.setProperty("--radix-popper-available-width",`${Ue}px`),ce.setProperty("--radix-popper-available-height",`${ht}px`),ce.setProperty("--radix-popper-anchor-width",`${Z}px`),ce.setProperty("--radix-popper-anchor-height",`${X}px`)}}),j&&yB({element:j,padding:l}),jB({arrowWidth:S,arrowHeight:N}),p&&vB({strategy:"referenceHidden",...R})]}),[V,F]=eA(q),Q=sn(b);hn(()=>{K&&(Q==null||Q())},[K,Q]);const $=(J=L.arrow)==null?void 0:J.x,te=(Fe=L.arrow)==null?void 0:Fe.y,ue=((Me=L.arrow)==null?void 0:Me.centerOffset)!==0,[de,Ce]=m.useState();return hn(()=>{_&&Ce(window.getComputedStyle(_).zIndex)},[_]),o.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...U,transform:K?U.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:de,"--radix-popper-transform-origin":[(le=L.transformOrigin)==null?void 0:le.x,(Ne=L.transformOrigin)==null?void 0:Ne.y].join(" "),...((De=L.hide)==null?void 0:De.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:o.jsx(_B,{scope:n,placedSide:V,onArrowChange:P,arrowX:$,arrowY:te,shouldHideArrow:ue,children:o.jsx(ke.div,{"data-side":V,"data-align":F,...y,ref:v,style:{...y.style,animation:K?void 0:"none"}})})})});XP.displayName=b_;var ZP="PopperArrow",NB={top:"bottom",right:"left",bottom:"top",left:"right"},JP=m.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=EB(ZP,r),a=NB[i.placedSide];return o.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:o.jsx(wB,{...s,ref:n,style:{...s.style,display:"block"}})})});JP.displayName=ZP;function SB(t){return t!==null}var jB=t=>({name:"transformOrigin",options:t,fn(e){var w,_,x;const{placement:n,rects:r,middlewareData:s}=e,a=((w=s.arrow)==null?void 0:w.centerOffset)!==0,l=a?0:t.arrowWidth,c=a?0:t.arrowHeight,[u,d]=eA(n),f={start:"0%",center:"50%",end:"100%"}[d],p=(((_=s.arrow)==null?void 0:_.x)??0)+l/2,g=(((x=s.arrow)==null?void 0:x.y)??0)+c/2;let b="",y="";return u==="bottom"?(b=a?f:`${p}px`,y=`${-c}px`):u==="top"?(b=a?f:`${p}px`,y=`${r.floating.height+c}px`):u==="right"?(b=`${-c}px`,y=a?f:`${g}px`):u==="left"&&(b=`${r.floating.width+c}px`,y=a?f:`${g}px`),{data:{x:b,y}}}});function eA(t){const[e,n="center"]=t.split("-");return[e,n]}var __=KP,af=QP,ov=XP,av=JP,[lv,zoe]=Kn("Tooltip",[Fa]),E_=Fa(),tA="TooltipProvider",CB=700,tj="tooltip.open",[kB,nA]=lv(tA),rA=t=>{const{__scopeTooltip:e,delayDuration:n=CB,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,a=m.useRef(!0),l=m.useRef(!1),c=m.useRef(0);return m.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),o.jsx(kB,{scope:e,isOpenDelayedRef:a,delayDuration:n,onOpen:m.useCallback(()=>{window.clearTimeout(c.current),a.current=!1},[]),onClose:m.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:m.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:i})};rA.displayName=tA;var sA="Tooltip",[Woe,cv]=lv(sA),Gw="TooltipTrigger",TB=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=cv(Gw,n),i=nA(Gw,n),a=E_(n),l=m.useRef(null),c=Ze(e,l,s.onTriggerChange),u=m.useRef(!1),d=m.useRef(!1),f=m.useCallback(()=>u.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),o.jsx(af,{asChild:!0,...a,children:o.jsx(ke.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:xe(t.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:xe(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:xe(t.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:xe(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:xe(t.onBlur,s.onClose),onClick:xe(t.onClick,s.onClose)})})});TB.displayName=Gw;var IB="TooltipPortal",[Hoe,RB]=lv(IB,{forceMount:void 0}),gu="TooltipContent",iA=m.forwardRef((t,e)=>{const n=RB(gu,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,a=cv(gu,t.__scopeTooltip);return o.jsx(Ln,{present:r||a.open,children:a.disableHoverableContent?o.jsx(oA,{side:s,...i,ref:e}):o.jsx(PB,{side:s,...i,ref:e})})}),PB=m.forwardRef((t,e)=>{const n=cv(gu,t.__scopeTooltip),r=nA(gu,t.__scopeTooltip),s=m.useRef(null),i=Ze(e,s),[a,l]=m.useState(null),{trigger:c,onClose:u}=n,d=s.current,{onPointerInTransitChange:f}=r,p=m.useCallback(()=>{l(null),f(!1)},[f]),g=m.useCallback((b,y)=>{const w=b.currentTarget,_={x:b.clientX,y:b.clientY},x=LB(_,w.getBoundingClientRect()),v=FB(_,x),j=VB(y.getBoundingClientRect()),P=$B([...v,...j]);l(P),f(!0)},[f]);return m.useEffect(()=>()=>p(),[p]),m.useEffect(()=>{if(c&&d){const b=w=>g(w,d),y=w=>g(w,c);return c.addEventListener("pointerleave",b),d.addEventListener("pointerleave",y),()=>{c.removeEventListener("pointerleave",b),d.removeEventListener("pointerleave",y)}}},[c,d,g,p]),m.useEffect(()=>{if(a){const b=y=>{const w=y.target,_={x:y.clientX,y:y.clientY},x=(c==null?void 0:c.contains(w))||(d==null?void 0:d.contains(w)),v=!UB(_,a);x?p():v&&(p(),u())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[c,d,a,u,p]),o.jsx(oA,{...t,ref:i})}),[AB,DB]=lv(sA,{isInside:!1}),OB=BR("TooltipContent"),oA=m.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:a,...l}=t,c=cv(gu,n),u=E_(n),{onClose:d}=c;return m.useEffect(()=>(document.addEventListener(tj,d),()=>document.removeEventListener(tj,d)),[d]),m.useEffect(()=>{if(c.trigger){const f=p=>{const g=p.target;g!=null&&g.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),o.jsx(Xl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:o.jsxs(ov,{"data-state":c.stateAttribute,...u,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(OB,{children:r}),o.jsx(AB,{scope:n,isInside:!0,children:o.jsx(t9,{id:c.contentId,role:"tooltip",children:s||r})})]})})});iA.displayName=gu;var aA="TooltipArrow",MB=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=E_(n);return DB(aA,n).isInside?null:o.jsx(av,{...s,...r,ref:e})});MB.displayName=aA;function LB(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function FB(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function VB(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function UB(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,a=e.length-1;i<e.length;a=i++){const l=e[i],c=e[a],u=l.x,d=l.y,f=c.x,p=c.y;d>r!=p>r&&n<(f-u)*(r-d)/(p-d)+u&&(s=!s)}return s}function $B(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),BB(e)}function BB(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],a=e[e.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],a=n[n.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var zB=rA,lA=iA;const WB=zB,HB=m.forwardRef(({className:t,sideOffset:e=4,...n},r)=>o.jsx(lA,{ref:r,sideOffset:e,className:_e("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));HB.displayName=lA.displayName;var uv=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},dv=typeof window>"u"||"Deno"in globalThis;function Cs(){}function qB(t,e){return typeof t=="function"?t(e):t}function GB(t){return typeof t=="number"&&t>=0&&t!==1/0}function KB(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Kw(t,e){return typeof t=="function"?t(e):t}function YB(t,e){return typeof t=="function"?t(e):t}function nj(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:a,stale:l}=t;if(a){if(r){if(e.queryHash!==N_(a,e.options))return!1}else if(!Nh(e.queryKey,a))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||i&&!i(e))}function rj(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Eh(e.options.mutationKey)!==Eh(i))return!1}else if(!Nh(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function N_(t,e){return((e==null?void 0:e.queryKeyHashFn)||Eh)(t)}function Eh(t){return JSON.stringify(t,(e,n)=>Yw(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Nh(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Nh(t[n],e[n])):!1}function cA(t,e){if(t===e)return t;const n=sj(t)&&sj(e);if(n||Yw(t)&&Yw(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),a=i.length,l=n?[]:{},c=new Set(r);let u=0;for(let d=0;d<a;d++){const f=n?d:i[d];(!n&&c.has(f)||n)&&t[f]===void 0&&e[f]===void 0?(l[f]=void 0,u++):(l[f]=cA(t[f],e[f]),l[f]===t[f]&&t[f]!==void 0&&u++)}return s===a&&u===s?t:l}return e}function sj(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Yw(t){if(!ij(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!ij(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function ij(t){return Object.prototype.toString.call(t)==="[object Object]"}function QB(t){return new Promise(e=>{setTimeout(e,t)})}function XB(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?cA(t,e):e}function ZB(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function JB(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var S_=Symbol();function uA(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===S_?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var fl,zo,Jc,vT,e8=(vT=class extends uv{constructor(){super();xt(this,fl);xt(this,zo);xt(this,Jc);nt(this,Jc,e=>{if(!dv&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){re(this,zo)||this.setEventListener(re(this,Jc))}onUnsubscribe(){var e;this.hasListeners()||((e=re(this,zo))==null||e.call(this),nt(this,zo,void 0))}setEventListener(e){var n;nt(this,Jc,e),(n=re(this,zo))==null||n.call(this),nt(this,zo,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){re(this,fl)!==e&&(nt(this,fl,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof re(this,fl)=="boolean"?re(this,fl):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},fl=new WeakMap,zo=new WeakMap,Jc=new WeakMap,vT),dA=new e8,eu,Wo,tu,yT,t8=(yT=class extends uv{constructor(){super();xt(this,eu,!0);xt(this,Wo);xt(this,tu);nt(this,tu,e=>{if(!dv&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){re(this,Wo)||this.setEventListener(re(this,tu))}onUnsubscribe(){var e;this.hasListeners()||((e=re(this,Wo))==null||e.call(this),nt(this,Wo,void 0))}setEventListener(e){var n;nt(this,tu,e),(n=re(this,Wo))==null||n.call(this),nt(this,Wo,e(this.setOnline.bind(this)))}setOnline(e){re(this,eu)!==e&&(nt(this,eu,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return re(this,eu)}},eu=new WeakMap,Wo=new WeakMap,tu=new WeakMap,yT),zp=new t8;function n8(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function r8(t){return Math.min(1e3*2**t,3e4)}function hA(t){return(t??"online")==="online"?zp.isOnline():!0}var fA=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function sx(t){return t instanceof fA}function mA(t){let e=!1,n=0,r=!1,s;const i=n8(),a=y=>{var w;r||(p(new fA(y)),(w=t.abort)==null||w.call(t))},l=()=>{e=!0},c=()=>{e=!1},u=()=>dA.isFocused()&&(t.networkMode==="always"||zp.isOnline())&&t.canRun(),d=()=>hA(t.networkMode)&&t.canRun(),f=y=>{var w;r||(r=!0,(w=t.onSuccess)==null||w.call(t,y),s==null||s(),i.resolve(y))},p=y=>{var w;r||(r=!0,(w=t.onError)==null||w.call(t,y),s==null||s(),i.reject(y))},g=()=>new Promise(y=>{var w;s=_=>{(r||u())&&y(_)},(w=t.onPause)==null||w.call(t)}).then(()=>{var y;s=void 0,r||(y=t.onContinue)==null||y.call(t)}),b=()=>{if(r)return;let y;const w=n===0?t.initialPromise:void 0;try{y=w??t.fn()}catch(_){y=Promise.reject(_)}Promise.resolve(y).then(f).catch(_=>{var D;if(r)return;const x=t.retry??(dv?0:3),v=t.retryDelay??r8,j=typeof v=="function"?v(n,_):v,P=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,_);if(e||!P){p(_);return}n++,(D=t.onFail)==null||D.call(t,n,_),QB(j).then(()=>u()?void 0:g()).then(()=>{e?p(_):b()})})};return{promise:i,cancel:a,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?b():g().then(b),i)}}var s8=t=>setTimeout(t,0);function i8(){let t=[],e=0,n=l=>{l()},r=l=>{l()},s=s8;const i=l=>{e?t.push(l):s(()=>{n(l)})},a=()=>{const l=t;t=[],l.length&&s(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||a()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var vr=i8(),ml,xT,pA=(xT=class{constructor(){xt(this,ml)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),GB(this.gcTime)&&nt(this,ml,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(dv?1/0:5*60*1e3))}clearGcTimeout(){re(this,ml)&&(clearTimeout(re(this,ml)),nt(this,ml,void 0))}},ml=new WeakMap,xT),nu,pl,as,gl,Jn,Gh,vl,ks,$i,wT,o8=(wT=class extends pA{constructor(n){super();xt(this,ks);xt(this,nu);xt(this,pl);xt(this,as);xt(this,gl);xt(this,Jn);xt(this,Gh);xt(this,vl);nt(this,vl,!1),nt(this,Gh,n.defaultOptions),this.setOptions(n.options),this.observers=[],nt(this,gl,n.client),nt(this,as,re(this,gl).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,nt(this,nu,l8(this.options)),this.state=n.state??re(this,nu),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=re(this,Jn))==null?void 0:n.promise}setOptions(n){this.options={...re(this,Gh),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&re(this,as).remove(this)}setData(n,r){const s=XB(this.state.data,n,this.options);return Yn(this,ks,$i).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){Yn(this,ks,$i).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=re(this,Jn))==null?void 0:s.promise;return(i=re(this,Jn))==null||i.cancel(n),r?r.then(Cs).catch(Cs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(re(this,nu))}isActive(){return this.observers.some(n=>YB(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===S_||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>Kw(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!KB(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=re(this,Jn))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=re(this,Jn))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),re(this,as).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(re(this,Jn)&&(re(this,vl)?re(this,Jn).cancel({revert:!0}):re(this,Jn).cancelRetry()),this.scheduleGc()),re(this,as).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Yn(this,ks,$i).call(this,{type:"invalidate"})}fetch(n,r){var d,f,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(re(this,Jn))return re(this,Jn).continueRetry(),re(this,Jn).promise}if(n&&this.setOptions(n),!this.options.queryFn){const g=this.observers.find(b=>b.options.queryFn);g&&this.setOptions(g.options)}const s=new AbortController,i=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(nt(this,vl,!0),s.signal)})},a=()=>{const g=uA(this.options,r),y=(()=>{const w={client:re(this,gl),queryKey:this.queryKey,meta:this.meta};return i(w),w})();return nt(this,vl,!1),this.options.persister?this.options.persister(g,y,this):g(y)},c=(()=>{const g={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:re(this,gl),state:this.state,fetchFn:a};return i(g),g})();(d=this.options.behavior)==null||d.onFetch(c,this),nt(this,pl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=c.fetchOptions)==null?void 0:f.meta))&&Yn(this,ks,$i).call(this,{type:"fetch",meta:(p=c.fetchOptions)==null?void 0:p.meta});const u=g=>{var b,y,w,_;sx(g)&&g.silent||Yn(this,ks,$i).call(this,{type:"error",error:g}),sx(g)||((y=(b=re(this,as).config).onError)==null||y.call(b,g,this),(_=(w=re(this,as).config).onSettled)==null||_.call(w,this.state.data,g,this)),this.scheduleGc()};return nt(this,Jn,mA({initialPromise:r==null?void 0:r.initialPromise,fn:c.fetchFn,abort:s.abort.bind(s),onSuccess:g=>{var b,y,w,_;if(g===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(g)}catch(x){u(x);return}(y=(b=re(this,as).config).onSuccess)==null||y.call(b,g,this),(_=(w=re(this,as).config).onSettled)==null||_.call(w,g,this.state.error,this),this.scheduleGc()},onError:u,onFail:(g,b)=>{Yn(this,ks,$i).call(this,{type:"failed",failureCount:g,error:b})},onPause:()=>{Yn(this,ks,$i).call(this,{type:"pause"})},onContinue:()=>{Yn(this,ks,$i).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),re(this,Jn).start()}},nu=new WeakMap,pl=new WeakMap,as=new WeakMap,gl=new WeakMap,Jn=new WeakMap,Gh=new WeakMap,vl=new WeakMap,ks=new WeakSet,$i=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...a8(s.data,this.options),fetchMeta:n.meta??null};case"success":return nt(this,pl,void 0),{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return sx(i)&&i.revert&&re(this,pl)?{...re(this,pl),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),vr.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),re(this,as).notify({query:this,type:"updated",action:n})})},wT);function a8(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:hA(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function l8(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ai,bT,c8=(bT=class extends uv{constructor(e={}){super();xt(this,ai);this.config=e,nt(this,ai,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??N_(s,n);let a=this.get(i);return a||(a=new o8({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(a)),a}add(e){re(this,ai).has(e.queryHash)||(re(this,ai).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=re(this,ai).get(e.queryHash);n&&(e.destroy(),n===e&&re(this,ai).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){vr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return re(this,ai).get(e)}getAll(){return[...re(this,ai).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>nj(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>nj(e,r)):n}notify(e){vr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){vr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){vr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ai=new WeakMap,bT),li,fr,yl,ci,Po,_T,u8=(_T=class extends pA{constructor(n){super();xt(this,ci);xt(this,li);xt(this,fr);xt(this,yl);this.mutationId=n.mutationId,nt(this,fr,n.mutationCache),nt(this,li,[]),this.state=n.state||d8(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){re(this,li).includes(n)||(re(this,li).push(n),this.clearGcTimeout(),re(this,fr).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){nt(this,li,re(this,li).filter(r=>r!==n)),this.scheduleGc(),re(this,fr).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){re(this,li).length||(this.state.status==="pending"?this.scheduleGc():re(this,fr).remove(this))}continue(){var n;return((n=re(this,yl))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var a,l,c,u,d,f,p,g,b,y,w,_,x,v,j,P,D,S,N,T;const r=()=>{Yn(this,ci,Po).call(this,{type:"continue"})};nt(this,yl,mA({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(k,I)=>{Yn(this,ci,Po).call(this,{type:"failed",failureCount:k,error:I})},onPause:()=>{Yn(this,ci,Po).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>re(this,fr).canRun(this)}));const s=this.state.status==="pending",i=!re(this,yl).canStart();try{if(s)r();else{Yn(this,ci,Po).call(this,{type:"pending",variables:n,isPaused:i}),await((l=(a=re(this,fr).config).onMutate)==null?void 0:l.call(a,n,this));const I=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,n));I!==this.state.context&&Yn(this,ci,Po).call(this,{type:"pending",context:I,variables:n,isPaused:i})}const k=await re(this,yl).start();return await((f=(d=re(this,fr).config).onSuccess)==null?void 0:f.call(d,k,n,this.state.context,this)),await((g=(p=this.options).onSuccess)==null?void 0:g.call(p,k,n,this.state.context)),await((y=(b=re(this,fr).config).onSettled)==null?void 0:y.call(b,k,null,this.state.variables,this.state.context,this)),await((_=(w=this.options).onSettled)==null?void 0:_.call(w,k,null,n,this.state.context)),Yn(this,ci,Po).call(this,{type:"success",data:k}),k}catch(k){try{throw await((v=(x=re(this,fr).config).onError)==null?void 0:v.call(x,k,n,this.state.context,this)),await((P=(j=this.options).onError)==null?void 0:P.call(j,k,n,this.state.context)),await((S=(D=re(this,fr).config).onSettled)==null?void 0:S.call(D,void 0,k,this.state.variables,this.state.context,this)),await((T=(N=this.options).onSettled)==null?void 0:T.call(N,void 0,k,n,this.state.context)),k}finally{Yn(this,ci,Po).call(this,{type:"error",error:k})}}finally{re(this,fr).runNext(this)}}},li=new WeakMap,fr=new WeakMap,yl=new WeakMap,ci=new WeakSet,Po=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),vr.batch(()=>{re(this,li).forEach(s=>{s.onMutationUpdate(n)}),re(this,fr).notify({mutation:this,type:"updated",action:n})})},_T);function d8(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Hi,Ts,Kh,ET,h8=(ET=class extends uv{constructor(e={}){super();xt(this,Hi);xt(this,Ts);xt(this,Kh);this.config=e,nt(this,Hi,new Set),nt(this,Ts,new Map),nt(this,Kh,0)}build(e,n,r){const s=new u8({mutationCache:this,mutationId:++tm(this,Kh)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){re(this,Hi).add(e);const n=Em(e);if(typeof n=="string"){const r=re(this,Ts).get(n);r?r.push(e):re(this,Ts).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(re(this,Hi).delete(e)){const n=Em(e);if(typeof n=="string"){const r=re(this,Ts).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&re(this,Ts).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Em(e);if(typeof n=="string"){const r=re(this,Ts).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=Em(e);if(typeof n=="string"){const s=(r=re(this,Ts).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){vr.batch(()=>{re(this,Hi).forEach(e=>{this.notify({type:"removed",mutation:e})}),re(this,Hi).clear(),re(this,Ts).clear()})}getAll(){return Array.from(re(this,Hi))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>rj(n,r))}findAll(e={}){return this.getAll().filter(n=>rj(e,n))}notify(e){vr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return vr.batch(()=>Promise.all(e.map(n=>n.continue().catch(Cs))))}},Hi=new WeakMap,Ts=new WeakMap,Kh=new WeakMap,ET);function Em(t){var e;return(e=t.options.scope)==null?void 0:e.id}function oj(t){return{onFetch:(e,n)=>{var d,f,p,g,b;const r=e.options,s=(p=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:p.direction,i=((g=e.state.data)==null?void 0:g.pages)||[],a=((b=e.state.data)==null?void 0:b.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let y=!1;const w=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},_=uA(e.options,e.fetchOptions),x=async(v,j,P)=>{if(y)return Promise.reject();if(j==null&&v.pages.length)return Promise.resolve(v);const S=(()=>{const I={client:e.client,queryKey:e.queryKey,pageParam:j,direction:P?"backward":"forward",meta:e.options.meta};return w(I),I})(),N=await _(S),{maxPages:T}=e.options,k=P?JB:ZB;return{pages:k(v.pages,N,T),pageParams:k(v.pageParams,j,T)}};if(s&&i.length){const v=s==="backward",j=v?f8:aj,P={pages:i,pageParams:a},D=j(r,P);l=await x(P,D,v)}else{const v=t??i.length;do{const j=c===0?a[0]??r.initialPageParam:aj(r,l);if(c>0&&j==null)break;l=await x(l,j),c++}while(c<v)}return l};e.options.persister?e.fetchFn=()=>{var y,w;return(w=(y=e.options).persister)==null?void 0:w.call(y,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function aj(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function f8(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var tn,Ho,qo,ru,su,Go,iu,ou,NT,m8=(NT=class{constructor(t={}){xt(this,tn);xt(this,Ho);xt(this,qo);xt(this,ru);xt(this,su);xt(this,Go);xt(this,iu);xt(this,ou);nt(this,tn,t.queryCache||new c8),nt(this,Ho,t.mutationCache||new h8),nt(this,qo,t.defaultOptions||{}),nt(this,ru,new Map),nt(this,su,new Map),nt(this,Go,0)}mount(){tm(this,Go)._++,re(this,Go)===1&&(nt(this,iu,dA.subscribe(async t=>{t&&(await this.resumePausedMutations(),re(this,tn).onFocus())})),nt(this,ou,zp.subscribe(async t=>{t&&(await this.resumePausedMutations(),re(this,tn).onOnline())})))}unmount(){var t,e;tm(this,Go)._--,re(this,Go)===0&&((t=re(this,iu))==null||t.call(this),nt(this,iu,void 0),(e=re(this,ou))==null||e.call(this),nt(this,ou,void 0))}isFetching(t){return re(this,tn).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return re(this,Ho).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=re(this,tn).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=re(this,tn).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Kw(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return re(this,tn).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=re(this,tn).get(r.queryHash),i=s==null?void 0:s.state.data,a=qB(e,i);if(a!==void 0)return re(this,tn).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return vr.batch(()=>re(this,tn).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=re(this,tn).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=re(this,tn);vr.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=re(this,tn);return vr.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=vr.batch(()=>re(this,tn).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Cs).catch(Cs)}invalidateQueries(t,e={}){return vr.batch(()=>(re(this,tn).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=vr.batch(()=>re(this,tn).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Cs)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Cs)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=re(this,tn).build(this,e);return n.isStaleByTime(Kw(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Cs).catch(Cs)}fetchInfiniteQuery(t){return t.behavior=oj(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Cs).catch(Cs)}ensureInfiniteQueryData(t){return t.behavior=oj(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return zp.isOnline()?re(this,Ho).resumePausedMutations():Promise.resolve()}getQueryCache(){return re(this,tn)}getMutationCache(){return re(this,Ho)}getDefaultOptions(){return re(this,qo)}setDefaultOptions(t){nt(this,qo,t)}setQueryDefaults(t,e){re(this,ru).set(Eh(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...re(this,ru).values()],n={};return e.forEach(r=>{Nh(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){re(this,su).set(Eh(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...re(this,su).values()],n={};return e.forEach(r=>{Nh(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...re(this,qo).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=N_(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===S_&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...re(this,qo).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){re(this,tn).clear(),re(this,Ho).clear()}},tn=new WeakMap,Ho=new WeakMap,qo=new WeakMap,ru=new WeakMap,su=new WeakMap,Go=new WeakMap,iu=new WeakMap,ou=new WeakMap,NT),p8=m.createContext(void 0),g8=({client:t,children:e})=>(m.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),o.jsx(p8.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sh(){return Sh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sh.apply(this,arguments)}var Qo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Qo||(Qo={}));const lj="popstate";function v8(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:a,hash:l}=r.location;return Qw("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Wp(s)}return x8(e,n,null,t)}function yn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function gA(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function y8(){return Math.random().toString(36).substr(2,8)}function cj(t,e){return{usr:t.state,key:t.key,idx:e}}function Qw(t,e,n,r){return n===void 0&&(n=null),Sh({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Vu(e):e,{state:n,key:e&&e.key||r||y8()})}function Wp(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Vu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function x8(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,l=Qo.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(Sh({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function f(){l=Qo.Pop;let w=d(),_=w==null?null:w-u;u=w,c&&c({action:l,location:y.location,delta:_})}function p(w,_){l=Qo.Push;let x=Qw(y.location,w,_);u=d()+1;let v=cj(x,u),j=y.createHref(x);try{a.pushState(v,"",j)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;s.location.assign(j)}i&&c&&c({action:l,location:y.location,delta:1})}function g(w,_){l=Qo.Replace;let x=Qw(y.location,w,_);u=d();let v=cj(x,u),j=y.createHref(x);a.replaceState(v,"",j),i&&c&&c({action:l,location:y.location,delta:0})}function b(w){let _=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof w=="string"?w:Wp(w);return x=x.replace(/ $/,"%20"),yn(_,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,_)}let y={get action(){return l},get location(){return t(s,a)},listen(w){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(lj,f),c=w,()=>{s.removeEventListener(lj,f),c=null}},createHref(w){return e(s,w)},createURL:b,encodeLocation(w){let _=b(w);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:p,replace:g,go(w){return a.go(w)}};return y}var uj;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(uj||(uj={}));function w8(t,e,n){return n===void 0&&(n="/"),b8(t,e,n,!1)}function b8(t,e,n,r){let s=typeof e=="string"?Vu(e):e,i=j_(s.pathname||"/",n);if(i==null)return null;let a=vA(t);_8(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=A8(i);l=R8(a[c],u,r)}return l}function vA(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(yn(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=ua([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(yn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),vA(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:T8(u,i.index),routesMeta:d})};return t.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let c of yA(i.path))s(i,a,c)}),e}function yA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=yA(r.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function _8(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:I8(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const E8=/^:[\w-]+$/,N8=3,S8=2,j8=1,C8=10,k8=-2,dj=t=>t==="*";function T8(t,e){let n=t.split("/"),r=n.length;return n.some(dj)&&(r+=k8),e&&(r+=S8),n.filter(s=>!dj(s)).reduce((s,i)=>s+(E8.test(i)?N8:i===""?j8:C8),r)}function I8(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function R8(t,e,n){let{routesMeta:r}=t,s={},i="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",f=hj({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),p=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=hj({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),a.push({params:s,pathname:ua([i,f.pathname]),pathnameBase:L8(ua([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=ua([i,f.pathnameBase]))}return a}function hj(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=P8(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:p,isOptional:g}=d;if(p==="*"){let y=l[f]||"";a=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const b=l[f];return g&&!b?u[p]=void 0:u[p]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:t}}function P8(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),gA(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function A8(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return gA(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function j_(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function D8(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Vu(t):t;return{pathname:n?n.startsWith("/")?n:O8(n,e):e,search:F8(r),hash:V8(s)}}function O8(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function ix(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function M8(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function xA(t,e){let n=M8(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function wA(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Vu(t):(s=Sh({},t),yn(!s.pathname||!s.pathname.includes("?"),ix("?","pathname","search",s)),yn(!s.pathname||!s.pathname.includes("#"),ix("#","pathname","hash",s)),yn(!s.search||!s.search.includes("#"),ix("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}l=f>=0?e[f]:"/"}let c=D8(s,l),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const ua=t=>t.join("/").replace(/\/\/+/g,"/"),L8=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),F8=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,V8=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function U8(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const bA=["post","put","patch","delete"];new Set(bA);const $8=["get",...bA];new Set($8);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jh(){return jh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jh.apply(this,arguments)}const C_=m.createContext(null),B8=m.createContext(null),Zl=m.createContext(null),hv=m.createContext(null),Va=m.createContext({outlet:null,matches:[],isDataRoute:!1}),_A=m.createContext(null);function z8(t,e){let{relative:n}=e===void 0?{}:e;lf()||yn(!1);let{basename:r,navigator:s}=m.useContext(Zl),{hash:i,pathname:a,search:l}=NA(t,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:ua([r,a])),s.createHref({pathname:c,search:l,hash:i})}function lf(){return m.useContext(hv)!=null}function Ua(){return lf()||yn(!1),m.useContext(hv).location}function EA(t){m.useContext(Zl).static||m.useLayoutEffect(t)}function pt(){let{isDataRoute:t}=m.useContext(Va);return t?r7():W8()}function W8(){lf()||yn(!1);let t=m.useContext(C_),{basename:e,future:n,navigator:r}=m.useContext(Zl),{matches:s}=m.useContext(Va),{pathname:i}=Ua(),a=JSON.stringify(xA(s,n.v7_relativeSplatPath)),l=m.useRef(!1);return EA(()=>{l.current=!0}),m.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let f=wA(u,JSON.parse(a),i,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:ua([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,a,i,t])}function H8(){let{matches:t}=m.useContext(Va),e=t[t.length-1];return e?e.params:{}}function NA(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=m.useContext(Zl),{matches:s}=m.useContext(Va),{pathname:i}=Ua(),a=JSON.stringify(xA(s,r.v7_relativeSplatPath));return m.useMemo(()=>wA(t,JSON.parse(a),i,n==="path"),[t,a,i,n])}function q8(t,e){return G8(t,e)}function G8(t,e,n,r){lf()||yn(!1);let{navigator:s}=m.useContext(Zl),{matches:i}=m.useContext(Va),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=Ua(),d;if(e){var f;let w=typeof e=="string"?Vu(e):e;c==="/"||(f=w.pathname)!=null&&f.startsWith(c)||yn(!1),d=w}else d=u;let p=d.pathname||"/",g=p;if(c!=="/"){let w=c.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(w.length).join("/")}let b=w8(t,{pathname:g}),y=Z8(b&&b.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:ua([c,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:ua([c,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,n,r);return e&&y?m.createElement(hv.Provider,{value:{location:jh({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Qo.Pop}},y):y}function K8(){let t=n7(),e=U8(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},e),n?m.createElement("pre",{style:s},n):null,null)}const Y8=m.createElement(K8,null);class Q8 extends m.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?m.createElement(Va.Provider,{value:this.props.routeContext},m.createElement(_A.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function X8(t){let{routeContext:e,match:n,children:r}=t,s=m.useContext(C_);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(Va.Provider,{value:e},r)}function Z8(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=a.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||yn(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:p,errors:g}=n,b=f.route.loader&&p[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||b){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,f,p)=>{let g,b=!1,y=null,w=null;n&&(g=l&&f.route.id?l[f.route.id]:void 0,y=f.route.errorElement||Y8,c&&(u<0&&p===0?(b=!0,w=null):u===p&&(b=!0,w=f.route.hydrateFallbackElement||null)));let _=e.concat(a.slice(0,p+1)),x=()=>{let v;return g?v=y:b?v=w:f.route.Component?v=m.createElement(f.route.Component,null):f.route.element?v=f.route.element:v=d,m.createElement(X8,{match:f,routeContext:{outlet:d,matches:_,isDataRoute:n!=null},children:v})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?m.createElement(Q8,{location:n.location,revalidation:n.revalidation,component:y,error:g,children:x(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):x()},null)}var SA=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(SA||{}),Hp=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Hp||{});function J8(t){let e=m.useContext(C_);return e||yn(!1),e}function e7(t){let e=m.useContext(B8);return e||yn(!1),e}function t7(t){let e=m.useContext(Va);return e||yn(!1),e}function jA(t){let e=t7(),n=e.matches[e.matches.length-1];return n.route.id||yn(!1),n.route.id}function n7(){var t;let e=m.useContext(_A),n=e7(Hp.UseRouteError),r=jA(Hp.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function r7(){let{router:t}=J8(SA.UseNavigateStable),e=jA(Hp.UseNavigateStable),n=m.useRef(!1);return EA(()=>{n.current=!0}),m.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,jh({fromRouteId:e},i)))},[t,e])}function s7(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function wt(t){yn(!1)}function i7(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Qo.Pop,navigator:i,static:a=!1,future:l}=t;lf()&&yn(!1);let c=e.replace(/^\/*/,"/"),u=m.useMemo(()=>({basename:c,navigator:i,static:a,future:jh({v7_relativeSplatPath:!1},l)}),[c,l,i,a]);typeof r=="string"&&(r=Vu(r));let{pathname:d="/",search:f="",hash:p="",state:g=null,key:b="default"}=r,y=m.useMemo(()=>{let w=j_(d,c);return w==null?null:{location:{pathname:w,search:f,hash:p,state:g,key:b},navigationType:s}},[c,d,f,p,g,b,s]);return y==null?null:m.createElement(Zl.Provider,{value:u},m.createElement(hv.Provider,{children:n,value:y}))}function o7(t){let{children:e,location:n}=t;return q8(Xw(e),n)}new Promise(()=>{});function Xw(t,e){e===void 0&&(e=[]);let n=[];return m.Children.forEach(t,(r,s)=>{if(!m.isValidElement(r))return;let i=[...e,s];if(r.type===m.Fragment){n.push.apply(n,Xw(r.props.children,i));return}r.type!==wt&&yn(!1),!r.props.index||!r.props.children||yn(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Xw(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zw(){return Zw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zw.apply(this,arguments)}function a7(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function l7(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function c7(t,e){return t.button===0&&(!e||e==="_self")&&!l7(t)}function Jw(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function u7(t,e){let n=Jw(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(i=>{n.append(s,i)})}),n}const d7=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],h7="6";try{window.__reactRouterVersion=h7}catch{}const f7="startTransition",fj=ob[f7];function m7(t){let{basename:e,children:n,future:r,window:s}=t,i=m.useRef();i.current==null&&(i.current=v8({window:s,v5Compat:!0}));let a=i.current,[l,c]=m.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=m.useCallback(f=>{u&&fj?fj(()=>c(f)):c(f)},[c,u]);return m.useLayoutEffect(()=>a.listen(d),[a,d]),m.useEffect(()=>s7(r),[r]),m.createElement(i7,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}const p7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",g7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,An=m.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=e,p=a7(e,d7),{basename:g}=m.useContext(Zl),b,y=!1;if(typeof u=="string"&&g7.test(u)&&(b=u,p7))try{let v=new URL(window.location.href),j=u.startsWith("//")?new URL(v.protocol+u):new URL(u),P=j_(j.pathname,g);j.origin===v.origin&&P!=null?u=P+j.search+j.hash:y=!0}catch{}let w=z8(u,{relative:s}),_=v7(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function x(v){r&&r(v),v.defaultPrevented||_(v)}return m.createElement("a",Zw({},p,{href:b||w,onClick:y||i?r:x,ref:n,target:c}))});var mj;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(mj||(mj={}));var pj;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(pj||(pj={}));function v7(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:a,viewTransition:l}=e===void 0?{}:e,c=pt(),u=Ua(),d=NA(t,{relative:a});return m.useCallback(f=>{if(c7(f,n)){f.preventDefault();let p=r!==void 0?r:Wp(u)===Wp(d);c(t,{replace:p,state:s,preventScrollReset:i,relative:a,viewTransition:l})}},[u,c,d,r,s,n,t,i,a,l])}function cf(t){let e=m.useRef(Jw(t)),n=m.useRef(!1),r=Ua(),s=m.useMemo(()=>u7(r.search,n.current?null:e.current),[r.search]),i=pt(),a=m.useCallback((l,c)=>{const u=Jw(typeof l=="function"?l(s):l);n.current=!0,i("?"+u,c)},[i,s]);return[s,a]}const y7=()=>{};var gj={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},x7=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],a=t[n++],l=t[n++],c=((s&7)<<18|(i&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],a=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return e.join("")},kA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],a=s+1<t.length,l=a?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,d=i>>2,f=(i&3)<<4|l>>4;let p=(l&15)<<2|u>>6,g=u&63;c||(g=64,a||(p=64)),r.push(n[d],n[f],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(CA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):x7(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||u==null||f==null)throw new w7;const p=i<<2|l>>4;if(r.push(p),u!==64){const g=l<<4&240|u>>2;if(r.push(g),f!==64){const b=u<<6&192|f;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class w7 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const b7=function(t){const e=CA(t);return kA.encodeByteArray(e,!0)},qp=function(t){return b7(t).replace(/\./g,"")},TA=function(t){try{return kA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _7(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E7=()=>_7().__FIREBASE_DEFAULTS__,N7=()=>{if(typeof process>"u"||typeof gj>"u")return;const t=gj.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},S7=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&TA(t[1]);return e&&JSON.parse(e)},fv=()=>{try{return y7()||E7()||N7()||S7()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},IA=t=>{var e,n;return(n=(e=fv())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},RA=t=>{const e=IA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},PA=()=>{var t;return(t=fv())==null?void 0:t.config},AA=t=>{var e;return(e=fv())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j7{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function k_(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[qp(JSON.stringify(n)),qp(JSON.stringify(a)),""].join(".")}const Gd={};function C7(){const t={prod:[],emulator:[]};for(const e of Object.keys(Gd))Gd[e]?t.emulator.push(e):t.prod.push(e);return t}function k7(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let vj=!1;function T_(t,e){if(typeof window>"u"||typeof document>"u"||!Jl(window.location.host)||Gd[t]===e||Gd[t]||vj)return;Gd[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",i=C7().prod.length>0;function a(){const p=document.getElementById(r);p&&p.remove()}function l(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function c(p,g){p.setAttribute("width","24"),p.setAttribute("id",g),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function u(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{vj=!0,a()},p}function d(p,g){p.setAttribute("id",g),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=k7(r),g=n("text"),b=document.getElementById(g)||document.createElement("span"),y=n("learnmore"),w=document.getElementById(y)||document.createElement("a"),_=n("preprendIcon"),x=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const v=p.element;l(v),d(w,y);const j=u();c(x,_),v.append(x,b,w,j),document.body.appendChild(v)}i?(b.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function T7(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dr())}function I7(){var e;const t=(e=fv())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function R7(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function P7(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function A7(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function D7(){const t=dr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function O7(){return!I7()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function M7(){try{return typeof indexedDB=="object"}catch{return!1}}function L7(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F7="FirebaseError";class Pi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=F7,Object.setPrototypeOf(this,Pi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uf.prototype.create)}}class uf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],a=i?V7(i,r):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new Pi(s,l,r)}}function V7(t,e){return t.replace(U7,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const U7=/\{\$([^}]+)}/g;function $7(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Dl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],a=e[s];if(yj(i)&&yj(a)){if(!Dl(i,a))return!1}else if(i!==a)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function yj(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function df(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function kd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Td(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function B7(t,e){const n=new z7(t,e);return n.subscribe.bind(n)}class z7{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");W7(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=ox),s.error===void 0&&(s.error=ox),s.complete===void 0&&(s.complete=ox);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function W7(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ox(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(t){return t&&t._delegate?t._delegate:t}let Sa=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H7{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new j7;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(G7(e))try{this.getOrInitializeService({instanceIdentifier:rl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=rl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=rl){return this.instances.has(e)}getOptions(e=rl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&a.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:q7(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=rl){return this.component?this.component.multipleInstances?e:rl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function q7(t){return t===rl?void 0:t}function G7(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K7{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new H7(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ct||(ct={}));const Y7={debug:ct.DEBUG,verbose:ct.VERBOSE,info:ct.INFO,warn:ct.WARN,error:ct.ERROR,silent:ct.SILENT},Q7=ct.INFO,X7={[ct.DEBUG]:"log",[ct.VERBOSE]:"log",[ct.INFO]:"info",[ct.WARN]:"warn",[ct.ERROR]:"error"},Z7=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=X7[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class I_{constructor(e){this.name=e,this._logLevel=Q7,this._logHandler=Z7,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ct))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Y7[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ct.DEBUG,...e),this._logHandler(this,ct.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ct.VERBOSE,...e),this._logHandler(this,ct.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ct.INFO,...e),this._logHandler(this,ct.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ct.WARN,...e),this._logHandler(this,ct.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ct.ERROR,...e),this._logHandler(this,ct.ERROR,...e)}}const J7=(t,e)=>e.some(n=>t instanceof n);let xj,wj;function ez(){return xj||(xj=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tz(){return wj||(wj=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const OA=new WeakMap,e0=new WeakMap,MA=new WeakMap,ax=new WeakMap,R_=new WeakMap;function nz(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",a)},i=()=>{n(da(t.result)),s()},a=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&OA.set(n,t)}).catch(()=>{}),R_.set(e,t),e}function rz(t){if(e0.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",a),t.removeEventListener("abort",a)},i=()=>{n(),s()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",a),t.addEventListener("abort",a)});e0.set(t,e)}let t0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return e0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||MA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return da(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function sz(t){t0=t(t0)}function iz(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(lx(this),e,...n);return MA.set(r,e.sort?e.sort():[e]),da(r)}:tz().includes(t)?function(...e){return t.apply(lx(this),e),da(OA.get(this))}:function(...e){return da(t.apply(lx(this),e))}}function oz(t){return typeof t=="function"?iz(t):(t instanceof IDBTransaction&&rz(t),J7(t,ez())?new Proxy(t,t0):t)}function da(t){if(t instanceof IDBRequest)return nz(t);if(ax.has(t))return ax.get(t);const e=oz(t);return e!==t&&(ax.set(t,e),R_.set(e,t)),e}const lx=t=>R_.get(t);function az(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const a=indexedDB.open(t,e),l=da(a);return r&&a.addEventListener("upgradeneeded",c=>{r(da(a.result),c.oldVersion,c.newVersion,da(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const lz=["get","getKey","getAll","getAllKeys","count"],cz=["put","add","delete","clear"],cx=new Map;function bj(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(cx.get(e))return cx.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=cz.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||lz.includes(n)))return;const i=async function(a,...l){const c=this.transaction(a,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),s&&c.done]))[0]};return cx.set(e,i),i}sz(t=>({...t,get:(e,n,r)=>bj(e,n)||t.get(e,n,r),has:(e,n)=>!!bj(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uz{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(dz(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function dz(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const n0="@firebase/app",_j="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo=new I_("@firebase/app"),hz="@firebase/app-compat",fz="@firebase/analytics-compat",mz="@firebase/analytics",pz="@firebase/app-check-compat",gz="@firebase/app-check",vz="@firebase/auth",yz="@firebase/auth-compat",xz="@firebase/database",wz="@firebase/data-connect",bz="@firebase/database-compat",_z="@firebase/functions",Ez="@firebase/functions-compat",Nz="@firebase/installations",Sz="@firebase/installations-compat",jz="@firebase/messaging",Cz="@firebase/messaging-compat",kz="@firebase/performance",Tz="@firebase/performance-compat",Iz="@firebase/remote-config",Rz="@firebase/remote-config-compat",Pz="@firebase/storage",Az="@firebase/storage-compat",Dz="@firebase/firestore",Oz="@firebase/ai",Mz="@firebase/firestore-compat",Lz="firebase",Fz="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0="[DEFAULT]",Vz={[n0]:"fire-core",[hz]:"fire-core-compat",[mz]:"fire-analytics",[fz]:"fire-analytics-compat",[gz]:"fire-app-check",[pz]:"fire-app-check-compat",[vz]:"fire-auth",[yz]:"fire-auth-compat",[xz]:"fire-rtdb",[wz]:"fire-data-connect",[bz]:"fire-rtdb-compat",[_z]:"fire-fn",[Ez]:"fire-fn-compat",[Nz]:"fire-iid",[Sz]:"fire-iid-compat",[jz]:"fire-fcm",[Cz]:"fire-fcm-compat",[kz]:"fire-perf",[Tz]:"fire-perf-compat",[Iz]:"fire-rc",[Rz]:"fire-rc-compat",[Pz]:"fire-gcs",[Az]:"fire-gcs-compat",[Dz]:"fire-fst",[Mz]:"fire-fst-compat",[Oz]:"fire-vertex","fire-js":"fire-js",[Lz]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp=new Map,Uz=new Map,s0=new Map;function Ej(t,e){try{t.container.addComponent(e)}catch(n){lo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ol(t){const e=t.name;if(s0.has(e))return lo.debug(`There were multiple attempts to register component ${e}.`),!1;s0.set(e,t);for(const n of Gp.values())Ej(n,t);for(const n of Uz.values())Ej(n,t);return!0}function mv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Yr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $z={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ha=new uf("app","Firebase",$z);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bz{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Sa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ha.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ec=Fz;function LA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:r0,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw ha.create("bad-app-name",{appName:String(s)});if(n||(n=PA()),!n)throw ha.create("no-options");const i=Gp.get(s);if(i){if(Dl(n,i.options)&&Dl(r,i.config))return i;throw ha.create("duplicate-app",{appName:s})}const a=new K7(s);for(const c of s0.values())a.addComponent(c);const l=new Bz(n,r,a);return Gp.set(s,l),l}function P_(t=r0){const e=Gp.get(t);if(!e&&t===r0&&PA())return LA();if(!e)throw ha.create("no-app",{appName:t});return e}function yi(t,e,n){let r=Vz[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&a.push("and"),i&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),lo.warn(a.join(" "));return}Ol(new Sa(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zz="firebase-heartbeat-database",Wz=1,Ch="firebase-heartbeat-store";let ux=null;function FA(){return ux||(ux=az(zz,Wz,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ch)}catch(n){console.warn(n)}}}}).catch(t=>{throw ha.create("idb-open",{originalErrorMessage:t.message})})),ux}async function Hz(t){try{const n=(await FA()).transaction(Ch),r=await n.objectStore(Ch).get(VA(t));return await n.done,r}catch(e){if(e instanceof Pi)lo.warn(e.message);else{const n=ha.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});lo.warn(n.message)}}}async function Nj(t,e){try{const r=(await FA()).transaction(Ch,"readwrite");await r.objectStore(Ch).put(e,VA(t)),await r.done}catch(n){if(n instanceof Pi)lo.warn(n.message);else{const r=ha.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});lo.warn(r.message)}}}function VA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qz=1024,Gz=30;class Kz{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Qz(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Sj();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>Gz){const a=Xz(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){lo.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Sj(),{heartbeatsToSend:r,unsentEntries:s}=Yz(this._heartbeatsCache.heartbeats),i=qp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return lo.warn(n),""}}}function Sj(){return new Date().toISOString().substring(0,10)}function Yz(t,e=qz){const n=[];let r=t.slice();for(const s of t){const i=n.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),jj(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),jj(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Qz{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return M7()?L7().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Hz(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Nj(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Nj(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function jj(t){return qp(JSON.stringify({version:2,heartbeats:t})).length}function Xz(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zz(t){Ol(new Sa("platform-logger",e=>new uz(e),"PRIVATE")),Ol(new Sa("heartbeat",e=>new Kz(e),"PRIVATE")),yi(n0,_j,t),yi(n0,_j,"esm2020"),yi("fire-js","")}Zz("");function UA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Jz=UA,$A=new uf("auth","Firebase",UA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp=new I_("@firebase/auth");function eW(t,...e){Kp.logLevel<=ct.WARN&&Kp.warn(`Auth (${ec}): ${t}`,...e)}function Zm(t,...e){Kp.logLevel<=ct.ERROR&&Kp.error(`Auth (${ec}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hs(t,...e){throw A_(t,...e)}function xi(t,...e){return A_(t,...e)}function BA(t,e,n){const r={...Jz(),[e]:n};return new uf("auth","Firebase",r).create(e,{appName:t.name})}function Zi(t){return BA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function A_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return $A.create(t,...e)}function Ge(t,e,...n){if(!t)throw A_(e,...n)}function Yi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Zm(e),new Error(e)}function co(t,e){t||Yi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function tW(){return Cj()==="http:"||Cj()==="https:"}function Cj(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nW(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tW()||P7()||"connection"in navigator)?navigator.onLine:!0}function rW(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,n){this.shortDelay=e,this.longDelay=n,co(n>e,"Short delay should be less than long delay!"),this.isMobile=T7()||A7()}get(){return nW()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D_(t,e){co(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sW={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iW=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],oW=new hf(3e4,6e4);function Ys(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Qs(t,e,n,r,s={}){return WA(t,s,async()=>{let i={},a={};r&&(e==="GET"?a=r:i={body:JSON.stringify(r)});const l=df({key:t.config.apiKey,...a}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:c,...i};return R7()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Jl(t.emulatorConfig.host)&&(u.credentials="include"),zA.fetch()(await HA(t,t.config.apiHost,n,l),u)})}async function WA(t,e,n){t._canInitEmulator=!1;const r={...sW,...e};try{const s=new lW(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw Nm(t,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const l=i.ok?a.errorMessage:a.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nm(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw Nm(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw Nm(t,"user-disabled",a);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw BA(t,d,u);Hs(t,d)}}catch(s){if(s instanceof Pi)throw s;Hs(t,"network-request-failed",{message:String(s)})}}async function ff(t,e,n,r,s={}){const i=await Qs(t,e,n,r,s);return"mfaPendingCredential"in i&&Hs(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function HA(t,e,n,r){const s=`${e}${n}?${r}`,i=t,a=i.config.emulator?D_(t.config,s):`${t.config.apiScheme}://${s}`;return iW.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(a).toString():a}function aW(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class lW{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(xi(this.auth,"network-request-failed")),oW.get())})}}function Nm(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=xi(t,e,r);return s.customData._tokenResponse=n,s}function kj(t){return t!==void 0&&t.enterprise!==void 0}class cW{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return aW(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function uW(t,e){return Qs(t,"GET","/v2/recaptchaConfig",Ys(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dW(t,e){return Qs(t,"POST","/v1/accounts:delete",e)}async function Yp(t,e){return Qs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function hW(t,e=!1){const n=Zt(t),r=await n.getIdToken(e),s=O_(r);Ge(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,a=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Kd(dx(s.auth_time)),issuedAtTime:Kd(dx(s.iat)),expirationTime:Kd(dx(s.exp)),signInProvider:a||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function dx(t){return Number(t)*1e3}function O_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Zm("JWT malformed, contained fewer than 3 sections"),null;try{const s=TA(n);return s?JSON.parse(s):(Zm("Failed to decode base64 JWT payload"),null)}catch(s){return Zm("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Tj(t){const e=O_(t);return Ge(e,"internal-error"),Ge(typeof e.exp<"u","internal-error"),Ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Pi&&fW(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function fW({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mW{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kd(this.lastLoginAt),this.creationTime=Kd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qp(t){var f;const e=t.auth,n=await t.getIdToken(),r=await kh(t,Yp(e,{idToken:n}));Ge(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(f=s.providerUserInfo)!=null&&f.length?qA(s.providerUserInfo):[],a=gW(t.providerData,i),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new o0(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function pW(t){const e=Zt(t);await Qp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function gW(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function qA(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vW(t,e){const n=await WA(t,{},async()=>{const r=df({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,a=await HA(t,s,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&Jl(t.emulatorConfig.host)&&(c.credentials="include"),zA.fetch()(a,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function yW(t,e){return Qs(t,"POST","/v2/accounts:revokeToken",Ys(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ge(e.idToken,"internal-error"),Ge(typeof e.idToken<"u","internal-error"),Ge(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Tj(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ge(e.length!==0,"internal-error");const n=Tj(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await vW(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,a=new Gc;return r&&(Ge(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),s&&(Ge(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),i&&(Ge(typeof i=="number","internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Gc,this.toJSON())}_performRefresh(){return Yi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Io(t,e){Ge(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Os{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new mW(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new o0(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await kh(this,this.stsTokenManager.getToken(this.auth,e));return Ge(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return hW(this,e)}reload(){return pW(this)}_assign(e){this!==e&&(Ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Os({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Qp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yr(this.auth.app))return Promise.reject(Zi(this.auth));const e=await this.getIdToken();return await kh(this,dW(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,a=n.photoURL??void 0,l=n.tenantId??void 0,c=n._redirectEventId??void 0,u=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:f,emailVerified:p,isAnonymous:g,providerData:b,stsTokenManager:y}=n;Ge(f&&y,e,"internal-error");const w=Gc.fromJSON(this.name,y);Ge(typeof f=="string",e,"internal-error"),Io(r,e.name),Io(s,e.name),Ge(typeof p=="boolean",e,"internal-error"),Ge(typeof g=="boolean",e,"internal-error"),Io(i,e.name),Io(a,e.name),Io(l,e.name),Io(c,e.name),Io(u,e.name),Io(d,e.name);const _=new Os({uid:f,auth:e,email:s,emailVerified:p,displayName:r,isAnonymous:g,photoURL:a,phoneNumber:i,tenantId:l,stsTokenManager:w,createdAt:u,lastLoginAt:d});return b&&Array.isArray(b)&&(_.providerData=b.map(x=>({...x}))),c&&(_._redirectEventId=c),_}static async _fromIdTokenResponse(e,n,r=!1){const s=new Gc;s.updateFromServerResponse(n);const i=new Os({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Qp(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Ge(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?qA(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),l=new Gc;l.updateFromIdToken(r);const c=new Os({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:a}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new o0(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ij=new Map;function Qi(t){co(t instanceof Function,"Expected a class definition");let e=Ij.get(t);return e?(co(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ij.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}GA.type="NONE";const Rj=GA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(t,e,n){return`firebase:${t}:${e}:${n}`}class Kc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Jm(this.userKey,s.apiKey,i),this.fullPersistenceKey=Jm("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Yp(this.auth,{idToken:e}).catch(()=>{});return n?Os._fromGetAccountInfoResponse(this.auth,n,e):null}return Os._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Kc(Qi(Rj),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||Qi(Rj);const a=Jm(r,e.config.apiKey,e.name);let l=null;for(const u of n)try{const d=await u._get(a);if(d){let f;if(typeof d=="string"){const p=await Yp(e,{idToken:d}).catch(()=>{});if(!p)break;f=await Os._fromGetAccountInfoResponse(e,p,d)}else f=Os._fromJSON(e,d);u!==i&&(l=f),i=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Kc(i,e,r):(i=c[0],l&&await i._set(a,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(a)}catch{}})),new Kc(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pj(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(XA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(KA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(JA(e))return"Blackberry";if(e2(e))return"Webos";if(YA(e))return"Safari";if((e.includes("chrome/")||QA(e))&&!e.includes("edge/"))return"Chrome";if(ZA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function KA(t=dr()){return/firefox\//i.test(t)}function YA(t=dr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function QA(t=dr()){return/crios\//i.test(t)}function XA(t=dr()){return/iemobile/i.test(t)}function ZA(t=dr()){return/android/i.test(t)}function JA(t=dr()){return/blackberry/i.test(t)}function e2(t=dr()){return/webos/i.test(t)}function M_(t=dr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function xW(t=dr()){var e;return M_(t)&&!!((e=window.navigator)!=null&&e.standalone)}function wW(){return D7()&&document.documentMode===10}function t2(t=dr()){return M_(t)||ZA(t)||e2(t)||JA(t)||/windows phone/i.test(t)||XA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(t,e=[]){let n;switch(t){case"Browser":n=Pj(dr());break;case"Worker":n=`${Pj(dr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ec}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bW{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((a,l)=>{try{const c=e(i);a(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _W(t,e={}){return Qs(t,"GET","/v2/passwordPolicy",Ys(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EW=6;class NW{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??EW,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SW{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Aj(this),this.idTokenSubscription=new Aj(this),this.beforeStateQueue=new bW(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$A,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Qi(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Kc.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Yp(this,{idToken:e}),r=await Os._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Yr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(i=this.redirectUser)==null?void 0:i._redirectEventId,l=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===l)&&(c!=null&&c.user)&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Qp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=rW()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Yr(this.app))return Promise.reject(Zi(this));const n=e?Zt(e):null;return n&&Ge(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Yr(this.app)?Promise.reject(Zi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Yr(this.app)?Promise.reject(Zi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Qi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _W(this),n=new NW(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new uf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await yW(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Qi(e)||this._popupRedirectResolver;Ge(n,this,"argument-error"),this.redirectPersistenceManager=await Kc.create(this,[Qi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ge(l,this,"internal-error"),l.then(()=>{a||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=n2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Yr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&eW(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function $a(t){return Zt(t)}class Aj{constructor(e){this.auth=e,this.observer=null,this.addObserver=B7(n=>this.observer=n)}get next(){return Ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jW(t){pv=t}function r2(t){return pv.loadJS(t)}function CW(){return pv.recaptchaEnterpriseScript}function kW(){return pv.gapiScript}function TW(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class IW{constructor(){this.enterprise=new RW}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class RW{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const PW="recaptcha-enterprise",s2="NO_RECAPTCHA";class AW{constructor(e){this.type=PW,this.auth=$a(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(a,l)=>{uW(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new cW(c);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,a(u.siteKey)}}).catch(c=>{l(c)})})}function s(i,a,l){const c=window.grecaptcha;kj(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(u=>{a(u)}).catch(()=>{a(s2)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new IW().execute("siteKey",{action:"verify"}):new Promise((i,a)=>{r(this.auth).then(l=>{if(!n&&kj(window.grecaptcha))s(l,i,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=CW();c.length!==0&&(c+=l),r2(c).then(()=>{s(l,i,a)}).catch(u=>{a(u)})}}).catch(l=>{a(l)})})}}async function Dj(t,e,n,r=!1,s=!1){const i=new AW(t);let a;if(s)a=s2;else try{a=await i.verify(n)}catch{a=await i.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,u=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Xp(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Dj(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Dj(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DW(t,e){const n=mv(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Dl(i,e??{}))return s;Hs(s,"already-initialized")}return n.initialize({options:e})}function OW(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Qi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function MW(t,e,n){const r=$a(t);Ge(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=i2(e),{host:a,port:l}=LW(e),c=l===null?"":`:${l}`,u={url:`${i}//${a}${c}/`},d=Object.freeze({host:a,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ge(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ge(Dl(u,r.config.emulator)&&Dl(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Jl(a)?(k_(`${i}//${a}${c}`),T_("Auth",!0)):FW()}function i2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function LW(t){const e=i2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Oj(r.substr(i.length+1))}}else{const[i,a]=r.split(":");return{host:i,port:Oj(a)}}}function Oj(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function FW(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Yi("not implemented")}_getIdTokenResponse(e){return Yi("not implemented")}_linkToIdToken(e,n){return Yi("not implemented")}_getReauthenticationResolver(e){return Yi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VW(t,e){return Qs(t,"POST","/v1/accounts:resetPassword",Ys(t,e))}async function UW(t,e){return Qs(t,"POST","/v1/accounts:signUp",e)}async function $W(t,e){return Qs(t,"POST","/v1/accounts:update",Ys(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BW(t,e){return ff(t,"POST","/v1/accounts:signInWithPassword",Ys(t,e))}async function o2(t,e){return Qs(t,"POST","/v1/accounts:sendOobCode",Ys(t,e))}async function zW(t,e){return o2(t,e)}async function WW(t,e){return o2(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HW(t,e){return ff(t,"POST","/v1/accounts:signInWithEmailLink",Ys(t,e))}async function qW(t,e){return ff(t,"POST","/v1/accounts:signInWithEmailLink",Ys(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th extends L_{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Th(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Th(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xp(e,n,"signInWithPassword",BW);case"emailLink":return HW(e,{email:this._email,oobCode:this._password});default:Hs(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xp(e,r,"signUpPassword",UW);case"emailLink":return qW(e,{idToken:n,email:this._email,oobCode:this._password});default:Hs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yc(t,e){return ff(t,"POST","/v1/accounts:signInWithIdp",Ys(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GW="http://localhost";class Ml extends L_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ml(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Hs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const a=new Ml(r,s);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Yc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Yc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Yc(e,n)}buildRequest(){const e={requestUri:GW,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=df(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KW(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function YW(t){const e=kd(Td(t)).link,n=e?kd(Td(e)).deep_link_id:null,r=kd(Td(t)).deep_link_id;return(r?kd(Td(r)).link:null)||r||n||e||t}class F_{constructor(e){const n=kd(Td(e)),r=n.apiKey??null,s=n.oobCode??null,i=KW(n.mode??null);Ge(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=YW(e);try{return new F_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(){this.providerId=Uu.PROVIDER_ID}static credential(e,n){return Th._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=F_.parseLink(n);return Ge(r,"argument-error"),Th._fromEmailAndCode(e,r.code,r.tenantId)}}Uu.PROVIDER_ID="password";Uu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Uu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf extends a2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo extends mf{constructor(){super("facebook.com")}static credential(e){return Ml._fromParams({providerId:Vo.PROVIDER_ID,signInMethod:Vo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vo.credentialFromTaggedObject(e)}static credentialFromError(e){return Vo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vo.credential(e.oauthAccessToken)}catch{return null}}}Vo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Vo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo extends mf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ml._fromParams({providerId:Uo.PROVIDER_ID,signInMethod:Uo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Uo.credentialFromTaggedObject(e)}static credentialFromError(e){return Uo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Uo.credential(n,r)}catch{return null}}}Uo.GOOGLE_SIGN_IN_METHOD="google.com";Uo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o extends mf{constructor(){super("github.com")}static credential(e){return Ml._fromParams({providerId:$o.PROVIDER_ID,signInMethod:$o.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $o.credentialFromTaggedObject(e)}static credentialFromError(e){return $o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $o.credential(e.oauthAccessToken)}catch{return null}}}$o.GITHUB_SIGN_IN_METHOD="github.com";$o.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo extends mf{constructor(){super("twitter.com")}static credential(e,n){return Ml._fromParams({providerId:Bo.PROVIDER_ID,signInMethod:Bo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Bo.credentialFromTaggedObject(e)}static credentialFromError(e){return Bo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Bo.credential(n,r)}catch{return null}}}Bo.TWITTER_SIGN_IN_METHOD="twitter.com";Bo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QW(t,e){return ff(t,"POST","/v1/accounts:signUp",Ys(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Os._fromIdTokenResponse(e,r,s),a=Mj(r);return new Ll({user:i,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Mj(r);return new Ll({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Mj(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp extends Pi{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Zp.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Zp(e,n,r,s)}}function l2(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Zp._fromErrorAndOperation(t,i,e,r):i})}async function XW(t,e,n=!1){const r=await kh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ll._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZW(t,e,n=!1){const{auth:r}=t;if(Yr(r.app))return Promise.reject(Zi(r));const s="reauthenticate";try{const i=await kh(t,l2(r,s,e,t),n);Ge(i.idToken,r,"internal-error");const a=O_(i.idToken);Ge(a,r,"internal-error");const{sub:l}=a;return Ge(t.uid===l,r,"user-mismatch"),Ll._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Hs(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c2(t,e,n=!1){if(Yr(t.app))return Promise.reject(Zi(t));const r="signIn",s=await l2(t,r,e),i=await Ll._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function JW(t,e){return c2($a(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V_(t){const e=$a(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function eH(t,e,n){const r=$a(t);await Xp(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",WW)}async function tH(t,e,n){await VW(Zt(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&V_(t),r})}async function nH(t,e){await $W(Zt(t),{oobCode:e})}async function rH(t,e,n){if(Yr(t.app))return Promise.reject(Zi(t));const r=$a(t),a=await Xp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",QW).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&V_(t),c}),l=await Ll._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(l.user),l}function Lj(t,e,n){return Yr(t.app)?Promise.reject(Zi(t)):JW(Zt(t),Uu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&V_(t),r})}async function sH(t,e){const n=Zt(t),s={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:i}=await zW(n.auth,s);i!==t.email&&await t.reload()}function iH(t,e,n,r){return Zt(t).onIdTokenChanged(e,n,r)}function oH(t,e,n){return Zt(t).beforeAuthStateChanged(e,n)}function aH(t,e,n,r){return Zt(t).onAuthStateChanged(e,n,r)}function vd(t){return Zt(t).signOut()}const Jp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Jp,"1"),this.storage.removeItem(Jp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lH=1e3,cH=10;class d2 extends u2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=t2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},i=this.storage.getItem(r);wW()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,cH):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},lH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}d2.type="LOCAL";const uH=d2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2 extends u2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}h2.type="SESSION";const f2=h2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dH(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new gv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(a).map(async u=>u(n.origin,i)),c=await dH(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hH{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,a;return new Promise((l,c)=>{const u=U_("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(p.data.response);break;default:clearTimeout(d),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(){return window}function fH(t){wi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(){return typeof wi().WorkerGlobalScope<"u"&&typeof wi().importScripts=="function"}async function mH(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pH(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function gH(){return m2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2="firebaseLocalStorageDb",vH=1,eg="firebaseLocalStorage",g2="fbase_key";class pf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function vv(t,e){return t.transaction([eg],e?"readwrite":"readonly").objectStore(eg)}function yH(){const t=indexedDB.deleteDatabase(p2);return new pf(t).toPromise()}function a0(){const t=indexedDB.open(p2,vH);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(eg,{keyPath:g2})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(eg)?e(r):(r.close(),await yH(),e(await a0()))})})}async function Fj(t,e,n){const r=vv(t,!0).put({[g2]:e,value:n});return new pf(r).toPromise()}async function xH(t,e){const n=vv(t,!1).get(e),r=await new pf(n).toPromise();return r===void 0?null:r.value}function Vj(t,e){const n=vv(t,!0).delete(e);return new pf(n).toPromise()}const wH=800,bH=3;class v2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await a0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>bH)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return m2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gv._getInstance(gH()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await mH(),!this.activeServiceWorker)return;this.sender=new hH(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||pH()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await a0();return await Fj(e,Jp,"1"),await Vj(e,Jp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Fj(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>xH(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Vj(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=vv(s,!1).getAll();return new pf(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),wH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}v2.type="LOCAL";const _H=v2;new hf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EH(t,e){return e?Qi(e):(Ge(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_ extends L_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Yc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Yc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Yc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function NH(t){return c2(t.auth,new $_(t),t.bypassAuthState)}function SH(t){const{auth:e,user:n}=t;return Ge(n,e,"internal-error"),ZW(n,new $_(t),t.bypassAuthState)}async function jH(t){const{auth:e,user:n}=t;return Ge(n,e,"internal-error"),XW(n,new $_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:a,type:l}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return NH;case"linkViaPopup":case"linkViaRedirect":return jH;case"reauthViaPopup":case"reauthViaRedirect":return SH;default:Hs(this.auth,"internal-error")}}resolve(e){co(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){co(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CH=new hf(2e3,1e4);class Oc extends y2{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Oc.currentPopupAction&&Oc.currentPopupAction.cancel(),Oc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ge(e,this.auth,"internal-error"),e}async onExecution(){co(this.filter.length===1,"Popup operations only handle one event");const e=U_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(xi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(xi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Oc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,CH.get())};e()}}Oc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kH="pendingRedirect",ep=new Map;class TH extends y2{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ep.get(this.auth._key());if(!e){try{const r=await IH(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ep.set(this.auth._key(),e)}return this.bypassAuthState||ep.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function IH(t,e){const n=AH(e),r=PH(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function RH(t,e){ep.set(t._key(),e)}function PH(t){return Qi(t._redirectPersistence)}function AH(t){return Jm(kH,t.config.apiKey,t.name)}async function DH(t,e,n=!1){if(Yr(t.app))return Promise.reject(Zi(t));const r=$a(t),s=EH(r,e),a=await new TH(r,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OH=10*60*1e3;class MH{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!LH(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!x2(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(xi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=OH&&this.cachedEventUids.clear(),this.cachedEventUids.has(Uj(e))}saveEventToCache(e){this.cachedEventUids.add(Uj(e)),this.lastProcessedEventTime=Date.now()}}function Uj(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function x2({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function LH(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return x2(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FH(t,e={}){return Qs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,UH=/^https?/;async function $H(t){if(t.config.emulator)return;const{authorizedDomains:e}=await FH(t);for(const n of e)try{if(BH(n))return}catch{}Hs(t,"unauthorized-domain")}function BH(t){const e=i0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!UH.test(n))return!1;if(VH.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zH=new hf(3e4,6e4);function $j(){const t=wi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function WH(t){return new Promise((e,n)=>{var s,i,a;function r(){$j(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$j(),n(xi(t,"network-request-failed"))},timeout:zH.get()})}if((i=(s=wi().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((a=wi().gapi)!=null&&a.load)r();else{const l=TW("iframefcb");return wi()[l]=()=>{gapi.load?r():n(xi(t,"network-request-failed"))},r2(`${kW()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw tp=null,e})}let tp=null;function HH(t){return tp=tp||WH(t),tp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qH=new hf(5e3,15e3),GH="__/auth/iframe",KH="emulator/auth/iframe",YH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},QH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function XH(t){const e=t.config;Ge(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?D_(e,KH):`https://${t.config.authDomain}/${GH}`,r={apiKey:e.apiKey,appName:t.name,v:ec},s=QH.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${df(r).slice(1)}`}async function ZH(t){const e=await HH(t),n=wi().gapi;return Ge(n,t,"internal-error"),e.open({where:document.body,url:XH(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:YH,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const a=xi(t,"network-request-failed"),l=wi().setTimeout(()=>{i(a)},qH.get());function c(){wi().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{i(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},eq=500,tq=600,nq="_blank",rq="http://localhost";class Bj{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function sq(t,e,n,r=eq,s=tq){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c={...JH,width:r.toString(),height:s.toString(),top:i,left:a},u=dr().toLowerCase();n&&(l=QA(u)?nq:n),KA(u)&&(e=e||rq,c.scrollbars="yes");const d=Object.entries(c).reduce((p,[g,b])=>`${p}${g}=${b},`,"");if(xW(u)&&l!=="_self")return iq(e||"",l),new Bj(null);const f=window.open(e||"",l,d);Ge(f,t,"popup-blocked");try{f.focus()}catch{}return new Bj(f)}function iq(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oq="__/auth/handler",aq="emulator/auth/handler",lq=encodeURIComponent("fac");async function zj(t,e,n,r,s,i){Ge(t.config.authDomain,t,"auth-domain-config-required"),Ge(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ec,eventId:s};if(e instanceof a2){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",$7(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))a[d]=f}if(e instanceof mf){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(a.scopes=d.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await t._getAppCheckToken(),u=c?`#${lq}=${encodeURIComponent(c)}`:"";return`${cq(t)}?${df(l).slice(1)}${u}`}function cq({config:t}){return t.emulator?D_(t,aq):`https://${t.authDomain}/${oq}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx="webStorageSupport";class uq{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=f2,this._completeRedirectFn=DH,this._overrideRedirectResult=RH}async _openPopup(e,n,r,s){var a;co((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const i=await zj(e,n,r,i0(),s);return sq(e,i,U_())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await zj(e,n,r,i0(),s);return fH(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(co(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await ZH(e),r=new MH(e);return n.register("authEvent",s=>(Ge(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(hx,{type:hx},s=>{var a;const i=(a=s==null?void 0:s[0])==null?void 0:a[hx];i!==void 0&&n(!!i),Hs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=$H(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return t2()||YA()||M_()}}const dq=uq;var Wj="@firebase/auth",Hj="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hq{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fq(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function mq(t){Ol(new Sa("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=r.options;Ge(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:n2(t)},u=new SW(r,s,i,c);return OW(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ol(new Sa("auth-internal",e=>{const n=$a(e.getProvider("auth").getImmediate());return(r=>new hq(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),yi(Wj,Hj,fq(t)),yi(Wj,Hj,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pq=5*60,gq=AA("authIdTokenMaxAge")||pq;let qj=null;const vq=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>gq)return;const s=n==null?void 0:n.token;qj!==s&&(qj=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function yq(t=P_()){const e=mv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=DW(t,{popupRedirectResolver:dq,persistence:[_H,uH,f2]}),r=AA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const a=vq(i.toString());oH(n,a,()=>a(n.currentUser)),iH(n,l=>a(l))}}const s=IA("auth");return s&&MW(n,`http://${s}`),n}function xq(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}jW({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=xi("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",xq().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});mq("Browser");var Gj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fa,w2;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,N){function T(){}T.prototype=N.prototype,S.F=N.prototype,S.prototype=new T,S.prototype.constructor=S,S.D=function(k,I,A){for(var R=Array(arguments.length-2),W=2;W<arguments.length;W++)R[W-2]=arguments[W];return N.prototype[I].apply(k,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(S,N,T){T||(T=0);const k=Array(16);if(typeof N=="string")for(var I=0;I<16;++I)k[I]=N.charCodeAt(T++)|N.charCodeAt(T++)<<8|N.charCodeAt(T++)<<16|N.charCodeAt(T++)<<24;else for(I=0;I<16;++I)k[I]=N[T++]|N[T++]<<8|N[T++]<<16|N[T++]<<24;N=S.g[0],T=S.g[1],I=S.g[2];let A=S.g[3],R;R=N+(A^T&(I^A))+k[0]+3614090360&4294967295,N=T+(R<<7&4294967295|R>>>25),R=A+(I^N&(T^I))+k[1]+3905402710&4294967295,A=N+(R<<12&4294967295|R>>>20),R=I+(T^A&(N^T))+k[2]+606105819&4294967295,I=A+(R<<17&4294967295|R>>>15),R=T+(N^I&(A^N))+k[3]+3250441966&4294967295,T=I+(R<<22&4294967295|R>>>10),R=N+(A^T&(I^A))+k[4]+4118548399&4294967295,N=T+(R<<7&4294967295|R>>>25),R=A+(I^N&(T^I))+k[5]+1200080426&4294967295,A=N+(R<<12&4294967295|R>>>20),R=I+(T^A&(N^T))+k[6]+2821735955&4294967295,I=A+(R<<17&4294967295|R>>>15),R=T+(N^I&(A^N))+k[7]+4249261313&4294967295,T=I+(R<<22&4294967295|R>>>10),R=N+(A^T&(I^A))+k[8]+1770035416&4294967295,N=T+(R<<7&4294967295|R>>>25),R=A+(I^N&(T^I))+k[9]+2336552879&4294967295,A=N+(R<<12&4294967295|R>>>20),R=I+(T^A&(N^T))+k[10]+4294925233&4294967295,I=A+(R<<17&4294967295|R>>>15),R=T+(N^I&(A^N))+k[11]+2304563134&4294967295,T=I+(R<<22&4294967295|R>>>10),R=N+(A^T&(I^A))+k[12]+1804603682&4294967295,N=T+(R<<7&4294967295|R>>>25),R=A+(I^N&(T^I))+k[13]+4254626195&4294967295,A=N+(R<<12&4294967295|R>>>20),R=I+(T^A&(N^T))+k[14]+2792965006&4294967295,I=A+(R<<17&4294967295|R>>>15),R=T+(N^I&(A^N))+k[15]+1236535329&4294967295,T=I+(R<<22&4294967295|R>>>10),R=N+(I^A&(T^I))+k[1]+4129170786&4294967295,N=T+(R<<5&4294967295|R>>>27),R=A+(T^I&(N^T))+k[6]+3225465664&4294967295,A=N+(R<<9&4294967295|R>>>23),R=I+(N^T&(A^N))+k[11]+643717713&4294967295,I=A+(R<<14&4294967295|R>>>18),R=T+(A^N&(I^A))+k[0]+3921069994&4294967295,T=I+(R<<20&4294967295|R>>>12),R=N+(I^A&(T^I))+k[5]+3593408605&4294967295,N=T+(R<<5&4294967295|R>>>27),R=A+(T^I&(N^T))+k[10]+38016083&4294967295,A=N+(R<<9&4294967295|R>>>23),R=I+(N^T&(A^N))+k[15]+3634488961&4294967295,I=A+(R<<14&4294967295|R>>>18),R=T+(A^N&(I^A))+k[4]+3889429448&4294967295,T=I+(R<<20&4294967295|R>>>12),R=N+(I^A&(T^I))+k[9]+568446438&4294967295,N=T+(R<<5&4294967295|R>>>27),R=A+(T^I&(N^T))+k[14]+3275163606&4294967295,A=N+(R<<9&4294967295|R>>>23),R=I+(N^T&(A^N))+k[3]+4107603335&4294967295,I=A+(R<<14&4294967295|R>>>18),R=T+(A^N&(I^A))+k[8]+1163531501&4294967295,T=I+(R<<20&4294967295|R>>>12),R=N+(I^A&(T^I))+k[13]+2850285829&4294967295,N=T+(R<<5&4294967295|R>>>27),R=A+(T^I&(N^T))+k[2]+4243563512&4294967295,A=N+(R<<9&4294967295|R>>>23),R=I+(N^T&(A^N))+k[7]+1735328473&4294967295,I=A+(R<<14&4294967295|R>>>18),R=T+(A^N&(I^A))+k[12]+2368359562&4294967295,T=I+(R<<20&4294967295|R>>>12),R=N+(T^I^A)+k[5]+4294588738&4294967295,N=T+(R<<4&4294967295|R>>>28),R=A+(N^T^I)+k[8]+2272392833&4294967295,A=N+(R<<11&4294967295|R>>>21),R=I+(A^N^T)+k[11]+1839030562&4294967295,I=A+(R<<16&4294967295|R>>>16),R=T+(I^A^N)+k[14]+4259657740&4294967295,T=I+(R<<23&4294967295|R>>>9),R=N+(T^I^A)+k[1]+2763975236&4294967295,N=T+(R<<4&4294967295|R>>>28),R=A+(N^T^I)+k[4]+1272893353&4294967295,A=N+(R<<11&4294967295|R>>>21),R=I+(A^N^T)+k[7]+4139469664&4294967295,I=A+(R<<16&4294967295|R>>>16),R=T+(I^A^N)+k[10]+3200236656&4294967295,T=I+(R<<23&4294967295|R>>>9),R=N+(T^I^A)+k[13]+681279174&4294967295,N=T+(R<<4&4294967295|R>>>28),R=A+(N^T^I)+k[0]+3936430074&4294967295,A=N+(R<<11&4294967295|R>>>21),R=I+(A^N^T)+k[3]+3572445317&4294967295,I=A+(R<<16&4294967295|R>>>16),R=T+(I^A^N)+k[6]+76029189&4294967295,T=I+(R<<23&4294967295|R>>>9),R=N+(T^I^A)+k[9]+3654602809&4294967295,N=T+(R<<4&4294967295|R>>>28),R=A+(N^T^I)+k[12]+3873151461&4294967295,A=N+(R<<11&4294967295|R>>>21),R=I+(A^N^T)+k[15]+530742520&4294967295,I=A+(R<<16&4294967295|R>>>16),R=T+(I^A^N)+k[2]+3299628645&4294967295,T=I+(R<<23&4294967295|R>>>9),R=N+(I^(T|~A))+k[0]+4096336452&4294967295,N=T+(R<<6&4294967295|R>>>26),R=A+(T^(N|~I))+k[7]+1126891415&4294967295,A=N+(R<<10&4294967295|R>>>22),R=I+(N^(A|~T))+k[14]+2878612391&4294967295,I=A+(R<<15&4294967295|R>>>17),R=T+(A^(I|~N))+k[5]+4237533241&4294967295,T=I+(R<<21&4294967295|R>>>11),R=N+(I^(T|~A))+k[12]+1700485571&4294967295,N=T+(R<<6&4294967295|R>>>26),R=A+(T^(N|~I))+k[3]+2399980690&4294967295,A=N+(R<<10&4294967295|R>>>22),R=I+(N^(A|~T))+k[10]+4293915773&4294967295,I=A+(R<<15&4294967295|R>>>17),R=T+(A^(I|~N))+k[1]+2240044497&4294967295,T=I+(R<<21&4294967295|R>>>11),R=N+(I^(T|~A))+k[8]+1873313359&4294967295,N=T+(R<<6&4294967295|R>>>26),R=A+(T^(N|~I))+k[15]+4264355552&4294967295,A=N+(R<<10&4294967295|R>>>22),R=I+(N^(A|~T))+k[6]+2734768916&4294967295,I=A+(R<<15&4294967295|R>>>17),R=T+(A^(I|~N))+k[13]+1309151649&4294967295,T=I+(R<<21&4294967295|R>>>11),R=N+(I^(T|~A))+k[4]+4149444226&4294967295,N=T+(R<<6&4294967295|R>>>26),R=A+(T^(N|~I))+k[11]+3174756917&4294967295,A=N+(R<<10&4294967295|R>>>22),R=I+(N^(A|~T))+k[2]+718787259&4294967295,I=A+(R<<15&4294967295|R>>>17),R=T+(A^(I|~N))+k[9]+3951481745&4294967295,S.g[0]=S.g[0]+N&4294967295,S.g[1]=S.g[1]+(I+(R<<21&4294967295|R>>>11))&4294967295,S.g[2]=S.g[2]+I&4294967295,S.g[3]=S.g[3]+A&4294967295}r.prototype.v=function(S,N){N===void 0&&(N=S.length);const T=N-this.blockSize,k=this.C;let I=this.h,A=0;for(;A<N;){if(I==0)for(;A<=T;)s(this,S,A),A+=this.blockSize;if(typeof S=="string"){for(;A<N;)if(k[I++]=S.charCodeAt(A++),I==this.blockSize){s(this,k),I=0;break}}else for(;A<N;)if(k[I++]=S[A++],I==this.blockSize){s(this,k),I=0;break}}this.h=I,this.o+=N},r.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var N=1;N<S.length-8;++N)S[N]=0;N=this.o*8;for(var T=S.length-8;T<S.length;++T)S[T]=N&255,N/=256;for(this.v(S),S=Array(16),N=0,T=0;T<4;++T)for(let k=0;k<32;k+=8)S[N++]=this.g[T]>>>k&255;return S};function i(S,N){var T=l;return Object.prototype.hasOwnProperty.call(T,S)?T[S]:T[S]=N(S)}function a(S,N){this.h=N;const T=[];let k=!0;for(let I=S.length-1;I>=0;I--){const A=S[I]|0;k&&A==N||(T[I]=A,k=!1)}this.g=T}var l={};function c(S){return-128<=S&&S<128?i(S,function(N){return new a([N|0],N<0?-1:0)}):new a([S|0],S<0?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return f;if(S<0)return w(u(-S));const N=[];let T=1;for(let k=0;S>=T;k++)N[k]=S/T|0,T*=4294967296;return new a(N,0)}function d(S,N){if(S.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(S.charAt(0)=="-")return w(d(S.substring(1),N));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const T=u(Math.pow(N,8));let k=f;for(let A=0;A<S.length;A+=8){var I=Math.min(8,S.length-A);const R=parseInt(S.substring(A,A+I),N);I<8?(I=u(Math.pow(N,I)),k=k.j(I).add(u(R))):(k=k.j(T),k=k.add(u(R)))}return k}var f=c(0),p=c(1),g=c(16777216);t=a.prototype,t.m=function(){if(y(this))return-w(this).m();let S=0,N=1;for(let T=0;T<this.g.length;T++){const k=this.i(T);S+=(k>=0?k:4294967296+k)*N,N*=4294967296}return S},t.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(b(this))return"0";if(y(this))return"-"+w(this).toString(S);const N=u(Math.pow(S,6));var T=this;let k="";for(;;){const I=j(T,N).g;T=_(T,I.j(N));let A=((T.g.length>0?T.g[0]:T.h)>>>0).toString(S);if(T=I,b(T))return A+k;for(;A.length<6;)A="0"+A;k=A+k}},t.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function b(S){if(S.h!=0)return!1;for(let N=0;N<S.g.length;N++)if(S.g[N]!=0)return!1;return!0}function y(S){return S.h==-1}t.l=function(S){return S=_(this,S),y(S)?-1:b(S)?0:1};function w(S){const N=S.g.length,T=[];for(let k=0;k<N;k++)T[k]=~S.g[k];return new a(T,~S.h).add(p)}t.abs=function(){return y(this)?w(this):this},t.add=function(S){const N=Math.max(this.g.length,S.g.length),T=[];let k=0;for(let I=0;I<=N;I++){let A=k+(this.i(I)&65535)+(S.i(I)&65535),R=(A>>>16)+(this.i(I)>>>16)+(S.i(I)>>>16);k=R>>>16,A&=65535,R&=65535,T[I]=R<<16|A}return new a(T,T[T.length-1]&-2147483648?-1:0)};function _(S,N){return S.add(w(N))}t.j=function(S){if(b(this)||b(S))return f;if(y(this))return y(S)?w(this).j(w(S)):w(w(this).j(S));if(y(S))return w(this.j(w(S)));if(this.l(g)<0&&S.l(g)<0)return u(this.m()*S.m());const N=this.g.length+S.g.length,T=[];for(var k=0;k<2*N;k++)T[k]=0;for(k=0;k<this.g.length;k++)for(let I=0;I<S.g.length;I++){const A=this.i(k)>>>16,R=this.i(k)&65535,W=S.i(I)>>>16,U=S.i(I)&65535;T[2*k+2*I]+=R*U,x(T,2*k+2*I),T[2*k+2*I+1]+=A*U,x(T,2*k+2*I+1),T[2*k+2*I+1]+=R*W,x(T,2*k+2*I+1),T[2*k+2*I+2]+=A*W,x(T,2*k+2*I+2)}for(S=0;S<N;S++)T[S]=T[2*S+1]<<16|T[2*S];for(S=N;S<2*N;S++)T[S]=0;return new a(T,0)};function x(S,N){for(;(S[N]&65535)!=S[N];)S[N+1]+=S[N]>>>16,S[N]&=65535,N++}function v(S,N){this.g=S,this.h=N}function j(S,N){if(b(N))throw Error("division by zero");if(b(S))return new v(f,f);if(y(S))return N=j(w(S),N),new v(w(N.g),w(N.h));if(y(N))return N=j(S,w(N)),new v(w(N.g),N.h);if(S.g.length>30){if(y(S)||y(N))throw Error("slowDivide_ only works with positive integers.");for(var T=p,k=N;k.l(S)<=0;)T=P(T),k=P(k);var I=D(T,1),A=D(k,1);for(k=D(k,2),T=D(T,2);!b(k);){var R=A.add(k);R.l(S)<=0&&(I=I.add(T),A=R),k=D(k,1),T=D(T,1)}return N=_(S,I.j(N)),new v(I,N)}for(I=f;S.l(N)>=0;){for(T=Math.max(1,Math.floor(S.m()/N.m())),k=Math.ceil(Math.log(T)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),A=u(T),R=A.j(N);y(R)||R.l(S)>0;)T-=k,A=u(T),R=A.j(N);b(A)&&(A=p),I=I.add(A),S=_(S,R)}return new v(I,S)}t.B=function(S){return j(this,S).h},t.and=function(S){const N=Math.max(this.g.length,S.g.length),T=[];for(let k=0;k<N;k++)T[k]=this.i(k)&S.i(k);return new a(T,this.h&S.h)},t.or=function(S){const N=Math.max(this.g.length,S.g.length),T=[];for(let k=0;k<N;k++)T[k]=this.i(k)|S.i(k);return new a(T,this.h|S.h)},t.xor=function(S){const N=Math.max(this.g.length,S.g.length),T=[];for(let k=0;k<N;k++)T[k]=this.i(k)^S.i(k);return new a(T,this.h^S.h)};function P(S){const N=S.g.length+1,T=[];for(let k=0;k<N;k++)T[k]=S.i(k)<<1|S.i(k-1)>>>31;return new a(T,S.h)}function D(S,N){const T=N>>5;N%=32;const k=S.g.length-T,I=[];for(let A=0;A<k;A++)I[A]=N>0?S.i(A+T)>>>N|S.i(A+T+1)<<32-N:S.i(A+T);return new a(I,S.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,w2=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=d,fa=a}).apply(typeof Gj<"u"?Gj:typeof self<"u"?self:typeof window<"u"?window:{});var Sm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var b2,Id,_2,np,l0,E2,N2,S2;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sm=="object"&&Sm];for(var E=0;E<h.length;++E){var C=h[E];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var r=n(this);function s(h,E){if(E)e:{var C=r;h=h.split(".");for(var O=0;O<h.length-1;O++){var z=h[O];if(!(z in C))break e;C=C[z]}h=h[h.length-1],O=C[h],E=E(O),E!=O&&E!=null&&e(C,h,{configurable:!0,writable:!0,value:E})}}s("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(h){return h||function(E){var C=[],O;for(O in E)Object.prototype.hasOwnProperty.call(E,O)&&C.push([O,E[O]]);return C}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},a=this||self;function l(h){var E=typeof h;return E=="object"&&h!=null||E=="function"}function c(h,E,C){return h.call.apply(h.bind,arguments)}function u(h,E,C){return u=c,u.apply(null,arguments)}function d(h,E){var C=Array.prototype.slice.call(arguments,1);return function(){var O=C.slice();return O.push.apply(O,arguments),h.apply(this,O)}}function f(h,E){function C(){}C.prototype=E.prototype,h.Z=E.prototype,h.prototype=new C,h.prototype.constructor=h,h.Ob=function(O,z,Y){for(var Ee=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)Ee[ot-2]=arguments[ot];return E.prototype[z].apply(O,Ee)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function g(h){const E=h.length;if(E>0){const C=Array(E);for(let O=0;O<E;O++)C[O]=h[O];return C}return[]}function b(h,E){for(let O=1;O<arguments.length;O++){const z=arguments[O];var C=typeof z;if(C=C!="object"?C:z?Array.isArray(z)?"array":C:"null",C=="array"||C=="object"&&typeof z.length=="number"){C=h.length||0;const Y=z.length||0;h.length=C+Y;for(let Ee=0;Ee<Y;Ee++)h[C+Ee]=z[Ee]}else h.push(z)}}class y{constructor(E,C){this.i=E,this.j=C,this.h=0,this.g=null}get(){let E;return this.h>0?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function w(h){a.setTimeout(()=>{throw h},0)}function _(){var h=S;let E=null;return h.g&&(E=h.g,h.g=h.g.next,h.g||(h.h=null),E.next=null),E}class x{constructor(){this.h=this.g=null}add(E,C){const O=v.get();O.set(E,C),this.h?this.h.next=O:this.g=O,this.h=O}}var v=new y(()=>new j,h=>h.reset());class j{constructor(){this.next=this.g=this.h=null}set(E,C){this.h=E,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let P,D=!1,S=new x,N=()=>{const h=Promise.resolve(void 0);P=()=>{h.then(T)}};function T(){for(var h;h=_();){try{h.h.call(h.g)}catch(C){w(C)}var E=v;E.j(h),E.h<100&&(E.h++,h.next=E.g,E.g=h)}D=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(h,E){this.type=h,this.g=this.target=E,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var A=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var h=!1,E=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const C=()=>{};a.addEventListener("test",C,E),a.removeEventListener("test",C,E)}catch{}return h}();function R(h){return/^[\s\xa0]*$/.test(h)}function W(h,E){I.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,E)}f(W,I),W.prototype.init=function(h,E){const C=this.type=h.type,O=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=E,E=h.relatedTarget,E||(C=="mouseover"?E=h.fromElement:C=="mouseout"&&(E=h.toElement)),this.relatedTarget=E,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&W.Z.h.call(this)},W.prototype.h=function(){W.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var U="closure_listenable_"+(Math.random()*1e6|0),q=0;function K(h,E,C,O,z){this.listener=h,this.proxy=null,this.src=E,this.type=C,this.capture=!!O,this.ha=z,this.key=++q,this.da=this.fa=!1}function L(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function V(h,E,C){for(const O in h)E.call(C,h[O],O,h)}function F(h,E){for(const C in h)E.call(void 0,h[C],C,h)}function Q(h){const E={};for(const C in h)E[C]=h[C];return E}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function te(h,E){let C,O;for(let z=1;z<arguments.length;z++){O=arguments[z];for(C in O)h[C]=O[C];for(let Y=0;Y<$.length;Y++)C=$[Y],Object.prototype.hasOwnProperty.call(O,C)&&(h[C]=O[C])}}function ue(h){this.src=h,this.g={},this.h=0}ue.prototype.add=function(h,E,C,O,z){const Y=h.toString();h=this.g[Y],h||(h=this.g[Y]=[],this.h++);const Ee=Ce(h,E,O,z);return Ee>-1?(E=h[Ee],C||(E.fa=!1)):(E=new K(E,this.src,Y,!!O,z),E.fa=C,h.push(E)),E};function de(h,E){const C=E.type;if(C in h.g){var O=h.g[C],z=Array.prototype.indexOf.call(O,E,void 0),Y;(Y=z>=0)&&Array.prototype.splice.call(O,z,1),Y&&(L(E),h.g[C].length==0&&(delete h.g[C],h.h--))}}function Ce(h,E,C,O){for(let z=0;z<h.length;++z){const Y=h[z];if(!Y.da&&Y.listener==E&&Y.capture==!!C&&Y.ha==O)return z}return-1}var J="closure_lm_"+(Math.random()*1e6|0),Fe={};function Me(h,E,C,O,z){if(Array.isArray(E)){for(let Y=0;Y<E.length;Y++)Me(h,E[Y],C,O,z);return null}return C=X(C),h&&h[U]?h.J(E,C,l(O)?!!O.capture:!!O,z):le(h,E,C,!1,O,z)}function le(h,E,C,O,z,Y){if(!E)throw Error("Invalid event type");const Ee=l(z)?!!z.capture:!!z;let ot=ht(h);if(ot||(h[J]=ot=new ue(h)),C=ot.add(E,C,O,Ee,Y),C.proxy)return C;if(O=Ne(),C.proxy=O,O.src=h,O.listener=C,h.addEventListener)A||(z=Ee),z===void 0&&(z=!1),h.addEventListener(E.toString(),O,z);else if(h.attachEvent)h.attachEvent(Re(E.toString()),O);else if(h.addListener&&h.removeListener)h.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return C}function Ne(){function h(C){return E.call(h.src,h.listener,C)}const E=Ue;return h}function De(h,E,C,O,z){if(Array.isArray(E))for(var Y=0;Y<E.length;Y++)De(h,E[Y],C,O,z);else O=l(O)?!!O.capture:!!O,C=X(C),h&&h[U]?(h=h.i,Y=String(E).toString(),Y in h.g&&(E=h.g[Y],C=Ce(E,C,O,z),C>-1&&(L(E[C]),Array.prototype.splice.call(E,C,1),E.length==0&&(delete h.g[Y],h.h--)))):h&&(h=ht(h))&&(E=h.g[E.toString()],h=-1,E&&(h=Ce(E,C,O,z)),(C=h>-1?E[h]:null)&&Nt(C))}function Nt(h){if(typeof h!="number"&&h&&!h.da){var E=h.src;if(E&&E[U])de(E.i,h);else{var C=h.type,O=h.proxy;E.removeEventListener?E.removeEventListener(C,O,h.capture):E.detachEvent?E.detachEvent(Re(C),O):E.addListener&&E.removeListener&&E.removeListener(O),(C=ht(E))?(de(C,h),C.h==0&&(C.src=null,E[J]=null)):L(h)}}}function Re(h){return h in Fe?Fe[h]:Fe[h]="on"+h}function Ue(h,E){if(h.da)h=!0;else{E=new W(E,this);const C=h.listener,O=h.ha||h.src;h.fa&&Nt(h),h=C.call(O,E)}return h}function ht(h){return h=h[J],h instanceof ue?h:null}var Z="__closure_events_fn_"+(Math.random()*1e9>>>0);function X(h){return typeof h=="function"?h:(h[Z]||(h[Z]=function(E){return h.handleEvent(E)}),h[Z])}function ce(){k.call(this),this.i=new ue(this),this.M=this,this.G=null}f(ce,k),ce.prototype[U]=!0,ce.prototype.removeEventListener=function(h,E,C,O){De(this,h,E,C,O)};function M(h,E){var C,O=h.G;if(O)for(C=[];O;O=O.G)C.push(O);if(h=h.M,O=E.type||E,typeof E=="string")E=new I(E,h);else if(E instanceof I)E.target=E.target||h;else{var z=E;E=new I(O,h),te(E,z)}z=!0;let Y,Ee;if(C)for(Ee=C.length-1;Ee>=0;Ee--)Y=E.g=C[Ee],z=B(Y,O,!0,E)&&z;if(Y=E.g=h,z=B(Y,O,!0,E)&&z,z=B(Y,O,!1,E)&&z,C)for(Ee=0;Ee<C.length;Ee++)Y=E.g=C[Ee],z=B(Y,O,!1,E)&&z}ce.prototype.N=function(){if(ce.Z.N.call(this),this.i){var h=this.i;for(const E in h.g){const C=h.g[E];for(let O=0;O<C.length;O++)L(C[O]);delete h.g[E],h.h--}}this.G=null},ce.prototype.J=function(h,E,C,O){return this.i.add(String(h),E,!1,C,O)},ce.prototype.K=function(h,E,C,O){return this.i.add(String(h),E,!0,C,O)};function B(h,E,C,O){if(E=h.i.g[String(E)],!E)return!0;E=E.concat();let z=!0;for(let Y=0;Y<E.length;++Y){const Ee=E[Y];if(Ee&&!Ee.da&&Ee.capture==C){const ot=Ee.listener,bn=Ee.ha||Ee.src;Ee.fa&&de(h.i,Ee),z=ot.call(bn,O)!==!1&&z}}return z&&!O.defaultPrevented}function G(h,E){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=u(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(E)>2147483647?-1:a.setTimeout(h,E||0)}function he(h){h.g=G(()=>{h.g=null,h.i&&(h.i=!1,he(h))},h.l);const E=h.h;h.h=null,h.m.apply(null,E)}class fe extends k{constructor(E,C){super(),this.m=E,this.l=C,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:he(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function oe(h){k.call(this),this.h=h,this.g={}}f(oe,k);var ye=[];function We(h){V(h.g,function(E,C){this.g.hasOwnProperty(C)&&Nt(E)},h),h.g={}}oe.prototype.N=function(){oe.Z.N.call(this),We(this)},oe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ft=a.JSON.stringify,xn=a.JSON.parse,Br=class{stringify(h){return a.JSON.stringify(h,void 0)}parse(h){return a.JSON.parse(h,void 0)}};function hr(){}function Mi(){}var on={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function kn(){I.call(this,"d")}f(kn,I);function Js(){I.call(this,"c")}f(Js,I);var Fn={},oc=null;function Li(){return oc=oc||new ce}Fn.Ia="serverreachability";function Yu(h){I.call(this,Fn.Ia,h)}f(Yu,I);function wo(h){const E=Li();M(E,new Yu(E))}Fn.STAT_EVENT="statevent";function Hf(h,E){I.call(this,Fn.STAT_EVENT,h),this.stat=E}f(Hf,I);function wn(h){const E=Li();M(E,new Hf(E,h))}Fn.Ja="timingevent";function bs(h,E){I.call(this,Fn.Ja,h),this.size=E}f(bs,I);function Ka(h,E){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){h()},E)}function He(){this.g=!0}He.prototype.ua=function(){this.g=!1};function St(h,E,C,O,z,Y){h.info(function(){if(h.g)if(Y){var Ee="",ot=Y.split("&");for(let At=0;At<ot.length;At++){var bn=ot[At].split("=");if(bn.length>1){const In=bn[0];bn=bn[1];const ni=In.split("_");Ee=ni.length>=2&&ni[1]=="type"?Ee+(In+"="+bn+"&"):Ee+(In+"=redacted&")}}}else Ee=null;else Ee=Y;return"XMLHTTP REQ ("+O+") [attempt "+z+"]: "+E+`
`+C+`
`+Ee})}function Ot(h,E,C,O,z,Y,Ee){h.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+z+"]: "+E+`
`+C+`
`+Y+" "+Ee})}function Tn(h,E,C,O){h.info(function(){return"XMLHTTP TEXT ("+E+"): "+ei(h,C)+(O?" "+O:"")})}function zr(h,E){h.info(function(){return"TIMEOUT: "+E})}He.prototype.info=function(){};function ei(h,E){if(!h.g)return E;if(!E)return null;try{const Y=JSON.parse(E);if(Y){for(h=0;h<Y.length;h++)if(Array.isArray(Y[h])){var C=Y[h];if(!(C.length<2)){var O=C[1];if(Array.isArray(O)&&!(O.length<1)){var z=O[0];if(z!="noop"&&z!="stop"&&z!="close")for(let Ee=1;Ee<O.length;Ee++)O[Ee]=""}}}}return ft(Y)}catch{return E}}var os={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Sr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},_s;function dy(){}f(dy,hr),dy.prototype.g=function(){return new XMLHttpRequest},_s=new dy;function Qu(h){return encodeURIComponent(String(h))}function OV(h){var E=1;h=h.split(":");const C=[];for(;E>0&&h.length;)C.push(h.shift()),E--;return h.length&&C.push(h.join(":")),C}function bo(h,E,C,O){this.j=h,this.i=E,this.l=C,this.S=O||1,this.V=new oe(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ME}function ME(){this.i=null,this.g="",this.h=!1}var LE={},hy={};function fy(h,E,C){h.M=1,h.A=Gf(ti(E)),h.u=C,h.R=!0,FE(h,null)}function FE(h,E){h.F=Date.now(),qf(h),h.B=ti(h.A);var C=h.B,O=h.S;Array.isArray(O)||(O=[String(O)]),XE(C.i,"t",O),h.C=0,C=h.j.L,h.h=new ME,h.g=pN(h.j,C?E:null,!h.u),h.P>0&&(h.O=new fe(u(h.Y,h,h.g),h.P)),E=h.V,C=h.g,O=h.ba;var z="readystatechange";Array.isArray(z)||(z&&(ye[0]=z.toString()),z=ye);for(let Y=0;Y<z.length;Y++){const Ee=Me(C,z[Y],O||E.handleEvent,!1,E.h||E);if(!Ee)break;E.g[Ee.key]=Ee}E=h.J?Q(h.J):{},h.u?(h.v||(h.v="POST"),E["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,E)):(h.v="GET",h.g.ea(h.B,h.v,null,E)),wo(),St(h.i,h.v,h.B,h.l,h.S,h.u)}bo.prototype.ba=function(h){h=h.target;const E=this.O;E&&No(h)==3?E.j():this.Y(h)},bo.prototype.Y=function(h){try{if(h==this.g)e:{const ot=No(this.g),bn=this.g.ya(),At=this.g.ca();if(!(ot<3)&&(ot!=3||this.g&&(this.h.h||this.g.la()||sN(this.g)))){this.K||ot!=4||bn==7||(bn==8||At<=0?wo(3):wo(2)),my(this);var E=this.g.ca();this.X=E;var C=MV(this);if(this.o=E==200,Ot(this.i,this.v,this.B,this.l,this.S,ot,E),this.o){if(this.U&&!this.L){t:{if(this.g){var O,z=this.g;if((O=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(O)){var Y=O;break t}}Y=null}if(h=Y)Tn(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,py(this,h);else{this.o=!1,this.m=3,wn(12),Ya(this),Xu(this);break e}}if(this.R){h=!0;let In;for(;!this.K&&this.C<C.length;)if(In=LV(this,C),In==hy){ot==4&&(this.m=4,wn(14),h=!1),Tn(this.i,this.l,null,"[Incomplete Response]");break}else if(In==LE){this.m=4,wn(15),Tn(this.i,this.l,C,"[Invalid Chunk]"),h=!1;break}else Tn(this.i,this.l,In,null),py(this,In);if(VE(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ot!=4||C.length!=0||this.h.h||(this.m=1,wn(16),h=!1),this.o=this.o&&h,!h)Tn(this.i,this.l,C,"[Invalid Chunked Response]"),Ya(this),Xu(this);else if(C.length>0&&!this.W){this.W=!0;var Ee=this.j;Ee.g==this&&Ee.aa&&!Ee.P&&(Ee.j.info("Great, no buffering proxy detected. Bytes received: "+C.length),Ey(Ee),Ee.P=!0,wn(11))}}else Tn(this.i,this.l,C,null),py(this,C);ot==4&&Ya(this),this.o&&!this.K&&(ot==4?dN(this.j,this):(this.o=!1,qf(this)))}else XV(this.g),E==400&&C.indexOf("Unknown SID")>0?(this.m=3,wn(12)):(this.m=0,wn(13)),Ya(this),Xu(this)}}}catch{}finally{}};function MV(h){if(!VE(h))return h.g.la();const E=sN(h.g);if(E==="")return"";let C="";const O=E.length,z=No(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Ya(h),Xu(h),"";h.h.i=new a.TextDecoder}for(let Y=0;Y<O;Y++)h.h.h=!0,C+=h.h.i.decode(E[Y],{stream:!(z&&Y==O-1)});return E.length=0,h.h.g+=C,h.C=0,h.h.g}function VE(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function LV(h,E){var C=h.C,O=E.indexOf(`
`,C);return O==-1?hy:(C=Number(E.substring(C,O)),isNaN(C)?LE:(O+=1,O+C>E.length?hy:(E=E.slice(O,O+C),h.C=O+C,E)))}bo.prototype.cancel=function(){this.K=!0,Ya(this)};function qf(h){h.T=Date.now()+h.H,UE(h,h.H)}function UE(h,E){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Ka(u(h.aa,h),E)}function my(h){h.D&&(a.clearTimeout(h.D),h.D=null)}bo.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(zr(this.i,this.B),this.M!=2&&(wo(),wn(17)),Ya(this),this.m=2,Xu(this)):UE(this,this.T-h)};function Xu(h){h.j.I==0||h.K||dN(h.j,h)}function Ya(h){my(h);var E=h.O;E&&typeof E.dispose=="function"&&E.dispose(),h.O=null,We(h.V),h.g&&(E=h.g,h.g=null,E.abort(),E.dispose())}function py(h,E){try{var C=h.j;if(C.I!=0&&(C.g==h||gy(C.h,h))){if(!h.L&&gy(C.h,h)&&C.I==3){try{var O=C.Ba.g.parse(E)}catch{O=null}if(Array.isArray(O)&&O.length==3){var z=O;if(z[0]==0){e:if(!C.v){if(C.g)if(C.g.F+3e3<h.F)Zf(C),Qf(C);else break e;_y(C),wn(18)}}else C.xa=z[1],0<C.xa-C.K&&z[2]<37500&&C.F&&C.A==0&&!C.C&&(C.C=Ka(u(C.Va,C),6e3));zE(C.h)<=1&&C.ta&&(C.ta=void 0)}else Xa(C,11)}else if((h.L||C.g==h)&&Zf(C),!R(E))for(z=C.Ba.g.parse(E),E=0;E<z.length;E++){let At=z[E];const In=At[0];if(!(In<=C.K))if(C.K=In,At=At[1],C.I==2)if(At[0]=="c"){C.M=At[1],C.ba=At[2];const ni=At[3];ni!=null&&(C.ka=ni,C.j.info("VER="+C.ka));const Za=At[4];Za!=null&&(C.za=Za,C.j.info("SVER="+C.za));const So=At[5];So!=null&&typeof So=="number"&&So>0&&(O=1.5*So,C.O=O,C.j.info("backChannelRequestTimeoutMs_="+O)),O=C;const jo=h.g;if(jo){const em=jo.g?jo.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(em){var Y=O.h;Y.g||em.indexOf("spdy")==-1&&em.indexOf("quic")==-1&&em.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(vy(Y,Y.h),Y.h=null))}if(O.G){const Ny=jo.g?jo.g.getResponseHeader("X-HTTP-Session-Id"):null;Ny&&(O.wa=Ny,$t(O.J,O.G,Ny))}}C.I=3,C.l&&C.l.ra(),C.aa&&(C.T=Date.now()-h.F,C.j.info("Handshake RTT: "+C.T+"ms")),O=C;var Ee=h;if(O.na=mN(O,O.L?O.ba:null,O.W),Ee.L){WE(O.h,Ee);var ot=Ee,bn=O.O;bn&&(ot.H=bn),ot.D&&(my(ot),qf(ot)),O.g=Ee}else cN(O);C.i.length>0&&Xf(C)}else At[0]!="stop"&&At[0]!="close"||Xa(C,7);else C.I==3&&(At[0]=="stop"||At[0]=="close"?At[0]=="stop"?Xa(C,7):by(C):At[0]!="noop"&&C.l&&C.l.qa(At),C.A=0)}}wo(4)}catch{}}var FV=class{constructor(h,E){this.g=h,this.map=E}};function $E(h){this.l=h||10,a.PerformanceNavigationTiming?(h=a.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function BE(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function zE(h){return h.h?1:h.g?h.g.size:0}function gy(h,E){return h.h?h.h==E:h.g?h.g.has(E):!1}function vy(h,E){h.g?h.g.add(E):h.h=E}function WE(h,E){h.h&&h.h==E?h.h=null:h.g&&h.g.has(E)&&h.g.delete(E)}$E.prototype.cancel=function(){if(this.i=HE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function HE(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let E=h.i;for(const C of h.g.values())E=E.concat(C.G);return E}return g(h.i)}var qE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function VV(h,E){if(h){h=h.split("&");for(let C=0;C<h.length;C++){const O=h[C].indexOf("=");let z,Y=null;O>=0?(z=h[C].substring(0,O),Y=h[C].substring(O+1)):z=h[C],E(z,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function _o(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let E;h instanceof _o?(this.l=h.l,Zu(this,h.j),this.o=h.o,this.g=h.g,Ju(this,h.u),this.h=h.h,yy(this,ZE(h.i)),this.m=h.m):h&&(E=String(h).match(qE))?(this.l=!1,Zu(this,E[1]||"",!0),this.o=ed(E[2]||""),this.g=ed(E[3]||"",!0),Ju(this,E[4]),this.h=ed(E[5]||"",!0),yy(this,E[6]||"",!0),this.m=ed(E[7]||"")):(this.l=!1,this.i=new nd(null,this.l))}_o.prototype.toString=function(){const h=[];var E=this.j;E&&h.push(td(E,GE,!0),":");var C=this.g;return(C||E=="file")&&(h.push("//"),(E=this.o)&&h.push(td(E,GE,!0),"@"),h.push(Qu(C).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.u,C!=null&&h.push(":",String(C))),(C=this.h)&&(this.g&&C.charAt(0)!="/"&&h.push("/"),h.push(td(C,C.charAt(0)=="/"?BV:$V,!0))),(C=this.i.toString())&&h.push("?",C),(C=this.m)&&h.push("#",td(C,WV)),h.join("")},_o.prototype.resolve=function(h){const E=ti(this);let C=!!h.j;C?Zu(E,h.j):C=!!h.o,C?E.o=h.o:C=!!h.g,C?E.g=h.g:C=h.u!=null;var O=h.h;if(C)Ju(E,h.u);else if(C=!!h.h){if(O.charAt(0)!="/")if(this.g&&!this.h)O="/"+O;else{var z=E.h.lastIndexOf("/");z!=-1&&(O=E.h.slice(0,z+1)+O)}if(z=O,z==".."||z==".")O="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){O=z.lastIndexOf("/",0)==0,z=z.split("/");const Y=[];for(let Ee=0;Ee<z.length;){const ot=z[Ee++];ot=="."?O&&Ee==z.length&&Y.push(""):ot==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),O&&Ee==z.length&&Y.push("")):(Y.push(ot),O=!0)}O=Y.join("/")}else O=z}return C?E.h=O:C=h.i.toString()!=="",C?yy(E,ZE(h.i)):C=!!h.m,C&&(E.m=h.m),E};function ti(h){return new _o(h)}function Zu(h,E,C){h.j=C?ed(E,!0):E,h.j&&(h.j=h.j.replace(/:$/,""))}function Ju(h,E){if(E){if(E=Number(E),isNaN(E)||E<0)throw Error("Bad port number "+E);h.u=E}else h.u=null}function yy(h,E,C){E instanceof nd?(h.i=E,HV(h.i,h.l)):(C||(E=td(E,zV)),h.i=new nd(E,h.l))}function $t(h,E,C){h.i.set(E,C)}function Gf(h){return $t(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function ed(h,E){return h?E?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function td(h,E,C){return typeof h=="string"?(h=encodeURI(h).replace(E,UV),C&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function UV(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var GE=/[#\/\?@]/g,$V=/[#\?:]/g,BV=/[#\?]/g,zV=/[#\?@]/g,WV=/#/g;function nd(h,E){this.h=this.g=null,this.i=h||null,this.j=!!E}function Qa(h){h.g||(h.g=new Map,h.h=0,h.i&&VV(h.i,function(E,C){h.add(decodeURIComponent(E.replace(/\+/g," ")),C)}))}t=nd.prototype,t.add=function(h,E){Qa(this),this.i=null,h=ac(this,h);let C=this.g.get(h);return C||this.g.set(h,C=[]),C.push(E),this.h+=1,this};function KE(h,E){Qa(h),E=ac(h,E),h.g.has(E)&&(h.i=null,h.h-=h.g.get(E).length,h.g.delete(E))}function YE(h,E){return Qa(h),E=ac(h,E),h.g.has(E)}t.forEach=function(h,E){Qa(this),this.g.forEach(function(C,O){C.forEach(function(z){h.call(E,z,O,this)},this)},this)};function QE(h,E){Qa(h);let C=[];if(typeof E=="string")YE(h,E)&&(C=C.concat(h.g.get(ac(h,E))));else for(h=Array.from(h.g.values()),E=0;E<h.length;E++)C=C.concat(h[E]);return C}t.set=function(h,E){return Qa(this),this.i=null,h=ac(this,h),YE(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[E]),this.h+=1,this},t.get=function(h,E){return h?(h=QE(this,h),h.length>0?String(h[0]):E):E};function XE(h,E,C){KE(h,E),C.length>0&&(h.i=null,h.g.set(ac(h,E),g(C)),h.h+=C.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],E=Array.from(this.g.keys());for(let O=0;O<E.length;O++){var C=E[O];const z=Qu(C);C=QE(this,C);for(let Y=0;Y<C.length;Y++){let Ee=z;C[Y]!==""&&(Ee+="="+Qu(C[Y])),h.push(Ee)}}return this.i=h.join("&")};function ZE(h){const E=new nd;return E.i=h.i,h.g&&(E.g=new Map(h.g),E.h=h.h),E}function ac(h,E){return E=String(E),h.j&&(E=E.toLowerCase()),E}function HV(h,E){E&&!h.j&&(Qa(h),h.i=null,h.g.forEach(function(C,O){const z=O.toLowerCase();O!=z&&(KE(this,O),XE(this,z,C))},h)),h.j=E}function qV(h,E){const C=new He;if(a.Image){const O=new Image;O.onload=d(Eo,C,"TestLoadImage: loaded",!0,E,O),O.onerror=d(Eo,C,"TestLoadImage: error",!1,E,O),O.onabort=d(Eo,C,"TestLoadImage: abort",!1,E,O),O.ontimeout=d(Eo,C,"TestLoadImage: timeout",!1,E,O),a.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=h}else E(!1)}function GV(h,E){const C=new He,O=new AbortController,z=setTimeout(()=>{O.abort(),Eo(C,"TestPingServer: timeout",!1,E)},1e4);fetch(h,{signal:O.signal}).then(Y=>{clearTimeout(z),Y.ok?Eo(C,"TestPingServer: ok",!0,E):Eo(C,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(z),Eo(C,"TestPingServer: error",!1,E)})}function Eo(h,E,C,O,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),O(C)}catch{}}function KV(){this.g=new Br}function xy(h){this.i=h.Sb||null,this.h=h.ab||!1}f(xy,hr),xy.prototype.g=function(){return new Kf(this.i,this.h)};function Kf(h,E){ce.call(this),this.H=h,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(Kf,ce),t=Kf.prototype,t.open=function(h,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=E,this.readyState=1,sd(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const E={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(E.body=h),(this.H||a).fetch(new Request(this.D,E)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,rd(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,sd(this)),this.g&&(this.readyState=3,sd(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;JE(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function JE(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var E=h.value?h.value:new Uint8Array(0);(E=this.B.decode(E,{stream:!h.done}))&&(this.response=this.responseText+=E)}h.done?rd(this):sd(this),this.readyState==3&&JE(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,rd(this))},t.Na=function(h){this.g&&(this.response=h,rd(this))},t.ga=function(){this.g&&rd(this)};function rd(h){h.readyState=4,h.l=null,h.j=null,h.B=null,sd(h)}t.setRequestHeader=function(h,E){this.A.append(h,E)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],E=this.h.entries();for(var C=E.next();!C.done;)C=C.value,h.push(C[0]+": "+C[1]),C=E.next();return h.join(`\r
`)};function sd(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Kf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function eN(h){let E="";return V(h,function(C,O){E+=O,E+=":",E+=C,E+=`\r
`}),E}function wy(h,E,C){e:{for(O in C){var O=!1;break e}O=!0}O||(C=eN(C),typeof h=="string"?C!=null&&Qu(C):$t(h,E,C))}function en(h){ce.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(en,ce);var YV=/^https?$/i,QV=["POST","PUT"];t=en.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,E,C,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);E=E?E.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():_s.g(),this.g.onreadystatechange=p(u(this.Ca,this));try{this.B=!0,this.g.open(E,String(h),!0),this.B=!1}catch(Y){tN(this,Y);return}if(h=C||"",C=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var z in O)C.set(z,O[z]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const Y of O.keys())C.set(Y,O.get(Y));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(C.keys()).find(Y=>Y.toLowerCase()=="content-type"),z=a.FormData&&h instanceof a.FormData,!(Array.prototype.indexOf.call(QV,E,void 0)>=0)||O||z||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,Ee]of C)this.g.setRequestHeader(Y,Ee);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Y){tN(this,Y)}};function tN(h,E){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=E,h.o=5,nN(h),Yf(h)}function nN(h){h.A||(h.A=!0,M(h,"complete"),M(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,M(this,"complete"),M(this,"abort"),Yf(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yf(this,!0)),en.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?rN(this):this.Xa())},t.Xa=function(){rN(this)};function rN(h){if(h.h&&typeof i<"u"){if(h.v&&No(h)==4)setTimeout(h.Ca.bind(h),0);else if(M(h,"readystatechange"),No(h)==4){h.h=!1;try{const Y=h.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var C;if(!(C=E)){var O;if(O=Y===0){let Ee=String(h.D).match(qE)[1]||null;!Ee&&a.self&&a.self.location&&(Ee=a.self.location.protocol.slice(0,-1)),O=!YV.test(Ee?Ee.toLowerCase():"")}C=O}if(C)M(h,"complete"),M(h,"success");else{h.o=6;try{var z=No(h)>2?h.g.statusText:""}catch{z=""}h.l=z+" ["+h.ca()+"]",nN(h)}}finally{Yf(h)}}}}function Yf(h,E){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const C=h.g;h.g=null,E||M(h,"ready");try{C.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function No(h){return h.g?h.g.readyState:0}t.ca=function(){try{return No(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var E=this.g.responseText;return h&&E.indexOf(h)==0&&(E=E.substring(h.length)),xn(E)}};function sN(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function XV(h){const E={};h=(h.g&&No(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<h.length;O++){if(R(h[O]))continue;var C=OV(h[O]);const z=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const Y=E[z]||[];E[z]=Y,Y.push(C)}F(E,function(O){return O.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function id(h,E,C){return C&&C.internalChannelParams&&C.internalChannelParams[h]||E}function iN(h){this.za=0,this.i=[],this.j=new He,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=id("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=id("baseRetryDelayMs",5e3,h),this.Za=id("retryDelaySeedMs",1e4,h),this.Ta=id("forwardChannelMaxRetries",2,h),this.va=id("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new $E(h&&h.concurrentRequestLimit),this.Ba=new KV,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=iN.prototype,t.ka=8,t.I=1,t.connect=function(h,E,C,O){wn(0),this.W=h,this.H=E||{},C&&O!==void 0&&(this.H.OSID=C,this.H.OAID=O),this.F=this.X,this.J=mN(this,null,this.W),Xf(this)};function by(h){if(oN(h),h.I==3){var E=h.V++,C=ti(h.J);if($t(C,"SID",h.M),$t(C,"RID",E),$t(C,"TYPE","terminate"),od(h,C),E=new bo(h,h.j,E),E.M=2,E.A=Gf(ti(C)),C=!1,a.navigator&&a.navigator.sendBeacon)try{C=a.navigator.sendBeacon(E.A.toString(),"")}catch{}!C&&a.Image&&(new Image().src=E.A,C=!0),C||(E.g=pN(E.j,null),E.g.ea(E.A)),E.F=Date.now(),qf(E)}fN(h)}function Qf(h){h.g&&(Ey(h),h.g.cancel(),h.g=null)}function oN(h){Qf(h),h.v&&(a.clearTimeout(h.v),h.v=null),Zf(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&a.clearTimeout(h.m),h.m=null)}function Xf(h){if(!BE(h.h)&&!h.m){h.m=!0;var E=h.Ea;P||N(),D||(P(),D=!0),S.add(E,h),h.D=0}}function ZV(h,E){return zE(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=E.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Ka(u(h.Ea,h,E),hN(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const z=new bo(this,this.j,h);let Y=this.o;if(this.U&&(Y?(Y=Q(Y),te(Y,this.U)):Y=this.U),this.u!==null||this.R||(z.J=Y,Y=null),this.S)e:{for(var E=0,C=0;C<this.i.length;C++){t:{var O=this.i[C];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(E+=O,E>4096){E=C;break e}if(E===4096||C===this.i.length-1){E=C+1;break e}}E=1e3}else E=1e3;E=lN(this,z,E),C=ti(this.J),$t(C,"RID",h),$t(C,"CVER",22),this.G&&$t(C,"X-HTTP-Session-Id",this.G),od(this,C),Y&&(this.R?E="headers="+Qu(eN(Y))+"&"+E:this.u&&wy(C,this.u,Y)),vy(this.h,z),this.Ra&&$t(C,"TYPE","init"),this.S?($t(C,"$req",E),$t(C,"SID","null"),z.U=!0,fy(z,C,null)):fy(z,C,E),this.I=2}}else this.I==3&&(h?aN(this,h):this.i.length==0||BE(this.h)||aN(this))};function aN(h,E){var C;E?C=E.l:C=h.V++;const O=ti(h.J);$t(O,"SID",h.M),$t(O,"RID",C),$t(O,"AID",h.K),od(h,O),h.u&&h.o&&wy(O,h.u,h.o),C=new bo(h,h.j,C,h.D+1),h.u===null&&(C.J=h.o),E&&(h.i=E.G.concat(h.i)),E=lN(h,C,1e3),C.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),vy(h.h,C),fy(C,O,E)}function od(h,E){h.H&&V(h.H,function(C,O){$t(E,O,C)}),h.l&&V({},function(C,O){$t(E,O,C)})}function lN(h,E,C){C=Math.min(h.i.length,C);const O=h.l?u(h.l.Ka,h.l,h):null;e:{var z=h.i;let ot=-1;for(;;){const bn=["count="+C];ot==-1?C>0?(ot=z[0].g,bn.push("ofs="+ot)):ot=0:bn.push("ofs="+ot);let At=!0;for(let In=0;In<C;In++){var Y=z[In].g;const ni=z[In].map;if(Y-=ot,Y<0)ot=Math.max(0,z[In].g-100),At=!1;else try{Y="req"+Y+"_"||"";try{var Ee=ni instanceof Map?ni:Object.entries(ni);for(const[Za,So]of Ee){let jo=So;l(So)&&(jo=ft(So)),bn.push(Y+Za+"="+encodeURIComponent(jo))}}catch(Za){throw bn.push(Y+"type="+encodeURIComponent("_badmap")),Za}}catch{O&&O(ni)}}if(At){Ee=bn.join("&");break e}}Ee=void 0}return h=h.i.splice(0,C),E.G=h,Ee}function cN(h){if(!h.g&&!h.v){h.Y=1;var E=h.Da;P||N(),D||(P(),D=!0),S.add(E,h),h.A=0}}function _y(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Ka(u(h.Da,h),hN(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,uN(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Ka(u(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,wn(10),Qf(this),uN(this))};function Ey(h){h.B!=null&&(a.clearTimeout(h.B),h.B=null)}function uN(h){h.g=new bo(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var E=ti(h.na);$t(E,"RID","rpc"),$t(E,"SID",h.M),$t(E,"AID",h.K),$t(E,"CI",h.F?"0":"1"),!h.F&&h.ia&&$t(E,"TO",h.ia),$t(E,"TYPE","xmlhttp"),od(h,E),h.u&&h.o&&wy(E,h.u,h.o),h.O&&(h.g.H=h.O);var C=h.g;h=h.ba,C.M=1,C.A=Gf(ti(E)),C.u=null,C.R=!0,FE(C,h)}t.Va=function(){this.C!=null&&(this.C=null,Qf(this),_y(this),wn(19))};function Zf(h){h.C!=null&&(a.clearTimeout(h.C),h.C=null)}function dN(h,E){var C=null;if(h.g==E){Zf(h),Ey(h),h.g=null;var O=2}else if(gy(h.h,E))C=E.G,WE(h.h,E),O=1;else return;if(h.I!=0){if(E.o)if(O==1){C=E.u?E.u.length:0,E=Date.now()-E.F;var z=h.D;O=Li(),M(O,new bs(O,C)),Xf(h)}else cN(h);else if(z=E.m,z==3||z==0&&E.X>0||!(O==1&&ZV(h,E)||O==2&&_y(h)))switch(C&&C.length>0&&(E=h.h,E.i=E.i.concat(C)),z){case 1:Xa(h,5);break;case 4:Xa(h,10);break;case 3:Xa(h,6);break;default:Xa(h,2)}}}function hN(h,E){let C=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(C*=2),C*E}function Xa(h,E){if(h.j.info("Error code "+E),E==2){var C=u(h.bb,h),O=h.Ua;const z=!O;O=new _o(O||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Zu(O,"https"),Gf(O),z?qV(O.toString(),C):GV(O.toString(),C)}else wn(2);h.I=0,h.l&&h.l.pa(E),fN(h),oN(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),wn(2)):(this.j.info("Failed to ping google.com"),wn(1))};function fN(h){if(h.I=0,h.ja=[],h.l){const E=HE(h.h);(E.length!=0||h.i.length!=0)&&(b(h.ja,E),b(h.ja,h.i),h.h.i.length=0,g(h.i),h.i.length=0),h.l.oa()}}function mN(h,E,C){var O=C instanceof _o?ti(C):new _o(C);if(O.g!="")E&&(O.g=E+"."+O.g),Ju(O,O.u);else{var z=a.location;O=z.protocol,E=E?E+"."+z.hostname:z.hostname,z=+z.port;const Y=new _o(null);O&&Zu(Y,O),E&&(Y.g=E),z&&Ju(Y,z),C&&(Y.h=C),O=Y}return C=h.G,E=h.wa,C&&E&&$t(O,C,E),$t(O,"VER",h.ka),od(h,O),O}function pN(h,E,C){if(E&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return E=h.Aa&&!h.ma?new en(new xy({ab:C})):new en(h.ma),E.Fa(h.L),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function gN(){}t=gN.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Jf(){}Jf.prototype.g=function(h,E){return new Wr(h,E)};function Wr(h,E){ce.call(this),this.g=new iN(E),this.l=h,this.h=E&&E.messageUrlParams||null,h=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(h?h["X-WebChannel-Content-Type"]=E.messageContentType:h={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.sa&&(h?h["X-WebChannel-Client-Profile"]=E.sa:h={"X-WebChannel-Client-Profile":E.sa}),this.g.U=h,(h=E&&E.Qb)&&!R(h)&&(this.g.u=h),this.A=E&&E.supportsCrossDomainXhr||!1,this.v=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!R(E)&&(this.g.G=E,h=this.h,h!==null&&E in h&&(h=this.h,E in h&&delete h[E])),this.j=new lc(this)}f(Wr,ce),Wr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Wr.prototype.close=function(){by(this.g)},Wr.prototype.o=function(h){var E=this.g;if(typeof h=="string"){var C={};C.__data__=h,h=C}else this.v&&(C={},C.__data__=ft(h),h=C);E.i.push(new FV(E.Ya++,h)),E.I==3&&Xf(E)},Wr.prototype.N=function(){this.g.l=null,delete this.j,by(this.g),delete this.g,Wr.Z.N.call(this)};function vN(h){kn.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var E=h.__sm__;if(E){e:{for(const C in E){h=C;break e}h=void 0}(this.i=h)&&(h=this.i,E=E!==null&&h in E?E[h]:void 0),this.data=E}else this.data=h}f(vN,kn);function yN(){Js.call(this),this.status=1}f(yN,Js);function lc(h){this.g=h}f(lc,gN),lc.prototype.ra=function(){M(this.g,"a")},lc.prototype.qa=function(h){M(this.g,new vN(h))},lc.prototype.pa=function(h){M(this.g,new yN)},lc.prototype.oa=function(){M(this.g,"b")},Jf.prototype.createWebChannel=Jf.prototype.g,Wr.prototype.send=Wr.prototype.o,Wr.prototype.open=Wr.prototype.m,Wr.prototype.close=Wr.prototype.close,S2=function(){return new Jf},N2=function(){return Li()},E2=Fn,l0={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},os.NO_ERROR=0,os.TIMEOUT=8,os.HTTP_ERROR=6,np=os,Sr.COMPLETE="complete",_2=Sr,Mi.EventType=on,on.OPEN="a",on.CLOSE="b",on.ERROR="c",on.MESSAGE="d",ce.prototype.listen=ce.prototype.J,Id=Mi,en.prototype.listenOnce=en.prototype.K,en.prototype.getLastError=en.prototype.Ha,en.prototype.getLastErrorCode=en.prototype.ya,en.prototype.getStatus=en.prototype.ca,en.prototype.getResponseJson=en.prototype.La,en.prototype.getResponseText=en.prototype.la,en.prototype.send=en.prototype.ea,en.prototype.setWithCredentials=en.prototype.Fa,b2=en}).apply(typeof Sm<"u"?Sm:typeof self<"u"?self:typeof window<"u"?window:{});const Kj="@firebase/firestore",Yj="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}er.UNAUTHENTICATED=new er(null),er.GOOGLE_CREDENTIALS=new er("google-credentials-uid"),er.FIRST_PARTY=new er("first-party-uid"),er.MOCK_USER=new er("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $u="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fl=new I_("@firebase/firestore");function pc(){return Fl.logLevel}function Ie(t,...e){if(Fl.logLevel<=ct.DEBUG){const n=e.map(B_);Fl.debug(`Firestore (${$u}): ${t}`,...n)}}function uo(t,...e){if(Fl.logLevel<=ct.ERROR){const n=e.map(B_);Fl.error(`Firestore (${$u}): ${t}`,...n)}}function Vl(t,...e){if(Fl.logLevel<=ct.WARN){const n=e.map(B_);Fl.warn(`Firestore (${$u}): ${t}`,...n)}}function B_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,j2(t,r,n)}function j2(t,e,n){let r=`FIRESTORE (${$u}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw uo(r),new Error(r)}function Ct(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||j2(e,s,r)}function tt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class je extends Pi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class k2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(er.UNAUTHENTICATED))}shutdown(){}}class wq{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class bq{constructor(e){this.t=e,this.currentUser=er.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ct(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new Ji;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ji,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{Ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ji)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ct(typeof r.accessToken=="string",31837,{l:r}),new C2(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ct(e===null||typeof e=="string",2055,{h:e}),new er(e)}}class _q{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=er.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Eq{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new _q(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(er.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Qj{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Nq{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ct(this.o===void 0,3512);const r=i=>{i.error!=null&&Ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.m;return this.m=i.token,Ie("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):Ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Qj(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ct(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Qj(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sq(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=Sq(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function ut(t,e){return t<e?-1:t>e?1:0}function c0(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return fx(s)===fx(i)?ut(s,i):fx(s)?1:-1}return ut(t.length,e.length)}const jq=55296,Cq=57343;function fx(t){const e=t.charCodeAt(0);return e>=jq&&e<=Cq}function vu(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xj="__name__";class oi{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ke(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ke(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return oi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof oi?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=oi.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return ut(e.length,n.length)}static compareSegments(e,n){const r=oi.isNumericId(e),s=oi.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?oi.extractNumericId(e).compare(oi.extractNumericId(n)):c0(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fa.fromString(e.substring(4,e.length-2))}}class Mt extends oi{construct(e,n,r){return new Mt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new je(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Mt(n)}static emptyPath(){return new Mt([])}}const kq=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dn extends oi{construct(e,n,r){return new Dn(e,n,r)}static isValidIdentifier(e){return kq.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Xj}static keyField(){return new Dn([Xj])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new je(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new je(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new je(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(a=!a,s++):l!=="."||a?(r+=l,s++):(i(),s++)}if(i(),a)throw new je(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Dn(n)}static emptyPath(){return new Dn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e){this.path=e}static fromPath(e){return new ze(Mt.fromString(e))}static fromName(e){return new ze(Mt.fromString(e).popFirst(5))}static empty(){return new ze(Mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Mt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ze(new Mt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2(t,e,n){if(!n)throw new je(ne.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function I2(t,e,n,r){if(e===!0&&r===!0)throw new je(ne.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Zj(t){if(!ze.isDocumentKey(t))throw new je(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Jj(t){if(ze.isDocumentKey(t))throw new je(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function R2(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function xv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ke(12329,{type:typeof t})}function xr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new je(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xv(t);throw new je(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(t,e){const n={typeString:t};return e&&(n.value=e),n}function gf(t,e){if(!R2(t))throw new je(ne.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(s&&typeof a!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&a!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new je(ne.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC=-62135596800,tC=1e6;class Lt{static now(){return Lt.fromMillis(Date.now())}static fromDate(e){return Lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*tC);return new Lt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new je(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new je(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<eC)throw new je(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new je(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/tC}_compareTo(e){return this.seconds===e.seconds?ut(this.nanoseconds,e.nanoseconds):ut(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Lt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(gf(e,Lt._jsonSchema))return new Lt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-eC;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Lt._jsonSchemaVersion="firestore/timestamp/1.0",Lt._jsonSchema={type:vn("string",Lt._jsonSchemaVersion),seconds:vn("number"),nanoseconds:vn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{static fromTimestamp(e){return new Xe(e)}static min(){return new Xe(new Lt(0,0))}static max(){return new Xe(new Lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih=-1;function Tq(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Xe.fromTimestamp(r===1e9?new Lt(n+1,0):new Lt(n,r));return new ja(s,ze.empty(),e)}function Iq(t){return new ja(t.readTime,t.key,Ih)}class ja{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ja(Xe.min(),ze.empty(),Ih)}static max(){return new ja(Xe.max(),ze.empty(),Ih)}}function Rq(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ze.comparator(t.documentKey,e.documentKey),n!==0?n:ut(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Aq{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bu(t){if(t.code!==ne.FAILED_PRECONDITION||t.message!==Pq)throw t;Ie("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ke(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ae((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ae?n:ae.resolve(n)}catch(n){return ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ae.reject(n)}static resolve(e){return new ae((n,r)=>{n(e)})}static reject(e){return new ae((n,r)=>{r(e)})}static waitFor(e){return new ae((n,r)=>{let s=0,i=0,a=!1;e.forEach(l=>{++s,l.next(()=>{++i,a&&i===s&&n()},c=>r(c))}),a=!0,i===s&&n()})}static or(e){let n=ae.resolve(!1);for(const r of e)n=n.next(s=>s?ae.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new ae((r,s)=>{const i=e.length,a=new Array(i);let l=0;for(let c=0;c<i;c++){const u=c;n(e[u]).next(d=>{a[u]=d,++l,l===i&&r(a)},d=>s(d))}})}static doWhile(e,n){return new ae((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function Dq(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function zu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}wv.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_=-1;function bv(t){return t==null}function tg(t){return t===0&&1/t==-1/0}function Oq(t){return typeof t=="number"&&Number.isInteger(t)&&!tg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2="";function Mq(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=nC(e)),e=Lq(t.get(n),e);return nC(e)}function Lq(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case P2:n+="";break;default:n+=i}}return n}function nC(t){return t+P2+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ba(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function A2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,n){this.comparator=e,this.root=n||Un.EMPTY}insert(e,n){return new Jt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Un.BLACK,null,null))}remove(e){return new Jt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Un.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jm(this.root,e,this.comparator,!1)}getReverseIterator(){return new jm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jm(this.root,e,this.comparator,!0)}}class jm{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Un{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Un.RED,this.left=s??Un.EMPTY,this.right=i??Un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Un(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Un.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ke(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ke(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ke(27949);return e+(this.isRed()?0:1)}}Un.EMPTY=null,Un.RED=!0,Un.BLACK=!1;Un.EMPTY=new class{constructor(){this.size=0}get key(){throw Ke(57766)}get value(){throw Ke(16141)}get color(){throw Ke(16727)}get left(){throw Ke(29726)}get right(){throw Ke(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new Un(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.comparator=e,this.data=new Jt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new sC(this.data.getIterator())}getIteratorFrom(e){return new sC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Cn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Cn(this.comparator);return n.data=e,n}}class sC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e){this.fields=e,e.sort(Dn.comparator)}static empty(){return new Zr([])}unionWith(e){let n=new Cn(Dn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Zr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return vu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new D2("Invalid base64 string: "+i):i}}(e);return new Mn(n)}static fromUint8Array(e){const n=function(s){let i="";for(let a=0;a<s.length;++a)i+=String.fromCharCode(s[a]);return i}(e);return new Mn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ut(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mn.EMPTY_BYTE_STRING=new Mn("");const Fq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ca(t){if(Ct(!!t,39018),typeof t=="string"){let e=0;const n=Fq.exec(t);if(Ct(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ln(t.seconds),nanos:ln(t.nanos)}}function ln(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ka(t){return typeof t=="string"?Mn.fromBase64String(t):Mn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2="server_timestamp",M2="__type__",L2="__previous_value__",F2="__local_write_time__";function W_(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[M2])==null?void 0:r.stringValue)===O2}function _v(t){const e=t.mapValue.fields[L2];return W_(e)?_v(e):e}function Rh(t){const e=Ca(t.mapValue.fields[F2].timestampValue);return new Lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vq{constructor(e,n,r,s,i,a,l,c,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}}const ng="(default)";class yu{constructor(e,n){this.projectId=e,this.database=n||ng}static empty(){return new yu("","")}get isDefaultDatabase(){return this.database===ng}isEqual(e){return e instanceof yu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2="__type__",U2="__max__",Cm={mapValue:{fields:{__type__:{stringValue:U2}}}},$2="__vector__",rg="value";function Ta(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?W_(t)?4:$q(t)?9007199254740991:Uq(t)?10:11:Ke(28295,{value:t})}function Ci(t,e){if(t===e)return!0;const n=Ta(t);if(n!==Ta(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Rh(t).isEqual(Rh(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const a=Ca(s.timestampValue),l=Ca(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return ka(s.bytesValue).isEqual(ka(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return ln(s.geoPointValue.latitude)===ln(i.geoPointValue.latitude)&&ln(s.geoPointValue.longitude)===ln(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return ln(s.integerValue)===ln(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const a=ln(s.doubleValue),l=ln(i.doubleValue);return a===l?tg(a)===tg(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return vu(t.arrayValue.values||[],e.arrayValue.values||[],Ci);case 10:case 11:return function(s,i){const a=s.mapValue.fields||{},l=i.mapValue.fields||{};if(rC(a)!==rC(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!Ci(a[c],l[c])))return!1;return!0}(t,e);default:return Ke(52216,{left:t})}}function Ph(t,e){return(t.values||[]).find(n=>Ci(n,e))!==void 0}function xu(t,e){if(t===e)return 0;const n=Ta(t),r=Ta(e);if(n!==r)return ut(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ut(t.booleanValue,e.booleanValue);case 2:return function(i,a){const l=ln(i.integerValue||i.doubleValue),c=ln(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return iC(t.timestampValue,e.timestampValue);case 4:return iC(Rh(t),Rh(e));case 5:return c0(t.stringValue,e.stringValue);case 6:return function(i,a){const l=ka(i),c=ka(a);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,a){const l=i.split("/"),c=a.split("/");for(let u=0;u<l.length&&u<c.length;u++){const d=ut(l[u],c[u]);if(d!==0)return d}return ut(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,a){const l=ut(ln(i.latitude),ln(a.latitude));return l!==0?l:ut(ln(i.longitude),ln(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return oC(t.arrayValue,e.arrayValue);case 10:return function(i,a){var p,g,b,y;const l=i.fields||{},c=a.fields||{},u=(p=l[rg])==null?void 0:p.arrayValue,d=(g=c[rg])==null?void 0:g.arrayValue,f=ut(((b=u==null?void 0:u.values)==null?void 0:b.length)||0,((y=d==null?void 0:d.values)==null?void 0:y.length)||0);return f!==0?f:oC(u,d)}(t.mapValue,e.mapValue);case 11:return function(i,a){if(i===Cm.mapValue&&a===Cm.mapValue)return 0;if(i===Cm.mapValue)return 1;if(a===Cm.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),u=a.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){const p=c0(c[f],d[f]);if(p!==0)return p;const g=xu(l[c[f]],u[d[f]]);if(g!==0)return g}return ut(c.length,d.length)}(t.mapValue,e.mapValue);default:throw Ke(23264,{he:n})}}function iC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ut(t,e);const n=Ca(t),r=Ca(e),s=ut(n.seconds,r.seconds);return s!==0?s:ut(n.nanos,r.nanos)}function oC(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=xu(n[s],r[s]);if(i)return i}return ut(n.length,r.length)}function wu(t){return u0(t)}function u0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ca(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ka(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ze.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=u0(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const a of r)i?i=!1:s+=",",s+=`${a}:${u0(n.fields[a])}`;return s+"}"}(t.mapValue):Ke(61005,{value:t})}function rp(t){switch(Ta(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_v(t);return e?16+rp(e):16;case 5:return 2*t.stringValue.length;case 6:return ka(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+rp(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Ba(r.fields,(i,a)=>{s+=i.length+rp(a)}),s}(t.mapValue);default:throw Ke(13486,{value:t})}}function aC(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function d0(t){return!!t&&"integerValue"in t}function H_(t){return!!t&&"arrayValue"in t}function lC(t){return!!t&&"nullValue"in t}function cC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function sp(t){return!!t&&"mapValue"in t}function Uq(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[V2])==null?void 0:r.stringValue)===$2}function Yd(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ba(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Yd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Yd(t.arrayValue.values[n]);return e}return{...t}}function $q(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===U2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e){this.value=e}static empty(){return new Dr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!sp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yd(n)}setAll(e){let n=Dn.emptyPath(),r={},s=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}a?r[l.lastSegment()]=Yd(a):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());sp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ci(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];sp(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Ba(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Dr(Yd(this.value))}}function B2(t){const e=[];return Ba(t.fields,(n,r)=>{const s=new Dn([n]);if(sp(r)){const i=B2(r.mapValue).fields;if(i.length===0)e.push(s);else for(const a of i)e.push(s.child(a))}else e.push(s)}),new Zr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e,n,r,s,i,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=a,this.documentState=l}static newInvalidDocument(e){return new nr(e,0,Xe.min(),Xe.min(),Xe.min(),Dr.empty(),0)}static newFoundDocument(e,n,r,s){return new nr(e,1,n,Xe.min(),r,s,0)}static newNoDocument(e,n){return new nr(e,2,n,Xe.min(),Xe.min(),Dr.empty(),0)}static newUnknownDocument(e,n){return new nr(e,3,n,Xe.min(),Xe.min(),Dr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e,n){this.position=e,this.inclusive=n}}function uC(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],a=t.position[s];if(i.field.isKeyField()?r=ze.comparator(ze.fromName(a.referenceValue),n.key):r=xu(a,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function dC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ci(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,n="asc"){this.field=e,this.dir=n}}function Bq(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{}class gn extends z2{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Wq(e,n,r):n==="array-contains"?new Gq(e,r):n==="in"?new Kq(e,r):n==="not-in"?new Yq(e,r):n==="array-contains-any"?new Qq(e,r):new gn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Hq(e,r):new qq(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(xu(n,this.value)):n!==null&&Ta(this.value)===Ta(n)&&this.matchesComparison(xu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ke(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qs extends z2{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new qs(e,n)}matches(e){return W2(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function W2(t){return t.op==="and"}function H2(t){return zq(t)&&W2(t)}function zq(t){for(const e of t.filters)if(e instanceof qs)return!1;return!0}function h0(t){if(t instanceof gn)return t.field.canonicalString()+t.op.toString()+wu(t.value);if(H2(t))return t.filters.map(e=>h0(e)).join(",");{const e=t.filters.map(n=>h0(n)).join(",");return`${t.op}(${e})`}}function q2(t,e){return t instanceof gn?function(r,s){return s instanceof gn&&r.op===s.op&&r.field.isEqual(s.field)&&Ci(r.value,s.value)}(t,e):t instanceof qs?function(r,s){return s instanceof qs&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,a,l)=>i&&q2(a,s.filters[l]),!0):!1}(t,e):void Ke(19439)}function G2(t){return t instanceof gn?function(n){return`${n.field.canonicalString()} ${n.op} ${wu(n.value)}`}(t):t instanceof qs?function(n){return n.op.toString()+" {"+n.getFilters().map(G2).join(" ,")+"}"}(t):"Filter"}class Wq extends gn{constructor(e,n,r){super(e,n,r),this.key=ze.fromName(r.referenceValue)}matches(e){const n=ze.comparator(e.key,this.key);return this.matchesComparison(n)}}class Hq extends gn{constructor(e,n){super(e,"in",n),this.keys=K2("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class qq extends gn{constructor(e,n){super(e,"not-in",n),this.keys=K2("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function K2(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>ze.fromName(r.referenceValue))}class Gq extends gn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return H_(n)&&Ph(n.arrayValue,this.value)}}class Kq extends gn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ph(this.value.arrayValue,n)}}class Yq extends gn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ph(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ph(this.value.arrayValue,n)}}class Qq extends gn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!H_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ph(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xq{constructor(e,n=null,r=[],s=[],i=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=a,this.endAt=l,this.Te=null}}function hC(t,e=null,n=[],r=[],s=null,i=null,a=null){return new Xq(t,e,n,r,s,i,a)}function q_(t){const e=tt(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>h0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),bv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>wu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>wu(r)).join(",")),e.Te=n}return e.Te}function G_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Bq(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!q2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!dC(t.startAt,e.startAt)&&dC(t.endAt,e.endAt)}function f0(t){return ze.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,n=null,r=[],s=[],i=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=a,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Zq(t,e,n,r,s,i,a,l){return new Wu(t,e,n,r,s,i,a,l)}function Ev(t){return new Wu(t)}function fC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Y2(t){return t.collectionGroup!==null}function Qd(t){const e=tt(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new Cn(Dn.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Ah(i,r))}),n.has(Dn.keyField().canonicalString())||e.Ie.push(new Ah(Dn.keyField(),r))}return e.Ie}function bi(t){const e=tt(t);return e.Ee||(e.Ee=Jq(e,Qd(t))),e.Ee}function Jq(t,e){if(t.limitType==="F")return hC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Ah(s.field,i)});const n=t.endAt?new sg(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new sg(t.startAt.position,t.startAt.inclusive):null;return hC(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function m0(t,e){const n=t.filters.concat([e]);return new Wu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function p0(t,e,n){return new Wu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Nv(t,e){return G_(bi(t),bi(e))&&t.limitType===e.limitType}function Q2(t){return`${q_(bi(t))}|lt:${t.limitType}`}function gc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>G2(s)).join(", ")}]`),bv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>wu(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>wu(s)).join(",")),`Target(${r})`}(bi(t))}; limitType=${t.limitType})`}function Sv(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ze.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Qd(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(a,l,c){const u=uC(a,l,c);return a.inclusive?u<=0:u<0}(r.startAt,Qd(r),s)||r.endAt&&!function(a,l,c){const u=uC(a,l,c);return a.inclusive?u>=0:u>0}(r.endAt,Qd(r),s))}(t,e)}function eG(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function X2(t){return(e,n)=>{let r=!1;for(const s of Qd(t)){const i=tG(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function tG(t,e,n){const r=t.field.isKeyField()?ze.comparator(e.key,n.key):function(i,a,l){const c=a.data.field(i),u=l.data.field(i);return c!==null&&u!==null?xu(c,u):Ke(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ke(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ba(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return A2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nG=new Jt(ze.comparator);function ho(){return nG}const Z2=new Jt(ze.comparator);function Rd(...t){let e=Z2;for(const n of t)e=e.insert(n.key,n);return e}function J2(t){let e=Z2;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function dl(){return Xd()}function eD(){return Xd()}function Xd(){return new tc(t=>t.toString(),(t,e)=>t.isEqual(e))}const rG=new Jt(ze.comparator),sG=new Cn(ze.comparator);function dt(...t){let e=sG;for(const n of t)e=e.add(n);return e}const iG=new Cn(ut);function oG(){return iG}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tg(e)?"-0":e}}function tD(t){return{integerValue:""+t}}function aG(t,e){return Oq(e)?tD(e):K_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(){this._=void 0}}function lG(t,e,n){return t instanceof Dh?function(s,i){const a={fields:{[M2]:{stringValue:O2},[F2]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&W_(i)&&(i=_v(i)),i&&(a.fields[L2]=i),{mapValue:a}}(n,e):t instanceof Oh?rD(t,e):t instanceof Mh?sD(t,e):function(s,i){const a=nD(s,i),l=mC(a)+mC(s.Ae);return d0(a)&&d0(s.Ae)?tD(l):K_(s.serializer,l)}(t,e)}function cG(t,e,n){return t instanceof Oh?rD(t,e):t instanceof Mh?sD(t,e):n}function nD(t,e){return t instanceof ig?function(r){return d0(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Dh extends jv{}class Oh extends jv{constructor(e){super(),this.elements=e}}function rD(t,e){const n=iD(e);for(const r of t.elements)n.some(s=>Ci(s,r))||n.push(r);return{arrayValue:{values:n}}}class Mh extends jv{constructor(e){super(),this.elements=e}}function sD(t,e){let n=iD(e);for(const r of t.elements)n=n.filter(s=>!Ci(s,r));return{arrayValue:{values:n}}}class ig extends jv{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function mC(t){return ln(t.integerValue||t.doubleValue)}function iD(t){return H_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uG{constructor(e,n){this.field=e,this.transform=n}}function dG(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Oh&&s instanceof Oh||r instanceof Mh&&s instanceof Mh?vu(r.elements,s.elements,Ci):r instanceof ig&&s instanceof ig?Ci(r.Ae,s.Ae):r instanceof Dh&&s instanceof Dh}(t.transform,e.transform)}class hG{constructor(e,n){this.version=e,this.transformResults=n}}class fs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new fs}static exists(e){return new fs(void 0,e)}static updateTime(e){return new fs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ip(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Cv{}function oD(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Y_(t.key,fs.none()):new vf(t.key,t.data,fs.none());{const n=t.data,r=Dr.empty();let s=new Cn(Dn.comparator);for(let i of e.fields)if(!s.has(i)){let a=n.field(i);a===null&&i.length>1&&(i=i.popLast(),a=n.field(i)),a===null?r.delete(i):r.set(i,a),s=s.add(i)}return new za(t.key,r,new Zr(s.toArray()),fs.none())}}function fG(t,e,n){t instanceof vf?function(s,i,a){const l=s.value.clone(),c=gC(s.fieldTransforms,i,a.transformResults);l.setAll(c),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof za?function(s,i,a){if(!ip(s.precondition,i))return void i.convertToUnknownDocument(a.version);const l=gC(s.fieldTransforms,i,a.transformResults),c=i.data;c.setAll(aD(s)),c.setAll(l),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Zd(t,e,n,r){return t instanceof vf?function(i,a,l,c){if(!ip(i.precondition,a))return l;const u=i.value.clone(),d=vC(i.fieldTransforms,c,a);return u.setAll(d),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof za?function(i,a,l,c){if(!ip(i.precondition,a))return l;const u=vC(i.fieldTransforms,c,a),d=a.data;return d.setAll(aD(i)),d.setAll(u),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,a,l){return ip(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function mG(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=nD(r.transform,s||null);i!=null&&(n===null&&(n=Dr.empty()),n.set(r.field,i))}return n||null}function pC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&vu(r,s,(i,a)=>dG(i,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class vf extends Cv{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class za extends Cv{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function aD(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function gC(t,e,n){const r=new Map;Ct(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],a=i.transform,l=e.data.field(i.field);r.set(i.field,cG(a,l,n[s]))}return r}function vC(t,e,n){const r=new Map;for(const s of t){const i=s.transform,a=n.data.field(s.field);r.set(s.field,lG(i,a,e))}return r}class Y_ extends Cv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pG extends Cv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gG{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&fG(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Zd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Zd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=eD();return this.mutations.forEach(s=>{const i=e.get(s.key),a=i.overlayedDocument;let l=this.applyToLocalView(a,i.mutatedFields);l=n.has(s.key)?null:l;const c=oD(a,l);c!==null&&r.set(s.key,c),a.isValidDocument()||a.convertToNoDocument(Xe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),dt())}isEqual(e){return this.batchId===e.batchId&&vu(this.mutations,e.mutations,(n,r)=>pC(n,r))&&vu(this.baseMutations,e.baseMutations,(n,r)=>pC(n,r))}}class Q_{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ct(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return rG}();const i=e.mutations;for(let a=0;a<i.length;a++)s=s.insert(i[a].key,r[a].version);return new Q_(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vG=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yG{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mn,mt;function xG(t){switch(t){case ne.OK:return Ke(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Ke(15467,{code:t})}}function lD(t){if(t===void 0)return uo("GRPC error has no .code"),ne.UNKNOWN;switch(t){case mn.OK:return ne.OK;case mn.CANCELLED:return ne.CANCELLED;case mn.UNKNOWN:return ne.UNKNOWN;case mn.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case mn.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case mn.INTERNAL:return ne.INTERNAL;case mn.UNAVAILABLE:return ne.UNAVAILABLE;case mn.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case mn.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case mn.NOT_FOUND:return ne.NOT_FOUND;case mn.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case mn.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case mn.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case mn.ABORTED:return ne.ABORTED;case mn.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case mn.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case mn.DATA_LOSS:return ne.DATA_LOSS;default:return Ke(39323,{code:t})}}(mt=mn||(mn={}))[mt.OK=0]="OK",mt[mt.CANCELLED=1]="CANCELLED",mt[mt.UNKNOWN=2]="UNKNOWN",mt[mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mt[mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mt[mt.NOT_FOUND=5]="NOT_FOUND",mt[mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",mt[mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",mt[mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",mt[mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mt[mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mt[mt.ABORTED=10]="ABORTED",mt[mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",mt[mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",mt[mt.INTERNAL=13]="INTERNAL",mt[mt.UNAVAILABLE=14]="UNAVAILABLE",mt[mt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wG(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bG=new fa([4294967295,4294967295],0);function yC(t){const e=wG().encode(t),n=new w2;return n.update(e),new Uint8Array(n.digest())}function xC(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new fa([n,r],0),new fa([s,i],0)]}class X_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Pd(`Invalid padding: ${n}`);if(r<0)throw new Pd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Pd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Pd(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=fa.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(fa.fromNumber(r)));return s.compare(bG)===1&&(s=new fa([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=yC(e),[r,s]=xC(n);for(let i=0;i<this.hashCount;i++){const a=this.ye(r,s,i);if(!this.we(a))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new X_(i,s,n);return r.forEach(l=>a.insert(l)),a}insert(e){if(this.ge===0)return;const n=yC(e),[r,s]=xC(n);for(let i=0;i<this.hashCount;i++){const a=this.ye(r,s,i);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Pd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,yf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new kv(Xe.min(),s,new Jt(ut),ho(),dt())}}class yf{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new yf(r,n,dt(),dt(),dt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class cD{constructor(e,n){this.targetId=e,this.Ce=n}}class uD{constructor(e,n,r=Mn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class wC{constructor(){this.ve=0,this.Fe=bC(),this.Me=Mn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=dt(),n=dt(),r=dt();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Ke(38017,{changeType:i})}}),new yf(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=bC()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ct(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class _G{constructor(e){this.Ge=e,this.ze=new Map,this.je=ho(),this.Je=km(),this.He=km(),this.Ye=new Jt(ut)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ke(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(f0(i))if(r===0){const a=new ze(i.path);this.et(n,a,nr.newNoDocument(a,Xe.min()))}else Ct(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const l=this.ut(e),c=l?this.ct(l,e,a):1;if(c!==0){this.it(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let a,l;try{a=ka(r).toUint8Array()}catch(c){if(c instanceof D2)return Vl("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new X_(a,s,i)}catch(c){return Vl(c instanceof Pd?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const a=this.Ge.ht(),l=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,a)=>{const l=this.ot(a);if(l){if(i.current&&f0(l.target)){const c=new ze(l.target.path);this.It(c).has(a)||this.Et(a,c)||this.et(a,c,nr.newNoDocument(c,e))}i.Be&&(n.set(a,i.ke()),i.qe())}});let r=dt();this.He.forEach((i,a)=>{let l=!0;a.forEachWhile(c=>{const u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.je.forEach((i,a)=>a.setReadTime(e));const s=new kv(e,n,this.Ye,this.je,r);return this.je=ho(),this.Je=km(),this.He=km(),this.Ye=new Jt(ut),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new wC,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Cn(ut),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Cn(ut),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ie("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new wC),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function km(){return new Jt(ze.comparator)}function bC(){return new Jt(ze.comparator)}const EG={asc:"ASCENDING",desc:"DESCENDING"},NG={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},SG={and:"AND",or:"OR"};class jG{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function g0(t,e){return t.useProto3Json||bv(e)?e:{value:e}}function og(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dD(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function CG(t,e){return og(t,e.toTimestamp())}function _i(t){return Ct(!!t,49232),Xe.fromTimestamp(function(n){const r=Ca(n);return new Lt(r.seconds,r.nanos)}(t))}function Z_(t,e){return v0(t,e).canonicalString()}function v0(t,e){const n=function(s){return new Mt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function hD(t){const e=Mt.fromString(t);return Ct(vD(e),10190,{key:e.toString()}),e}function y0(t,e){return Z_(t.databaseId,e.path)}function mx(t,e){const n=hD(e);if(n.get(1)!==t.databaseId.projectId)throw new je(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new je(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ze(mD(n))}function fD(t,e){return Z_(t.databaseId,e)}function kG(t){const e=hD(t);return e.length===4?Mt.emptyPath():mD(e)}function x0(t){return new Mt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function mD(t){return Ct(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function _C(t,e,n){return{name:y0(t,e),fields:n.value.mapValue.fields}}function TG(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Ke(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?(Ct(d===void 0||typeof d=="string",58123),Mn.fromBase64String(d||"")):(Ct(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Mn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(u){const d=u.code===void 0?ne.UNKNOWN:lD(u.code);return new je(d,u.message||"")}(a);n=new uD(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=mx(t,r.document.name),i=_i(r.document.updateTime),a=r.document.createTime?_i(r.document.createTime):Xe.min(),l=new Dr({mapValue:{fields:r.document.fields}}),c=nr.newFoundDocument(s,i,a,l),u=r.targetIds||[],d=r.removedTargetIds||[];n=new op(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=mx(t,r.document),i=r.readTime?_i(r.readTime):Xe.min(),a=nr.newNoDocument(s,i),l=r.removedTargetIds||[];n=new op([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=mx(t,r.document),i=r.removedTargetIds||[];n=new op([],i,s,null)}else{if(!("filter"in e))return Ke(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,a=new yG(s,i),l=r.targetId;n=new cD(l,a)}}return n}function IG(t,e){let n;if(e instanceof vf)n={update:_C(t,e.key,e.value)};else if(e instanceof Y_)n={delete:y0(t,e.key)};else if(e instanceof za)n={update:_C(t,e.key,e.data),updateMask:VG(e.fieldMask)};else{if(!(e instanceof pG))return Ke(16599,{Vt:e.type});n={verify:y0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const l=a.transform;if(l instanceof Dh)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Oh)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Mh)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof ig)return{fieldPath:a.field.canonicalString(),increment:l.Ae};throw Ke(20930,{transform:a.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:CG(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Ke(27497)}(t,e.precondition)),n}function RG(t,e){return t&&t.length>0?(Ct(e!==void 0,14353),t.map(n=>function(s,i){let a=s.updateTime?_i(s.updateTime):_i(i);return a.isEqual(Xe.min())&&(a=_i(i)),new hG(a,s.transformResults||[])}(n,e))):[]}function PG(t,e){return{documents:[fD(t,e.path)]}}function AG(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=fD(t,s);const i=function(u){if(u.length!==0)return gD(qs.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const a=function(u){if(u.length!==0)return u.map(d=>function(p){return{field:vc(p.field),direction:MG(p.dir)}}(d))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=g0(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:s}}function DG(t){let e=kG(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ct(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(f){const p=pD(f);return p instanceof qs&&H2(p)?p.getFilters():[p]}(n.where));let a=[];n.orderBy&&(a=function(f){return f.map(p=>function(b){return new Ah(yc(b.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(p))}(n.orderBy));let l=null;n.limit&&(l=function(f){let p;return p=typeof f=="object"?f.value:f,bv(p)?null:p}(n.limit));let c=null;n.startAt&&(c=function(f){const p=!!f.before,g=f.values||[];return new sg(g,p)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const p=!f.before,g=f.values||[];return new sg(g,p)}(n.endAt)),Zq(e,s,a,i,l,"F",c,u)}function OG(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ke(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function pD(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=yc(n.unaryFilter.field);return gn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=yc(n.unaryFilter.field);return gn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=yc(n.unaryFilter.field);return gn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=yc(n.unaryFilter.field);return gn.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ke(61313);default:return Ke(60726)}}(t):t.fieldFilter!==void 0?function(n){return gn.create(yc(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ke(58110);default:return Ke(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return qs.create(n.compositeFilter.filters.map(r=>pD(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ke(1026)}}(n.compositeFilter.op))}(t):Ke(30097,{filter:t})}function MG(t){return EG[t]}function LG(t){return NG[t]}function FG(t){return SG[t]}function vc(t){return{fieldPath:t.canonicalString()}}function yc(t){return Dn.fromServerFormat(t.fieldPath)}function gD(t){return t instanceof gn?function(n){if(n.op==="=="){if(cC(n.value))return{unaryFilter:{field:vc(n.field),op:"IS_NAN"}};if(lC(n.value))return{unaryFilter:{field:vc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(cC(n.value))return{unaryFilter:{field:vc(n.field),op:"IS_NOT_NAN"}};if(lC(n.value))return{unaryFilter:{field:vc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vc(n.field),op:LG(n.op),value:n.value}}}(t):t instanceof qs?function(n){const r=n.getFilters().map(s=>gD(s));return r.length===1?r[0]:{compositeFilter:{op:FG(n.op),filters:r}}}(t):Ke(54877,{filter:t})}function VG(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function vD(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e,n,r,s,i=Xe.min(),a=Xe.min(),l=Mn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Xo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Xo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UG{constructor(e){this.yt=e}}function $G(t){const e=DG({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?p0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BG{constructor(){this.Cn=new zG}addToCollectionParentIndex(e,n){return this.Cn.add(n),ae.resolve()}getCollectionParents(e,n){return ae.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ae.resolve()}deleteFieldIndex(e,n){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,n){return ae.resolve()}getDocumentsMatchingTarget(e,n){return ae.resolve(null)}getIndexType(e,n){return ae.resolve(0)}getFieldIndexes(e,n){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,n){return ae.resolve(ja.min())}getMinOffsetFromCollectionGroup(e,n){return ae.resolve(ja.min())}updateCollectionGroup(e,n,r){return ae.resolve()}updateIndexEntries(e,n){return ae.resolve()}}class zG{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Cn(Mt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Cn(Mt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yD=41943040;class Pr{static withCacheSize(e){return new Pr(e,Pr.DEFAULT_COLLECTION_PERCENTILE,Pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pr.DEFAULT_COLLECTION_PERCENTILE=10,Pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pr.DEFAULT=new Pr(yD,Pr.DEFAULT_COLLECTION_PERCENTILE,Pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pr.DISABLED=new Pr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new bu(0)}static cr(){return new bu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC="LruGarbageCollector",WG=1048576;function SC([t,e],[n,r]){const s=ut(t,n);return s===0?ut(e,r):s}class HG{constructor(e){this.Ir=e,this.buffer=new Cn(SC),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();SC(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class qG{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ie(NC,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){zu(n)?Ie(NC,"Ignoring IndexedDB error during garbage collection: ",n):await Bu(n)}await this.Vr(3e5)})}}class GG{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ae.resolve(wv.ce);const r=new HG(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ie("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(EC)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ie("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),EC):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,a,l,c,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Ie("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,a=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,l=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),pc()<=ct.DEBUG&&Ie("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${s} in `+(l-a)+`ms
	Removed ${i} targets in `+(c-l)+`ms
	Removed ${f} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function KG(t,e){return new GG(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YG{constructor(){this.changes=new tc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,nr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ae.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QG{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XG{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Zd(r.mutation,s,Zr.empty(),Lt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,dt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=dt()){const s=dl();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let a=Rd();return i.forEach((l,c)=>{a=a.insert(l,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=dl();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,dt()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,r,s){let i=ho();const a=Xd(),l=function(){return Xd()}();return n.forEach((c,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof za)?i=i.insert(u.key,u):d!==void 0?(a.set(u.key,d.mutation.getFieldMask()),Zd(d.mutation,u,d.mutation.getFieldMask(),Lt.now())):a.set(u.key,Zr.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((u,d)=>a.set(u,d)),n.forEach((u,d)=>l.set(u,new QG(d,a.get(u)??null))),l))}recalculateAndSaveOverlays(e,n){const r=Xd();let s=new Jt((a,l)=>a-l),i=dt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let d=r.get(c)||Zr.empty();d=l.applyToLocalView(u,d),r.set(c,d);const f=(s.get(l.batchId)||dt()).add(c);s=s.insert(l.batchId,f)})}).next(()=>{const a=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,d=c.value,f=eD();d.forEach(p=>{if(!i.has(p)){const g=oD(n.get(p),r.get(p));g!==null&&f.set(p,g),i=i.add(p)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,f))}return ae.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(a){return ze.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Y2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const a=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):ae.resolve(dl());let l=Ih,c=i;return a.next(u=>ae.forEach(u,(d,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),i.get(d)?ae.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{c=c.insert(d,p)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,c,u,dt())).next(d=>({batchId:l,changes:J2(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ze(n)).next(r=>{let s=Rd();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let a=Rd();return this.indexManager.getCollectionParents(e,i).next(l=>ae.forEach(l,c=>{const u=function(f,p){return new Wu(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((f,p)=>{a=a.insert(f,p)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(a=>{i.forEach((c,u)=>{const d=u.getKey();a.get(d)===null&&(a=a.insert(d,nr.newInvalidDocument(d)))});let l=Rd();return a.forEach((c,u)=>{const d=i.get(c);d!==void 0&&Zd(d.mutation,u,Zr.empty(),Lt.now()),Sv(n,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZG{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ae.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:_i(s.createTime)}}(n)),ae.resolve()}getNamedQuery(e,n){return ae.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:$G(s.bundledQuery),readTime:_i(s.readTime)}}(n)),ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JG{constructor(){this.overlays=new Jt(ze.comparator),this.qr=new Map}getOverlay(e,n){return ae.resolve(this.overlays.get(n))}getOverlays(e,n){const r=dl();return ae.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),ae.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),ae.resolve()}getOverlaysForCollection(e,n,r){const s=dl(),i=n.length+1,a=new ze(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return ae.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Jt((u,d)=>u-d);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=i.get(u.largestBatchId);d===null&&(d=dl(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const l=dl(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>l.set(u,d)),!(l.size()>=s)););return ae.resolve(l)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const a=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new vG(n,r));let i=this.qr.get(n);i===void 0&&(i=dt(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eK{constructor(){this.sessionToken=Mn.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(){this.Qr=new Cn(Rn.$r),this.Ur=new Cn(Rn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Rn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Rn(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new ze(new Mt([])),r=new Rn(n,e),s=new Rn(n,e+1),i=[];return this.Ur.forEachInRange([r,s],a=>{this.Gr(a),i.push(a.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ze(new Mt([])),r=new Rn(n,e),s=new Rn(n,e+1);let i=dt();return this.Ur.forEachInRange([r,s],a=>{i=i.add(a.key)}),i}containsKey(e){const n=new Rn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Rn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ze.comparator(e.key,n.key)||ut(e.Yr,n.Yr)}static Kr(e,n){return ut(e.Yr,n.Yr)||ze.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tK{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Cn(Rn.$r)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new gG(i,n,r,s);this.mutationQueue.push(a);for(const l of s)this.Zr=this.Zr.add(new Rn(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return ae.resolve(a)}lookupMutationBatch(e,n){return ae.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return ae.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?z_:this.tr-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Rn(n,0),s=new Rn(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],a=>{const l=this.Xr(a.Yr);i.push(l)}),ae.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Cn(ut);return n.forEach(s=>{const i=new Rn(s,0),a=new Rn(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,a],l=>{r=r.add(l.Yr)})}),ae.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ze.isDocumentKey(i)||(i=i.child(""));const a=new Rn(new ze(i),0);let l=new Cn(ut);return this.Zr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(l=l.add(c.Yr)),!0)},a),ae.resolve(this.ti(l))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ct(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ae.forEach(n.mutations,s=>{const i=new Rn(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Rn(n,0),s=this.Zr.firstAfterOrEqual(r);return ae.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nK{constructor(e){this.ri=e,this.docs=function(){return new Jt(ze.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,a=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ae.resolve(r?r.document.mutableCopy():nr.newInvalidDocument(n))}getEntries(e,n){let r=ho();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():nr.newInvalidDocument(s))}),ae.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=ho();const a=n.path,l=new ze(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||Rq(Iq(d),r)<=0||(s.has(d.key)||Sv(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return ae.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Ke(9500)}ii(e,n){return ae.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new rK(this)}getSize(e){return ae.resolve(this.size)}}class rK extends YG{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),ae.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sK{constructor(e){this.persistence=e,this.si=new tc(n=>q_(n),G_),this.lastRemoteSnapshotVersion=Xe.min(),this.highestTargetId=0,this.oi=0,this._i=new J_,this.targetCount=0,this.ai=bu.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ae.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new bu(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ae.resolve()}updateTargetData(e,n){return this.Pr(n),ae.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.si.delete(a),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),ae.waitFor(i).next(()=>s)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ae.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ae.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(a=>{i.push(s.markPotentiallyOrphaned(e,a))}),ae.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ae.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ae.resolve(r)}containsKey(e,n){return ae.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e,n){this.ui={},this.overlays={},this.ci=new wv(0),this.li=!1,this.li=!0,this.hi=new eK,this.referenceDelegate=e(this),this.Pi=new sK(this),this.indexManager=new BG,this.remoteDocumentCache=function(s){return new nK(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new UG(n),this.Ii=new ZG(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new JG,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new tK(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Ie("MemoryPersistence","Starting transaction:",e);const s=new iK(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return ae.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class iK extends Aq{constructor(e){super(),this.currentSequenceNumber=e}}class e1{constructor(e){this.persistence=e,this.Ri=new J_,this.Vi=null}static mi(e){return new e1(e)}get fi(){if(this.Vi)return this.Vi;throw Ke(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ae.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ae.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ae.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.fi,r=>{const s=ze.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,Xe.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return ae.or([()=>ae.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class ag{constructor(e,n){this.persistence=e,this.pi=new tc(r=>Mq(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=KG(this,n)}static mi(e,n){return new ag(e,n)}Ei(){}di(e){return ae.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return ae.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?ae.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,a=>this.br(e,a,n).next(l=>{l||(r++,i.removeEntry(a,Xe.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ae.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ae.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ae.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=rp(e.data.value)),n}br(e,n,r){return ae.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return ae.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=dt(),s=dt();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new t1(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oK{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aK{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return O7()?8:Dq(dr())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(a=>{i.result=a}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(a=>{i.result=a})}).next(()=>{if(i.result)return;const a=new oK;return this.Ss(e,n,a).next(l=>{if(i.result=l,this.Vs)return this.bs(e,n,a,l.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(pc()<=ct.DEBUG&&Ie("QueryEngine","SDK will not create cache indexes for query:",gc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ae.resolve()):(pc()<=ct.DEBUG&&Ie("QueryEngine","Query:",gc(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(pc()<=ct.DEBUG&&Ie("QueryEngine","The SDK decides to create cache indexes for query:",gc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bi(n))):ae.resolve())}ys(e,n){if(fC(n))return ae.resolve(null);let r=bi(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=p0(n,null,"F"),r=bi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const a=dt(...i);return this.ps.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.Ds(n,l);return this.Cs(n,u,a,c.readTime)?this.ys(e,p0(n,null,"F")):this.vs(e,u,n,c)}))})))}ws(e,n,r,s){return fC(n)||s.isEqual(Xe.min())?ae.resolve(null):this.ps.getDocuments(e,r).next(i=>{const a=this.Ds(n,i);return this.Cs(n,a,r,s)?ae.resolve(null):(pc()<=ct.DEBUG&&Ie("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),gc(n)),this.vs(e,a,n,Tq(s,Ih)).next(l=>l))})}Ds(e,n){let r=new Cn(X2(e));return n.forEach((s,i)=>{Sv(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return pc()<=ct.DEBUG&&Ie("QueryEngine","Using full collection scan to execute query:",gc(n)),this.ps.getDocumentsMatchingQuery(e,n,ja.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(a=>{i=i.insert(a.key,a)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1="LocalStore",lK=3e8;class cK{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Jt(ut),this.xs=new tc(i=>q_(i),G_),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new XG(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function uK(t,e,n,r){return new cK(t,e,n,r)}async function wD(t,e){const n=tt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const a=[],l=[];let c=dt();for(const u of s){a.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of i){l.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(u=>({Ls:u,removedBatchIds:a,addedBatchIds:l}))})})}function dK(t,e){const n=tt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(l,c,u,d){const f=u.batch,p=f.keys();let g=ae.resolve();return p.forEach(b=>{g=g.next(()=>d.getEntry(c,b)).next(y=>{const w=u.docVersions.get(b);Ct(w!==null,48541),y.version.compareTo(w)<0&&(f.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),d.addEntry(y)))})}),g.next(()=>l.mutationQueue.removeMutationBatch(c,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=dt();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function bD(t){const e=tt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function hK(t,e){const n=tt(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const l=[];e.targetChanges.forEach((d,f)=>{const p=s.get(f);if(!p)return;l.push(n.Pi.removeMatchingKeys(i,d.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(i,d.addedDocuments,f)));let g=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(Mn.EMPTY_BYTE_STRING,Xe.min()).withLastLimboFreeSnapshotVersion(Xe.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),s=s.insert(f,g),function(y,w,_){return y.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=lK?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(p,g,d)&&l.push(n.Pi.updateTargetData(i,g))});let c=ho(),u=dt();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),l.push(fK(i,a,e.documentUpdates).next(d=>{c=d.ks,u=d.qs})),!r.isEqual(Xe.min())){const d=n.Pi.getLastRemoteSnapshotVersion(i).next(f=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(d)}return ae.waitFor(l).next(()=>a.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,u)).next(()=>c)}).then(i=>(n.Ms=s,i))}function fK(t,e,n){let r=dt(),s=dt();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let a=ho();return n.forEach((l,c)=>{const u=i.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(Xe.min())?(e.removeEntry(l,c.readTime),a=a.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),a=a.insert(l,c)):Ie(n1,"Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{ks:a,qs:s}})}function mK(t,e){const n=tt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=z_),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function pK(t,e){const n=tt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,ae.resolve(s)):n.Pi.allocateTargetId(r).next(a=>(s=new Xo(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function w0(t,e,n){const r=tt(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,a=>r.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!zu(a))throw a;Ie(n1,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function jC(t,e,n){const r=tt(t);let s=Xe.min(),i=dt();return r.persistence.runTransaction("Execute query","readwrite",a=>function(c,u,d){const f=tt(c),p=f.xs.get(d);return p!==void 0?ae.resolve(f.Ms.get(p)):f.Pi.getTargetData(u,d)}(r,a,bi(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(a,l.targetId).next(c=>{i=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(a,e,n?s:Xe.min(),n?i:dt())).next(l=>(gK(r,eG(e),l),{documents:l,Qs:i})))}function gK(t,e,n){let r=t.Os.get(e)||Xe.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class CC{constructor(){this.activeTargetIds=oG()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vK{constructor(){this.Mo=new CC,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new CC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yK{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC="ConnectivityMonitor";class TC{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ie(kC,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ie(kC,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tm=null;function b0(){return Tm===null?Tm=function(){return 268435456+Math.round(2147483648*Math.random())}():Tm++,"0x"+Tm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px="RestConnection",xK={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wK{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===ng?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const a=b0(),l=this.zo(e,n.toUriEncodedString());Ie(px,`Sending RPC '${e}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,i);const{host:u}=new URL(l),d=Jl(u);return this.Jo(e,l,c,r,d).then(f=>(Ie(px,`Received RPC '${e}' ${a}: `,f),f),f=>{throw Vl(px,`RPC '${e}' ${a} failed with error: `,f,"url: ",l,"request:",r),f})}Ho(e,n,r,s,i,a){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+$u}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=xK[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bK{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zn="WebChannelConnection";class _K extends wK{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const a=b0();return new Promise((l,c)=>{const u=new b2;u.setWithCredentials(!0),u.listenOnce(_2.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case np.NO_ERROR:const f=u.getResponseJson();Ie(Zn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(f)),l(f);break;case np.TIMEOUT:Ie(Zn,`RPC '${e}' ${a} timed out`),c(new je(ne.DEADLINE_EXCEEDED,"Request time out"));break;case np.HTTP_ERROR:const p=u.getStatus();if(Ie(Zn,`RPC '${e}' ${a} failed with status:`,p,"response text:",u.getResponseText()),p>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const b=g==null?void 0:g.error;if(b&&b.status&&b.message){const y=function(_){const x=_.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(x)>=0?x:ne.UNKNOWN}(b.status);c(new je(y,b.message))}else c(new je(ne.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new je(ne.UNAVAILABLE,"Connection failed."));break;default:Ke(9055,{l_:e,streamId:a,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{Ie(Zn,`RPC '${e}' ${a} completed.`)}});const d=JSON.stringify(s);Ie(Zn,`RPC '${e}' ${a} sending request:`,s),u.send(n,"POST",d,r,15)})}T_(e,n,r){const s=b0(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=S2(),l=N2(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=i.join("");Ie(Zn,`Creating RPC '${e}' stream ${s}: ${d}`,c);const f=a.createWebChannel(d,c);this.I_(f);let p=!1,g=!1;const b=new bK({Yo:w=>{g?Ie(Zn,`Not sending because RPC '${e}' stream ${s} is closed:`,w):(p||(Ie(Zn,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),Ie(Zn,`RPC '${e}' stream ${s} sending:`,w),f.send(w))},Zo:()=>f.close()}),y=(w,_,x)=>{w.listen(_,v=>{try{x(v)}catch(j){setTimeout(()=>{throw j},0)}})};return y(f,Id.EventType.OPEN,()=>{g||(Ie(Zn,`RPC '${e}' stream ${s} transport opened.`),b.o_())}),y(f,Id.EventType.CLOSE,()=>{g||(g=!0,Ie(Zn,`RPC '${e}' stream ${s} transport closed`),b.a_(),this.E_(f))}),y(f,Id.EventType.ERROR,w=>{g||(g=!0,Vl(Zn,`RPC '${e}' stream ${s} transport errored. Name:`,w.name,"Message:",w.message),b.a_(new je(ne.UNAVAILABLE,"The operation could not be completed")))}),y(f,Id.EventType.MESSAGE,w=>{var _;if(!g){const x=w.data[0];Ct(!!x,16349);const v=x,j=(v==null?void 0:v.error)||((_=v[0])==null?void 0:_.error);if(j){Ie(Zn,`RPC '${e}' stream ${s} received error:`,j);const P=j.status;let D=function(T){const k=mn[T];if(k!==void 0)return lD(k)}(P),S=j.message;D===void 0&&(D=ne.INTERNAL,S="Unknown error status: "+P+" with message "+j.message),g=!0,b.a_(new je(D,S)),f.close()}else Ie(Zn,`RPC '${e}' stream ${s} received:`,x),b.u_(x)}}),y(l,E2.STAT_EVENT,w=>{w.stat===l0.PROXY?Ie(Zn,`RPC '${e}' stream ${s} detected buffering proxy`):w.stat===l0.NOPROXY&&Ie(Zn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{b.__()},0),b}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function gx(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tv(t){return new jG(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&Ie("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC="PersistentStream";class ED{constructor(e,n,r,s,i,a,l,c){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new _D(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(uo(n.toString()),uo("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new je(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Ie(IC,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(Ie(IC,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class EK extends ED{constructor(e,n,r,s,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=TG(this.serializer,e),r=function(i){if(!("targetChange"in i))return Xe.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?Xe.min():a.readTime?_i(a.readTime):Xe.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=x0(this.serializer),n.addTarget=function(i,a){let l;const c=a.target;if(l=f0(c)?{documents:PG(i,c)}:{query:AG(i,c).ft},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=dD(i,a.resumeToken);const u=g0(i,a.expectedCount);u!==null&&(l.expectedCount=u)}else if(a.snapshotVersion.compareTo(Xe.min())>0){l.readTime=og(i,a.snapshotVersion.toTimestamp());const u=g0(i,a.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const r=OG(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=x0(this.serializer),n.removeTarget=e,this.q_(n)}}class NK extends ED{constructor(e,n,r,s,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ct(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ct(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ct(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=RG(e.writeResults,e.commitTime),r=_i(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=x0(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>IG(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SK{}class jK extends SK{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new je(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Go(e,v0(n,r),s,i,a)).catch(i=>{throw i.name==="FirebaseError"?(i.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new je(ne.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Ho(e,v0(n,r),s,a,l,i)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new je(ne.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class CK{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(uo(n),this.aa=!1):Ie("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ul="RemoteStore";class kK{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(a=>{r.enqueueAndForget(async()=>{nc(this)&&(Ie(Ul,"Restarting streams for network reachability change."),await async function(c){const u=tt(c);u.Ea.add(4),await xf(u),u.Ra.set("Unknown"),u.Ea.delete(4),await Iv(u)}(this))})}),this.Ra=new CK(r,s)}}async function Iv(t){if(nc(t))for(const e of t.da)await e(!0)}async function xf(t){for(const e of t.da)await e(!1)}function ND(t,e){const n=tt(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),o1(n)?i1(n):Hu(n).O_()&&s1(n,e))}function r1(t,e){const n=tt(t),r=Hu(n);n.Ia.delete(e),r.O_()&&SD(n,e),n.Ia.size===0&&(r.O_()?r.L_():nc(n)&&n.Ra.set("Unknown"))}function s1(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Xe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Hu(t).Y_(e)}function SD(t,e){t.Va.Ue(e),Hu(t).Z_(e)}function i1(t){t.Va=new _G({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Hu(t).start(),t.Ra.ua()}function o1(t){return nc(t)&&!Hu(t).x_()&&t.Ia.size>0}function nc(t){return tt(t).Ea.size===0}function jD(t){t.Va=void 0}async function TK(t){t.Ra.set("Online")}async function IK(t){t.Ia.forEach((e,n)=>{s1(t,e)})}async function RK(t,e){jD(t),o1(t)?(t.Ra.ha(e),i1(t)):t.Ra.set("Unknown")}async function PK(t,e,n){if(t.Ra.set("Online"),e instanceof uD&&e.state===2&&e.cause)try{await async function(s,i){const a=i.cause;for(const l of i.targetIds)s.Ia.has(l)&&(await s.remoteSyncer.rejectListen(l,a),s.Ia.delete(l),s.Va.removeTarget(l))}(t,e)}catch(r){Ie(Ul,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await lg(t,r)}else if(e instanceof op?t.Va.Ze(e):e instanceof cD?t.Va.st(e):t.Va.tt(e),!n.isEqual(Xe.min()))try{const r=await bD(t.localStore);n.compareTo(r)>=0&&await function(i,a){const l=i.Va.Tt(a);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=i.Ia.get(u);d&&i.Ia.set(u,d.withResumeToken(c.resumeToken,a))}}),l.targetMismatches.forEach((c,u)=>{const d=i.Ia.get(c);if(!d)return;i.Ia.set(c,d.withResumeToken(Mn.EMPTY_BYTE_STRING,d.snapshotVersion)),SD(i,c);const f=new Xo(d.target,c,u,d.sequenceNumber);s1(i,f)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){Ie(Ul,"Failed to raise snapshot:",r),await lg(t,r)}}async function lg(t,e,n){if(!zu(e))throw e;t.Ea.add(1),await xf(t),t.Ra.set("Offline"),n||(n=()=>bD(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ie(Ul,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Iv(t)})}function CD(t,e){return e().catch(n=>lg(t,n,e))}async function Rv(t){const e=tt(t),n=Ia(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:z_;for(;AK(e);)try{const s=await mK(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,DK(e,s)}catch(s){await lg(e,s)}kD(e)&&TD(e)}function AK(t){return nc(t)&&t.Ta.length<10}function DK(t,e){t.Ta.push(e);const n=Ia(t);n.O_()&&n.X_&&n.ea(e.mutations)}function kD(t){return nc(t)&&!Ia(t).x_()&&t.Ta.length>0}function TD(t){Ia(t).start()}async function OK(t){Ia(t).ra()}async function MK(t){const e=Ia(t);for(const n of t.Ta)e.ea(n.mutations)}async function LK(t,e,n){const r=t.Ta.shift(),s=Q_.from(r,e,n);await CD(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Rv(t)}async function FK(t,e){e&&Ia(t).X_&&await async function(r,s){if(function(a){return xG(a)&&a!==ne.ABORTED}(s.code)){const i=r.Ta.shift();Ia(r).B_(),await CD(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Rv(r)}}(t,e),kD(t)&&TD(t)}async function RC(t,e){const n=tt(t);n.asyncQueue.verifyOperationInProgress(),Ie(Ul,"RemoteStore received new credentials");const r=nc(n);n.Ea.add(3),await xf(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Iv(n)}async function VK(t,e){const n=tt(t);e?(n.Ea.delete(2),await Iv(n)):e||(n.Ea.add(2),await xf(n),n.Ra.set("Unknown"))}function Hu(t){return t.ma||(t.ma=function(n,r,s){const i=tt(n);return i.sa(),new EK(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:TK.bind(null,t),t_:IK.bind(null,t),r_:RK.bind(null,t),H_:PK.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),o1(t)?i1(t):t.Ra.set("Unknown")):(await t.ma.stop(),jD(t))})),t.ma}function Ia(t){return t.fa||(t.fa=function(n,r,s){const i=tt(n);return i.sa(),new NK(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:OK.bind(null,t),r_:FK.bind(null,t),ta:MK.bind(null,t),na:LK.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Rv(t)):(await t.fa.stop(),t.Ta.length>0&&(Ie(Ul,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const a=Date.now()+r,l=new a1(e,n,a,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new je(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function l1(t,e){if(uo("AsyncQueue",`${e}: ${t}`),zu(t))return new je(ne.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{static emptySet(e){return new Qc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ze.comparator(n.key,r.key):(n,r)=>ze.comparator(n.key,r.key),this.keyedMap=Rd(),this.sortedSet=new Jt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Qc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Qc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(){this.ga=new Jt(ze.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ke(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class _u{constructor(e,n,r,s,i,a,l,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new _u(e,n,Qc.emptySet(n),a,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UK{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class $K{constructor(){this.queries=AC(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=tt(n),i=s.queries;s.queries=AC(),i.forEach((a,l)=>{for(const c of l.Sa)c.onError(r)})})(this,new je(ne.ABORTED,"Firestore shutting down"))}}function AC(){return new tc(t=>Q2(t),Nv)}async function c1(t,e){const n=tt(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new UK,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const l=l1(a,`Initialization of query '${gc(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&d1(n)}async function u1(t,e){const n=tt(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const a=i.Sa.indexOf(e);a>=0&&(i.Sa.splice(a,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function BK(t,e){const n=tt(t);let r=!1;for(const s of e){const i=s.query,a=n.queries.get(i);if(a){for(const l of a.Sa)l.Fa(s)&&(r=!0);a.wa=s}}r&&d1(n)}function zK(t,e,n){const r=tt(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function d1(t){t.Ca.forEach(e=>{e.next()})}var _0,DC;(DC=_0||(_0={})).Ma="default",DC.Cache="cache";class h1{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new _u(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=_u.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==_0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e){this.key=e}}class RD{constructor(e){this.key=e}}class WK{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=dt(),this.mutatedKeys=dt(),this.eu=X2(e),this.tu=new Qc(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new PC,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,a=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,f)=>{const p=s.get(d),g=Sv(this.query,f)?f:null,b=!!p&&this.mutatedKeys.has(p.key),y=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let w=!1;p&&g?p.data.isEqual(g.data)?b!==y&&(r.track({type:3,doc:g}),w=!0):this.su(p,g)||(r.track({type:2,doc:g}),w=!0,(c&&this.eu(g,c)>0||u&&this.eu(g,u)<0)&&(l=!0)):!p&&g?(r.track({type:0,doc:g}),w=!0):p&&!g&&(r.track({type:1,doc:p}),w=!0,(c||u)&&(l=!0)),w&&(g?(a=a.add(g),i=y?i.add(d):i.delete(d)):(a=a.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{tu:a,iu:r,Cs:l,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((d,f)=>function(g,b){const y=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ke(20277,{Rt:w})}};return y(g)-y(b)}(d.type,f.type)||this.eu(d.doc,f.doc)),this.ou(r),s=s??!1;const l=n&&!s?this._u():[],c=this.Xa.size===0&&this.current&&!s?1:0,u=c!==this.Za;return this.Za=c,a.length!==0||u?{snapshot:new _u(this.query,e.tu,i,a,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new PC,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=dt(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new RD(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new ID(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=dt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return _u.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const f1="SyncEngine";class HK{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class qK{constructor(e){this.key=e,this.hu=!1}}class GK{constructor(e,n,r,s,i,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new tc(l=>Q2(l),Nv),this.Iu=new Map,this.Eu=new Set,this.du=new Jt(ze.comparator),this.Au=new Map,this.Ru=new J_,this.Vu={},this.mu=new Map,this.fu=bu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function KK(t,e,n=!0){const r=LD(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await PD(r,e,n,!0),s}async function YK(t,e){const n=LD(t);await PD(n,e,!0,!1)}async function PD(t,e,n,r){const s=await pK(t.localStore,bi(e)),i=s.targetId,a=t.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await QK(t,e,i,a==="current",s.resumeToken)),t.isPrimaryClient&&n&&ND(t.remoteStore,s),l}async function QK(t,e,n,r,s){t.pu=(f,p,g)=>async function(y,w,_,x){let v=w.view.ru(_);v.Cs&&(v=await jC(y.localStore,w.query,!1).then(({documents:S})=>w.view.ru(S,v)));const j=x&&x.targetChanges.get(w.targetId),P=x&&x.targetMismatches.get(w.targetId)!=null,D=w.view.applyChanges(v,y.isPrimaryClient,j,P);return MC(y,w.targetId,D.au),D.snapshot}(t,f,p,g);const i=await jC(t.localStore,e,!0),a=new WK(e,i.Qs),l=a.ru(i.documents),c=yf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=a.applyChanges(l,t.isPrimaryClient,c);MC(t,n,u.au);const d=new HK(e,n,a);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function XK(t,e,n){const r=tt(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(a=>!Nv(a,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await w0(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&r1(r.remoteStore,s.targetId),E0(r,s.targetId)}).catch(Bu)):(E0(r,s.targetId),await w0(r.localStore,s.targetId,!0))}async function ZK(t,e){const n=tt(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),r1(n.remoteStore,r.targetId))}async function JK(t,e,n){const r=oY(t);try{const s=await function(a,l){const c=tt(a),u=Lt.now(),d=l.reduce((g,b)=>g.add(b.key),dt());let f,p;return c.persistence.runTransaction("Locally write mutations","readwrite",g=>{let b=ho(),y=dt();return c.Ns.getEntries(g,d).next(w=>{b=w,b.forEach((_,x)=>{x.isValidDocument()||(y=y.add(_))})}).next(()=>c.localDocuments.getOverlayedDocuments(g,b)).next(w=>{f=w;const _=[];for(const x of l){const v=mG(x,f.get(x.key).overlayedDocument);v!=null&&_.push(new za(x.key,v,B2(v.value.mapValue),fs.exists(!0)))}return c.mutationQueue.addMutationBatch(g,u,_,l)}).next(w=>{p=w;const _=w.applyToLocalDocumentSet(f,y);return c.documentOverlayCache.saveOverlays(g,w.batchId,_)})}).then(()=>({batchId:p.batchId,changes:J2(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(a,l,c){let u=a.Vu[a.currentUser.toKey()];u||(u=new Jt(ut)),u=u.insert(l,c),a.Vu[a.currentUser.toKey()]=u}(r,s.batchId,n),await wf(r,s.changes),await Rv(r.remoteStore)}catch(s){const i=l1(s,"Failed to persist write");n.reject(i)}}async function AD(t,e){const n=tt(t);try{const r=await hK(n.localStore,e);e.targetChanges.forEach((s,i)=>{const a=n.Au.get(i);a&&(Ct(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?a.hu=!0:s.modifiedDocuments.size>0?Ct(a.hu,14607):s.removedDocuments.size>0&&(Ct(a.hu,42227),a.hu=!1))}),await wf(n,r,e)}catch(r){await Bu(r)}}function OC(t,e,n){const r=tt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,a)=>{const l=a.view.va(e);l.snapshot&&s.push(l.snapshot)}),function(a,l){const c=tt(a);c.onlineState=l;let u=!1;c.queries.forEach((d,f)=>{for(const p of f.Sa)p.va(l)&&(u=!0)}),u&&d1(c)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function eY(t,e,n){const r=tt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let a=new Jt(ze.comparator);a=a.insert(i,nr.newNoDocument(i,Xe.min()));const l=dt().add(i),c=new kv(Xe.min(),new Map,new Jt(ut),a,l);await AD(r,c),r.du=r.du.remove(i),r.Au.delete(e),m1(r)}else await w0(r.localStore,e,!1).then(()=>E0(r,e,n)).catch(Bu)}async function tY(t,e){const n=tt(t),r=e.batch.batchId;try{const s=await dK(n.localStore,e);OD(n,r,null),DD(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await wf(n,s)}catch(s){await Bu(s)}}async function nY(t,e,n){const r=tt(t);try{const s=await function(a,l){const c=tt(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,l).next(f=>(Ct(f!==null,37113),d=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);OD(r,e,n),DD(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await wf(r,s)}catch(s){await Bu(s)}}function DD(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function OD(t,e,n){const r=tt(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function E0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||MD(t,r)})}function MD(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(r1(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),m1(t))}function MC(t,e,n){for(const r of n)r instanceof ID?(t.Ru.addReference(r.key,e),rY(t,r)):r instanceof RD?(Ie(f1,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||MD(t,r.key)):Ke(19791,{wu:r})}function rY(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Ie(f1,"New document in limbo: "+n),t.Eu.add(r),m1(t))}function m1(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ze(Mt.fromString(e)),r=t.fu.next();t.Au.set(r,new qK(n)),t.du=t.du.insert(n,r),ND(t.remoteStore,new Xo(bi(Ev(n.path)),r,"TargetPurposeLimboResolution",wv.ce))}}async function wf(t,e,n){const r=tt(t),s=[],i=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach((l,c)=>{a.push(r.pu(c,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){s.push(u);const f=t1.As(c.targetId,u);i.push(f)}}))}),await Promise.all(a),r.Pu.H_(s),await async function(c,u){const d=tt(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>ae.forEach(u,p=>ae.forEach(p.Es,g=>d.persistence.referenceDelegate.addReference(f,p.targetId,g)).next(()=>ae.forEach(p.ds,g=>d.persistence.referenceDelegate.removeReference(f,p.targetId,g)))))}catch(f){if(!zu(f))throw f;Ie(n1,"Failed to update sequence numbers: "+f)}for(const f of u){const p=f.targetId;if(!f.fromCache){const g=d.Ms.get(p),b=g.snapshotVersion,y=g.withLastLimboFreeSnapshotVersion(b);d.Ms=d.Ms.insert(p,y)}}}(r.localStore,i))}async function sY(t,e){const n=tt(t);if(!n.currentUser.isEqual(e)){Ie(f1,"User change. New user:",e.toKey());const r=await wD(n.localStore,e);n.currentUser=e,function(i,a){i.mu.forEach(l=>{l.forEach(c=>{c.reject(new je(ne.CANCELLED,a))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await wf(n,r.Ls)}}function iY(t,e){const n=tt(t),r=n.Au.get(e);if(r&&r.hu)return dt().add(r.key);{let s=dt();const i=n.Iu.get(e);if(!i)return s;for(const a of i){const l=n.Tu.get(a);s=s.unionWith(l.view.nu)}return s}}function LD(t){const e=tt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=AD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=iY.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=eY.bind(null,e),e.Pu.H_=BK.bind(null,e.eventManager),e.Pu.yu=zK.bind(null,e.eventManager),e}function oY(t){const e=tt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tY.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nY.bind(null,e),e}class cg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Tv(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return uK(this.persistence,new aK,e.initialUser,this.serializer)}Cu(e){return new xD(e1.mi,this.serializer)}Du(e){return new vK}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}cg.provider={build:()=>new cg};class aY extends cg{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ct(this.persistence.referenceDelegate instanceof ag,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new qG(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Pr.withCacheSize(this.cacheSizeBytes):Pr.DEFAULT;return new xD(r=>ag.mi(r,n),this.serializer)}}class N0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>OC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=sY.bind(null,this.syncEngine),await VK(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new $K}()}createDatastore(e){const n=Tv(e.databaseInfo.databaseId),r=function(i){return new _K(i)}(e.databaseInfo);return function(i,a,l,c){return new jK(i,a,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,a,l){return new kK(r,s,i,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>OC(this.syncEngine,n,0),function(){return TC.v()?new TC:new yK}())}createSyncEngine(e,n){return function(s,i,a,l,c,u,d){const f=new GK(s,i,a,l,c,u);return d&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=tt(s);Ie(Ul,"RemoteStore shutting down."),i.Ea.add(5),await xf(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}N0.provider={build:()=>new N0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):uo("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra="FirestoreClient";class lY{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=er.UNAUTHENTICATED,this.clientId=yv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async a=>{Ie(Ra,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(Ie(Ra,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=l1(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function vx(t,e){t.asyncQueue.verifyOperationInProgress(),Ie(Ra,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await wD(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function LC(t,e){t.asyncQueue.verifyOperationInProgress();const n=await cY(t);Ie(Ra,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>RC(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>RC(e.remoteStore,s)),t._onlineComponents=e}async function cY(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ie(Ra,"Using user provided OfflineComponentProvider");try{await vx(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===ne.FAILED_PRECONDITION||s.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Vl("Error using user provided cache. Falling back to memory cache: "+n),await vx(t,new cg)}}else Ie(Ra,"Using default OfflineComponentProvider"),await vx(t,new aY(void 0));return t._offlineComponents}async function FD(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ie(Ra,"Using user provided OnlineComponentProvider"),await LC(t,t._uninitializedComponentsProvider._online)):(Ie(Ra,"Using default OnlineComponentProvider"),await LC(t,new N0))),t._onlineComponents}function uY(t){return FD(t).then(e=>e.syncEngine)}async function ug(t){const e=await FD(t),n=e.eventManager;return n.onListen=KK.bind(null,e.syncEngine),n.onUnlisten=XK.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=YK.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=ZK.bind(null,e.syncEngine),n}function dY(t,e,n={}){const r=new Ji;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,l,c,u){const d=new p1({next:p=>{d.Nu(),a.enqueueAndForget(()=>u1(i,f));const g=p.docs.has(l);!g&&p.fromCache?u.reject(new je(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&c&&c.source==="server"?u.reject(new je(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),f=new h1(Ev(l.path),d,{includeMetadataChanges:!0,qa:!0});return c1(i,f)}(await ug(t),t.asyncQueue,e,n,r)),r.promise}function hY(t,e,n={}){const r=new Ji;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,l,c,u){const d=new p1({next:p=>{d.Nu(),a.enqueueAndForget(()=>u1(i,f)),p.fromCache&&c.source==="server"?u.reject(new je(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),f=new h1(l,d,{includeMetadataChanges:!0,qa:!0});return c1(i,f)}(await ug(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD="firestore.googleapis.com",VC=!0;class UC{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new je(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=UD,this.ssl=VC}else this.host=e.host,this.ssl=e.ssl??VC;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=yD;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<WG)throw new je(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}I2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VD(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new je(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new je(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new je(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Pv{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new UC({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new je(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new je(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new UC(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new k2;switch(r.type){case"firstParty":return new Eq(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new je(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=FC.get(n);r&&(Ie("ComponentProvider","Removing Datastore"),FC.delete(n),r.terminate())}(this),Promise.resolve()}}function $D(t,e,n,r={}){var u;t=xr(t,Pv);const s=Jl(e),i=t._getSettings(),a={...i,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;s&&(k_(`https://${l}`),T_("Firestore",!0)),i.host!==UD&&i.host!==l&&Vl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...i,host:l,ssl:s,emulatorOptions:r};if(!Dl(c,a)&&(t._setSettings(c),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=er.MOCK_USER;else{d=DA(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new je(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new er(p)}t._authCredentials=new wq(new C2(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new vo(this.firestore,e,this._query)}}class Yt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new eo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yt(this.firestore,e,this._key)}toJSON(){return{type:Yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(gf(n,Yt._jsonSchema))return new Yt(e,r||null,new ze(Mt.fromString(n.referencePath)))}}Yt._jsonSchemaVersion="firestore/documentReference/1.0",Yt._jsonSchema={type:vn("string",Yt._jsonSchemaVersion),referencePath:vn("string")};class eo extends vo{constructor(e,n,r){super(e,n,Ev(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yt(this.firestore,null,new ze(e))}withConverter(e){return new eo(this.firestore,e,this._path)}}function st(t,e,...n){if(t=Zt(t),T2("collection","path",e),t instanceof Pv){const r=Mt.fromString(e,...n);return Jj(r),new eo(t,null,r)}{if(!(t instanceof Yt||t instanceof eo))throw new je(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Mt.fromString(e,...n));return Jj(r),new eo(t.firestore,null,r)}}function $e(t,e,...n){if(t=Zt(t),arguments.length===1&&(e=yv.newId()),T2("doc","path",e),t instanceof Pv){const r=Mt.fromString(e,...n);return Zj(r),new Yt(t,null,new ze(r))}{if(!(t instanceof Yt||t instanceof eo))throw new je(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Mt.fromString(e,...n));return Zj(r),new Yt(t.firestore,t instanceof eo?t.converter:null,new ze(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C="AsyncQueue";class BC{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new _D(this,"async_queue_retry"),this._c=()=>{const r=gx();r&&Ie($C,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=gx();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=gx();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Ji;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!zu(e))throw e;Ie($C,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,uo("INTERNAL UNHANDLED ERROR: ",zC(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=a1.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&Ke(47125,{Pc:zC(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function zC(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WC(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class ki extends Pv{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new BC,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new BC(e),this._firestoreClient=void 0,await e}}}function BD(t,e){const n=typeof t=="object"?t:P_(),r=typeof t=="string"?t:ng,s=mv(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=RA("firestore");i&&$D(s,...i)}return s}function bf(t){if(t._terminated)throw new je(ne.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||fY(t),t._firestoreClient}function fY(t){var r,s,i;const e=t._freezeSettings(),n=function(l,c,u,d){return new Vq(l,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,VD(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new lY(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qr(Mn.fromBase64String(e))}catch(n){throw new je(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Qr(Mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Qr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(gf(e,Qr._jsonSchema))return Qr.fromBase64String(e.bytes)}}Qr._jsonSchemaVersion="firestore/bytes/1.0",Qr._jsonSchema={type:vn("string",Qr._jsonSchemaVersion),bytes:vn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new je(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new je(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new je(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ut(this._lat,e._lat)||ut(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Vs._jsonSchemaVersion}}static fromJSON(e){if(gf(e,Vs._jsonSchema))return new Vs(e.latitude,e.longitude)}}Vs._jsonSchemaVersion="firestore/geoPoint/1.0",Vs._jsonSchema={type:vn("string",Vs._jsonSchemaVersion),latitude:vn("number"),longitude:vn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Us._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(gf(e,Us._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Us(e.vectorValues);throw new je(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Us._jsonSchemaVersion="firestore/vectorValue/1.0",Us._jsonSchema={type:vn("string",Us._jsonSchemaVersion),vectorValues:vn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mY=/^__.*__$/;class pY{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new za(e,this.data,this.fieldMask,n,this.fieldTransforms):new vf(e,this.data,n,this.fieldTransforms)}}class zD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new za(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function WD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ke(40011,{Ac:t})}}class g1{constructor(e,n,r,s,i,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new g1({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return dg(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(WD(this.Ac)&&mY.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class gY{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Tv(e)}Cc(e,n,r,s=!1){return new g1({Ac:e,methodName:n,Dc:r,path:Dn.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Av(t){const e=t._freezeSettings(),n=Tv(t._databaseId);return new gY(t._databaseId,!!e.ignoreUndefinedProperties,n)}function HD(t,e,n,r,s,i={}){const a=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);y1("Data must be an object, but it was:",a,r);const l=qD(r,a);let c,u;if(i.merge)c=new Zr(a.fieldMask),u=a.fieldTransforms;else if(i.mergeFields){const d=[];for(const f of i.mergeFields){const p=S0(e,f,n);if(!a.contains(p))throw new je(ne.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);KD(d,p)||d.push(p)}c=new Zr(d),u=a.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=a.fieldTransforms;return new pY(new Dr(l),c,u)}class Dv extends Ef{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Dv}}class v1 extends Ef{_toFieldTransform(e){return new uG(e.path,new Dh)}isEqual(e){return e instanceof v1}}function vY(t,e,n,r){const s=t.Cc(1,e,n);y1("Data must be an object, but it was:",s,r);const i=[],a=Dr.empty();Ba(r,(c,u)=>{const d=x1(e,c,n);u=Zt(u);const f=s.yc(d);if(u instanceof Dv)i.push(d);else{const p=Nf(u,f);p!=null&&(i.push(d),a.set(d,p))}});const l=new Zr(i);return new zD(a,l,s.fieldTransforms)}function yY(t,e,n,r,s,i){const a=t.Cc(1,e,n),l=[S0(e,r,n)],c=[s];if(i.length%2!=0)throw new je(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)l.push(S0(e,i[p])),c.push(i[p+1]);const u=[],d=Dr.empty();for(let p=l.length-1;p>=0;--p)if(!KD(u,l[p])){const g=l[p];let b=c[p];b=Zt(b);const y=a.yc(g);if(b instanceof Dv)u.push(g);else{const w=Nf(b,y);w!=null&&(u.push(g),d.set(g,w))}}const f=new Zr(u);return new zD(d,f,a.fieldTransforms)}function xY(t,e,n,r=!1){return Nf(n,t.Cc(r?4:3,e))}function Nf(t,e){if(GD(t=Zt(t)))return y1("Unsupported field value:",e,t),qD(t,e);if(t instanceof Ef)return function(r,s){if(!WD(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let a=0;for(const l of r){let c=Nf(l,s.wc(a));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),a++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Zt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return aG(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Lt.fromDate(r);return{timestampValue:og(s.serializer,i)}}if(r instanceof Lt){const i=new Lt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:og(s.serializer,i)}}if(r instanceof Vs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Qr)return{bytesValue:dD(s.serializer,r._byteString)};if(r instanceof Yt){const i=s.databaseId,a=r.firestore._databaseId;if(!a.isEqual(i))throw s.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Z_(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Us)return function(a,l){return{mapValue:{fields:{[V2]:{stringValue:$2},[rg]:{arrayValue:{values:a.toArray().map(u=>{if(typeof u!="number")throw l.Sc("VectorValues must only contain numeric values.");return K_(l.serializer,u)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${xv(r)}`)}(t,e)}function qD(t,e){const n={};return A2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ba(t,(r,s)=>{const i=Nf(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function GD(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Lt||t instanceof Vs||t instanceof Qr||t instanceof Yt||t instanceof Ef||t instanceof Us)}function y1(t,e,n){if(!GD(n)||!R2(n)){const r=xv(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function S0(t,e,n){if((e=Zt(e))instanceof _f)return e._internalPath;if(typeof e=="string")return x1(t,e);throw dg("Field path arguments must be of type string or ",t,!1,void 0,n)}const wY=new RegExp("[~\\*/\\[\\]]");function x1(t,e,n){if(e.search(wY)>=0)throw dg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new _f(...e.split("."))._internalPath}catch{throw dg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function dg(t,e,n,r,s){const i=r&&!r.isEmpty(),a=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||a)&&(c+=" (found",i&&(c+=` in field ${r}`),a&&(c+=` in document ${s}`),c+=")"),new je(ne.INVALID_ARGUMENT,l+t+c)}function KD(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new bY(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ov("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class bY extends YD{data(){return super.data()}}function Ov(t,e){return typeof e=="string"?x1(t,e):e instanceof _f?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QD(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new je(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class w1{}class b1 extends w1{}function bt(t,e,...n){let r=[];e instanceof w1&&r.push(e),r=r.concat(n),function(i){const a=i.filter(c=>c instanceof Mv).length,l=i.filter(c=>c instanceof Sf).length;if(a>1||a>0&&l>0)throw new je(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Sf extends b1{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Sf(e,n,r)}_apply(e){const n=this._parse(e);return XD(e._query,n),new vo(e.firestore,e.converter,m0(e._query,n))}_parse(e){const n=Av(e.firestore);return function(i,a,l,c,u,d,f){let p;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new je(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){qC(f,d);const b=[];for(const y of f)b.push(HC(c,i,y));p={arrayValue:{values:b}}}else p=HC(c,i,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||qC(f,d),p=xY(l,a,f,d==="in"||d==="not-in");return gn.create(u,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function _t(t,e,n){const r=e,s=Ov("where",t);return Sf._create(s,r,n)}class Mv extends w1{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Mv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:qs.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let a=s;const l=i.getFlattenedFilters();for(const c of l)XD(a,c),a=m0(a,c)}(e._query,n),new vo(e.firestore,e.converter,m0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Lv extends b1{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Lv(e,n)}_apply(e){const n=function(s,i,a){if(s.startAt!==null)throw new je(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new je(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ah(i,a)}(e._query,this._field,this._direction);return new vo(e.firestore,e.converter,function(s,i){const a=s.explicitOrderBy.concat([i]);return new Wu(s.path,s.collectionGroup,a,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function Ps(t,e="asc"){const n=e,r=Ov("orderBy",t);return Lv._create(r,n)}function HC(t,e,n){if(typeof(n=Zt(n))=="string"){if(n==="")throw new je(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Y2(e)&&n.indexOf("/")!==-1)throw new je(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Mt.fromString(n));if(!ze.isDocumentKey(r))throw new je(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return aC(t,new ze(r))}if(n instanceof Yt)return aC(t,n._key);throw new je(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xv(n)}.`)}function qC(t,e){if(!Array.isArray(t)||t.length===0)throw new je(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function XD(t,e){const n=function(s,i){for(const a of s)for(const l of a.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new je(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new je(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class ZD{convertValue(e,n="none"){switch(Ta(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ln(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ka(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ke(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ba(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[rg].arrayValue)==null?void 0:s.values)==null?void 0:i.map(a=>ln(a.doubleValue));return new Us(n)}convertGeoPoint(e){return new Vs(ln(e.latitude),ln(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=_v(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Rh(e));default:return null}}convertTimestamp(e){const n=Ca(e);return new Lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Mt.fromString(e);Ct(vD(r),9688,{name:e});const s=new yu(r.get(1),r.get(3)),i=new ze(r.popFirst(5));return s.isEqual(n)||uo(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Mc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ma extends YD{constructor(e,n,r,s,i,a){super(e,n,r,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Jd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ov("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new je(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ma._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ma._jsonSchemaVersion="firestore/documentSnapshot/1.0",ma._jsonSchema={type:vn("string",ma._jsonSchemaVersion),bundleSource:vn("string","DocumentSnapshot"),bundleName:vn("string"),bundle:vn("string")};class Jd extends ma{data(e={}){return super.data(e)}}class pa{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Mc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Jd(this._firestore,this._userDataWriter,r.key,r,new Mc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new je(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(l=>{const c=new Jd(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Mc(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new Jd(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Mc(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return l.type!==0&&(u=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),d=a.indexOf(l.doc.key)),{type:_Y(l.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new je(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=pa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=yv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function _Y(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ke(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(t){t=xr(t,Yt);const e=xr(t.firestore,ki);return dY(bf(e),t._key).then(n=>eO(e,t,n))}pa._jsonSchemaVersion="firestore/querySnapshot/1.0",pa._jsonSchema={type:vn("string",pa._jsonSchemaVersion),bundleSource:vn("string","QuerySnapshot"),bundleName:vn("string"),bundle:vn("string")};class _1 extends ZD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Yt(this.firestore,null,n)}}function Gt(t){t=xr(t,vo);const e=xr(t.firestore,ki),n=bf(e),r=new _1(e);return QD(t._query),hY(n,t._query).then(s=>new pa(e,r,t,s))}function hg(t,e,n){t=xr(t,Yt);const r=xr(t.firestore,ki),s=JD(t.converter,e,n);return jf(r,[HD(Av(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,fs.none())])}function Gn(t,e,n,...r){t=xr(t,Yt);const s=xr(t.firestore,ki),i=Av(s);let a;return a=typeof(e=Zt(e))=="string"||e instanceof _f?yY(i,"updateDoc",t._key,e,n,r):vY(i,"updateDoc",t._key,e),jf(s,[a.toMutation(t._key,fs.exists(!0))])}function $l(t){return jf(xr(t.firestore,ki),[new Y_(t._key,fs.none())])}function qu(t,e){const n=xr(t.firestore,ki),r=$e(t),s=JD(t.converter,e);return jf(n,[HD(Av(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,fs.exists(!1))]).then(()=>r)}function Ei(t,...e){var c,u,d;t=Zt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||WC(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(WC(e[r])){const f=e[r];e[r]=(c=f.next)==null?void 0:c.bind(f),e[r+1]=(u=f.error)==null?void 0:u.bind(f),e[r+2]=(d=f.complete)==null?void 0:d.bind(f)}let i,a,l;if(t instanceof Yt)a=xr(t.firestore,ki),l=Ev(t._key.path),i={next:f=>{e[r]&&e[r](eO(a,t,f))},error:e[r+1],complete:e[r+2]};else{const f=xr(t,vo);a=xr(f.firestore,ki),l=f._query;const p=new _1(a);i={next:g=>{e[r]&&e[r](new pa(a,p,f,g))},error:e[r+1],complete:e[r+2]},QD(t._query)}return function(p,g,b,y){const w=new p1(y),_=new h1(g,w,b);return p.asyncQueue.enqueueAndForget(async()=>c1(await ug(p),_)),()=>{w.Nu(),p.asyncQueue.enqueueAndForget(async()=>u1(await ug(p),_))}}(bf(a),l,s,i)}function jf(t,e){return function(r,s){const i=new Ji;return r.asyncQueue.enqueueAndForget(async()=>JK(await uY(r),s,i)),i.promise}(bf(t),e)}function eO(t,e,n){const r=n.docs.get(e._key),s=new _1(t);return new ma(t,s,e._key,r,new Mc(n.hasPendingWrites,n.fromCache),e.converter)}function j0(){return new v1("serverTimestamp")}(function(e,n=!0){(function(s){$u=s})(ec),Ol(new Sa("firestore",(r,{instanceIdentifier:s,options:i})=>{const a=r.getProvider("app").getImmediate(),l=new ki(new bq(r.getProvider("auth-internal")),new Nq(a,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new je(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yu(u.options.projectId,d)}(a,s),a);return i={useFetchStreams:n,...i},l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),yi(Kj,Yj,e),yi(Kj,Yj,"esm2020")})();const C0=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:ZD,Bytes:Qr,CollectionReference:eo,DocumentReference:Yt,DocumentSnapshot:ma,FieldPath:_f,FieldValue:Ef,Firestore:ki,FirestoreError:je,GeoPoint:Vs,Query:vo,QueryCompositeFilterConstraint:Mv,QueryConstraint:b1,QueryDocumentSnapshot:Jd,QueryFieldFilterConstraint:Sf,QueryOrderByConstraint:Lv,QuerySnapshot:pa,SnapshotMetadata:Mc,Timestamp:Lt,VectorValue:Us,_AutoId:yv,_ByteString:Mn,_DatabaseId:yu,_DocumentKey:ze,_EmptyAuthCredentialsProvider:k2,_FieldPath:Dn,_cast:xr,_logWarn:Vl,_validateIsNotUsedTogether:I2,addDoc:qu,collection:st,connectFirestoreEmulator:$D,deleteDoc:$l,doc:$e,ensureFirestoreConfigured:bf,executeWrite:jf,getDoc:Rt,getDocs:Gt,getFirestore:BD,onSnapshot:Ei,orderBy:Ps,query:bt,serverTimestamp:j0,setDoc:hg,updateDoc:Gn,where:_t},Symbol.toStringTag,{value:"Module"}));var EY="firebase",NY="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yi(EY,NY,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO="firebasestorage.googleapis.com",SY="storageBucket",jY=2*60*1e3,CY=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends Pi{constructor(e,n,r=0){super(yx(e),`Firebase Storage: ${n} (${yx(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ai.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return yx(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ti;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ti||(Ti={}));function yx(t){return"storage/"+t}function kY(){const t="An unknown error occurred, please check the error payload for server response.";return new Ai(Ti.UNKNOWN,t)}function TY(){return new Ai(Ti.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function IY(){return new Ai(Ti.CANCELED,"User canceled the upload/download.")}function RY(t){return new Ai(Ti.INVALID_URL,"Invalid URL '"+t+"'.")}function PY(t){return new Ai(Ti.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function GC(t){return new Ai(Ti.INVALID_ARGUMENT,t)}function nO(){return new Ai(Ti.APP_DELETED,"The Firebase app was deleted.")}function AY(t){return new Ai(Ti.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ms.makeFromUrl(e,n)}catch{return new Ms(e,"")}if(r.path==="")return r;throw PY(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(j){j.path.charAt(j.path.length-1)==="/"&&(j.path_=j.path_.slice(0,-1))}const a="(/(.*))?$",l=new RegExp("^gs://"+s+a,"i"),c={bucket:1,path:3};function u(j){j.path_=decodeURIComponent(j.path)}const d="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",g=new RegExp(`^https?://${f}/${d}/b/${s}/o${p}`,"i"),b={bucket:1,path:3},y=n===tO?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",_=new RegExp(`^https?://${y}/${s}/${w}`,"i"),v=[{regex:l,indices:c,postModify:i},{regex:g,indices:b,postModify:u},{regex:_,indices:{bucket:1,path:2},postModify:u}];for(let j=0;j<v.length;j++){const P=v[j],D=P.regex.exec(e);if(D){const S=D[P.indices.bucket];let N=D[P.indices.path];N||(N=""),r=new Ms(S,N),P.postModify(r);break}}if(r==null)throw RY(e);return r}}class DY{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OY(t,e,n){let r=1,s=null,i=null,a=!1,l=0;function c(){return l===2}let u=!1;function d(...w){u||(u=!0,e.apply(null,w))}function f(w){s=setTimeout(()=>{s=null,t(g,c())},w)}function p(){i&&clearTimeout(i)}function g(w,..._){if(u){p();return}if(w){p(),d.call(null,w,..._);return}if(c()||a){p(),d.call(null,w,..._);return}r<64&&(r*=2);let v;l===1?(l=2,v=0):v=(r+Math.random())*1e3,f(v)}let b=!1;function y(w){b||(b=!0,p(),!u&&(s!==null?(w||(l=2),clearTimeout(s),f(0)):w||(l=1)))}return f(0),i=setTimeout(()=>{a=!0,y(!0)},n),y}function MY(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LY(t){return t!==void 0}function KC(t,e,n,r){if(r<e)throw GC(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw GC(`Invalid value for '${t}'. Expected ${n} or less.`)}function FY(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var fg;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(fg||(fg={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VY(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UY{constructor(e,n,r,s,i,a,l,c,u,d,f,p=!0,g=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=a,this.callback_=l,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=f,this.retry=p,this.isUsingEmulator=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,y)=>{this.resolve_=b,this.reject_=y,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Im(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const a=l=>{const c=l.loaded,u=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&i.addUploadProgressListener(a),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(a),this.pendingConnection_=null;const l=i.getErrorCode()===fg.NO_ERROR,c=i.getStatus();if(!l||VY(c,this.additionalRetryCodes_)&&this.retry){const d=i.getErrorCode()===fg.ABORT;r(!1,new Im(!1,null,d));return}const u=this.successCodes_.indexOf(c)!==-1;r(!0,new Im(u,i))})},n=(r,s)=>{const i=this.resolve_,a=this.reject_,l=s.connection;if(s.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());LY(c)?i(c):i()}catch(c){a(c)}else if(l!==null){const c=kY();c.serverResponse=l.getErrorText(),this.errorCallback_?a(this.errorCallback_(l,c)):a(c)}else if(s.canceled){const c=this.appDelete_?nO():IY();a(c)}else{const c=TY();a(c)}};this.canceled_?n(!1,new Im(!1,null,!0)):this.backoffId_=OY(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&MY(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Im{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function $Y(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function BY(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function zY(t,e){e&&(t["X-Firebase-GMPID"]=e)}function WY(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function HY(t,e,n,r,s,i,a=!0,l=!1){const c=FY(t.urlParams),u=t.url+c,d=Object.assign({},t.headers);return zY(d,e),$Y(d,n),BY(d,i),WY(d,r),new UY(u,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,a,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qY(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function GY(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,n){this._service=e,n instanceof Ms?this._location=n:this._location=Ms.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new mg(e,n)}get root(){const e=new Ms(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return GY(this._location.path)}get storage(){return this._service}get parent(){const e=qY(this._location.path);if(e===null)return null;const n=new Ms(this._location.bucket,e);return new mg(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw AY(e)}}function YC(t,e){const n=e==null?void 0:e[SY];return n==null?null:Ms.makeFromBucketSpec(n,t)}function KY(t,e,n,r={}){t.host=`${e}:${n}`;const s=Jl(e);s&&(k_(`https://${t.host}/b`),T_("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:DA(i,t.app.options.projectId))}class YY{constructor(e,n,r,s,i,a=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=a,this._bucket=null,this._host=tO,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=jY,this._maxUploadRetryTime=CY,this._requests=new Set,s!=null?this._bucket=Ms.makeFromBucketSpec(s,this._host):this._bucket=YC(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ms.makeFromBucketSpec(this._url,e):this._bucket=YC(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){KC("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){KC("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Yr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new mg(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new DY(nO());{const a=HY(e,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const QC="@firebase/storage",XC="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO="storage";function QY(t=P_(),e){t=Zt(t);const r=mv(t,rO).getImmediate({identifier:e}),s=RA("storage");return s&&XY(r,...s),r}function XY(t,e,n,r={}){KY(t,e,n,r)}function ZY(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new YY(n,r,s,e,ec)}function JY(){Ol(new Sa(rO,ZY,"PUBLIC").setMultipleInstances(!0)),yi(QC,XC,""),yi(QC,XC,"esm2020")}JY();const eQ={apiKey:"AIzaSyDF4DmAxHAQm-1xjXnH89Ri9eOK6uN4oPk",authDomain:"it-305-project-be233.firebaseapp.com",projectId:"it-305-project-be233",storageBucket:"it-305-project-be233.appspot.com",messagingSenderId:"560170769739",appId:"1:560170769739:web:e8968ed81fa8ad75c0dcce",measurementId:"G-BCDZ671DXD"},E1=LA(eQ),_n=yq(E1),ge=BD(E1);QY(E1);const k0=Object.freeze(Object.defineProperty({__proto__:null,auth:_n,db:ge},Symbol.toStringTag,{value:"Module"}));class Cf{constructor(e=0,n="Network Error"){this.status=e,this.text=n}}const tQ=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,e)=>Promise.resolve(localStorage.setItem(t,e)),remove:t=>Promise.resolve(localStorage.removeItem(t))}},Bn={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:tQ()},N1=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{},nQ=(t,e="https://api.emailjs.com")=>{if(!t)return;const n=N1(t);Bn.publicKey=n.publicKey,Bn.blockHeadless=n.blockHeadless,Bn.storageProvider=n.storageProvider,Bn.blockList=n.blockList,Bn.limitRate=n.limitRate,Bn.origin=n.origin||e},sO=async(t,e,n={})=>{const r=await fetch(Bn.origin+t,{method:"POST",headers:n,body:e}),s=await r.text(),i=new Cf(r.status,s);if(r.ok)return i;throw i},iO=(t,e,n)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},rQ=t=>{if(t&&t.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},oO=t=>t.webdriver||!t.languages||t.languages.length===0,aO=()=>new Cf(451,"Unavailable For Headless Browser"),sQ=(t,e)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},iQ=t=>{var e;return!((e=t.list)!=null&&e.length)||!t.watchVariable},oQ=(t,e)=>t instanceof FormData?t.get(e):t[e],lO=(t,e)=>{if(iQ(t))return!1;sQ(t.list,t.watchVariable);const n=oQ(e,t.watchVariable);return typeof n!="string"?!1:t.list.includes(n)},cO=()=>new Cf(403,"Forbidden"),aQ=(t,e)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},lQ=async(t,e,n)=>{const r=Number(await n.get(t)||0);return e-Date.now()+r},uO=async(t,e,n)=>{if(!e.throttle||!n)return!1;aQ(e.throttle,e.id);const r=e.id||t;return await lQ(r,e.throttle,n)>0?!0:(await n.set(r,Date.now().toString()),!1)},dO=()=>new Cf(429,"Too Many Requests"),cQ=async(t,e,n,r)=>{const s=N1(r),i=s.publicKey||Bn.publicKey,a=s.blockHeadless||Bn.blockHeadless,l=s.storageProvider||Bn.storageProvider,c={...Bn.blockList,...s.blockList},u={...Bn.limitRate,...s.limitRate};return a&&oO(navigator)?Promise.reject(aO()):(iO(i,t,e),rQ(n),n&&lO(c,n)?Promise.reject(cO()):await uO(location.pathname,u,l)?Promise.reject(dO()):sO("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:i,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"}))},uQ=t=>{if(!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},dQ=t=>typeof t=="string"?document.querySelector(t):t,hQ=async(t,e,n,r)=>{const s=N1(r),i=s.publicKey||Bn.publicKey,a=s.blockHeadless||Bn.blockHeadless,l=Bn.storageProvider||s.storageProvider,c={...Bn.blockList,...s.blockList},u={...Bn.limitRate,...s.limitRate};if(a&&oO(navigator))return Promise.reject(aO());const d=dQ(n);iO(i,t,e),uQ(d);const f=new FormData(d);return lO(c,f)?Promise.reject(cO()):await uO(location.pathname,u,l)?Promise.reject(dO()):(f.append("lib_version","4.4.1"),f.append("service_id",t),f.append("template_id",e),f.append("user_id",i),sO("/api/v1.0/email/send-form",f))},S1={init:nQ,send:cQ,sendForm:hQ,EmailJSResponseStatus:Cf},fQ="",Qe=t=>`${fQ}${t.toLocaleString("en-PH",{minimumFractionDigits:2,maximumFractionDigits:2})}`,hO="SMPXEQCEwjjG-Dkmp",pg="service_s9xxqfy",ZC="template_l48yeel";S1.init(hO);const xx=async(t,e,n,r)=>{try{const s={to_email:t,to_name:e,user_role:r.charAt(0).toUpperCase()+r.slice(1),otp_code:n,verification_link:`${window.location.origin}/verify-otp`,platform_name:"Mojo Dojo Casa House",support_email:"johnpatrickrobles143@gmail.com",year:new Date().getFullYear().toString(),logo_url:"https://mojo-dojo-casa-house-f31a5.web.app/logo.png",logo_alt:"Mojo Dojo Casa House Logo"};console.log(" Attempting to send OTP email via EmailJS...");const i=await S1.send(pg,ZC,s);return console.log(" OTP verification email sent successfully to:",t),console.log(" EmailJS response:",i),!0}catch(s){return console.error(" Failed to send OTP email:",s),console.error(" EmailJS error details:",{message:(s==null?void 0:s.text)||(s==null?void 0:s.message),status:s==null?void 0:s.status,publicKey:"Set",serviceId:"Set",templateId:"Set"}),!1}},JC="template_7tisn25",mQ=async(t,e,n,r,s,i,a,l,c)=>{try{const u=new Date(s).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),d=new Date(i).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),f={to_email:t,to_name:e,listing_title:n,listing_location:r,check_in:u,check_out:d,guests:a===1?"1 guest":`${a} guests`,total_price:Qe(l),booking_id:c,booking_link:`${window.location.origin}/guest/dashboard`,platform_name:"Mojo Dojo Casa House",support_email:"johnpatrickrobles143@gmail.com",year:new Date().getFullYear().toString()};return await S1.send(pg,JC,f),console.log(" Booking confirmation email sent successfully to:",t),!0}catch(u){return console.error(" Failed to send booking confirmation email:",u),!1}},fO=async t=>{const e={...t,status:t.status||"pending",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};console.log("Creating listing with data:",{status:e.status,hostId:e.hostId,title:e.title});const n=await qu(st(ge,"listing"),e);return console.log("Listing created with ID:",n.id,"Status:",e.status),n.id},T0=async(t,e)=>{await Gn($e(ge,"listing",t),{...e,updatedAt:new Date().toISOString()})},mO=async t=>{await $l($e(ge,"listing",t))},pO=async t=>{const e=await Rt($e(ge,"listing",t));return e.exists()?{id:e.id,...e.data()}:null},kf=async t=>{try{console.log("getListings called with filters:",JSON.stringify(t));let e=bt(st(ge,"listing"));const n=[];t!=null&&t.category&&t.category.trim()!==""&&t.category!=="all"&&(e=bt(e,_t("category","==",t.category)),n.push(`category == "${t.category}"`)),t!=null&&t.status&&t.status.trim()!==""&&(e=bt(e,_t("status","==",t.status)),n.push(`status == "${t.status}"`)),t!=null&&t.hostId&&t.hostId.trim()!==""&&(e=bt(e,_t("hostId","==",t.hostId)),n.push(`hostId == "${t.hostId}"`)),console.log(`getListings: Applied filters: [${n.join(", ")}]`),console.log("getListings: Executing Firestore query...");const r=await Gt(e);console.log(`getListings: Query successful, found ${r.docs.length} raw documents`);const s=r.docs.map(i=>{const a=i.data(),l=a.status,c=typeof l;return console.log(`getListings: Processing document ${i.id}:`,{hostId:a.hostId,status:l,statusType:c,category:a.category}),!a.hostId||a.hostId.trim()===""||!a.status||a.status.trim()===""||!a.category||a.category.trim()===""?(console.warn(`getListings: Skipping listing ${i.id} - missing required fields:`,{hostId:a.hostId,status:a.status,statusType:typeof a.status,category:a.category}),null):t!=null&&t.status&&t.status.trim()!==""&&a.status!==t.status?(console.warn(`getListings: Skipping listing ${i.id} - status mismatch: expected "${t.status}", got "${a.status}"`),null):(a.createdAt||(a.createdAt=new Date().toISOString()),{id:i.id,...a})}).filter(i=>i!==null);return s.sort((i,a)=>{const l=new Date(i.createdAt).getTime();return new Date(a.createdAt).getTime()-l}),console.log(`getListings: Successfully processed ${s.length} valid listings out of ${r.docs.length} raw documents`),t!=null&&t.status&&console.log(`getListings: Filtered by status "${t.status}" - found ${s.length} listings`),s}catch(e){throw console.error("Error loading listings:",e),console.error("Error details:",{message:e.message,code:e.code,stack:e.stack,filters:t}),e}},gO=async t=>{if(!t.hostId)throw new Error("Booking must have a hostId");if(!t.guestId)throw new Error("Booking must have a guestId");if(!t.listingId)throw new Error("Booking must have a listingId");const e={...t,hostId:String(t.hostId),guestId:String(t.guestId),listingId:String(t.listingId),createdAt:new Date().toISOString(),status:t.status||"pending"};console.log(" Creating booking in Firestore:",{hostId:e.hostId,guestId:e.guestId,listingId:e.listingId,status:e.status,createdAt:e.createdAt});const n=await qu(st(ge,"bookings"),e);return console.log(" Booking created in Firestore:",{id:n.id,hostId:e.hostId}),n.id},j1=async(t,e)=>{await Gn($e(ge,"bookings",t),e)},yo=async t=>{try{let e;t!=null&&t.hostId&&(t!=null&&t.status)?e=bt(st(ge,"bookings"),_t("hostId","==",t.hostId),_t("status","==",t.status),Ps("createdAt","desc")):t!=null&&t.hostId?e=bt(st(ge,"bookings"),_t("hostId","==",t.hostId),Ps("createdAt","desc")):t!=null&&t.guestId&&(t!=null&&t.status)?e=bt(st(ge,"bookings"),_t("guestId","==",t.guestId),_t("status","==",t.status),Ps("createdAt","desc")):t!=null&&t.guestId?e=bt(st(ge,"bookings"),_t("guestId","==",t.guestId),Ps("createdAt","desc")):t!=null&&t.status?e=bt(st(ge,"bookings"),_t("status","==",t.status),Ps("createdAt","desc")):e=bt(st(ge,"bookings"),Ps("createdAt","desc"));const r=(await Gt(e)).docs.map(s=>({id:s.id,...s.data()}));return console.log(" getBookings query result:",{filters:t,count:r.length,bookings:r.map(s=>({id:s.id,hostId:s.hostId,guestId:s.guestId,status:s.status}))}),r}catch(e){if(console.error(" Error in getBookings:",e),e.code==="failed-precondition"){console.warn(" Falling back to query without orderBy");let n=bt(st(ge,"bookings"));t!=null&&t.guestId&&(n=bt(n,_t("guestId","==",t.guestId))),t!=null&&t.hostId&&(n=bt(n,_t("hostId","==",t.hostId))),t!=null&&t.status&&(n=bt(n,_t("status","==",t.status)));const s=(await Gt(n)).docs.map(i=>({id:i.id,...i.data()}));return s.sort((i,a)=>new Date(a.createdAt).getTime()-new Date(i.createdAt).getTime()),s}throw e}},vO=async t=>{const e=bt(st(ge,"reviews"),_t("listingId","==",t),Ps("createdAt","desc"));return(await Gt(e)).docs.map(r=>({id:r.id,...r.data()}))},yO=async t=>(await qu(st(ge,"messages"),{...t,read:!1,createdAt:new Date().toISOString()})).id,xO=async t=>{const e=bt(st(ge,"messages"),_t("receiverId","==",t),Ps("createdAt","desc"));return(await Gt(e)).docs.map(r=>({id:r.id,...r.data()}))},Tf=async t=>(await qu(st(ge,"transactions"),{...t,status:t.status||"pending",createdAt:new Date().toISOString()})).id,C1=async t=>{const e=bt(st(ge,"transactions"),_t("userId","==",t),Ps("createdAt","desc"));return(await Gt(e)).docs.map(r=>({id:r.id,...r.data()}))},If=async(t,e,n)=>{const r=n.includes(e)?n.filter(s=>s!==e):[...n,e];return await Gn($e(ge,"users",t),{favorites:r}),r},Fv=async(t,e,n)=>{const r=n.includes(e)?n.filter(s=>s!==e):[...n,e];return await Gn($e(ge,"users",t),{wishlist:r}),r},pQ=()=>Math.floor(1e5+Math.random()*9e5).toString(),ap=async(t,e)=>{const n=pQ(),r=new Date;r.setMinutes(r.getMinutes()+10);const s={userId:t,email:e,otp:n,expiresAt:r.toISOString(),createdAt:new Date().toISOString(),verified:!1};await qu(st(ge,"otps"),s);const i=bt(st(ge,"otps"),_t("userId","==",t),_t("verified","==",!1));return(await Gt(i)).forEach(async l=>{const c=l.data();new Date(c.expiresAt)<new Date&&await $l($e(ge,"otps",l.id))}),n},wO=async(t,e)=>{try{const n=bt(st(ge,"otps"),_t("userId","==",t),_t("otp","==",e),_t("verified","==",!1)),r=await Gt(n);if(r.empty)return!1;const s=r.docs[0],i=s.data();return new Date(i.expiresAt)<new Date?(await $l($e(ge,"otps",s.id)),!1):(await Gn($e(ge,"otps",s.id),{verified:!0,verifiedAt:new Date().toISOString()}),setTimeout(()=>{$l($e(ge,"otps",s.id)).catch(console.error)},5e3),!0)}catch(n){return console.error("Error verifying OTP:",n),!1}},fo=Object.freeze(Object.defineProperty({__proto__:null,createBooking:gO,createListing:fO,createOTP:ap,createTransaction:Tf,deleteListing:mO,getBookings:yo,getListing:pO,getListingReviews:vO,getListings:kf,getMessages:xO,getUserTransactions:C1,sendMessage:yO,toggleFavorite:If,toggleWishlist:Fv,updateBooking:j1,updateListing:T0,verifyOTP:wO},Symbol.toStringTag,{value:"Module"})),bO=m.createContext(void 0),Dt=()=>{const t=m.useContext(bO);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},gQ=({children:t})=>{const[e,n]=m.useState(null),[r,s]=m.useState(null),[i,a]=m.useState(null),[l,c]=m.useState(!0);m.useEffect(()=>aH(_n,async j=>{if(n(j),j){const P=await Rt($e(ge,"users",j.uid));if(P.exists()){const D=P.data();s(D.role),a(D)}}else s(null),a(null);c(!1)}),[]);const u=async(v,j,P)=>{const D=await Lj(_n,v,j),S=await Rt($e(ge,"users",D.user.uid));if(S.exists()&&S.data().role!==P)throw await vd(_n),new Error(`This account is not registered as a ${P}`);const N=S.data();if(!((N==null?void 0:N.emailVerified)===!0))throw await vd(_n),new Error("Please verify your email before signing in. Check your inbox for the verification code.")},d=async(v,j,P,D,S)=>{try{const N=await rH(_n,v,j),T={email:v,fullName:P,role:D,createdAt:new Date().toISOString(),points:0,walletBalance:0,favorites:[],wishlist:[]};D==="host"&&S&&(T.policyAccepted=S.policyAccepted,T.policyAcceptedDate=S.policyAcceptedDate),await hg($e(ge,"users",N.user.uid),T);try{const k=await ap(N.user.uid,v);console.log(" OTP generated:",k),await xx(v,P,k,D)?(console.log(" OTP verification email sent via EmailJS"),H.success("Verification code sent! Check your email.")):(console.error(" Failed to send OTP email via EmailJS"),H.error("Failed to send verification email. Please try again or contact support."))}catch(k){console.error(" Error in OTP email flow:",k),H.error(k.message||"Failed to send verification email. Please try again.")}s(D),a(T)}catch(N){if(N.code==="auth/email-already-in-use")try{const T=await Lj(_n,v,j),k=await Rt($e(ge,"users",T.user.uid));if(k.exists()){const I=k.data();if((I==null?void 0:I.emailVerified)===!0)throw await vd(_n),new Error("This email is already registered and verified. Please sign in instead.");try{const R=await ap(T.user.uid,v);await xx(v,I.fullName||P,R,I.role||D),s(I.role||D),a(I),n(T.user),H.success("Verification code resent! Please check your email.");return}catch(R){throw console.error(" Error resending OTP:",R),new Error("Account exists but not verified. Please check your email for the verification code or try signing in.")}}else throw await vd(_n),new Error("Account exists but data is missing. Please contact support.")}catch(T){throw T.code==="auth/wrong-password"||T.code==="auth/invalid-credential"?new Error("This email is already registered. Please sign in with your password, or use password reset if you forgot it."):new Error("This email is already registered. Please sign in to verify your account.")}else throw N}},f=async()=>{await vd(_n),s(null),a(null)},p=async()=>{if(!e)throw new Error("No user logged in");await sH(e)},g=async v=>{await nH(_n,v),_n.currentUser&&(await _n.currentUser.reload(),n(_n.currentUser))},b=async v=>{await eH(_n,v)},y=async(v,j)=>{await tH(_n,v,j)},w=async()=>{if(!e||!i)throw new Error("No user logged in");const v=await ap(e.uid,e.email||"");await xx(e.email||"",i.fullName,v,r||"guest")},_=async v=>{if(!e)throw new Error("No user logged in");return await wO(e.uid,v)?(await Gn($e(ge,"users",e.uid),{emailVerified:!0,emailVerifiedAt:new Date().toISOString()}),i&&a({...i,emailVerified:!0,emailVerifiedAt:new Date().toISOString()}),_n.currentUser&&(await _n.currentUser.reload(),n(_n.currentUser)),!0):!1},x=async()=>{if(e)try{const v=await Rt($e(ge,"users",e.uid));if(v.exists()){const j=v.data();s(j.role),a(j)}}catch(v){console.error("Error refreshing user profile:",v)}};return o.jsx(bO.Provider,{value:{user:e,userRole:r,userProfile:i,loading:l,signIn:u,signUp:d,signOut:f,sendVerificationEmail:p,verifyEmail:g,sendOTP:w,verifyOTPCode:_,sendPasswordReset:b,resetPassword:y,refreshUserProfile:x},children:t})},Xs=({size:t="md",className:e="",showText:n=!0})=>{const r={sm:"w-8 h-8",md:"w-12 h-12",lg:"w-16 h-16",xl:"w-20 h-20"},s={sm:"text-lg",md:"text-xl",lg:"text-2xl",xl:"text-3xl"};return o.jsxs("div",{className:`flex items-center space-x-3 ${e}`,children:[o.jsx("img",{src:"/logo.svg",alt:"Mojo Dojo Casa House Logo",className:`${r[t]} object-contain`}),n&&o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:`font-bold bg-gradient-to-r from-orange-500 via-blue-500 to-green-500 bg-clip-text text-transparent ${s[t]}`,children:"Mojo Dojo Casa House"}),o.jsx("span",{className:"text-xs text-muted-foreground -mt-1",children:"Your Gateway to Amazing Stays"})]})]})},Di=()=>o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-background",children:o.jsxs("div",{className:"flex flex-col items-center justify-center space-y-6",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Xs,{size:"lg"}),o.jsx("div",{className:"absolute inset-0 -z-10 blur-2xl",children:o.jsx("div",{className:"h-32 w-32 rounded-full bg-primary/20 animate-pulse"})})]}),o.jsxs("div",{className:"relative",children:[o.jsx(wh,{className:"h-8 w-8 animate-spin text-primary"}),o.jsx("div",{className:"absolute inset-0 -z-10 blur-xl",children:o.jsx(wh,{className:"h-8 w-8 animate-spin text-primary/30"})})]}),o.jsxs("div",{className:"text-center space-y-2",children:[o.jsx("p",{className:"text-lg font-medium text-foreground",children:"Loading..."}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Please wait while we prepare everything"})]}),o.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[o.jsx("div",{className:"absolute top-1/4 left-1/4 w-64 h-64 bg-primary/5 rounded-full blur-3xl animate-pulse"}),o.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-64 h-64 bg-secondary/5 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),o.jsx("div",{className:"absolute top-1/2 right-1/3 w-48 h-48 bg-accent/5 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}})]})]})}),Lh=tv("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ie=m.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const a=r?UR:"button";return o.jsx(a,{className:_e(Lh({variant:e,size:n,className:t})),ref:i,...s})});ie.displayName="Button";const se=m.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:_e("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));se.displayName="Card";const me=m.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:_e("flex flex-col space-y-1.5 p-6",t),...e}));me.displayName="CardHeader";const pe=m.forwardRef(({className:t,...e},n)=>o.jsx("h3",{ref:n,className:_e("text-2xl font-semibold leading-none tracking-tight",t),...e}));pe.displayName="CardTitle";const Be=m.forwardRef(({className:t,...e},n)=>o.jsx("p",{ref:n,className:_e("text-sm text-muted-foreground",t),...e}));Be.displayName="CardDescription";const be=m.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:_e("p-6 pt-0",t),...e}));be.displayName="CardContent";const _O=m.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:_e("flex items-center p-6 pt-0",t),...e}));_O.displayName="CardFooter";const Rf=({src:t,className:e="",overlay:n=!0,fallbackImage:r})=>{const s=m.useRef(null),[i,a]=m.useState(!1),[l,c]=m.useState(!1);m.useEffect(()=>{const d=()=>{a(window.innerWidth<768)};return d(),window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)},[]),m.useEffect(()=>{s.current&&!i&&!l&&(s.current.playbackRate=.8)},[i,l]);const u=()=>{c(!0)};return i||l?o.jsx("div",{className:`absolute inset-0 bg-cover bg-center bg-no-repeat ${e}`,style:{backgroundImage:r?`url(${r})`:void 0,backgroundColor:r?void 0:"hsl(var(--background))"},children:n&&o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-black/50 via-black/30 to-black/50"})}):o.jsxs("div",{className:`absolute inset-0 overflow-hidden ${e}`,children:[o.jsxs("video",{ref:s,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"absolute inset-0 w-full h-full object-cover",preload:"auto",onError:u,children:[o.jsx("source",{src:t,type:"video/mp4"}),"Your browser does not support the video tag."]}),n&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-black/50 via-black/30 to-black/50"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"})]})]})};var vQ=m.createContext(void 0);function Pf(t){const e=m.useContext(vQ);return t||e||"ltr"}var wx=0;function Vv(){m.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??ek()),document.body.insertAdjacentElement("beforeend",t[1]??ek()),wx++,()=>{wx===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),wx--}},[])}function ek(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var bx="focusScope.autoFocusOnMount",_x="focusScope.autoFocusOnUnmount",tk={bubbles:!1,cancelable:!0},yQ="FocusScope",Af=m.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=t,[l,c]=m.useState(null),u=sn(s),d=sn(i),f=m.useRef(null),p=Ze(e,y=>c(y)),g=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let y=function(v){if(g.paused||!l)return;const j=v.target;l.contains(j)?f.current=j:Ao(f.current,{select:!0})},w=function(v){if(g.paused||!l)return;const j=v.relatedTarget;j!==null&&(l.contains(j)||Ao(f.current,{select:!0}))},_=function(v){if(document.activeElement===document.body)for(const P of v)P.removedNodes.length>0&&Ao(l)};document.addEventListener("focusin",y),document.addEventListener("focusout",w);const x=new MutationObserver(_);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",w),x.disconnect()}}},[r,l,g.paused]),m.useEffect(()=>{if(l){rk.add(g);const y=document.activeElement;if(!l.contains(y)){const _=new CustomEvent(bx,tk);l.addEventListener(bx,u),l.dispatchEvent(_),_.defaultPrevented||(xQ(NQ(EO(l)),{select:!0}),document.activeElement===y&&Ao(l))}return()=>{l.removeEventListener(bx,u),setTimeout(()=>{const _=new CustomEvent(_x,tk);l.addEventListener(_x,d),l.dispatchEvent(_),_.defaultPrevented||Ao(y??document.body,{select:!0}),l.removeEventListener(_x,d),rk.remove(g)},0)}}},[l,u,d,g]);const b=m.useCallback(y=>{if(!n&&!r||g.paused)return;const w=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,_=document.activeElement;if(w&&_){const x=y.currentTarget,[v,j]=wQ(x);v&&j?!y.shiftKey&&_===j?(y.preventDefault(),n&&Ao(v,{select:!0})):y.shiftKey&&_===v&&(y.preventDefault(),n&&Ao(j,{select:!0})):_===x&&y.preventDefault()}},[n,r,g.paused]);return o.jsx(ke.div,{tabIndex:-1,...a,ref:p,onKeyDown:b})});Af.displayName=yQ;function xQ(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ao(r,{select:e}),document.activeElement!==n)return}function wQ(t){const e=EO(t),n=nk(e,t),r=nk(e.reverse(),t);return[n,r]}function EO(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function nk(t,e){for(const n of t)if(!bQ(n,{upTo:e}))return n}function bQ(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function _Q(t){return t instanceof HTMLInputElement&&"select"in t}function Ao(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&_Q(t)&&e&&t.select()}}var rk=EQ();function EQ(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=sk(t,e),t.unshift(e)},remove(e){var n;t=sk(t,e),(n=t[0])==null||n.resume()}}}function sk(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function NQ(t){return t.filter(e=>e.tagName!=="A")}var Ex="rovingFocusGroup.onEntryFocus",SQ={bubbles:!1,cancelable:!0},Df="RovingFocusGroup",[I0,NO,jQ]=Zg(Df),[CQ,Uv]=Kn(Df,[jQ]),[kQ,TQ]=CQ(Df),SO=m.forwardRef((t,e)=>o.jsx(I0.Provider,{scope:t.__scopeRovingFocusGroup,children:o.jsx(I0.Slot,{scope:t.__scopeRovingFocusGroup,children:o.jsx(IQ,{...t,ref:e})})}));SO.displayName=Df;var IQ=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=t,p=m.useRef(null),g=Ze(e,p),b=Pf(i),[y,w]=Si({prop:a,defaultProp:l??null,onChange:c,caller:Df}),[_,x]=m.useState(!1),v=sn(u),j=NO(n),P=m.useRef(!1),[D,S]=m.useState(0);return m.useEffect(()=>{const N=p.current;if(N)return N.addEventListener(Ex,v),()=>N.removeEventListener(Ex,v)},[v]),o.jsx(kQ,{scope:n,orientation:r,dir:b,loop:s,currentTabStopId:y,onItemFocus:m.useCallback(N=>w(N),[w]),onItemShiftTab:m.useCallback(()=>x(!0),[]),onFocusableItemAdd:m.useCallback(()=>S(N=>N+1),[]),onFocusableItemRemove:m.useCallback(()=>S(N=>N-1),[]),children:o.jsx(ke.div,{tabIndex:_||D===0?-1:0,"data-orientation":r,...f,ref:g,style:{outline:"none",...t.style},onMouseDown:xe(t.onMouseDown,()=>{P.current=!0}),onFocus:xe(t.onFocus,N=>{const T=!P.current;if(N.target===N.currentTarget&&T&&!_){const k=new CustomEvent(Ex,SQ);if(N.currentTarget.dispatchEvent(k),!k.defaultPrevented){const I=j().filter(q=>q.focusable),A=I.find(q=>q.active),R=I.find(q=>q.id===y),U=[A,R,...I].filter(Boolean).map(q=>q.ref.current);kO(U,d)}}P.current=!1}),onBlur:xe(t.onBlur,()=>x(!1))})})}),jO="RovingFocusGroupItem",CO=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:a,...l}=t,c=Wn(),u=i||c,d=TQ(jO,n),f=d.currentTabStopId===u,p=NO(n),{onFocusableItemAdd:g,onFocusableItemRemove:b,currentTabStopId:y}=d;return m.useEffect(()=>{if(r)return g(),()=>b()},[r,g,b]),o.jsx(I0.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:o.jsx(ke.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:e,onMouseDown:xe(t.onMouseDown,w=>{r?d.onItemFocus(u):w.preventDefault()}),onFocus:xe(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:xe(t.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){d.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const _=AQ(w,d.orientation,d.dir);if(_!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let v=p().filter(j=>j.focusable).map(j=>j.ref.current);if(_==="last")v.reverse();else if(_==="prev"||_==="next"){_==="prev"&&v.reverse();const j=v.indexOf(w.currentTarget);v=d.loop?DQ(v,j+1):v.slice(j+1)}setTimeout(()=>kO(v))}}),children:typeof a=="function"?a({isCurrentTabStop:f,hasTabStop:y!=null}):a})})});CO.displayName=jO;var RQ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function PQ(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function AQ(t,e,n){const r=PQ(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return RQ[r]}function kO(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function DQ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var TO=SO,IO=CO,OQ=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},uc=new WeakMap,Rm=new WeakMap,Pm={},Nx=0,RO=function(t){return t&&(t.host||RO(t.parentNode))},MQ=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=RO(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},LQ=function(t,e,n,r){var s=MQ(e,Array.isArray(t)?t:[t]);Pm[n]||(Pm[n]=new WeakMap);var i=Pm[n],a=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(p){if(l.has(p))d(p);else try{var g=p.getAttribute(r),b=g!==null&&g!=="false",y=(uc.get(p)||0)+1,w=(i.get(p)||0)+1;uc.set(p,y),i.set(p,w),a.push(p),y===1&&b&&Rm.set(p,!0),w===1&&p.setAttribute(n,"true"),b||p.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",p,_)}})};return d(e),l.clear(),Nx++,function(){a.forEach(function(f){var p=uc.get(f)-1,g=i.get(f)-1;uc.set(f,p),i.set(f,g),p||(Rm.has(f)||f.removeAttribute(r),Rm.delete(f)),g||f.removeAttribute(n)}),Nx--,Nx||(uc=new WeakMap,uc=new WeakMap,Rm=new WeakMap,Pm={})}},$v=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=OQ(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),LQ(r,s,n,"aria-hidden")):function(){return null}},di=function(){return di=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},di.apply(this,arguments)};function PO(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function FQ(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var lp="right-scroll-bar-position",cp="width-before-scroll-bar",VQ="with-scroll-bars-hidden",UQ="--removed-body-scroll-bar-size";function Sx(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function $Q(t,e){var n=m.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var BQ=typeof window<"u"?m.useLayoutEffect:m.useEffect,ik=new WeakMap;function zQ(t,e){var n=$Q(null,function(r){return t.forEach(function(s){return Sx(s,r)})});return BQ(function(){var r=ik.get(n);if(r){var s=new Set(r),i=new Set(t),a=n.current;s.forEach(function(l){i.has(l)||Sx(l,null)}),i.forEach(function(l){s.has(l)||Sx(l,a)})}ik.set(n,t)},[t]),n}function WQ(t){return t}function HQ(t,e){e===void 0&&(e=WQ);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var a=e(i,r);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(i){for(r=!0;n.length;){var a=n;n=[],a.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(i),a=n}var c=function(){var d=a;a=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),n}}}};return s}function qQ(t){t===void 0&&(t={});var e=HQ(null);return e.options=di({async:!0,ssr:!1},t),e}var AO=function(t){var e=t.sideCar,n=PO(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,di({},n))};AO.isSideCarExport=!0;function GQ(t,e){return t.useMedium(e),AO}var DO=qQ(),jx=function(){},Bv=m.forwardRef(function(t,e){var n=m.useRef(null),r=m.useState({onScrollCapture:jx,onWheelCapture:jx,onTouchMoveCapture:jx}),s=r[0],i=r[1],a=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,p=t.sideCar,g=t.noRelative,b=t.noIsolation,y=t.inert,w=t.allowPinchZoom,_=t.as,x=_===void 0?"div":_,v=t.gapMode,j=PO(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=p,D=zQ([n,e]),S=di(di({},j),s);return m.createElement(m.Fragment,null,d&&m.createElement(P,{sideCar:DO,removeScrollBar:u,shards:f,noRelative:g,noIsolation:b,inert:y,setCallbacks:i,allowPinchZoom:!!w,lockRef:n,gapMode:v}),a?m.cloneElement(m.Children.only(l),di(di({},S),{ref:D})):m.createElement(x,di({},S,{className:c,ref:D}),l))});Bv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Bv.classNames={fullWidth:cp,zeroRight:lp};var KQ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function YQ(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=KQ();return e&&t.setAttribute("nonce",e),t}function QQ(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function XQ(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var ZQ=function(){var t=0,e=null;return{add:function(n){t==0&&(e=YQ())&&(QQ(e,n),XQ(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},JQ=function(){var t=ZQ();return function(e,n){m.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},OO=function(){var t=JQ(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},eX={left:0,top:0,right:0,gap:0},Cx=function(t){return parseInt(t||"",10)||0},tX=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Cx(n),Cx(r),Cx(s)]},nX=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return eX;var e=tX(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},rX=OO(),Xc="data-scroll-locked",sX=function(t,e,n,r){var s=t.left,i=t.top,a=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(VQ,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Xc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(lp,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(cp,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(lp," .").concat(lp,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(cp," .").concat(cp,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Xc,`] {
    `).concat(UQ,": ").concat(l,`px;
  }
`)},ok=function(){var t=parseInt(document.body.getAttribute(Xc)||"0",10);return isFinite(t)?t:0},iX=function(){m.useEffect(function(){return document.body.setAttribute(Xc,(ok()+1).toString()),function(){var t=ok()-1;t<=0?document.body.removeAttribute(Xc):document.body.setAttribute(Xc,t.toString())}},[])},oX=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;iX();var i=m.useMemo(function(){return nX(s)},[s]);return m.createElement(rX,{styles:sX(i,!e,s,n?"":"!important")})},R0=!1;if(typeof window<"u")try{var Am=Object.defineProperty({},"passive",{get:function(){return R0=!0,!0}});window.addEventListener("test",Am,Am),window.removeEventListener("test",Am,Am)}catch{R0=!1}var dc=R0?{passive:!1}:!1,aX=function(t){return t.tagName==="TEXTAREA"},MO=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!aX(t)&&n[e]==="visible")},lX=function(t){return MO(t,"overflowY")},cX=function(t){return MO(t,"overflowX")},ak=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=LO(t,r);if(s){var i=FO(t,r),a=i[1],l=i[2];if(a>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},uX=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},dX=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},LO=function(t,e){return t==="v"?lX(e):cX(e)},FO=function(t,e){return t==="v"?uX(e):dX(e)},hX=function(t,e){return t==="h"&&e==="rtl"?-1:1},fX=function(t,e,n,r,s){var i=hX(t,window.getComputedStyle(e).direction),a=i*r,l=n.target,c=e.contains(l),u=!1,d=a>0,f=0,p=0;do{if(!l)break;var g=FO(t,l),b=g[0],y=g[1],w=g[2],_=y-w-i*b;(b||_)&&LO(t,l)&&(f+=_,p+=b);var x=l.parentNode;l=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(p)<1||!s))&&(u=!0),u},Dm=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},lk=function(t){return[t.deltaX,t.deltaY]},ck=function(t){return t&&"current"in t?t.current:t},mX=function(t,e){return t[0]===e[0]&&t[1]===e[1]},pX=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},gX=0,hc=[];function vX(t){var e=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),s=m.useState(gX++)[0],i=m.useState(OO)[0],a=m.useRef(t);m.useEffect(function(){a.current=t},[t]),m.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var y=FQ([t.lockRef.current],(t.shards||[]).map(ck),!0).filter(Boolean);return y.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=m.useCallback(function(y,w){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!a.current.allowPinchZoom;var _=Dm(y),x=n.current,v="deltaX"in y?y.deltaX:x[0]-_[0],j="deltaY"in y?y.deltaY:x[1]-_[1],P,D=y.target,S=Math.abs(v)>Math.abs(j)?"h":"v";if("touches"in y&&S==="h"&&D.type==="range")return!1;var N=ak(S,D);if(!N)return!0;if(N?P=S:(P=S==="v"?"h":"v",N=ak(S,D)),!N)return!1;if(!r.current&&"changedTouches"in y&&(v||j)&&(r.current=P),!P)return!0;var T=r.current||P;return fX(T,w,y,T==="h"?v:j,!0)},[]),c=m.useCallback(function(y){var w=y;if(!(!hc.length||hc[hc.length-1]!==i)){var _="deltaY"in w?lk(w):Dm(w),x=e.current.filter(function(P){return P.name===w.type&&(P.target===w.target||w.target===P.shadowParent)&&mX(P.delta,_)})[0];if(x&&x.should){w.cancelable&&w.preventDefault();return}if(!x){var v=(a.current.shards||[]).map(ck).filter(Boolean).filter(function(P){return P.contains(w.target)}),j=v.length>0?l(w,v[0]):!a.current.noIsolation;j&&w.cancelable&&w.preventDefault()}}},[]),u=m.useCallback(function(y,w,_,x){var v={name:y,delta:w,target:_,should:x,shadowParent:yX(_)};e.current.push(v),setTimeout(function(){e.current=e.current.filter(function(j){return j!==v})},1)},[]),d=m.useCallback(function(y){n.current=Dm(y),r.current=void 0},[]),f=m.useCallback(function(y){u(y.type,lk(y),y.target,l(y,t.lockRef.current))},[]),p=m.useCallback(function(y){u(y.type,Dm(y),y.target,l(y,t.lockRef.current))},[]);m.useEffect(function(){return hc.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",c,dc),document.addEventListener("touchmove",c,dc),document.addEventListener("touchstart",d,dc),function(){hc=hc.filter(function(y){return y!==i}),document.removeEventListener("wheel",c,dc),document.removeEventListener("touchmove",c,dc),document.removeEventListener("touchstart",d,dc)}},[]);var g=t.removeScrollBar,b=t.inert;return m.createElement(m.Fragment,null,b?m.createElement(i,{styles:pX(s)}):null,g?m.createElement(oX,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function yX(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const xX=GQ(DO,vX);var Of=m.forwardRef(function(t,e){return m.createElement(Bv,di({},t,{ref:e,sideCar:xX}))});Of.classNames=Bv.classNames;var P0=["Enter"," "],wX=["ArrowDown","PageUp","Home"],VO=["ArrowUp","PageDown","End"],bX=[...wX,...VO],_X={ltr:[...P0,"ArrowRight"],rtl:[...P0,"ArrowLeft"]},EX={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Mf="Menu",[Fh,NX,SX]=Zg(Mf),[rc,UO]=Kn(Mf,[SX,Fa,Uv]),zv=Fa(),$O=Uv(),[jX,sc]=rc(Mf),[CX,Lf]=rc(Mf),BO=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:a=!0}=t,l=zv(e),[c,u]=m.useState(null),d=m.useRef(!1),f=sn(i),p=Pf(s);return m.useEffect(()=>{const g=()=>{d.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>d.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),o.jsx(__,{...l,children:o.jsx(jX,{scope:e,open:n,onOpenChange:f,content:c,onContentChange:u,children:o.jsx(CX,{scope:e,onClose:m.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:p,modal:a,children:r})})})};BO.displayName=Mf;var kX="MenuAnchor",k1=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=zv(n);return o.jsx(af,{...s,...r,ref:e})});k1.displayName=kX;var T1="MenuPortal",[TX,zO]=rc(T1,{forceMount:void 0}),WO=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=sc(T1,e);return o.jsx(TX,{scope:e,forceMount:n,children:o.jsx(Ln,{present:n||i.open,children:o.jsx(Ou,{asChild:!0,container:s,children:r})})})};WO.displayName=T1;var ms="MenuContent",[IX,I1]=rc(ms),HO=m.forwardRef((t,e)=>{const n=zO(ms,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=sc(ms,t.__scopeMenu),a=Lf(ms,t.__scopeMenu);return o.jsx(Fh.Provider,{scope:t.__scopeMenu,children:o.jsx(Ln,{present:r||i.open,children:o.jsx(Fh.Slot,{scope:t.__scopeMenu,children:a.modal?o.jsx(RX,{...s,ref:e}):o.jsx(PX,{...s,ref:e})})})})}),RX=m.forwardRef((t,e)=>{const n=sc(ms,t.__scopeMenu),r=m.useRef(null),s=Ze(e,r);return m.useEffect(()=>{const i=r.current;if(i)return $v(i)},[]),o.jsx(R1,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:xe(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),PX=m.forwardRef((t,e)=>{const n=sc(ms,t.__scopeMenu);return o.jsx(R1,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),AX=ba("MenuContent.ScrollLock"),R1=m.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:p,onDismiss:g,disableOutsideScroll:b,...y}=t,w=sc(ms,n),_=Lf(ms,n),x=zv(n),v=$O(n),j=NX(n),[P,D]=m.useState(null),S=m.useRef(null),N=Ze(e,S,w.onContentChange),T=m.useRef(0),k=m.useRef(""),I=m.useRef(0),A=m.useRef(null),R=m.useRef("right"),W=m.useRef(0),U=b?Of:m.Fragment,q=b?{as:AX,allowPinchZoom:!0}:void 0,K=V=>{var J,Fe;const F=k.current+V,Q=j().filter(Me=>!Me.disabled),$=document.activeElement,te=(J=Q.find(Me=>Me.ref.current===$))==null?void 0:J.textValue,ue=Q.map(Me=>Me.textValue),de=HX(ue,F,te),Ce=(Fe=Q.find(Me=>Me.textValue===de))==null?void 0:Fe.ref.current;(function Me(le){k.current=le,window.clearTimeout(T.current),le!==""&&(T.current=window.setTimeout(()=>Me(""),1e3))})(F),Ce&&setTimeout(()=>Ce.focus())};m.useEffect(()=>()=>window.clearTimeout(T.current),[]),Vv();const L=m.useCallback(V=>{var Q,$;return R.current===((Q=A.current)==null?void 0:Q.side)&&GX(V,($=A.current)==null?void 0:$.area)},[]);return o.jsx(IX,{scope:n,searchRef:k,onItemEnter:m.useCallback(V=>{L(V)&&V.preventDefault()},[L]),onItemLeave:m.useCallback(V=>{var F;L(V)||((F=S.current)==null||F.focus(),D(null))},[L]),onTriggerLeave:m.useCallback(V=>{L(V)&&V.preventDefault()},[L]),pointerGraceTimerRef:I,onPointerGraceIntentChange:m.useCallback(V=>{A.current=V},[]),children:o.jsx(U,{...q,children:o.jsx(Af,{asChild:!0,trapped:s,onMountAutoFocus:xe(i,V=>{var F;V.preventDefault(),(F=S.current)==null||F.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:o.jsx(Xl,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:p,onDismiss:g,children:o.jsx(TO,{asChild:!0,...v,dir:_.dir,orientation:"vertical",loop:r,currentTabStopId:P,onCurrentTabStopIdChange:D,onEntryFocus:xe(c,V=>{_.isUsingKeyboardRef.current||V.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(ov,{role:"menu","aria-orientation":"vertical","data-state":aM(w.open),"data-radix-menu-content":"",dir:_.dir,...x,...y,ref:N,style:{outline:"none",...y.style},onKeyDown:xe(y.onKeyDown,V=>{const Q=V.target.closest("[data-radix-menu-content]")===V.currentTarget,$=V.ctrlKey||V.altKey||V.metaKey,te=V.key.length===1;Q&&(V.key==="Tab"&&V.preventDefault(),!$&&te&&K(V.key));const ue=S.current;if(V.target!==ue||!bX.includes(V.key))return;V.preventDefault();const Ce=j().filter(J=>!J.disabled).map(J=>J.ref.current);VO.includes(V.key)&&Ce.reverse(),zX(Ce)}),onBlur:xe(t.onBlur,V=>{V.currentTarget.contains(V.target)||(window.clearTimeout(T.current),k.current="")}),onPointerMove:xe(t.onPointerMove,Vh(V=>{const F=V.target,Q=W.current!==V.clientX;if(V.currentTarget.contains(F)&&Q){const $=V.clientX>W.current?"right":"left";R.current=$,W.current=V.clientX}}))})})})})})})});HO.displayName=ms;var DX="MenuGroup",P1=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return o.jsx(ke.div,{role:"group",...r,ref:e})});P1.displayName=DX;var OX="MenuLabel",qO=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return o.jsx(ke.div,{...r,ref:e})});qO.displayName=OX;var gg="MenuItem",uk="menu.itemSelect",Wv=m.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=m.useRef(null),a=Lf(gg,t.__scopeMenu),l=I1(gg,t.__scopeMenu),c=Ze(e,i),u=m.useRef(!1),d=()=>{const f=i.current;if(!n&&f){const p=new CustomEvent(uk,{bubbles:!0,cancelable:!0});f.addEventListener(uk,g=>r==null?void 0:r(g),{once:!0}),Xb(f,p),p.defaultPrevented?u.current=!1:a.onClose()}};return o.jsx(GO,{...s,ref:c,disabled:n,onClick:xe(t.onClick,d),onPointerDown:f=>{var p;(p=t.onPointerDown)==null||p.call(t,f),u.current=!0},onPointerUp:xe(t.onPointerUp,f=>{var p;u.current||(p=f.currentTarget)==null||p.click()}),onKeyDown:xe(t.onKeyDown,f=>{const p=l.searchRef.current!=="";n||p&&f.key===" "||P0.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Wv.displayName=gg;var GO=m.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,a=I1(gg,n),l=$O(n),c=m.useRef(null),u=Ze(e,c),[d,f]=m.useState(!1),[p,g]=m.useState("");return m.useEffect(()=>{const b=c.current;b&&g((b.textContent??"").trim())},[i.children]),o.jsx(Fh.ItemSlot,{scope:n,disabled:r,textValue:s??p,children:o.jsx(IO,{asChild:!0,...l,focusable:!r,children:o.jsx(ke.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:u,onPointerMove:xe(t.onPointerMove,Vh(b=>{r?a.onItemLeave(b):(a.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:xe(t.onPointerLeave,Vh(b=>a.onItemLeave(b))),onFocus:xe(t.onFocus,()=>f(!0)),onBlur:xe(t.onBlur,()=>f(!1))})})})}),MX="MenuCheckboxItem",KO=m.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return o.jsx(JO,{scope:t.__scopeMenu,checked:n,children:o.jsx(Wv,{role:"menuitemcheckbox","aria-checked":vg(n)?"mixed":n,...s,ref:e,"data-state":D1(n),onSelect:xe(s.onSelect,()=>r==null?void 0:r(vg(n)?!0:!n),{checkForDefaultPrevented:!1})})})});KO.displayName=MX;var YO="MenuRadioGroup",[LX,FX]=rc(YO,{value:void 0,onValueChange:()=>{}}),QO=m.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=sn(r);return o.jsx(LX,{scope:t.__scopeMenu,value:n,onValueChange:i,children:o.jsx(P1,{...s,ref:e})})});QO.displayName=YO;var XO="MenuRadioItem",ZO=m.forwardRef((t,e)=>{const{value:n,...r}=t,s=FX(XO,t.__scopeMenu),i=n===s.value;return o.jsx(JO,{scope:t.__scopeMenu,checked:i,children:o.jsx(Wv,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":D1(i),onSelect:xe(r.onSelect,()=>{var a;return(a=s.onValueChange)==null?void 0:a.call(s,n)},{checkForDefaultPrevented:!1})})})});ZO.displayName=XO;var A1="MenuItemIndicator",[JO,VX]=rc(A1,{checked:!1}),eM=m.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=VX(A1,n);return o.jsx(Ln,{present:r||vg(i.checked)||i.checked===!0,children:o.jsx(ke.span,{...s,ref:e,"data-state":D1(i.checked)})})});eM.displayName=A1;var UX="MenuSeparator",tM=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return o.jsx(ke.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});tM.displayName=UX;var $X="MenuArrow",nM=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=zv(n);return o.jsx(av,{...s,...r,ref:e})});nM.displayName=$X;var BX="MenuSub",[Xoe,rM]=rc(BX),Ad="MenuSubTrigger",sM=m.forwardRef((t,e)=>{const n=sc(Ad,t.__scopeMenu),r=Lf(Ad,t.__scopeMenu),s=rM(Ad,t.__scopeMenu),i=I1(Ad,t.__scopeMenu),a=m.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:t.__scopeMenu},d=m.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return m.useEffect(()=>d,[d]),m.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),o.jsx(k1,{asChild:!0,...u,children:o.jsx(GO,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":aM(n.open),...t,ref:io(e,s.onTriggerChange),onClick:f=>{var p;(p=t.onClick)==null||p.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:xe(t.onPointerMove,Vh(f=>{i.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!n.open&&!a.current&&(i.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:xe(t.onPointerLeave,Vh(f=>{var g,b;d();const p=(g=n.content)==null?void 0:g.getBoundingClientRect();if(p){const y=(b=n.content)==null?void 0:b.dataset.side,w=y==="right",_=w?-5:5,x=p[w?"left":"right"],v=p[w?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+_,y:f.clientY},{x,y:p.top},{x:v,y:p.top},{x:v,y:p.bottom},{x,y:p.bottom}],side:y}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:xe(t.onKeyDown,f=>{var g;const p=i.searchRef.current!=="";t.disabled||p&&f.key===" "||_X[r.dir].includes(f.key)&&(n.onOpenChange(!0),(g=n.content)==null||g.focus(),f.preventDefault())})})})});sM.displayName=Ad;var iM="MenuSubContent",oM=m.forwardRef((t,e)=>{const n=zO(ms,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=sc(ms,t.__scopeMenu),a=Lf(ms,t.__scopeMenu),l=rM(iM,t.__scopeMenu),c=m.useRef(null),u=Ze(e,c);return o.jsx(Fh.Provider,{scope:t.__scopeMenu,children:o.jsx(Ln,{present:r||i.open,children:o.jsx(Fh.Slot,{scope:t.__scopeMenu,children:o.jsx(R1,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;a.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:xe(t.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:xe(t.onEscapeKeyDown,d=>{a.onClose(),d.preventDefault()}),onKeyDown:xe(t.onKeyDown,d=>{var g;const f=d.currentTarget.contains(d.target),p=EX[a.dir].includes(d.key);f&&p&&(i.onOpenChange(!1),(g=l.trigger)==null||g.focus(),d.preventDefault())})})})})})});oM.displayName=iM;function aM(t){return t?"open":"closed"}function vg(t){return t==="indeterminate"}function D1(t){return vg(t)?"indeterminate":t?"checked":"unchecked"}function zX(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function WX(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function HX(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let a=WX(t,Math.max(i,0));s.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function qX(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,a=e.length-1;i<e.length;a=i++){const l=e[i],c=e[a],u=l.x,d=l.y,f=c.x,p=c.y;d>r!=p>r&&n<(f-u)*(r-d)/(p-d)+u&&(s=!s)}return s}function GX(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return qX(n,e)}function Vh(t){return e=>e.pointerType==="mouse"?t(e):void 0}var KX=BO,YX=k1,QX=WO,XX=HO,ZX=P1,JX=qO,eZ=Wv,tZ=KO,nZ=QO,rZ=ZO,sZ=eM,iZ=tM,oZ=nM,aZ=sM,lZ=oM,Hv="DropdownMenu",[cZ,Zoe]=Kn(Hv,[UO]),Er=UO(),[uZ,lM]=cZ(Hv),cM=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:a,modal:l=!0}=t,c=Er(e),u=m.useRef(null),[d,f]=Si({prop:s,defaultProp:i??!1,onChange:a,caller:Hv});return o.jsx(uZ,{scope:e,triggerId:Wn(),triggerRef:u,contentId:Wn(),open:d,onOpenChange:f,onOpenToggle:m.useCallback(()=>f(p=>!p),[f]),modal:l,children:o.jsx(KX,{...c,open:d,onOpenChange:f,dir:r,modal:l,children:n})})};cM.displayName=Hv;var uM="DropdownMenuTrigger",dM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=lM(uM,n),a=Er(n);return o.jsx(YX,{asChild:!0,...a,children:o.jsx(ke.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:io(e,i.triggerRef),onPointerDown:xe(t.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:xe(t.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});dM.displayName=uM;var dZ="DropdownMenuPortal",hM=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Er(e);return o.jsx(QX,{...r,...n})};hM.displayName=dZ;var fM="DropdownMenuContent",mM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=lM(fM,n),i=Er(n),a=m.useRef(!1);return o.jsx(XX,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:xe(t.onCloseAutoFocus,l=>{var c;a.current||(c=s.triggerRef.current)==null||c.focus(),a.current=!1,l.preventDefault()}),onInteractOutside:xe(t.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(a.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});mM.displayName=fM;var hZ="DropdownMenuGroup",fZ=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Er(n);return o.jsx(ZX,{...s,...r,ref:e})});fZ.displayName=hZ;var mZ="DropdownMenuLabel",pM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Er(n);return o.jsx(JX,{...s,...r,ref:e})});pM.displayName=mZ;var pZ="DropdownMenuItem",gM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Er(n);return o.jsx(eZ,{...s,...r,ref:e})});gM.displayName=pZ;var gZ="DropdownMenuCheckboxItem",vM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Er(n);return o.jsx(tZ,{...s,...r,ref:e})});vM.displayName=gZ;var vZ="DropdownMenuRadioGroup",yZ=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Er(n);return o.jsx(nZ,{...s,...r,ref:e})});yZ.displayName=vZ;var xZ="DropdownMenuRadioItem",yM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Er(n);return o.jsx(rZ,{...s,...r,ref:e})});yM.displayName=xZ;var wZ="DropdownMenuItemIndicator",xM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Er(n);return o.jsx(sZ,{...s,...r,ref:e})});xM.displayName=wZ;var bZ="DropdownMenuSeparator",wM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Er(n);return o.jsx(iZ,{...s,...r,ref:e})});wM.displayName=bZ;var _Z="DropdownMenuArrow",EZ=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Er(n);return o.jsx(oZ,{...s,...r,ref:e})});EZ.displayName=_Z;var NZ="DropdownMenuSubTrigger",bM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Er(n);return o.jsx(aZ,{...s,...r,ref:e})});bM.displayName=NZ;var SZ="DropdownMenuSubContent",_M=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Er(n);return o.jsx(lZ,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});_M.displayName=SZ;var jZ=cM,CZ=dM,kZ=hM,EM=mM,NM=pM,SM=gM,jM=vM,CM=yM,kM=xM,TM=wM,IM=bM,RM=_M;const PM=jZ,AM=CZ,TZ=m.forwardRef(({className:t,inset:e,children:n,...r},s)=>o.jsxs(IM,{ref:s,className:_e("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",e&&"pl-8",t),...r,children:[n,o.jsx(gP,{className:"ml-auto h-4 w-4"})]}));TZ.displayName=IM.displayName;const IZ=m.forwardRef(({className:t,...e},n)=>o.jsx(RM,{ref:n,className:_e("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));IZ.displayName=RM.displayName;const O1=m.forwardRef(({className:t,sideOffset:e=4,...n},r)=>o.jsx(kZ,{children:o.jsx(EM,{ref:r,sideOffset:e,className:_e("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));O1.displayName=EM.displayName;const Zo=m.forwardRef(({className:t,inset:e,...n},r)=>o.jsx(SM,{ref:r,className:_e("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e&&"pl-8",t),...n}));Zo.displayName=SM.displayName;const RZ=m.forwardRef(({className:t,children:e,checked:n,...r},s)=>o.jsxs(jM,{ref:s,className:_e("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),checked:n,...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(kM,{children:o.jsx(tf,{className:"h-4 w-4"})})}),e]}));RZ.displayName=jM.displayName;const PZ=m.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(CM,{ref:r,className:_e("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(kM,{children:o.jsx(j9,{className:"h-2 w-2 fill-current"})})}),e]}));PZ.displayName=CM.displayName;const AZ=m.forwardRef(({className:t,inset:e,...n},r)=>o.jsx(NM,{ref:r,className:_e("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));AZ.displayName=NM.displayName;const DM=m.forwardRef(({className:t,...e},n)=>o.jsx(TM,{ref:n,className:_e("-mx-1 my-1 h-px bg-muted",t),...e}));DM.displayName=TM.displayName;function Nr(){const{setTheme:t}=AP();return o.jsxs(PM,{children:[o.jsx(AM,{asChild:!0,children:o.jsxs(ie,{variant:"outline",size:"icon",className:"border-border/50 hover:bg-muted",children:[o.jsx(B9,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),o.jsx(F9,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),o.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),o.jsxs(O1,{align:"end",children:[o.jsx(Zo,{onClick:()=>t("light"),children:"Light"}),o.jsx(Zo,{onClick:()=>t("dark"),children:"Dark"}),o.jsx(Zo,{onClick:()=>t("system"),children:"System"})]})]})}const qe=m.forwardRef(({className:t,type:e,...n},r)=>o.jsx("input",{type:e,className:_e("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));qe.displayName="Input";const OM=()=>{const[t,e]=m.useState(""),[n,r]=m.useState(!1),s=a=>{a.preventDefault(),t&&(r(!0),e(""),setTimeout(()=>r(!1),3e3))},i=()=>{window.scrollTo({top:0,behavior:"smooth"})};return o.jsxs("footer",{className:"bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 opacity-5",children:o.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),o.jsxs("div",{className:"relative z-10",children:[o.jsx("div",{className:"container mx-auto px-6 py-16",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 lg:gap-12",children:[o.jsxs("div",{className:"lg:col-span-1",children:[o.jsx("div",{className:"mb-6",children:o.jsx(Xs,{size:"lg",showText:!0})}),o.jsx("p",{className:"text-slate-300 mb-6 leading-relaxed",children:"Your gateway to amazing stays. Discover unique accommodations, connect with hosts, and create unforgettable travel experiences."}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center space-x-3 text-slate-300",children:[o.jsx(Bs,{className:"w-4 h-4 text-orange-400"}),o.jsx("span",{className:"text-sm",children:"hello@mojodojocasahouse.com"})]}),o.jsxs("div",{className:"flex items-center space-x-3 text-slate-300",children:[o.jsx(V9,{className:"w-4 h-4 text-blue-400"}),o.jsx("span",{className:"text-sm",children:"+1 (555) 123-4567"})]}),o.jsxs("div",{className:"flex items-center space-x-3 text-slate-300",children:[o.jsx(s_,{className:"w-4 h-4 text-green-400"}),o.jsx("span",{className:"text-sm",children:"San Francisco, CA"})]})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-semibold mb-6 text-white",children:"Quick Links"}),o.jsxs("ul",{className:"space-y-3",children:[o.jsx("li",{children:o.jsx(An,{to:"/guest/browse",className:"text-slate-300 hover:text-blue-400 transition-colors flex items-center group",children:o.jsx("span",{className:"group-hover:translate-x-1 transition-transform",children:"Browse Listings"})})}),o.jsx("li",{children:o.jsx(An,{to:"/host/login",className:"text-slate-300 hover:text-blue-400 transition-colors flex items-center group",children:o.jsx("span",{className:"group-hover:translate-x-1 transition-transform",children:"Become a Host"})})}),o.jsx("li",{children:o.jsx(An,{to:"/guest/dashboard",className:"text-slate-300 hover:text-blue-400 transition-colors flex items-center group",children:o.jsx("span",{className:"group-hover:translate-x-1 transition-transform",children:"Guest Dashboard"})})}),o.jsx("li",{children:o.jsx(An,{to:"/host/dashboard",className:"text-slate-300 hover:text-blue-400 transition-colors flex items-center group",children:o.jsx("span",{className:"group-hover:translate-x-1 transition-transform",children:"Host Dashboard"})})}),o.jsx("li",{children:o.jsx(An,{to:"/guest/wallet",className:"text-slate-300 hover:text-blue-400 transition-colors flex items-center group",children:o.jsx("span",{className:"group-hover:translate-x-1 transition-transform",children:"Wallet"})})})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-semibold mb-6 text-white",children:"Support"}),o.jsxs("ul",{className:"space-y-3",children:[o.jsx("li",{children:o.jsxs("a",{href:"mailto:hello@mojodojocasahouse.com",className:"text-slate-300 hover:text-blue-400 transition-colors flex items-center group",children:[o.jsx(S9,{className:"w-4 h-4 mr-2"}),o.jsx("span",{className:"group-hover:translate-x-1 transition-transform",children:"Help Center"})]})}),o.jsx("li",{children:o.jsxs("a",{href:"mailto:hello@mojodojocasahouse.com",className:"text-slate-300 hover:text-blue-400 transition-colors flex items-center group",children:[o.jsx(Bs,{className:"w-4 h-4 mr-2"}),o.jsx("span",{className:"group-hover:translate-x-1 transition-transform",children:"Contact Us"})]})}),o.jsx("li",{children:o.jsxs("a",{href:"mailto:hello@mojodojocasahouse.com",className:"text-slate-300 hover:text-blue-400 transition-colors flex items-center group",children:[o.jsx(ys,{className:"w-4 h-4 mr-2"}),o.jsx("span",{className:"group-hover:translate-x-1 transition-transform",children:"Safety"})]})}),o.jsx("li",{children:o.jsxs("a",{href:"mailto:hello@mojodojocasahouse.com",className:"text-slate-300 hover:text-blue-400 transition-colors flex items-center group",children:[o.jsx(Rl,{className:"w-4 h-4 mr-2"}),o.jsx("span",{className:"group-hover:translate-x-1 transition-transform",children:"Accessibility"})]})}),o.jsx("li",{children:o.jsxs("a",{href:"mailto:hello@mojodojocasahouse.com",className:"text-slate-300 hover:text-blue-400 transition-colors flex items-center group",children:[o.jsx(P9,{className:"w-4 h-4 mr-2"}),o.jsx("span",{className:"group-hover:translate-x-1 transition-transform",children:"System Status"})]})})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-semibold mb-6 text-white",children:"Stay Connected"}),o.jsxs("div",{className:"mb-6",children:[o.jsx("p",{className:"text-slate-300 text-sm mb-4",children:"Get the latest updates and exclusive offers"}),o.jsxs("form",{onSubmit:s,className:"space-y-3",children:[o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(qe,{type:"email",placeholder:"Enter your email",value:t,onChange:a=>e(a.target.value),className:"bg-slate-700 border-slate-600 text-white placeholder:text-slate-400 focus:border-blue-400",required:!0}),o.jsx(ie,{type:"submit",className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 px-6",children:"Subscribe"})]}),n&&o.jsxs("p",{className:"text-green-400 text-sm flex items-center",children:[o.jsx(pP,{className:"w-4 h-4 mr-1"}),"Thanks for subscribing!"]})]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-slate-300 text-sm mb-4",children:"Follow us"}),o.jsxs("div",{className:"flex space-x-4",children:[o.jsx("a",{href:"#",className:"w-10 h-10 bg-slate-700 hover:bg-blue-600 rounded-lg flex items-center justify-center transition-colors group","aria-label":"Facebook",children:o.jsx(yP,{className:"w-5 h-5 group-hover:scale-110 transition-transform"})}),o.jsx("a",{href:"#",className:"w-10 h-10 bg-slate-700 hover:bg-blue-400 rounded-lg flex items-center justify-center transition-colors group","aria-label":"Twitter",children:o.jsx(bP,{className:"w-5 h-5 group-hover:scale-110 transition-transform"})}),o.jsx("a",{href:"#",className:"w-10 h-10 bg-slate-700 hover:bg-pink-600 rounded-lg flex items-center justify-center transition-colors group","aria-label":"Instagram",children:o.jsx(A9,{className:"w-5 h-5 group-hover:scale-110 transition-transform"})}),o.jsx("a",{href:"#",className:"w-10 h-10 bg-slate-700 hover:bg-blue-700 rounded-lg flex items-center justify-center transition-colors group","aria-label":"LinkedIn",children:o.jsx(O9,{className:"w-5 h-5 group-hover:scale-110 transition-transform"})})]})]})]})]})}),o.jsx("div",{className:"border-t border-slate-700",children:o.jsxs("div",{className:"container mx-auto px-6 py-8",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[o.jsxs("div",{className:"flex flex-col md:flex-row items-center space-y-2 md:space-y-0 md:space-x-6",children:[o.jsx("p",{className:"text-slate-400 text-sm",children:" 2024 Mojo Dojo Casa House. All rights reserved."}),o.jsxs("div",{className:"flex space-x-6",children:[o.jsxs("a",{href:"mailto:hello@mojodojocasahouse.com",className:"text-slate-400 hover:text-blue-400 text-sm transition-colors flex items-center",children:[o.jsx(la,{className:"w-3 h-3 mr-1"}),"Privacy Policy"]}),o.jsxs("a",{href:"mailto:hello@mojodojocasahouse.com",className:"text-slate-400 hover:text-blue-400 text-sm transition-colors flex items-center",children:[o.jsx(rf,{className:"w-3 h-3 mr-1"}),"Terms of Service"]})]})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(Nr,{}),o.jsxs(ie,{onClick:i,variant:"ghost",size:"sm",className:"text-slate-400 hover:text-white hover:bg-slate-700",children:[o.jsx(vP,{className:"w-4 h-4 mr-1"}),"Back to Top"]})]})]}),o.jsx("div",{className:"mt-6 pt-6 border-t border-slate-700 text-center",children:o.jsxs("p",{className:"text-slate-500 text-sm flex items-center justify-center",children:["Made with ",o.jsx(_a,{className:"w-4 h-4 mx-1 text-red-500"})," by the Mojo Dojo Casa House team"]})})]})})]})]})},DZ="/assets/hero-home-wHaVTWVM.jpg",MM="/assets/category-home-CguXhPF1.png",LM="/assets/category-experience-QjyKEEwQ.png",FM="/assets/category-service-CPpHHXfQ.png",OZ="/videos/landing-hero.mp4",MZ=()=>o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"absolute top-0 left-0 right-0 z-50 bg-black/20 backdrop-blur-md border-b border-white/10",children:o.jsxs("div",{className:"container mx-auto px-6 py-4 flex justify-between items-center",children:[o.jsx(Xs,{size:"md"}),o.jsx(Nr,{})]})}),o.jsxs("section",{className:"relative min-h-screen overflow-hidden",children:[o.jsx(Rf,{src:OZ,overlay:!0,fallbackImage:DZ}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-black/60 via-black/40 to-black/60 z-10"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent z-10"}),o.jsxs("div",{className:"absolute inset-0 overflow-hidden z-10",children:[o.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-primary/10 rounded-full blur-3xl animate-pulse"}),o.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-secondary/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}})]}),o.jsx("div",{className:"relative z-20 container mx-auto px-4 sm:px-6 lg:px-8 h-full flex flex-col justify-center animate-fadeInUp py-32",children:o.jsxs("div",{className:"max-w-3xl",children:[o.jsxs("h1",{className:"text-5xl md:text-6xl lg:text-7xl font-bold mb-6 leading-tight text-white drop-shadow-2xl",children:["Welcome to"," ",o.jsx("span",{className:"bg-gradient-to-r from-orange-400 via-blue-400 to-green-400 bg-clip-text text-transparent drop-shadow-lg",children:"Mojo Dojo Casa House"})]}),o.jsx("p",{className:"text-xl md:text-2xl text-white/95 mb-10 leading-relaxed max-w-2xl drop-shadow-lg font-medium",children:"Your gateway to amazing stays. Connect with hosts and guests for unique experiences"}),o.jsxs("div",{className:"flex flex-wrap gap-4",children:[o.jsx(ie,{size:"lg",asChild:!0,className:"shadow-2xl hover:shadow-2xl hover:scale-105 transition-all h-14 px-8 text-lg bg-primary hover:bg-primary/90",children:o.jsx(An,{to:"/guest/login",children:"Browse Listings"})}),o.jsx(ie,{size:"lg",variant:"outline",asChild:!0,className:"h-14 px-8 text-lg border-2 border-white/30 bg-white/10 backdrop-blur-md hover:bg-white/20 text-white hover:text-white",children:o.jsx(An,{to:"/host/policies",children:"Become a Host"})})]})]})}),o.jsx("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 z-20 animate-bounce",children:o.jsx(n_,{className:"h-6 w-6 text-white drop-shadow-lg"})})]}),o.jsx("section",{className:"py-16 md:py-20 bg-muted/30",children:o.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Explore Categories"}),o.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Discover the perfect experience for your needs"})]}),o.jsxs("div",{className:"grid md:grid-cols-3 gap-8 max-w-6xl mx-auto",children:[o.jsx(An,{to:"/guest/browse?category=home",className:"group block",children:o.jsxs(se,{className:"p-8 text-center shadow-medium hover:shadow-hover transition-all duration-300 border-2 border-transparent hover:border-primary/50 bg-card h-full",children:[o.jsxs("div",{className:"mb-6 relative",children:[o.jsx("div",{className:"w-32 h-32 mx-auto mb-4 rounded-2xl overflow-hidden bg-primary/5 flex items-center justify-center group-hover:scale-105 transition-transform",children:o.jsx("img",{src:MM,alt:"Home",className:"w-24 h-24 object-contain"})}),o.jsx("div",{className:"w-14 h-14 mx-auto rounded-full bg-primary/10 flex items-center justify-center group-hover:bg-primary/20 transition-colors",children:o.jsx(kl,{className:"w-7 h-7 text-primary"})})]}),o.jsx("h3",{className:"text-2xl font-bold mb-3 group-hover:text-primary transition-colors",children:"Homes"}),o.jsx("p",{className:"text-muted-foreground text-base leading-relaxed",children:"Discover comfortable stays for your next adventure"})]})}),o.jsx(An,{to:"/guest/browse?category=experience",className:"group block",children:o.jsxs(se,{className:"p-8 text-center shadow-medium hover:shadow-hover transition-all duration-300 border-2 border-transparent hover:border-secondary/50 bg-card h-full",children:[o.jsxs("div",{className:"mb-6 relative",children:[o.jsx("div",{className:"w-32 h-32 mx-auto mb-4 rounded-2xl overflow-hidden bg-secondary/5 flex items-center justify-center group-hover:scale-105 transition-transform",children:o.jsx("img",{src:LM,alt:"Experience",className:"w-24 h-24 object-contain"})}),o.jsx("div",{className:"w-14 h-14 mx-auto rounded-full bg-secondary/10 flex items-center justify-center group-hover:bg-secondary/20 transition-colors",children:o.jsx(C9,{className:"w-7 h-7 text-secondary"})})]}),o.jsx("h3",{className:"text-2xl font-bold mb-3 group-hover:text-secondary transition-colors",children:"Experiences"}),o.jsx("p",{className:"text-muted-foreground text-base leading-relaxed",children:"Unique activities hosted by local experts"})]})}),o.jsx(An,{to:"/guest/browse?category=service",className:"group block",children:o.jsxs(se,{className:"p-8 text-center shadow-medium hover:shadow-hover transition-all duration-300 border-2 border-transparent hover:border-accent/50 bg-card h-full",children:[o.jsxs("div",{className:"mb-6 relative",children:[o.jsx("div",{className:"w-32 h-32 mx-auto mb-4 rounded-2xl overflow-hidden bg-accent/5 flex items-center justify-center group-hover:scale-105 transition-transform",children:o.jsx("img",{src:FM,alt:"Service",className:"w-24 h-24 object-contain"})}),o.jsx("div",{className:"w-14 h-14 mx-auto rounded-full bg-accent/10 flex items-center justify-center group-hover:bg-accent/20 transition-colors",children:o.jsx(z9,{className:"w-7 h-7 text-accent"})})]}),o.jsx("h3",{className:"text-2xl font-bold mb-3 group-hover:text-accent transition-colors",children:"Services"}),o.jsx("p",{className:"text-muted-foreground text-base leading-relaxed",children:"Professional services for your property"})]})})]})]})}),o.jsx("section",{className:"py-20 bg-background",children:o.jsxs("div",{className:"container mx-auto px-6",children:[o.jsx("h2",{className:"text-3xl font-bold text-center mb-4",children:"Get Started"}),o.jsx("p",{className:"text-center text-muted-foreground mb-12 max-w-2xl mx-auto",children:"Choose your role to access your personalized portal"}),o.jsxs("div",{className:"grid md:grid-cols-3 gap-8 max-w-6xl mx-auto",children:[o.jsxs(se,{className:"group relative overflow-hidden border-2 hover:border-primary transition-all duration-300",children:[o.jsxs("div",{className:"p-8 text-center",children:[o.jsx("div",{className:"mb-6 mx-auto w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center group-hover:scale-110 transition-transform",children:o.jsx(Rl,{className:"w-8 h-8 text-primary"})}),o.jsx("h3",{className:"text-2xl font-bold mb-3",children:"For Guests"}),o.jsx("p",{className:"text-muted-foreground mb-6 min-h-[48px]",children:"Find and book amazing places to stay and experiences to enjoy"}),o.jsx(ie,{asChild:!0,className:"w-full shadow-soft hover:shadow-medium transition-all",children:o.jsx(An,{to:"/guest/login",children:"Guest Portal"})})]}),o.jsx("div",{className:"absolute inset-x-0 bottom-0 h-1 bg-gradient-hero transform scale-x-0 group-hover:scale-x-100 transition-transform"})]}),o.jsxs(se,{className:"group relative overflow-hidden border-2 hover:border-secondary transition-all duration-300",children:[o.jsxs("div",{className:"p-8 text-center",children:[o.jsx("div",{className:"mb-6 mx-auto w-16 h-16 rounded-full bg-secondary/10 flex items-center justify-center group-hover:scale-110 transition-transform",children:o.jsx(Fw,{className:"w-8 h-8 text-secondary"})}),o.jsx("h3",{className:"text-2xl font-bold mb-3",children:"For Hosts"}),o.jsx("p",{className:"text-muted-foreground mb-6 min-h-[48px]",children:"Share your space and earn by hosting guests from around the world"}),o.jsx(ie,{asChild:!0,className:"w-full shadow-soft hover:shadow-medium transition-all",variant:"secondary",children:o.jsx(An,{to:"/host/login",children:"Host Portal"})})]}),o.jsx("div",{className:"absolute inset-x-0 bottom-0 h-1 bg-secondary transform scale-x-0 group-hover:scale-x-100 transition-transform"})]}),o.jsxs(se,{className:"group relative overflow-hidden border-2 hover:border-accent transition-all duration-300",children:[o.jsxs("div",{className:"p-8 text-center",children:[o.jsx("div",{className:"mb-6 mx-auto w-16 h-16 rounded-full bg-accent/10 flex items-center justify-center group-hover:scale-110 transition-transform",children:o.jsx(ys,{className:"w-8 h-8 text-accent"})}),o.jsx("h3",{className:"text-2xl font-bold mb-3",children:"Admin"}),o.jsx("p",{className:"text-muted-foreground mb-6 min-h-[48px]",children:"Manage platform operations, policies, and user activities"}),o.jsx(ie,{asChild:!0,className:"w-full shadow-soft hover:shadow-medium transition-all",variant:"outline",children:o.jsx(An,{to:"/admin/login",children:"Admin Portal"})})]}),o.jsx("div",{className:"absolute inset-x-0 bottom-0 h-1 bg-gradient-accent transform scale-x-0 group-hover:scale-x-100 transition-transform"})]})]})]})}),o.jsx(OM,{})]});var LZ="Label",VM=m.forwardRef((t,e)=>o.jsx(ke.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));VM.displayName=LZ;var UM=VM;const FZ=tv("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Le=m.forwardRef(({className:t,...e},n)=>o.jsx(UM,{ref:n,className:_e(FZ(),t),...e}));Le.displayName=UM.displayName;var qv="Tabs",[VZ,Joe]=Kn(qv,[Uv]),$M=Uv(),[UZ,M1]=VZ(qv),BM=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:a="horizontal",dir:l,activationMode:c="automatic",...u}=t,d=Pf(l),[f,p]=Si({prop:r,onChange:s,defaultProp:i??"",caller:qv});return o.jsx(UZ,{scope:n,baseId:Wn(),value:f,onValueChange:p,orientation:a,dir:d,activationMode:c,children:o.jsx(ke.div,{dir:d,"data-orientation":a,...u,ref:e})})});BM.displayName=qv;var zM="TabsList",WM=m.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=M1(zM,n),a=$M(n);return o.jsx(TO,{asChild:!0,...a,orientation:i.orientation,dir:i.dir,loop:r,children:o.jsx(ke.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});WM.displayName=zM;var HM="TabsTrigger",qM=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,a=M1(HM,n),l=$M(n),c=YM(a.baseId,r),u=QM(a.baseId,r),d=r===a.value;return o.jsx(IO,{asChild:!0,...l,focusable:!s,active:d,children:o.jsx(ke.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:e,onMouseDown:xe(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?a.onValueChange(r):f.preventDefault()}),onKeyDown:xe(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(r)}),onFocus:xe(t.onFocus,()=>{const f=a.activationMode!=="manual";!d&&!s&&f&&a.onValueChange(r)})})})});qM.displayName=HM;var GM="TabsContent",KM=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...a}=t,l=M1(GM,n),c=YM(l.baseId,r),u=QM(l.baseId,r),d=r===l.value,f=m.useRef(d);return m.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),o.jsx(Ln,{present:s||d,children:({present:p})=>o.jsx(ke.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:u,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:p&&i})})});KM.displayName=GM;function YM(t,e){return`${t}-trigger-${e}`}function QM(t,e){return`${t}-content-${e}`}var $Z=BM,XM=WM,ZM=qM,JM=KM;const ic=$Z,Wa=m.forwardRef(({className:t,...e},n)=>o.jsx(XM,{ref:n,className:_e("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Wa.displayName=XM.displayName;const It=m.forwardRef(({className:t,...e},n)=>o.jsx(ZM,{ref:n,className:_e("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...e}));It.displayName=ZM.displayName;const jt=m.forwardRef(({className:t,...e},n)=>o.jsx(JM,{ref:n,className:_e("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));jt.displayName=JM.displayName;const BZ="/videos/host-login-bg.mp4",zZ=()=>{var P;const[t,e]=m.useState(""),[n,r]=m.useState(""),[s,i]=m.useState(""),[a,l]=m.useState(""),[c,u]=m.useState(!1),[d,f]=m.useState(!1),[p,g]=m.useState(!1),{signIn:b,signUp:y}=Dt(),w=pt(),x=((P=Ua().state)==null?void 0:P.showSignup)===!0,v=async D=>{D.preventDefault(),g(!0);try{await b(t,n,"host"),H.success("Welcome back!"),w("/host/dashboard")}catch(S){H.error(S.message||"Failed to sign in")}finally{g(!1)}},j=async D=>{if(D.preventDefault(),g(!0),!sessionStorage.getItem("hostPolicyAccepted")){H.error("Please accept the policies and compliance terms first."),w("/host/policies"),g(!1);return}if(n!==s){H.error("Passwords do not match"),g(!1);return}try{const N=sessionStorage.getItem("hostPolicyAcceptedDate");await y(t,n,a,"host",{policyAccepted:!0,policyAcceptedDate:N||new Date().toISOString()}),sessionStorage.removeItem("hostPolicyAccepted"),sessionStorage.removeItem("hostPolicyAcceptedDate"),H.success("Account created! Please check your email to verify your account."),w("/verification-pending")}catch(N){H.error(N.message||"Failed to create account")}finally{g(!1)}};return o.jsxs("div",{className:"min-h-screen bg-background flex flex-col relative",children:[o.jsx(Rf,{src:BZ,overlay:!0,className:"z-0"}),o.jsx("header",{className:"relative z-10 border-b bg-card/95 backdrop-blur supports-[backdrop-filter]:bg-card/60",children:o.jsxs("div",{className:"container mx-auto px-6 py-4 flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(ie,{variant:"ghost",onClick:()=>w("/"),children:[o.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Back to Home"]}),o.jsx(Xs,{size:"sm"})]}),o.jsx(Nr,{})]})}),o.jsx("div",{className:"relative z-10 flex-1 flex items-center justify-center p-6",children:o.jsxs(se,{className:"w-full max-w-md shadow-2xl border-border/50 bg-card/95 backdrop-blur-md",children:[o.jsxs(me,{className:"space-y-4 text-center pb-8",children:[o.jsx("div",{className:"w-16 h-16 mx-auto rounded-2xl bg-secondary/10 flex items-center justify-center",children:o.jsx(Fw,{className:"w-8 h-8 text-secondary"})}),o.jsxs("div",{children:[o.jsx(pe,{className:"text-3xl font-bold",children:"Host Portal"}),o.jsx(Be,{className:"text-base mt-2",children:"Start hosting and earning today"})]})]}),o.jsxs(be,{children:[o.jsxs(ic,{defaultValue:x?"signup":"signin",className:"w-full",children:[o.jsxs(Wa,{className:"grid w-full grid-cols-2 mb-8",children:[o.jsx(It,{value:"signin",className:"text-base",children:"Sign In"}),o.jsx(It,{value:"signup",className:"text-base",children:"Sign Up"})]}),o.jsx(jt,{value:"signin",children:o.jsxs("form",{onSubmit:v,className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{htmlFor:"signin-email",className:"text-base",children:"Email"}),o.jsxs("div",{className:"relative",children:[o.jsx(Bs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),o.jsx(qe,{id:"signin-email",type:"email",placeholder:"host@example.com",value:t,onChange:D=>e(D.target.value),required:!0,className:"pl-10 h-12"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{htmlFor:"signin-password",className:"text-base",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(la,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),o.jsx(qe,{id:"signin-password",type:c?"text":"password",placeholder:"",value:n,onChange:D=>r(D.target.value),required:!0,className:"pl-10 pr-10 h-12"}),o.jsx("button",{type:"button",onClick:()=>u(!c),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:c?o.jsx(bl,{className:"h-5 w-5"}):o.jsx(_l,{className:"h-5 w-5"})})]})]}),o.jsx(ie,{type:"submit",className:"w-full h-12 text-base",disabled:p,variant:"secondary",children:p?"Signing in...":"Sign In"})]})}),o.jsxs(jt,{value:"signup",children:[o.jsxs("div",{className:"mb-6 p-4 bg-primary/10 border border-primary/20 rounded-lg",children:[o.jsxs("p",{className:"text-sm text-foreground",children:[o.jsx("strong",{children:"Important:"})," Before creating your host account, you must read and accept our policies and compliance terms."]}),o.jsx(ie,{type:"button",variant:"outline",className:"mt-3 w-full",onClick:()=>w("/host/policies"),children:"Review Policies & Terms"})]}),o.jsxs("form",{onSubmit:j,className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{htmlFor:"signup-fullname",className:"text-base",children:"Full Name"}),o.jsxs("div",{className:"relative",children:[o.jsx(Fw,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),o.jsx(qe,{id:"signup-fullname",type:"text",placeholder:"Jane Smith",value:a,onChange:D=>l(D.target.value),required:!0,className:"pl-10 h-12"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{htmlFor:"signup-email",className:"text-base",children:"Email"}),o.jsxs("div",{className:"relative",children:[o.jsx(Bs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),o.jsx(qe,{id:"signup-email",type:"email",placeholder:"host@example.com",value:t,onChange:D=>e(D.target.value),required:!0,className:"pl-10 h-12"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{htmlFor:"signup-password",className:"text-base",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(la,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),o.jsx(qe,{id:"signup-password",type:c?"text":"password",placeholder:"",value:n,onChange:D=>r(D.target.value),required:!0,minLength:6,className:"pl-10 pr-10 h-12"}),o.jsx("button",{type:"button",onClick:()=>u(!c),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:c?o.jsx(bl,{className:"h-5 w-5"}):o.jsx(_l,{className:"h-5 w-5"})})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Minimum 6 characters"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{htmlFor:"signup-confirm-password",className:"text-base",children:"Confirm Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(la,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),o.jsx(qe,{id:"signup-confirm-password",type:d?"text":"password",placeholder:"",value:s,onChange:D=>i(D.target.value),required:!0,minLength:6,className:"pl-10 pr-10 h-12"}),o.jsx("button",{type:"button",onClick:()=>f(!d),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:d?o.jsx(bl,{className:"h-5 w-5"}):o.jsx(_l,{className:"h-5 w-5"})})]}),n&&s&&n!==s&&o.jsx("p",{className:"text-xs text-red-500",children:"Passwords do not match"})]}),o.jsx(ie,{type:"submit",className:"w-full h-12 text-base",disabled:p,variant:"secondary",children:p?"Creating account...":"Create Account"})]})]})]}),o.jsx("div",{className:"mt-8 text-center text-sm text-muted-foreground",children:o.jsxs("p",{children:["Not a host? ",o.jsx(An,{to:"/guest/login",className:"text-primary hover:underline font-medium",children:"Browse as Guest"})]})})]})]})})]})};function L1(t){const e=m.useRef({value:t,previous:t});return m.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Gv="Checkbox",[WZ,eae]=Kn(Gv),[HZ,F1]=WZ(Gv);function qZ(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:s,disabled:i,form:a,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=t,[p,g]=Si({prop:n,defaultProp:s??!1,onChange:c,caller:Gv}),[b,y]=m.useState(null),[w,_]=m.useState(null),x=m.useRef(!1),v=b?!!a||!!b.closest("form"):!0,j={checked:p,disabled:i,setChecked:g,control:b,setControl:y,name:l,form:a,value:d,hasConsumerStoppedPropagationRef:x,required:u,defaultChecked:ga(s)?!1:s,isFormControl:v,bubbleInput:w,setBubbleInput:_};return o.jsx(HZ,{scope:e,...j,children:GZ(f)?f(j):r})}var e4="CheckboxTrigger",t4=m.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},s)=>{const{control:i,value:a,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:p,isFormControl:g,bubbleInput:b}=F1(e4,t),y=Ze(s,d),w=m.useRef(c);return m.useEffect(()=>{const _=i==null?void 0:i.form;if(_){const x=()=>f(w.current);return _.addEventListener("reset",x),()=>_.removeEventListener("reset",x)}},[i,f]),o.jsx(ke.button,{type:"button",role:"checkbox","aria-checked":ga(c)?"mixed":c,"aria-required":u,"data-state":o4(c),"data-disabled":l?"":void 0,disabled:l,value:a,...r,ref:y,onKeyDown:xe(e,_=>{_.key==="Enter"&&_.preventDefault()}),onClick:xe(n,_=>{f(x=>ga(x)?!0:!x),b&&g&&(p.current=_.isPropagationStopped(),p.current||_.stopPropagation())})})});t4.displayName=e4;var V1=m.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:a,disabled:l,value:c,onCheckedChange:u,form:d,...f}=t;return o.jsx(qZ,{__scopeCheckbox:n,checked:s,defaultChecked:i,disabled:l,required:a,onCheckedChange:u,name:r,form:d,value:c,internal_do_not_use_render:({isFormControl:p})=>o.jsxs(o.Fragment,{children:[o.jsx(t4,{...f,ref:e,__scopeCheckbox:n}),p&&o.jsx(i4,{__scopeCheckbox:n})]})})});V1.displayName=Gv;var n4="CheckboxIndicator",r4=m.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...s}=t,i=F1(n4,n);return o.jsx(Ln,{present:r||ga(i.checked)||i.checked===!0,children:o.jsx(ke.span,{"data-state":o4(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});r4.displayName=n4;var s4="CheckboxBubbleInput",i4=m.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:a,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:p,setBubbleInput:g}=F1(s4,t),b=Ze(n,g),y=L1(i),w=x_(r);m.useEffect(()=>{const x=p;if(!x)return;const v=window.HTMLInputElement.prototype,P=Object.getOwnPropertyDescriptor(v,"checked").set,D=!s.current;if(y!==i&&P){const S=new Event("click",{bubbles:D});x.indeterminate=ga(i),P.call(x,ga(i)?!1:i),x.dispatchEvent(S)}},[p,y,i,s]);const _=m.useRef(ga(i)?!1:i);return o.jsx(ke.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??_.current,required:l,disabled:c,name:u,value:d,form:f,...e,tabIndex:-1,ref:b,style:{...e.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});i4.displayName=s4;function GZ(t){return typeof t=="function"}function ga(t){return t==="indeterminate"}function o4(t){return ga(t)?"indeterminate":t?"checked":"unchecked"}const up=m.forwardRef(({className:t,...e},n)=>o.jsx(V1,{ref:n,className:_e("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:o.jsx(r4,{className:_e("flex items-center justify-center text-current"),children:o.jsx(tf,{className:"h-4 w-4"})})}));up.displayName=V1.displayName;const KZ="/videos/host-login-bg.mp4",YZ=()=>{const t=pt(),[e,n]=m.useState(!1),[r,s]=m.useState(!1),[i,a]=m.useState(!1),[l,c]=m.useState(!1),u=`CANCELLATION POLICY

1. Free Cancellation: 
   - Full refund if cancelled 48+ hours before check-in
   - 50% refund if cancelled 24-48 hours before check-in
   - No refund if cancelled less than 24 hours before check-in

2. Host Cancellation:
   - Hosts may cancel up to 7 days before check-in without penalty
   - Last-minute host cancellations result in automatic full refund to guest
   - Repeated cancellations may result in account suspension`,d=`TERMS OF SERVICE

1. User Responsibilities:
   - Users must be 18+ years old
   - Accurate information must be provided
   - Properties must match their descriptions
   - Respect other users and properties

2. Platform Usage:
   - No illegal activities
   - No discrimination
   - Respect booking agreements
   - Pay all applicable fees

3. Liability:
   - Platform acts as intermediary only
   - Users responsible for their own safety
   - Insurance recommended for all parties

4. Host Obligations:
   - Maintain accurate property listings
   - Honor confirmed bookings
   - Provide safe and clean accommodations
   - Respond to guest inquiries promptly`,f=`HOUSE RULES & REGULATIONS

1. Guest Conduct:
   - Respect noise limitations
   - No smoking unless explicitly allowed
   - Maximum guest count must be respected
   - No parties without host permission

2. Property Care:
   - Report any damages immediately
   - Keep property clean and tidy
   - Dispose of trash properly
   - Follow check-out procedures

3. Security:
   - Lock all doors and windows
   - Don't share access codes
   - Report suspicious activity

4. Host Responsibilities:
   - Ensure property meets safety standards
   - Maintain accurate availability calendar
   - Provide clear check-in instructions
   - Address guest concerns promptly`,p=()=>{n(!0),s(!0),a(!0),c(!0)},g=()=>{e&&r&&i?(sessionStorage.setItem("hostPolicyAccepted","true"),sessionStorage.setItem("hostPolicyAcceptedDate",new Date().toISOString()),t("/host/login",{state:{showSignup:!0}})):alert("Please accept all policies and terms to continue.")};return o.jsxs("div",{className:"min-h-screen bg-background flex flex-col relative",children:[o.jsx(Rf,{src:KZ,overlay:!0,className:"z-0"}),o.jsx("header",{className:"relative z-10 border-b bg-card/95 backdrop-blur supports-[backdrop-filter]:bg-card/60",children:o.jsxs("div",{className:"container mx-auto px-6 py-4 flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(ie,{variant:"ghost",onClick:()=>t("/"),children:[o.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Back to Home"]}),o.jsx(Xs,{size:"sm"})]}),o.jsx(Nr,{})]})}),o.jsx("div",{className:"relative z-10 flex-1 flex items-center justify-center p-6",children:o.jsxs(se,{className:"w-full max-w-4xl shadow-2xl border-border/50 bg-card/95 backdrop-blur-md max-h-[90vh] overflow-hidden flex flex-col",children:[o.jsxs(me,{className:"space-y-4 text-center pb-6 border-b",children:[o.jsx("div",{className:"w-16 h-16 mx-auto rounded-2xl bg-primary/10 flex items-center justify-center",children:o.jsx(ys,{className:"w-8 h-8 text-primary"})}),o.jsxs("div",{children:[o.jsx(pe,{className:"text-3xl font-bold",children:"Host Policies & Compliance"}),o.jsx(Be,{className:"text-base mt-2",children:"Please read and accept all policies before creating your host account"})]})]}),o.jsxs(be,{className:"flex-1 overflow-y-auto py-6 max-h-[60vh]",children:[o.jsxs(ic,{defaultValue:"cancellation",className:"w-full",children:[o.jsxs(Wa,{className:"grid w-full grid-cols-3 mb-6",children:[o.jsxs(It,{value:"cancellation",className:"text-sm",children:[o.jsx(a_,{className:"h-4 w-4 mr-2"}),"Cancellation"]}),o.jsxs(It,{value:"terms",className:"text-sm",children:[o.jsx(rf,{className:"h-4 w-4 mr-2"}),"Terms of Service"]}),o.jsxs(It,{value:"rules",className:"text-sm",children:[o.jsx(ys,{className:"h-4 w-4 mr-2"}),"House Rules"]})]}),o.jsxs(jt,{value:"cancellation",className:"space-y-4",children:[o.jsx("div",{className:"bg-muted/50 rounded-lg p-4 border",children:o.jsx("pre",{className:"whitespace-pre-wrap text-sm font-sans text-foreground leading-relaxed",children:u})}),o.jsxs("div",{className:"flex items-center space-x-2 p-4 bg-muted/30 rounded-lg border",children:[o.jsx(up,{id:"accept-cancellation",checked:e,onCheckedChange:b=>n(b===!0)}),o.jsx(Le,{htmlFor:"accept-cancellation",className:"text-sm font-medium cursor-pointer flex-1",children:"I have read and agree to the Cancellation Policy"})]})]}),o.jsxs(jt,{value:"terms",className:"space-y-4",children:[o.jsx("div",{className:"bg-muted/50 rounded-lg p-4 border",children:o.jsx("pre",{className:"whitespace-pre-wrap text-sm font-sans text-foreground leading-relaxed",children:d})}),o.jsxs("div",{className:"flex items-center space-x-2 p-4 bg-muted/30 rounded-lg border",children:[o.jsx(up,{id:"accept-terms",checked:r,onCheckedChange:b=>s(b===!0)}),o.jsx(Le,{htmlFor:"accept-terms",className:"text-sm font-medium cursor-pointer flex-1",children:"I have read and agree to the Terms of Service"})]})]}),o.jsxs(jt,{value:"rules",className:"space-y-4",children:[o.jsx("div",{className:"bg-muted/50 rounded-lg p-4 border",children:o.jsx("pre",{className:"whitespace-pre-wrap text-sm font-sans text-foreground leading-relaxed",children:f})}),o.jsxs("div",{className:"flex items-center space-x-2 p-4 bg-muted/30 rounded-lg border",children:[o.jsx(up,{id:"accept-rules",checked:i,onCheckedChange:b=>a(b===!0)}),o.jsx(Le,{htmlFor:"accept-rules",className:"text-sm font-medium cursor-pointer flex-1",children:"I have read and agree to the House Rules & Regulations"})]})]})]}),o.jsx("div",{className:"mt-6 pt-6 border-t",children:o.jsxs(ie,{onClick:p,variant:"outline",className:"w-full mb-4",disabled:l,children:[o.jsx(Vw,{className:"h-4 w-4 mr-2"}),l?"All Policies Accepted":"Accept All Policies"]})})]}),o.jsx("div",{className:"border-t p-6 bg-muted/30",children:o.jsxs("div",{className:"flex items-center justify-between gap-4",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:e&&r&&i?o.jsxs("span",{className:"text-green-600 font-medium flex items-center gap-2",children:[o.jsx(Vw,{className:"h-4 w-4"}),"All policies accepted"]}):"Please accept all policies to continue"}),o.jsx(ie,{onClick:g,disabled:!e||!r||!i,className:"min-w-[150px]",size:"lg",children:"Continue to Registration"})]})})]})})]})},QZ="/videos/guest-login-bg.mp4",XZ=()=>{const[t,e]=m.useState(""),[n,r]=m.useState(""),[s,i]=m.useState(""),[a,l]=m.useState(""),[c,u]=m.useState(!1),[d,f]=m.useState(!1),[p,g]=m.useState(!1),{signIn:b,signUp:y}=Dt(),w=pt(),_=async v=>{v.preventDefault(),g(!0);try{await b(t,n,"guest"),H.success("Welcome back!"),w("/guest/dashboard")}catch(j){H.error(j.message||"Failed to sign in")}finally{g(!1)}},x=async v=>{if(v.preventDefault(),g(!0),n!==s){H.error("Passwords do not match"),g(!1);return}try{await y(t,n,a,"guest"),H.success("Account created! Please check your email to verify your account."),w("/verification-pending")}catch(j){H.error(j.message||"Failed to create account")}finally{g(!1)}};return o.jsxs("div",{className:"min-h-screen bg-background flex flex-col relative",children:[o.jsx(Rf,{src:QZ,overlay:!0,className:"z-0"}),o.jsx("header",{className:"relative z-10 border-b bg-card/95 backdrop-blur supports-[backdrop-filter]:bg-card/60",children:o.jsxs("div",{className:"container mx-auto px-6 py-4 flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(ie,{variant:"ghost",onClick:()=>w("/"),children:[o.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Back to Home"]}),o.jsx(Xs,{size:"sm"})]}),o.jsx(Nr,{})]})}),o.jsx("div",{className:"relative z-10 flex-1 flex items-center justify-center p-6",children:o.jsxs(se,{className:"w-full max-w-md shadow-2xl border-border/50 bg-card/95 backdrop-blur-md",children:[o.jsxs(me,{className:"space-y-4 text-center pb-8",children:[o.jsx("div",{className:"w-16 h-16 mx-auto rounded-2xl bg-primary/10 flex items-center justify-center",children:o.jsx(Rl,{className:"w-8 h-8 text-primary"})}),o.jsxs("div",{children:[o.jsx(pe,{className:"text-3xl font-bold",children:"Guest Portal"}),o.jsx(Be,{className:"text-base mt-2",children:"Start your adventure today"})]})]}),o.jsxs(be,{children:[o.jsxs(ic,{defaultValue:"signin",className:"w-full",children:[o.jsxs(Wa,{className:"grid w-full grid-cols-2 mb-8",children:[o.jsx(It,{value:"signin",className:"text-base",children:"Sign In"}),o.jsx(It,{value:"signup",className:"text-base",children:"Sign Up"})]}),o.jsx(jt,{value:"signin",children:o.jsxs("form",{onSubmit:_,className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{htmlFor:"signin-email",className:"text-base",children:"Email"}),o.jsxs("div",{className:"relative",children:[o.jsx(Bs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),o.jsx(qe,{id:"signin-email",type:"email",placeholder:"guest@example.com",value:t,onChange:v=>e(v.target.value),required:!0,className:"pl-10 h-12"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{htmlFor:"signin-password",className:"text-base",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(la,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),o.jsx(qe,{id:"signin-password",type:c?"text":"password",placeholder:"",value:n,onChange:v=>r(v.target.value),required:!0,className:"pl-10 pr-10 h-12"}),o.jsx("button",{type:"button",onClick:()=>u(!c),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:c?o.jsx(bl,{className:"h-5 w-5"}):o.jsx(_l,{className:"h-5 w-5"})})]})]}),o.jsx(ie,{type:"submit",className:"w-full h-12 text-base",disabled:p,children:p?"Signing in...":"Sign In"})]})}),o.jsx(jt,{value:"signup",children:o.jsxs("form",{onSubmit:x,className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{htmlFor:"signup-fullname",className:"text-base",children:"Full Name"}),o.jsxs("div",{className:"relative",children:[o.jsx(Rl,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),o.jsx(qe,{id:"signup-fullname",type:"text",placeholder:"John Doe",value:a,onChange:v=>l(v.target.value),required:!0,className:"pl-10 h-12"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{htmlFor:"signup-email",className:"text-base",children:"Email"}),o.jsxs("div",{className:"relative",children:[o.jsx(Bs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),o.jsx(qe,{id:"signup-email",type:"email",placeholder:"guest@example.com",value:t,onChange:v=>e(v.target.value),required:!0,className:"pl-10 h-12"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{htmlFor:"signup-password",className:"text-base",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(la,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),o.jsx(qe,{id:"signup-password",type:c?"text":"password",placeholder:"",value:n,onChange:v=>r(v.target.value),required:!0,minLength:6,className:"pl-10 pr-10 h-12"}),o.jsx("button",{type:"button",onClick:()=>u(!c),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:c?o.jsx(bl,{className:"h-5 w-5"}):o.jsx(_l,{className:"h-5 w-5"})})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Minimum 6 characters"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{htmlFor:"signup-confirm-password",className:"text-base",children:"Confirm Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(la,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),o.jsx(qe,{id:"signup-confirm-password",type:d?"text":"password",placeholder:"",value:s,onChange:v=>i(v.target.value),required:!0,minLength:6,className:"pl-10 pr-10 h-12"}),o.jsx("button",{type:"button",onClick:()=>f(!d),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:d?o.jsx(bl,{className:"h-5 w-5"}):o.jsx(_l,{className:"h-5 w-5"})})]}),n&&s&&n!==s&&o.jsx("p",{className:"text-xs text-red-500",children:"Passwords do not match"})]}),o.jsx(ie,{type:"submit",className:"w-full h-12 text-base",disabled:p,children:p?"Creating account...":"Create Account"})]})})]}),o.jsx("div",{className:"mt-8 text-center text-sm text-muted-foreground",children:o.jsxs("p",{children:["Want to host? ",o.jsx(An,{to:"/host/login",className:"text-primary hover:underline font-medium",children:"Become a Host"})]})})]})]})})]})},ZZ="/videos/admin-login-bg.mp4",JZ=()=>{const[t,e]=m.useState(""),[n,r]=m.useState(""),[s,i]=m.useState(!1),[a,l]=m.useState(!1),{signIn:c}=Dt(),u=pt(),d=async f=>{f.preventDefault(),l(!0);try{await c(t,n,"admin"),H.success("Admin access granted"),u("/admin/dashboard")}catch(p){H.error(p.message||"Failed to sign in")}finally{l(!1)}};return o.jsxs("div",{className:"min-h-screen bg-background flex flex-col relative",children:[o.jsx(Rf,{src:ZZ,overlay:!0,className:"z-0"}),o.jsx("header",{className:"relative z-10 border-b bg-card/95 backdrop-blur supports-[backdrop-filter]:bg-card/60",children:o.jsxs("div",{className:"container mx-auto px-6 py-4 flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(ie,{variant:"ghost",onClick:()=>u("/"),children:[o.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Back to Home"]}),o.jsx(Xs,{size:"sm"})]}),o.jsx(Nr,{})]})}),o.jsx("div",{className:"relative z-10 flex-1 flex items-center justify-center p-6",children:o.jsxs(se,{className:"w-full max-w-md shadow-2xl border-border/50 bg-card/95 backdrop-blur-md",children:[o.jsxs(me,{className:"space-y-4 text-center pb-8",children:[o.jsx("div",{className:"w-16 h-16 mx-auto rounded-2xl bg-accent/10 flex items-center justify-center",children:o.jsx(ys,{className:"w-8 h-8 text-accent"})}),o.jsxs("div",{children:[o.jsx(pe,{className:"text-3xl font-bold",children:"Admin Portal"}),o.jsx(Be,{className:"text-base mt-2",children:"Platform management and oversight"})]})]}),o.jsxs(be,{children:[o.jsxs("form",{onSubmit:d,className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{htmlFor:"email",className:"text-base",children:"Email"}),o.jsxs("div",{className:"relative",children:[o.jsx(Bs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),o.jsx(qe,{id:"email",type:"email",placeholder:"admin@stayhub.com",value:t,onChange:f=>e(f.target.value),required:!0,className:"pl-10 h-12"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Le,{htmlFor:"password",className:"text-base",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(la,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),o.jsx(qe,{id:"password",type:s?"text":"password",placeholder:"",value:n,onChange:f=>r(f.target.value),required:!0,className:"pl-10 pr-10 h-12"}),o.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:s?o.jsx(bl,{className:"h-5 w-5"}):o.jsx(_l,{className:"h-5 w-5"})})]})]}),o.jsx(ie,{type:"submit",className:"w-full h-12 text-base",disabled:a,children:a?"Signing in...":"Sign In as Admin"})]}),o.jsx("div",{className:"mt-8 p-4 bg-accent/10 rounded-lg border border-accent/20",children:o.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:[o.jsx(ys,{className:"w-4 h-4 inline mr-1 text-accent"}),"Admin access is restricted. Contact support if you need access."]})})]})]})})]})},eJ=()=>{const[t]=cf(),[e,n]=m.useState(!1),[r,s]=m.useState("verifying"),{verifyEmail:i,sendVerificationEmail:a,user:l,userRole:c}=Dt(),u=pt(),d=t.get("oobCode"),f=t.get("mode"),p=m.useCallback(async()=>{if(d){n(!0);try{await i(d),s("success"),H.success("Email verified successfully!")}catch(w){console.error("Verification error:",w),s("error"),H.error(w.message||"Failed to verify email")}finally{n(!1)}}},[d,i]);m.useEffect(()=>{d&&f==="verifyEmail"?p():s("error")},[d,f,p]),m.useEffect(()=>{if(r!=="success")return;(async()=>{const _=t.get("continueUrl");if(_){setTimeout(()=>u(_),1200);return}let x=0;const v=5,j=async()=>{if(x++,l){if(c){setTimeout(c==="guest"?()=>u("/guest/dashboard"):c==="host"?()=>u("/host/dashboard"):c==="admin"?()=>u("/admin/dashboard"):()=>u("/"),800);return}if(x<v){setTimeout(j,300);return}}(x>=v||!l)&&setTimeout(()=>u("/guest/login"),800)};setTimeout(j,500)})()},[r,l,c,u,t]);const g=async()=>{n(!0);try{await a(),H.success("Verification email sent! Check your inbox.")}catch(w){H.error(w.message||"Failed to send verification email")}finally{n(!1)}},y=r==="verifying"?{icon:o.jsx(Tl,{className:"w-16 h-16 text-primary animate-spin"}),title:"Verifying Your Email...",description:"Please wait while we verify your email address.",showButton:!1}:r==="success"?{icon:o.jsx(zc,{className:"w-16 h-16 text-green-500"}),title:"Email Verified Successfully!",description:"Your email has been verified. Redirecting you now...",showButton:!1}:{icon:o.jsx(Bs,{className:"w-16 h-16 text-red-500"}),title:"Verification Failed",description:"We couldn't verify your email. The link may have expired or been used already. Please request a new verification email.",showButton:!0,buttonText:"Resend Verification Email",buttonAction:g};return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex flex-col",children:[o.jsx("header",{className:"border-b bg-card/95 backdrop-blur supports-[backdrop-filter]:bg-card/60",children:o.jsxs("div",{className:"container mx-auto px-6 py-4 flex justify-between items-center",children:[o.jsxs(ie,{variant:"ghost",onClick:()=>u("/"),children:[o.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Back to Home"]}),o.jsx(Nr,{})]})}),o.jsx("div",{className:"flex-1 flex items-center justify-center p-6",children:o.jsxs(se,{className:"w-full max-w-md shadow-2xl border-border/50 bg-card/95 backdrop-blur",children:[o.jsxs(me,{className:"space-y-6 text-center pb-8 pt-12",children:[o.jsx("div",{className:"w-24 h-24 mx-auto rounded-full bg-gradient-to-br from-primary/10 to-secondary/10 flex items-center justify-center",children:y.icon}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(pe,{className:"text-3xl font-bold bg-gradient-to-r from-orange-500 via-blue-500 to-green-500 bg-clip-text text-transparent",children:y.title}),o.jsx(Be,{className:"text-base leading-relaxed",children:y.description})]})]}),o.jsxs(be,{className:"space-y-6 pb-12",children:[y.showButton&&o.jsx(ie,{onClick:y.buttonAction,className:"w-full h-12 text-base font-semibold",disabled:e,size:"lg",children:e?o.jsxs(o.Fragment,{children:[o.jsx(Tl,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):y.buttonText}),r==="success"&&o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"w-full h-px bg-gradient-to-r from-transparent via-border to-transparent"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Welcome to our platform! We're excited to have you on board."})]}),r==="error"&&o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"w-full h-px bg-gradient-to-r from-transparent via-border to-transparent"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Need help? Contact our support team for assistance."}),o.jsx(ie,{variant:"outline",onClick:()=>u("/"),className:"w-full",children:"Return to Home"})]})]})]})})]})};var tJ=Object.defineProperty,nJ=Object.defineProperties,rJ=Object.getOwnPropertyDescriptors,yg=Object.getOwnPropertySymbols,a4=Object.prototype.hasOwnProperty,l4=Object.prototype.propertyIsEnumerable,dk=(t,e,n)=>e in t?tJ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,sJ=(t,e)=>{for(var n in e||(e={}))a4.call(e,n)&&dk(t,n,e[n]);if(yg)for(var n of yg(e))l4.call(e,n)&&dk(t,n,e[n]);return t},iJ=(t,e)=>nJ(t,rJ(e)),oJ=(t,e)=>{var n={};for(var r in t)a4.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&yg)for(var r of yg(t))e.indexOf(r)<0&&l4.call(t,r)&&(n[r]=t[r]);return n};function aJ(t){let e=setTimeout(t,0),n=setTimeout(t,10),r=setTimeout(t,50);return[e,n,r]}function lJ(t){let e=m.useRef();return m.useEffect(()=>{e.current=t}),e.current}var cJ=18,c4=40,uJ=`${c4}px`,dJ=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function hJ({containerRef:t,inputRef:e,pushPasswordManagerStrategy:n,isFocused:r}){let[s,i]=m.useState(!1),[a,l]=m.useState(!1),[c,u]=m.useState(!1),d=m.useMemo(()=>n==="none"?!1:(n==="increase-width"||n==="experimental-no-flickering")&&s&&a,[s,a,n]),f=m.useCallback(()=>{let p=t.current,g=e.current;if(!p||!g||c||n==="none")return;let b=p,y=b.getBoundingClientRect().left+b.offsetWidth,w=b.getBoundingClientRect().top+b.offsetHeight/2,_=y-cJ,x=w;document.querySelectorAll(dJ).length===0&&document.elementFromPoint(_,x)===p||(i(!0),u(!0))},[t,e,c,n]);return m.useEffect(()=>{let p=t.current;if(!p||n==="none")return;function g(){let y=window.innerWidth-p.getBoundingClientRect().right;l(y>=c4)}g();let b=setInterval(g,1e3);return()=>{clearInterval(b)}},[t,n]),m.useEffect(()=>{let p=r||document.activeElement===e.current;if(n==="none"||!p)return;let g=setTimeout(f,0),b=setTimeout(f,2e3),y=setTimeout(f,5e3),w=setTimeout(()=>{u(!0)},6e3);return()=>{clearTimeout(g),clearTimeout(b),clearTimeout(y),clearTimeout(w)}},[e,r,n,f]),{hasPWMBadge:s,willPushPWMBadge:d,PWM_BADGE_SPACE_WIDTH:uJ}}var u4=m.createContext({}),d4=m.forwardRef((t,e)=>{var n=t,{value:r,onChange:s,maxLength:i,textAlign:a="left",pattern:l,placeholder:c,inputMode:u="numeric",onComplete:d,pushPasswordManagerStrategy:f="increase-width",pasteTransformer:p,containerClassName:g,noScriptCSSFallback:b=fJ,render:y,children:w}=n,_=oJ(n,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]),x,v,j,P,D;let[S,N]=m.useState(typeof _.defaultValue=="string"?_.defaultValue:""),T=r??S,k=lJ(T),I=m.useCallback(Re=>{s==null||s(Re),N(Re)},[s]),A=m.useMemo(()=>l?typeof l=="string"?new RegExp(l):l:null,[l]),R=m.useRef(null),W=m.useRef(null),U=m.useRef({value:T,onChange:I,isIOS:typeof window<"u"&&((v=(x=window==null?void 0:window.CSS)==null?void 0:x.supports)==null?void 0:v.call(x,"-webkit-touch-callout","none"))}),q=m.useRef({prev:[(j=R.current)==null?void 0:j.selectionStart,(P=R.current)==null?void 0:P.selectionEnd,(D=R.current)==null?void 0:D.selectionDirection]});m.useImperativeHandle(e,()=>R.current,[]),m.useEffect(()=>{let Re=R.current,Ue=W.current;if(!Re||!Ue)return;U.current.value!==Re.value&&U.current.onChange(Re.value),q.current.prev=[Re.selectionStart,Re.selectionEnd,Re.selectionDirection];function ht(){if(document.activeElement!==Re){$(null),ue(null);return}let ce=Re.selectionStart,M=Re.selectionEnd,B=Re.selectionDirection,G=Re.maxLength,he=Re.value,fe=q.current.prev,oe=-1,ye=-1,We;if(he.length!==0&&ce!==null&&M!==null){let hr=ce===M,Mi=ce===he.length&&he.length<G;if(hr&&!Mi){let on=ce;if(on===0)oe=0,ye=1,We="forward";else if(on===G)oe=on-1,ye=on,We="backward";else if(G>1&&he.length>1){let kn=0;if(fe[0]!==null&&fe[1]!==null){We=on<fe[1]?"backward":"forward";let Js=fe[0]===fe[1]&&fe[0]<G;We==="backward"&&!Js&&(kn=-1)}oe=kn+on,ye=kn+on+1}}oe!==-1&&ye!==-1&&oe!==ye&&R.current.setSelectionRange(oe,ye,We)}let ft=oe!==-1?oe:ce,xn=ye!==-1?ye:M,Br=We??B;$(ft),ue(xn),q.current.prev=[ft,xn,Br]}if(document.addEventListener("selectionchange",ht,{capture:!0}),ht(),document.activeElement===Re&&F(!0),!document.getElementById("input-otp-style")){let ce=document.createElement("style");if(ce.id="input-otp-style",document.head.appendChild(ce),ce.sheet){let M="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";yd(ce.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),yd(ce.sheet,`[data-input-otp]:autofill { ${M} }`),yd(ce.sheet,`[data-input-otp]:-webkit-autofill { ${M} }`),yd(ce.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),yd(ce.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let Z=()=>{Ue&&Ue.style.setProperty("--root-height",`${Re.clientHeight}px`)};Z();let X=new ResizeObserver(Z);return X.observe(Re),()=>{document.removeEventListener("selectionchange",ht,{capture:!0}),X.disconnect()}},[]);let[K,L]=m.useState(!1),[V,F]=m.useState(!1),[Q,$]=m.useState(null),[te,ue]=m.useState(null);m.useEffect(()=>{aJ(()=>{var Re,Ue,ht,Z;(Re=R.current)==null||Re.dispatchEvent(new Event("input"));let X=(Ue=R.current)==null?void 0:Ue.selectionStart,ce=(ht=R.current)==null?void 0:ht.selectionEnd,M=(Z=R.current)==null?void 0:Z.selectionDirection;X!==null&&ce!==null&&($(X),ue(ce),q.current.prev=[X,ce,M])})},[T,V]),m.useEffect(()=>{k!==void 0&&T!==k&&k.length<i&&T.length===i&&(d==null||d(T))},[i,d,k,T]);let de=hJ({containerRef:W,inputRef:R,pushPasswordManagerStrategy:f,isFocused:V}),Ce=m.useCallback(Re=>{let Ue=Re.currentTarget.value.slice(0,i);if(Ue.length>0&&A&&!A.test(Ue)){Re.preventDefault();return}typeof k=="string"&&Ue.length<k.length&&document.dispatchEvent(new Event("selectionchange")),I(Ue)},[i,I,k,A]),J=m.useCallback(()=>{var Re;if(R.current){let Ue=Math.min(R.current.value.length,i-1),ht=R.current.value.length;(Re=R.current)==null||Re.setSelectionRange(Ue,ht),$(Ue),ue(ht)}F(!0)},[i]),Fe=m.useCallback(Re=>{var Ue,ht;let Z=R.current;if(!p&&(!U.current.isIOS||!Re.clipboardData||!Z))return;let X=Re.clipboardData.getData("text/plain"),ce=p?p(X):X;Re.preventDefault();let M=(Ue=R.current)==null?void 0:Ue.selectionStart,B=(ht=R.current)==null?void 0:ht.selectionEnd,G=(M!==B?T.slice(0,M)+ce+T.slice(B):T.slice(0,M)+ce+T.slice(M)).slice(0,i);if(G.length>0&&A&&!A.test(G))return;Z.value=G,I(G);let he=Math.min(G.length,i-1),fe=G.length;Z.setSelectionRange(he,fe),$(he),ue(fe)},[i,I,A,T]),Me=m.useMemo(()=>({position:"relative",cursor:_.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[_.disabled]),le=m.useMemo(()=>({position:"absolute",inset:0,width:de.willPushPWMBadge?`calc(100% + ${de.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:de.willPushPWMBadge?`inset(0 ${de.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:a,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[de.PWM_BADGE_SPACE_WIDTH,de.willPushPWMBadge,a]),Ne=m.useMemo(()=>m.createElement("input",iJ(sJ({autoComplete:_.autoComplete||"one-time-code"},_),{"data-input-otp":!0,"data-input-otp-placeholder-shown":T.length===0||void 0,"data-input-otp-mss":Q,"data-input-otp-mse":te,inputMode:u,pattern:A==null?void 0:A.source,"aria-placeholder":c,style:le,maxLength:i,value:T,ref:R,onPaste:Re=>{var Ue;Fe(Re),(Ue=_.onPaste)==null||Ue.call(_,Re)},onChange:Ce,onMouseOver:Re=>{var Ue;L(!0),(Ue=_.onMouseOver)==null||Ue.call(_,Re)},onMouseLeave:Re=>{var Ue;L(!1),(Ue=_.onMouseLeave)==null||Ue.call(_,Re)},onFocus:Re=>{var Ue;J(),(Ue=_.onFocus)==null||Ue.call(_,Re)},onBlur:Re=>{var Ue;F(!1),(Ue=_.onBlur)==null||Ue.call(_,Re)}})),[Ce,J,Fe,u,le,i,te,Q,_,A==null?void 0:A.source,T]),De=m.useMemo(()=>({slots:Array.from({length:i}).map((Re,Ue)=>{var ht;let Z=V&&Q!==null&&te!==null&&(Q===te&&Ue===Q||Ue>=Q&&Ue<te),X=T[Ue]!==void 0?T[Ue]:null,ce=T[0]!==void 0?null:(ht=c==null?void 0:c[Ue])!=null?ht:null;return{char:X,placeholderChar:ce,isActive:Z,hasFakeCaret:Z&&X===null}}),isFocused:V,isHovering:!_.disabled&&K}),[V,K,i,te,Q,_.disabled,T]),Nt=m.useMemo(()=>y?y(De):m.createElement(u4.Provider,{value:De},w),[w,De,y]);return m.createElement(m.Fragment,null,b!==null&&m.createElement("noscript",null,m.createElement("style",null,b)),m.createElement("div",{ref:W,"data-input-otp-container":!0,style:Me,className:g},Nt,m.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},Ne)))});d4.displayName="Input";function yd(t,e){try{t.insertRule(e)}catch{console.error("input-otp could not insert CSS rule:",e)}}var fJ=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`;const h4=m.forwardRef(({className:t,containerClassName:e,...n},r)=>o.jsx(d4,{ref:r,containerClassName:_e("flex items-center gap-2 has-[:disabled]:opacity-50",e),className:_e("disabled:cursor-not-allowed",t),...n}));h4.displayName="InputOTP";const f4=m.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:_e("flex items-center",t),...e}));f4.displayName="InputOTPGroup";const sl=m.forwardRef(({index:t,className:e,...n},r)=>{const s=m.useContext(u4),{char:i,hasFakeCaret:a,isActive:l}=s.slots[t];return o.jsxs("div",{ref:r,className:_e("relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md",l&&"z-10 ring-2 ring-ring ring-offset-background",e),...n,children:[i,a&&o.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:o.jsx("div",{className:"animate-caret-blink h-4 w-px bg-foreground duration-1000"})})]})});sl.displayName="InputOTPSlot";const mJ=m.forwardRef(({...t},e)=>o.jsx("div",{ref:e,role:"separator",...t,children:o.jsx(k9,{})}));mJ.displayName="InputOTPSeparator";const pJ=()=>{const[t,e]=m.useState(""),[n,r]=m.useState(!1),[s,i]=m.useState(!1),[a,l]=m.useState(0),{user:c,userProfile:u,sendOTP:d,verifyOTPCode:f,userRole:p}=Dt(),g=pt();m.useEffect(()=>{if(!c){H.error("Please sign in first"),g("/guest/login");return}l(60);const w=setInterval(()=>{l(_=>_<=1?(clearInterval(w),0):_-1)},1e3);return()=>clearInterval(w)},[c,g]);const b=async w=>{if(w.preventDefault(),t.length!==6){H.error("Please enter a 6-digit OTP code");return}r(!0);try{await f(t)?(H.success("Email verified successfully!"),setTimeout(()=>{g(p==="guest"?"/guest/dashboard":p==="host"?"/host/dashboard":p==="admin"?"/admin/dashboard":"/guest/login")},1500)):(H.error("Invalid OTP code. Please try again."),e(""))}catch(_){H.error(_.message||"Failed to verify OTP"),e("")}finally{r(!1)}},y=async()=>{if(a>0){H.error(`Please wait ${a} seconds before requesting a new code`);return}i(!0);try{await d(),H.success("OTP code sent! Check your email."),l(60),e("")}catch(w){H.error(w.message||"Failed to resend OTP")}finally{i(!1)}};return c?o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex flex-col",children:[o.jsx("header",{className:"border-b bg-card/95 backdrop-blur supports-[backdrop-filter]:bg-card/60",children:o.jsxs("div",{className:"container mx-auto px-6 py-4 flex justify-between items-center",children:[o.jsxs(ie,{variant:"ghost",onClick:()=>g(-1),children:[o.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Back"]}),o.jsx(Nr,{})]})}),o.jsx("div",{className:"flex-1 flex items-center justify-center p-6",children:o.jsxs(se,{className:"w-full max-w-md shadow-2xl border-border/50 bg-card/95 backdrop-blur",children:[o.jsxs(me,{className:"space-y-6 text-center pb-8 pt-12",children:[o.jsx("div",{className:"w-24 h-24 mx-auto rounded-full bg-gradient-to-br from-blue-100 to-purple-100 dark:from-blue-900/20 dark:to-purple-900/20 flex items-center justify-center",children:o.jsx(ys,{className:"w-16 h-16 text-blue-600 dark:text-blue-400"})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(pe,{className:"text-3xl font-bold bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 bg-clip-text text-transparent",children:"Verify Your Email"}),o.jsxs(Be,{className:"text-base leading-relaxed",children:["We've sent a 6-digit verification code to ",o.jsx("strong",{children:c.email})]})]})]}),o.jsxs(be,{className:"space-y-6 pb-12",children:[o.jsxs("form",{onSubmit:b,className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"flex justify-center",children:o.jsx(h4,{maxLength:6,value:t,onChange:w=>e(w),children:o.jsxs(f4,{children:[o.jsx(sl,{index:0}),o.jsx(sl,{index:1}),o.jsx(sl,{index:2}),o.jsx(sl,{index:3}),o.jsx(sl,{index:4}),o.jsx(sl,{index:5})]})})}),o.jsx("p",{className:"text-sm text-center text-muted-foreground",children:"Enter the 6-digit code sent to your email"})]}),o.jsx(ie,{type:"submit",className:"w-full h-12 text-base font-semibold",disabled:n||t.length!==6,size:"lg",children:n?o.jsxs(o.Fragment,{children:[o.jsx(Tl,{className:"w-4 h-4 mr-2 animate-spin"}),"Verifying..."]}):o.jsxs(o.Fragment,{children:[o.jsx(zc,{className:"w-4 h-4 mr-2"}),"Verify Email"]})})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"text-center text-sm text-muted-foreground",children:"Didn't receive the code?"}),o.jsx(ie,{variant:"outline",className:"w-full",onClick:y,disabled:s||a>0,children:s?o.jsxs(o.Fragment,{children:[o.jsx(Tl,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending..."]}):a>0?`Resend OTP (${a}s)`:o.jsxs(o.Fragment,{children:[o.jsx(Bs,{className:"w-4 h-4 mr-2"}),"Resend OTP Code"]})})]}),o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"w-full h-px bg-gradient-to-r from-transparent via-border to-transparent"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Need help? Contact our support team for assistance."})]})]})]})})]}):null},gJ=()=>{const[t,e]=m.useState(!1),[n,r]=m.useState(!1),[s,i]=m.useState(!1),{sendOTP:a,user:l,userProfile:c,userRole:u}=Dt(),d=pt();m.useEffect(()=>{l&&c!=null&&c.emailVerified&&!s&&(i(!0),H.success("Email verified successfully! Redirecting to dashboard..."),setTimeout(()=>{d(u==="guest"?"/guest/dashboard":u==="host"?"/host/dashboard":u==="admin"?"/admin/dashboard":"/guest/dashboard")},2e3))},[l,c,u,s,d]),m.useEffect(()=>{if(!l||s||!c)return;const g=setInterval(()=>{c.emailVerified&&!s&&(i(!0),clearInterval(g),H.success("Email verified successfully! Redirecting to dashboard..."),setTimeout(()=>{d(u==="guest"?"/guest/dashboard":u==="host"?"/host/dashboard":u==="admin"?"/admin/dashboard":"/guest/dashboard")},2e3))},2e3);return()=>clearInterval(g)},[l,c,u,s,d]);const f=async()=>{e(!0);try{await a(),r(!0),H.success("Verification code sent! Check your inbox.")}catch(g){H.error(g.message||"Failed to send verification code")}finally{e(!1)}},p=async()=>{d("/guest/login")};return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex flex-col",children:[o.jsx("header",{className:"border-b bg-card/95 backdrop-blur supports-[backdrop-filter]:bg-card/60",children:o.jsxs("div",{className:"container mx-auto px-6 py-4 flex justify-between items-center",children:[o.jsxs(ie,{variant:"ghost",onClick:()=>d("/"),children:[o.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Back to Home"]}),o.jsx(Nr,{})]})}),o.jsx("div",{className:"flex-1 flex items-center justify-center p-6",children:o.jsxs(se,{className:"w-full max-w-md shadow-2xl border-border/50 bg-card/95 backdrop-blur",children:[o.jsxs(me,{className:"space-y-6 text-center pb-8 pt-12",children:[o.jsx("div",{className:"w-24 h-24 mx-auto flex items-center justify-center",children:o.jsx(Xs,{size:"xl",showText:!1})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(pe,{className:"text-3xl font-bold bg-gradient-to-r from-orange-500 via-blue-500 to-green-500 bg-clip-text text-transparent",children:s?"Email Verified!":"Check Your Email"}),o.jsx(Be,{className:"text-base leading-relaxed",children:s?o.jsx(o.Fragment,{children:"Your email has been verified successfully! Redirecting you to dashboard..."}):o.jsxs(o.Fragment,{children:["Hi ",o.jsx("strong",{children:(c==null?void 0:c.fullName)||"there"}),"! We've sent a 6-digit verification code to ",o.jsx("strong",{children:l==null?void 0:l.email})]})})]})]}),o.jsxs(be,{className:"space-y-6 pb-12",children:[s?o.jsxs("div",{className:"flex items-center space-x-2 p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[o.jsx(zc,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),o.jsx("span",{className:"text-sm text-green-800 dark:text-green-200",children:"Email verified! You will be redirected to the dashboard shortly..."})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[o.jsx(zc,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),o.jsxs("div",{className:"text-sm text-blue-800 dark:text-blue-200",children:[o.jsx("p",{className:"font-medium",children:"Next Steps:"}),o.jsxs("ol",{className:"mt-2 space-y-1 list-decimal list-inside",children:[o.jsx("li",{children:"Check your email inbox (and spam folder)"}),o.jsx("li",{children:"Copy the 6-digit verification code from the email"}),o.jsx("li",{children:"Click the button below to enter the code and verify your email"})]})]})]}),n&&o.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[o.jsx(zc,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),o.jsx("span",{className:"text-sm text-green-800 dark:text-green-200",children:"Verification code sent successfully!"})]}),o.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-amber-50 dark:bg-amber-900/20 rounded-lg",children:[o.jsx(nv,{className:"w-5 h-5 text-amber-600 dark:text-amber-400 mt-0.5 flex-shrink-0"}),o.jsxs("div",{className:"text-sm text-amber-800 dark:text-amber-200",children:[o.jsx("p",{className:"font-medium",children:"Didn't receive the email?"}),o.jsx("p",{className:"mt-1",children:"The verification code may take a few minutes to arrive. Check your spam folder or request a new one."})]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(ie,{onClick:()=>d("/verify-otp"),className:"w-full h-12 text-base font-semibold",size:"lg",children:"Enter Verification Code"}),o.jsx(ie,{onClick:f,className:"w-full",disabled:t,variant:"outline",children:t?o.jsxs(o.Fragment,{children:[o.jsx(Tl,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Tl,{className:"w-4 h-4 mr-2"}),"Resend Verification Code"]})}),o.jsx(ie,{onClick:p,variant:"ghost",className:"w-full",children:"Sign Out"})]})]}),o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"w-full h-px bg-gradient-to-r from-transparent via-border to-transparent"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Need help? Contact our support team for assistance."})]})]})]})})]})},vJ=tv("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Sn({className:t,variant:e,...n}){return o.jsx("div",{className:_e(vJ({variant:e}),t),...n})}var Kv="Dialog",[m4,p4]=Kn(Kv),[yJ,Zs]=m4(Kv),g4=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:a=!0}=t,l=m.useRef(null),c=m.useRef(null),[u,d]=Si({prop:r,defaultProp:s??!1,onChange:i,caller:Kv});return o.jsx(yJ,{scope:e,triggerRef:l,contentRef:c,contentId:Wn(),titleId:Wn(),descriptionId:Wn(),open:u,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(f=>!f),[d]),modal:a,children:n})};g4.displayName=Kv;var v4="DialogTrigger",y4=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Zs(v4,n),i=Ze(e,s.triggerRef);return o.jsx(ke.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":B1(s.open),...r,ref:i,onClick:xe(t.onClick,s.onOpenToggle)})});y4.displayName=v4;var U1="DialogPortal",[xJ,x4]=m4(U1,{forceMount:void 0}),w4=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Zs(U1,e);return o.jsx(xJ,{scope:e,forceMount:n,children:m.Children.map(r,a=>o.jsx(Ln,{present:n||i.open,children:o.jsx(Ou,{asChild:!0,container:s,children:a})}))})};w4.displayName=U1;var xg="DialogOverlay",b4=m.forwardRef((t,e)=>{const n=x4(xg,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Zs(xg,t.__scopeDialog);return i.modal?o.jsx(Ln,{present:r||i.open,children:o.jsx(bJ,{...s,ref:e})}):null});b4.displayName=xg;var wJ=ba("DialogOverlay.RemoveScroll"),bJ=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Zs(xg,n);return o.jsx(Of,{as:wJ,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(ke.div,{"data-state":B1(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Bl="DialogContent",_4=m.forwardRef((t,e)=>{const n=x4(Bl,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Zs(Bl,t.__scopeDialog);return o.jsx(Ln,{present:r||i.open,children:i.modal?o.jsx(_J,{...s,ref:e}):o.jsx(EJ,{...s,ref:e})})});_4.displayName=Bl;var _J=m.forwardRef((t,e)=>{const n=Zs(Bl,t.__scopeDialog),r=m.useRef(null),s=Ze(e,n.contentRef,r);return m.useEffect(()=>{const i=r.current;if(i)return $v(i)},[]),o.jsx(E4,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:xe(t.onCloseAutoFocus,i=>{var a;i.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:xe(t.onPointerDownOutside,i=>{const a=i.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&i.preventDefault()}),onFocusOutside:xe(t.onFocusOutside,i=>i.preventDefault())})}),EJ=m.forwardRef((t,e)=>{const n=Zs(Bl,t.__scopeDialog),r=m.useRef(!1),s=m.useRef(!1);return o.jsx(E4,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,l;(a=t.onCloseAutoFocus)==null||a.call(t,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),E4=m.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...a}=t,l=Zs(Bl,n),c=m.useRef(null),u=Ze(e,c);return Vv(),o.jsxs(o.Fragment,{children:[o.jsx(Af,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:o.jsx(Xl,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":B1(l.open),...a,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(SJ,{titleId:l.titleId}),o.jsx(CJ,{contentRef:c,descriptionId:l.descriptionId})]})]})}),$1="DialogTitle",N4=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Zs($1,n);return o.jsx(ke.h2,{id:s.titleId,...r,ref:e})});N4.displayName=$1;var S4="DialogDescription",j4=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Zs(S4,n);return o.jsx(ke.p,{id:s.descriptionId,...r,ref:e})});j4.displayName=S4;var C4="DialogClose",k4=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Zs(C4,n);return o.jsx(ke.button,{type:"button",...r,ref:e,onClick:xe(t.onClick,()=>s.onOpenChange(!1))})});k4.displayName=C4;function B1(t){return t?"open":"closed"}var T4="DialogTitleWarning",[NJ,I4]=R6(T4,{contentName:Bl,titleName:$1,docsSlug:"dialog"}),SJ=({titleId:t})=>{const e=I4(T4),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return m.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},jJ="DialogDescriptionWarning",CJ=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${I4(jJ).contentName}}.`;return m.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},z1=g4,kJ=y4,W1=w4,Yv=b4,Qv=_4,H1=N4,q1=j4,G1=k4,R4="AlertDialog",[TJ,tae]=Kn(R4,[p4]),xo=p4(),P4=t=>{const{__scopeAlertDialog:e,...n}=t,r=xo(e);return o.jsx(z1,{...r,...n,modal:!0})};P4.displayName=R4;var IJ="AlertDialogTrigger",RJ=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=xo(n);return o.jsx(kJ,{...s,...r,ref:e})});RJ.displayName=IJ;var PJ="AlertDialogPortal",A4=t=>{const{__scopeAlertDialog:e,...n}=t,r=xo(e);return o.jsx(W1,{...r,...n})};A4.displayName=PJ;var AJ="AlertDialogOverlay",D4=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=xo(n);return o.jsx(Yv,{...s,...r,ref:e})});D4.displayName=AJ;var Zc="AlertDialogContent",[DJ,OJ]=TJ(Zc),MJ=BR("AlertDialogContent"),O4=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...s}=t,i=xo(n),a=m.useRef(null),l=Ze(e,a),c=m.useRef(null);return o.jsx(NJ,{contentName:Zc,titleName:M4,docsSlug:"alert-dialog",children:o.jsx(DJ,{scope:n,cancelRef:c,children:o.jsxs(Qv,{role:"alertdialog",...i,...s,ref:l,onOpenAutoFocus:xe(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[o.jsx(MJ,{children:r}),o.jsx(FJ,{contentRef:a})]})})})});O4.displayName=Zc;var M4="AlertDialogTitle",L4=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=xo(n);return o.jsx(H1,{...s,...r,ref:e})});L4.displayName=M4;var F4="AlertDialogDescription",V4=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=xo(n);return o.jsx(q1,{...s,...r,ref:e})});V4.displayName=F4;var LJ="AlertDialogAction",U4=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=xo(n);return o.jsx(G1,{...s,...r,ref:e})});U4.displayName=LJ;var $4="AlertDialogCancel",B4=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:s}=OJ($4,n),i=xo(n),a=Ze(e,s);return o.jsx(G1,{...i,...r,ref:a})});B4.displayName=$4;var FJ=({contentRef:t})=>{const e=`\`${Zc}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Zc}\` by passing a \`${F4}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Zc}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return m.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},VJ=P4,UJ=A4,z4=D4,W4=O4,H4=U4,q4=B4,G4=L4,K4=V4;const wr=VJ,$J=UJ,Y4=m.forwardRef(({className:t,...e},n)=>o.jsx(z4,{className:_e("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));Y4.displayName=z4.displayName;const rr=m.forwardRef(({className:t,...e},n)=>o.jsxs($J,{children:[o.jsx(Y4,{}),o.jsx(W4,{ref:n,className:_e("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));rr.displayName=W4.displayName;const sr=({className:t,...e})=>o.jsx("div",{className:_e("flex flex-col space-y-2 text-center sm:text-left",t),...e});sr.displayName="AlertDialogHeader";const ir=({className:t,...e})=>o.jsx("div",{className:_e("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});ir.displayName="AlertDialogFooter";const or=m.forwardRef(({className:t,...e},n)=>o.jsx(G4,{ref:n,className:_e("text-lg font-semibold",t),...e}));or.displayName=G4.displayName;const ar=m.forwardRef(({className:t,...e},n)=>o.jsx(K4,{ref:n,className:_e("text-sm text-muted-foreground",t),...e}));ar.displayName=K4.displayName;const lr=m.forwardRef(({className:t,...e},n)=>o.jsx(H4,{ref:n,className:_e(Lh(),t),...e}));lr.displayName=H4.displayName;const cr=m.forwardRef(({className:t,...e},n)=>o.jsx(q4,{ref:n,className:_e(Lh({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));cr.displayName=q4.displayName;const BJ=()=>{const{user:t}=Dt(),[e,n]=m.useState([]),r=pt();return m.useEffect(()=>{if(!t)return;const s=new Date;s.setHours(0,0,0,0);const i=new Date(s);i.setDate(i.getDate()+1);const a=Ei(bt(st(ge,"bookings"),_t("hostId","==",t.uid)),l=>{const c=l.docs.map(u=>({id:u.id,...u.data()})).filter(u=>{const d=new Date(u.checkIn);d.setHours(0,0,0,0);const f=new Date(u.checkOut);return f.setHours(0,0,0,0),(d.getTime()===s.getTime()||f.getTime()===s.getTime())&&(u.status==="confirmed"||u.status==="pending")}).sort((u,d)=>new Date(u.checkIn).getTime()-new Date(d.checkIn).getTime());n(c)});return()=>a()},[t]),o.jsxs(se,{className:"shadow-medium",children:[o.jsxs(me,{children:[o.jsx(pe,{children:"Today's Schedule"}),o.jsx(Be,{children:e.length>0?`${e.length} booking${e.length>1?"s":""} today`:"No bookings scheduled for today"})]}),o.jsx(be,{children:e.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(qn,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"You're all set! No check-ins or check-outs today."})]}):o.jsx("div",{className:"space-y-3",children:e.map(s=>{const i=new Date(s.checkIn),a=new Date(s.checkOut),l=i.toDateString()===new Date().toDateString(),c=a.toDateString()===new Date().toDateString();return o.jsx("div",{className:"p-4 border rounded-lg hover:bg-muted/50 cursor-pointer transition-colors",onClick:()=>r("/host/bookings"),children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:l&&c?"Check-in & Check-out":l?"Check-in":"Check-out"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[i.toLocaleDateString()," - ",a.toLocaleDateString()]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.guests," guest",s.guests>1?"s":"","  ",Qe(s.totalPrice||0)]})]}),o.jsx(Sn,{children:s.status})]})},s.id)})})})]})},zJ=()=>{const{user:t,userRole:e,userProfile:n,signOut:r}=Dt(),s=pt(),[i,a]=m.useState({activeListings:0,upcomingBookings:0,totalEarnings:0,rewardPoints:(n==null?void 0:n.points)||0}),[l,c]=m.useState(!1);m.useEffect(()=>{if(!t||e!=="host"){s("/host/login");return}u();const f=Ei(bt(st(ge,"listing"),_t("hostId","==",t.uid)),g=>{const b=g.docs.filter(y=>y.data().status==="approved").length;a(y=>({...y,activeListings:b}))}),p=Ei(bt(st(ge,"bookings"),_t("hostId","==",t.uid)),g=>{const b=new Date,y=g.docs.filter(_=>{const x=_.data();return new Date(x.checkIn)>=b&&x.status==="confirmed"}).length,w=g.docs.filter(_=>_.data().status==="confirmed"||_.data().status==="completed").reduce((_,x)=>_+(x.data().totalPrice||0),0);a(_=>({..._,upcomingBookings:y,totalEarnings:w}))});return()=>{f(),p()}},[t,e,s]);const u=async()=>{if(t)try{const f=await yo({hostId:t.uid}),p=new Date;p.setHours(0,0,0,0);const g=f.filter(b=>{const y=new Date(b.checkIn);return y.setHours(0,0,0,0),y.getTime()===p.getTime()});n!=null&&n.points&&a(b=>({...b,rewardPoints:n.points}))}catch(f){console.error("Error loading dashboard data:",f)}},d=async()=>{await r(),s("/")};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"sticky top-0 z-50 border-b bg-card/95 backdrop-blur supports-[backdrop-filter]:bg-card/60 shadow-soft",children:o.jsxs("div",{className:"container mx-auto px-6 py-4 flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Xs,{size:"sm"}),o.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:o.jsx(kl,{className:"w-5 h-5 text-primary"})}),o.jsxs("div",{children:[o.jsxs("h1",{className:"text-lg font-bold",children:["Welcome, ",(n==null?void 0:n.fullName)||"Host","!"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Manage your properties"})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Nr,{}),o.jsx(ie,{variant:"outline",onClick:()=>c(!0),children:"Sign Out"})]})]})}),o.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsxs("div",{className:"mb-8 p-6 rounded-xl bg-gradient-hero text-white",children:[o.jsxs("h2",{className:"text-3xl font-bold mb-2",children:["Welcome back, ",(n==null?void 0:n.fullName)||"Host","!"]}),o.jsx("p",{className:"text-white/90",children:(n==null?void 0:n.fullName)||"Host"})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[o.jsxs(se,{className:"relative overflow-hidden border-0 shadow-md hover:shadow-xl transition-all duration-300 group",children:[o.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-primary via-secondary to-accent"}),o.jsx(me,{className:"pb-3",children:o.jsx(pe,{className:"text-sm font-medium text-muted-foreground uppercase tracking-wide",children:"Active Listings"})}),o.jsx(be,{children:o.jsx("div",{className:"flex items-baseline justify-between",children:o.jsx("div",{className:"text-4xl font-bold bg-gradient-to-br from-primary to-primary-glow bg-clip-text text-transparent",children:i.activeListings})})})]}),o.jsxs(se,{className:"relative overflow-hidden border-0 shadow-md hover:shadow-xl transition-all duration-300 group",children:[o.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-secondary via-primary to-accent"}),o.jsx(me,{className:"pb-3",children:o.jsx(pe,{className:"text-sm font-medium text-muted-foreground uppercase tracking-wide",children:"Upcoming Bookings"})}),o.jsx(be,{children:o.jsx("div",{className:"flex items-baseline justify-between",children:o.jsx("div",{className:"text-4xl font-bold bg-gradient-to-br from-secondary to-secondary/80 bg-clip-text text-transparent",children:i.upcomingBookings})})})]}),o.jsxs(se,{className:"relative overflow-hidden border-0 shadow-md hover:shadow-xl transition-all duration-300 group",children:[o.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-accent via-primary to-secondary"}),o.jsx(me,{className:"pb-3",children:o.jsx(pe,{className:"text-sm font-medium text-muted-foreground uppercase tracking-wide",children:"Total Earnings"})}),o.jsx(be,{children:o.jsx("div",{className:"flex items-baseline justify-between",children:o.jsx("div",{className:"text-4xl font-bold",children:Qe(i.totalEarnings)})})})]}),o.jsxs(se,{className:"relative overflow-hidden border-0 shadow-md hover:shadow-xl transition-all duration-300 group",children:[o.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-accent via-green-500 to-green-600"}),o.jsx(me,{className:"pb-3",children:o.jsx(pe,{className:"text-sm font-medium text-muted-foreground uppercase tracking-wide",children:"Reward Points"})}),o.jsx(be,{children:o.jsx("div",{className:"flex items-baseline justify-between",children:o.jsx("div",{className:"text-4xl font-bold bg-gradient-accent bg-clip-text text-transparent",children:i.rewardPoints})})})]})]}),o.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[o.jsx(se,{className:"shadow-medium hover:shadow-hover transition-all duration-300 cursor-pointer border-border/50 hover:border-primary/50 group",onClick:()=>s("/host/create-listing"),children:o.jsxs(me,{className:"space-y-3",children:[o.jsx("div",{className:"w-14 h-14 rounded-xl bg-primary/10 flex items-center justify-center group-hover:scale-110 transition-transform",children:o.jsx(Uw,{className:"w-7 h-7 text-primary"})}),o.jsx(pe,{className:"group-hover:text-primary transition-colors",children:"Create New Listing"}),o.jsx(Be,{children:"Add a new property, experience, or service"})]})}),o.jsx(se,{className:"shadow-medium hover:shadow-hover transition-all duration-300 cursor-pointer border-border/50 hover:border-primary/50 group",onClick:()=>s("/host/listings"),children:o.jsxs(me,{className:"space-y-3",children:[o.jsx("div",{className:"w-14 h-14 rounded-xl bg-primary/10 flex items-center justify-center group-hover:scale-110 transition-transform",children:o.jsx(kl,{className:"w-7 h-7 text-primary"})}),o.jsx(pe,{className:"group-hover:text-primary transition-colors",children:"My Listings"}),o.jsx(Be,{children:"View and manage your active listings"})]})}),o.jsx(se,{className:"shadow-medium hover:shadow-hover transition-all duration-300 cursor-pointer border-border/50 hover:border-secondary/50 group",onClick:()=>s("/host/bookings"),children:o.jsxs(me,{className:"space-y-3",children:[o.jsx("div",{className:"w-14 h-14 rounded-xl bg-secondary/10 flex items-center justify-center group-hover:scale-110 transition-transform",children:o.jsx(qn,{className:"w-7 h-7 text-secondary"})}),o.jsx(pe,{className:"group-hover:text-secondary transition-colors",children:"Bookings"}),o.jsx(Be,{children:"Manage booking requests"})]})}),o.jsx(se,{className:"shadow-medium hover:shadow-hover transition-all duration-300 cursor-pointer border-border/50 hover:border-secondary/50 group",onClick:()=>s("/host/messages"),children:o.jsxs(me,{className:"space-y-3",children:[o.jsx("div",{className:"w-14 h-14 rounded-xl bg-secondary/10 flex items-center justify-center group-hover:scale-110 transition-transform",children:o.jsx(L9,{className:"w-7 h-7 text-secondary"})}),o.jsx(pe,{className:"group-hover:text-secondary transition-colors",children:"Messages"}),o.jsx(Be,{children:"Chat with guests and respond to inquiries"})]})}),o.jsx(se,{className:"shadow-medium hover:shadow-hover transition-all duration-300 cursor-pointer border-border/50 hover:border-accent/50 group",onClick:()=>s("/host/payments"),children:o.jsxs(me,{className:"space-y-3",children:[o.jsx("div",{className:"w-14 h-14 rounded-xl bg-accent/10 flex items-center justify-center group-hover:scale-110 transition-transform",children:o.jsx(nf,{className:"w-7 h-7 text-accent"})}),o.jsx(pe,{className:"group-hover:text-accent transition-colors",children:"Payments"}),o.jsx(Be,{children:"View earnings and payment methods"})]})}),o.jsx(se,{className:"shadow-medium hover:shadow-hover transition-all duration-300 cursor-pointer border-border/50 hover:border-accent/50 group",onClick:()=>s("/host/settings?tab=profile"),children:o.jsxs(me,{className:"space-y-3",children:[o.jsx("div",{className:"w-14 h-14 rounded-xl bg-accent/10 flex items-center justify-center group-hover:scale-110 transition-transform",children:o.jsx(pP,{className:"w-7 h-7 text-accent"})}),o.jsx(pe,{className:"group-hover:text-accent transition-colors",children:"Points & Rewards"}),o.jsx(Be,{children:"Track your rewards and achievements"})]})}),o.jsx(se,{className:"shadow-medium hover:shadow-hover transition-all duration-300 cursor-pointer border-border/50 hover:border-muted-foreground/50 group",onClick:()=>s("/host/settings"),children:o.jsxs(me,{className:"space-y-3",children:[o.jsx("div",{className:"w-14 h-14 rounded-xl bg-muted/10 flex items-center justify-center group-hover:scale-110 transition-transform",children:o.jsx(i_,{className:"w-7 h-7 text-muted-foreground"})}),o.jsx(pe,{className:"group-hover:text-muted-foreground transition-colors",children:"Settings"}),o.jsx(Be,{children:"Manage your account preferences"})]})})]}),o.jsx(BJ,{})]}),o.jsx(wr,{open:l,onOpenChange:c,children:o.jsxs(rr,{children:[o.jsxs(sr,{children:[o.jsx(or,{children:"Sign Out"}),o.jsx(ar,{children:"Are you sure you want to sign out? You'll need to sign in again to access your account."})]}),o.jsxs(ir,{children:[o.jsx(cr,{children:"Cancel"}),o.jsx(lr,{onClick:d,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Sign Out"})]})]})})]})},WJ="modulepreload",HJ=function(t){return"/"+t},hk={},$n=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=HJ(c),c in hk)return;hk[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":WJ,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((p,g)=>{f.addEventListener("load",p),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})};var fk=1,qJ=.9,GJ=.8,KJ=.17,kx=.1,Tx=.999,YJ=.9999,QJ=.99,XJ=/[\\\/_+.#"@\[\(\{&]/,ZJ=/[\\\/_+.#"@\[\(\{&]/g,JJ=/[\s-]/,Q4=/[\s-]/g;function A0(t,e,n,r,s,i,a){if(i===e.length)return s===t.length?fk:QJ;var l=`${s},${i}`;if(a[l]!==void 0)return a[l];for(var c=r.charAt(i),u=n.indexOf(c,s),d=0,f,p,g,b;u>=0;)f=A0(t,e,n,r,u+1,i+1,a),f>d&&(u===s?f*=fk:XJ.test(t.charAt(u-1))?(f*=GJ,g=t.slice(s,u-1).match(ZJ),g&&s>0&&(f*=Math.pow(Tx,g.length))):JJ.test(t.charAt(u-1))?(f*=qJ,b=t.slice(s,u-1).match(Q4),b&&s>0&&(f*=Math.pow(Tx,b.length))):(f*=KJ,s>0&&(f*=Math.pow(Tx,u-s))),t.charAt(u)!==e.charAt(i)&&(f*=YJ)),(f<kx&&n.charAt(u-1)===r.charAt(i+1)||r.charAt(i+1)===r.charAt(i)&&n.charAt(u-1)!==r.charAt(i))&&(p=A0(t,e,n,r,u+1,i+2,a),p*kx>f&&(f=p*kx)),f>d&&(d=f),u=n.indexOf(c,u+1);return a[l]=d,d}function mk(t){return t.toLowerCase().replace(Q4," ")}function eee(t,e,n){return t=n&&n.length>0?`${t+" "+n.join(" ")}`:t,A0(t,e,mk(t),mk(e),0,0,{})}var xd='[cmdk-group=""]',Ix='[cmdk-group-items=""]',tee='[cmdk-group-heading=""]',X4='[cmdk-item=""]',pk=`${X4}:not([aria-disabled="true"])`,D0="cmdk-item-select",xc="data-value",nee=(t,e,n)=>eee(t,e,n),Z4=m.createContext(void 0),Ff=()=>m.useContext(Z4),J4=m.createContext(void 0),K1=()=>m.useContext(J4),eL=m.createContext(void 0),tL=m.forwardRef((t,e)=>{let n=wc(()=>{var $,te;return{search:"",value:(te=($=t.value)!=null?$:t.defaultValue)!=null?te:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),r=wc(()=>new Set),s=wc(()=>new Map),i=wc(()=>new Map),a=wc(()=>new Set),l=nL(t),{label:c,children:u,value:d,onValueChange:f,filter:p,shouldFilter:g,loop:b,disablePointerSelection:y=!1,vimBindings:w=!0,..._}=t,x=Wn(),v=Wn(),j=Wn(),P=m.useRef(null),D=fee();zl(()=>{if(d!==void 0){let $=d.trim();n.current.value=$,S.emit()}},[d]),zl(()=>{D(6,R)},[]);let S=m.useMemo(()=>({subscribe:$=>(a.current.add($),()=>a.current.delete($)),snapshot:()=>n.current,setState:($,te,ue)=>{var de,Ce,J,Fe;if(!Object.is(n.current[$],te)){if(n.current[$]=te,$==="search")A(),k(),D(1,I);else if($==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let Me=document.getElementById(j);Me?Me.focus():(de=document.getElementById(x))==null||de.focus()}if(D(7,()=>{var Me;n.current.selectedItemId=(Me=W())==null?void 0:Me.id,S.emit()}),ue||D(5,R),((Ce=l.current)==null?void 0:Ce.value)!==void 0){let Me=te??"";(Fe=(J=l.current).onValueChange)==null||Fe.call(J,Me);return}}S.emit()}},emit:()=>{a.current.forEach($=>$())}}),[]),N=m.useMemo(()=>({value:($,te,ue)=>{var de;te!==((de=i.current.get($))==null?void 0:de.value)&&(i.current.set($,{value:te,keywords:ue}),n.current.filtered.items.set($,T(te,ue)),D(2,()=>{k(),S.emit()}))},item:($,te)=>(r.current.add($),te&&(s.current.has(te)?s.current.get(te).add($):s.current.set(te,new Set([$]))),D(3,()=>{A(),k(),n.current.value||I(),S.emit()}),()=>{i.current.delete($),r.current.delete($),n.current.filtered.items.delete($);let ue=W();D(4,()=>{A(),(ue==null?void 0:ue.getAttribute("id"))===$&&I(),S.emit()})}),group:$=>(s.current.has($)||s.current.set($,new Set),()=>{i.current.delete($),s.current.delete($)}),filter:()=>l.current.shouldFilter,label:c||t["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:x,inputId:j,labelId:v,listInnerRef:P}),[]);function T($,te){var ue,de;let Ce=(de=(ue=l.current)==null?void 0:ue.filter)!=null?de:nee;return $?Ce($,n.current.search,te):0}function k(){if(!n.current.search||l.current.shouldFilter===!1)return;let $=n.current.filtered.items,te=[];n.current.filtered.groups.forEach(de=>{let Ce=s.current.get(de),J=0;Ce.forEach(Fe=>{let Me=$.get(Fe);J=Math.max(Me,J)}),te.push([de,J])});let ue=P.current;U().sort((de,Ce)=>{var J,Fe;let Me=de.getAttribute("id"),le=Ce.getAttribute("id");return((J=$.get(le))!=null?J:0)-((Fe=$.get(Me))!=null?Fe:0)}).forEach(de=>{let Ce=de.closest(Ix);Ce?Ce.appendChild(de.parentElement===Ce?de:de.closest(`${Ix} > *`)):ue.appendChild(de.parentElement===ue?de:de.closest(`${Ix} > *`))}),te.sort((de,Ce)=>Ce[1]-de[1]).forEach(de=>{var Ce;let J=(Ce=P.current)==null?void 0:Ce.querySelector(`${xd}[${xc}="${encodeURIComponent(de[0])}"]`);J==null||J.parentElement.appendChild(J)})}function I(){let $=U().find(ue=>ue.getAttribute("aria-disabled")!=="true"),te=$==null?void 0:$.getAttribute(xc);S.setState("value",te||void 0)}function A(){var $,te,ue,de;if(!n.current.search||l.current.shouldFilter===!1){n.current.filtered.count=r.current.size;return}n.current.filtered.groups=new Set;let Ce=0;for(let J of r.current){let Fe=(te=($=i.current.get(J))==null?void 0:$.value)!=null?te:"",Me=(de=(ue=i.current.get(J))==null?void 0:ue.keywords)!=null?de:[],le=T(Fe,Me);n.current.filtered.items.set(J,le),le>0&&Ce++}for(let[J,Fe]of s.current)for(let Me of Fe)if(n.current.filtered.items.get(Me)>0){n.current.filtered.groups.add(J);break}n.current.filtered.count=Ce}function R(){var $,te,ue;let de=W();de&&((($=de.parentElement)==null?void 0:$.firstChild)===de&&((ue=(te=de.closest(xd))==null?void 0:te.querySelector(tee))==null||ue.scrollIntoView({block:"nearest"})),de.scrollIntoView({block:"nearest"}))}function W(){var $;return($=P.current)==null?void 0:$.querySelector(`${X4}[aria-selected="true"]`)}function U(){var $;return Array.from((($=P.current)==null?void 0:$.querySelectorAll(pk))||[])}function q($){let te=U()[$];te&&S.setState("value",te.getAttribute(xc))}function K($){var te;let ue=W(),de=U(),Ce=de.findIndex(Fe=>Fe===ue),J=de[Ce+$];(te=l.current)!=null&&te.loop&&(J=Ce+$<0?de[de.length-1]:Ce+$===de.length?de[0]:de[Ce+$]),J&&S.setState("value",J.getAttribute(xc))}function L($){let te=W(),ue=te==null?void 0:te.closest(xd),de;for(;ue&&!de;)ue=$>0?dee(ue,xd):hee(ue,xd),de=ue==null?void 0:ue.querySelector(pk);de?S.setState("value",de.getAttribute(xc)):K($)}let V=()=>q(U().length-1),F=$=>{$.preventDefault(),$.metaKey?V():$.altKey?L(1):K(1)},Q=$=>{$.preventDefault(),$.metaKey?q(0):$.altKey?L(-1):K(-1)};return m.createElement(ke.div,{ref:e,tabIndex:-1,..._,"cmdk-root":"",onKeyDown:$=>{var te;(te=_.onKeyDown)==null||te.call(_,$);let ue=$.nativeEvent.isComposing||$.keyCode===229;if(!($.defaultPrevented||ue))switch($.key){case"n":case"j":{w&&$.ctrlKey&&F($);break}case"ArrowDown":{F($);break}case"p":case"k":{w&&$.ctrlKey&&Q($);break}case"ArrowUp":{Q($);break}case"Home":{$.preventDefault(),q(0);break}case"End":{$.preventDefault(),V();break}case"Enter":{$.preventDefault();let de=W();if(de){let Ce=new Event(D0);de.dispatchEvent(Ce)}}}}},m.createElement("label",{"cmdk-label":"",htmlFor:N.inputId,id:N.labelId,style:pee},c),Xv(t,$=>m.createElement(J4.Provider,{value:S},m.createElement(Z4.Provider,{value:N},$))))}),ree=m.forwardRef((t,e)=>{var n,r;let s=Wn(),i=m.useRef(null),a=m.useContext(eL),l=Ff(),c=nL(t),u=(r=(n=c.current)==null?void 0:n.forceMount)!=null?r:a==null?void 0:a.forceMount;zl(()=>{if(!u)return l.item(s,a==null?void 0:a.id)},[u]);let d=rL(s,i,[t.value,t.children,i],t.keywords),f=K1(),p=Pa(D=>D.value&&D.value===d.current),g=Pa(D=>u||l.filter()===!1?!0:D.search?D.filtered.items.get(s)>0:!0);m.useEffect(()=>{let D=i.current;if(!(!D||t.disabled))return D.addEventListener(D0,b),()=>D.removeEventListener(D0,b)},[g,t.onSelect,t.disabled]);function b(){var D,S;y(),(S=(D=c.current).onSelect)==null||S.call(D,d.current)}function y(){f.setState("value",d.current,!0)}if(!g)return null;let{disabled:w,value:_,onSelect:x,forceMount:v,keywords:j,...P}=t;return m.createElement(ke.div,{ref:io(i,e),...P,id:s,"cmdk-item":"",role:"option","aria-disabled":!!w,"aria-selected":!!p,"data-disabled":!!w,"data-selected":!!p,onPointerMove:w||l.getDisablePointerSelection()?void 0:y,onClick:w?void 0:b},t.children)}),see=m.forwardRef((t,e)=>{let{heading:n,children:r,forceMount:s,...i}=t,a=Wn(),l=m.useRef(null),c=m.useRef(null),u=Wn(),d=Ff(),f=Pa(g=>s||d.filter()===!1?!0:g.search?g.filtered.groups.has(a):!0);zl(()=>d.group(a),[]),rL(a,l,[t.value,t.heading,c]);let p=m.useMemo(()=>({id:a,forceMount:s}),[s]);return m.createElement(ke.div,{ref:io(l,e),...i,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},n&&m.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},n),Xv(t,g=>m.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?u:void 0},m.createElement(eL.Provider,{value:p},g))))}),iee=m.forwardRef((t,e)=>{let{alwaysRender:n,...r}=t,s=m.useRef(null),i=Pa(a=>!a.search);return!n&&!i?null:m.createElement(ke.div,{ref:io(s,e),...r,"cmdk-separator":"",role:"separator"})}),oee=m.forwardRef((t,e)=>{let{onValueChange:n,...r}=t,s=t.value!=null,i=K1(),a=Pa(u=>u.search),l=Pa(u=>u.selectedItemId),c=Ff();return m.useEffect(()=>{t.value!=null&&i.setState("search",t.value)},[t.value]),m.createElement(ke.input,{ref:e,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:s?t.value:a,onChange:u=>{s||i.setState("search",u.target.value),n==null||n(u.target.value)}})}),aee=m.forwardRef((t,e)=>{let{children:n,label:r="Suggestions",...s}=t,i=m.useRef(null),a=m.useRef(null),l=Pa(u=>u.selectedItemId),c=Ff();return m.useEffect(()=>{if(a.current&&i.current){let u=a.current,d=i.current,f,p=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let g=u.offsetHeight;d.style.setProperty("--cmdk-list-height",g.toFixed(1)+"px")})});return p.observe(u),()=>{cancelAnimationFrame(f),p.unobserve(u)}}},[]),m.createElement(ke.div,{ref:io(i,e),...s,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":r,id:c.listId},Xv(t,u=>m.createElement("div",{ref:io(a,c.listInnerRef),"cmdk-list-sizer":""},u)))}),lee=m.forwardRef((t,e)=>{let{open:n,onOpenChange:r,overlayClassName:s,contentClassName:i,container:a,...l}=t;return m.createElement(z1,{open:n,onOpenChange:r},m.createElement(W1,{container:a},m.createElement(Yv,{"cmdk-overlay":"",className:s}),m.createElement(Qv,{"aria-label":t.label,"cmdk-dialog":"",className:i},m.createElement(tL,{ref:e,...l}))))}),cee=m.forwardRef((t,e)=>Pa(n=>n.filtered.count===0)?m.createElement(ke.div,{ref:e,...t,"cmdk-empty":"",role:"presentation"}):null),uee=m.forwardRef((t,e)=>{let{progress:n,children:r,label:s="Loading...",...i}=t;return m.createElement(ke.div,{ref:e,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":s},Xv(t,a=>m.createElement("div",{"aria-hidden":!0},a)))}),$r=Object.assign(tL,{List:aee,Item:ree,Input:oee,Group:see,Separator:iee,Dialog:lee,Empty:cee,Loading:uee});function dee(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return n;n=n.nextElementSibling}}function hee(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return n;n=n.previousElementSibling}}function nL(t){let e=m.useRef(t);return zl(()=>{e.current=t}),e}var zl=typeof window>"u"?m.useEffect:m.useLayoutEffect;function wc(t){let e=m.useRef();return e.current===void 0&&(e.current=t()),e}function Pa(t){let e=K1(),n=()=>t(e.snapshot());return m.useSyncExternalStore(e.subscribe,n,n)}function rL(t,e,n,r=[]){let s=m.useRef(),i=Ff();return zl(()=>{var a;let l=(()=>{var u;for(let d of n){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(u=d.current.textContent)==null?void 0:u.trim():s.current}})(),c=r.map(u=>u.trim());i.value(t,l,c),(a=e.current)==null||a.setAttribute(xc,l),s.current=l}),s}var fee=()=>{let[t,e]=m.useState(),n=wc(()=>new Map);return zl(()=>{n.current.forEach(r=>r()),n.current=new Map},[t]),(r,s)=>{n.current.set(r,s),e({})}};function mee(t){let e=t.type;return typeof e=="function"?e(t.props):"render"in e?e.render(t.props):t}function Xv({asChild:t,children:e},n){return t&&m.isValidElement(e)?m.cloneElement(mee(e),{ref:e.ref},n(e.props.children)):n(e)}var pee={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const gk=z1,gee=W1,sL=m.forwardRef(({className:t,...e},n)=>o.jsx(Yv,{ref:n,className:_e("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));sL.displayName=Yv.displayName;const O0=m.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(gee,{children:[o.jsx(sL,{}),o.jsxs(Qv,{ref:r,className:_e("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,o.jsxs(G1,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[o.jsx(Pl,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));O0.displayName=Qv.displayName;const M0=({className:t,...e})=>o.jsx("div",{className:_e("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});M0.displayName="DialogHeader";const L0=m.forwardRef(({className:t,...e},n)=>o.jsx(H1,{ref:n,className:_e("text-lg font-semibold leading-none tracking-tight",t),...e}));L0.displayName=H1.displayName;const F0=m.forwardRef(({className:t,...e},n)=>o.jsx(q1,{ref:n,className:_e("text-sm text-muted-foreground",t),...e}));F0.displayName=q1.displayName;const iL=m.forwardRef(({className:t,...e},n)=>o.jsx($r,{ref:n,className:_e("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",t),...e}));iL.displayName=$r.displayName;const oL=m.forwardRef(({className:t,...e},n)=>o.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[o.jsx(Wc,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),o.jsx($r.Input,{ref:n,className:_e("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",t),...e})]}));oL.displayName=$r.Input.displayName;const aL=m.forwardRef(({className:t,...e},n)=>o.jsx($r.List,{ref:n,className:_e("max-h-[300px] overflow-y-auto overflow-x-hidden",t),...e}));aL.displayName=$r.List.displayName;const lL=m.forwardRef((t,e)=>o.jsx($r.Empty,{ref:e,className:"py-6 text-center text-sm",...t}));lL.displayName=$r.Empty.displayName;const dp=m.forwardRef(({className:t,...e},n)=>o.jsx($r.Group,{ref:n,className:_e("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t),...e}));dp.displayName=$r.Group.displayName;const vee=m.forwardRef(({className:t,...e},n)=>o.jsx($r.Separator,{ref:n,className:_e("-mx-1 h-px bg-border",t),...e}));vee.displayName=$r.Separator.displayName;const Dd=m.forwardRef(({className:t,...e},n)=>o.jsx($r.Item,{ref:n,className:_e("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",t),...e}));Dd.displayName=$r.Item.displayName;var Zv="Popover",[cL,nae]=Kn(Zv,[Fa]),Vf=Fa(),[yee,Ha]=cL(Zv),uL=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:a=!1}=t,l=Vf(e),c=m.useRef(null),[u,d]=m.useState(!1),[f,p]=Si({prop:r,defaultProp:s??!1,onChange:i,caller:Zv});return o.jsx(__,{...l,children:o.jsx(yee,{scope:e,contentId:Wn(),triggerRef:c,open:f,onOpenChange:p,onOpenToggle:m.useCallback(()=>p(g=>!g),[p]),hasCustomAnchor:u,onCustomAnchorAdd:m.useCallback(()=>d(!0),[]),onCustomAnchorRemove:m.useCallback(()=>d(!1),[]),modal:a,children:n})})};uL.displayName=Zv;var dL="PopoverAnchor",xee=m.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Ha(dL,n),i=Vf(n),{onCustomAnchorAdd:a,onCustomAnchorRemove:l}=s;return m.useEffect(()=>(a(),()=>l()),[a,l]),o.jsx(af,{...i,...r,ref:e})});xee.displayName=dL;var hL="PopoverTrigger",fL=m.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Ha(hL,n),i=Vf(n),a=Ze(e,s.triggerRef),l=o.jsx(ke.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":yL(s.open),...r,ref:a,onClick:xe(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:o.jsx(af,{asChild:!0,...i,children:l})});fL.displayName=hL;var Y1="PopoverPortal",[wee,bee]=cL(Y1,{forceMount:void 0}),mL=t=>{const{__scopePopover:e,forceMount:n,children:r,container:s}=t,i=Ha(Y1,e);return o.jsx(wee,{scope:e,forceMount:n,children:o.jsx(Ln,{present:n||i.open,children:o.jsx(Ou,{asChild:!0,container:s,children:r})})})};mL.displayName=Y1;var Eu="PopoverContent",pL=m.forwardRef((t,e)=>{const n=bee(Eu,t.__scopePopover),{forceMount:r=n.forceMount,...s}=t,i=Ha(Eu,t.__scopePopover);return o.jsx(Ln,{present:r||i.open,children:i.modal?o.jsx(Eee,{...s,ref:e}):o.jsx(Nee,{...s,ref:e})})});pL.displayName=Eu;var _ee=ba("PopoverContent.RemoveScroll"),Eee=m.forwardRef((t,e)=>{const n=Ha(Eu,t.__scopePopover),r=m.useRef(null),s=Ze(e,r),i=m.useRef(!1);return m.useEffect(()=>{const a=r.current;if(a)return $v(a)},[]),o.jsx(Of,{as:_ee,allowPinchZoom:!0,children:o.jsx(gL,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:xe(t.onCloseAutoFocus,a=>{var l;a.preventDefault(),i.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:xe(t.onPointerDownOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:xe(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),Nee=m.forwardRef((t,e)=>{const n=Ha(Eu,t.__scopePopover),r=m.useRef(!1),s=m.useRef(!1);return o.jsx(gL,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,l;(a=t.onCloseAutoFocus)==null||a.call(t,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),gL=m.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=t,p=Ha(Eu,n),g=Vf(n);return Vv(),o.jsx(Af,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:o.jsx(Xl,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>p.onOpenChange(!1),children:o.jsx(ov,{"data-state":yL(p.open),role:"dialog",id:p.contentId,...g,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),vL="PopoverClose",See=m.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Ha(vL,n);return o.jsx(ke.button,{type:"button",...r,ref:e,onClick:xe(t.onClick,()=>s.onOpenChange(!1))})});See.displayName=vL;var jee="PopoverArrow",Cee=m.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Vf(n);return o.jsx(av,{...s,...r,ref:e})});Cee.displayName=jee;function yL(t){return t?"open":"closed"}var kee=uL,Tee=fL,Iee=mL,xL=pL;const wg=kee,bg=Tee,Uh=m.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},s)=>o.jsx(Iee,{children:o.jsx(xL,{ref:s,align:e,sideOffset:n,className:_e("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));Uh.displayName=xL.displayName;const Om="recent_searches",Ree=5,wL=({onSearch:t,placeholder:e="Search destinations, experiences, services...",className:n=""})=>{const[r,s]=m.useState(""),[i,a]=m.useState([]),[l,c]=m.useState([]),[u,d]=m.useState(!1),[f,p]=m.useState(!1),g=pt(),b=m.useRef(null);m.useEffect(()=>{y()},[]),m.useEffect(()=>{r.trim().length>2?v(r):a([])},[r]);const y=()=>{try{const N=localStorage.getItem(Om);N&&c(JSON.parse(N))}catch(N){console.error("Error loading recent searches:",N)}},w=N=>{if(N.trim())try{const T=[...l],k=T.indexOf(N);k>-1&&T.splice(k,1),T.unshift(N);const I=T.slice(0,Ree);c(I),localStorage.setItem(Om,JSON.stringify(I))}catch(T){console.error("Error saving recent search:",T)}},_=()=>{c([]),localStorage.removeItem(Om),H.success("Recent searches cleared")},x=N=>{const T=l.filter(k=>k!==N);c(T),localStorage.setItem(Om,JSON.stringify(T))},v=(()=>{let N;return T=>{clearTimeout(N),N=setTimeout(async()=>{await j(T)},300)}})(),j=async N=>{if(!N.trim()){a([]);return}p(!0);try{const T=await kf({status:"approved"}),k=N.toLowerCase(),A=T.filter(R=>{const W=R.title.toLowerCase().includes(k),U=R.location.toLowerCase().includes(k),q=R.description.toLowerCase().includes(k),K=R.category.toLowerCase().includes(k);return W||U||q||K}).sort((R,W)=>{const U=R.title.toLowerCase().includes(k)?3:0,q=R.location.toLowerCase().includes(k)?2:0,K=R.description.toLowerCase().includes(k)?1:0,L=U+q+K,V=W.title.toLowerCase().includes(k)?3:0,F=W.location.toLowerCase().includes(k)?2:0,Q=W.description.toLowerCase().includes(k)?1:0;return V+F+Q-L});a(A.slice(0,5))}catch(T){console.error("Error searching:",T),H.error("Failed to load suggestions")}finally{p(!1)}},P=N=>{w(r),g(`/guest/listing/${N.id}`),d(!1),s("")},D=N=>{s(N),w(N),t&&t(N),g("/guest/browse"),d(!1)},S=N=>{N.preventDefault(),r.trim()&&(w(r),t&&t(r),g("/guest/browse"),d(!1))};return o.jsxs("form",{onSubmit:S,className:`relative flex gap-2 ${n}`,children:[o.jsxs(wg,{open:u,onOpenChange:d,children:[o.jsx(bg,{asChild:!0,children:o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Wc,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground pointer-events-none z-10"}),o.jsx(qe,{ref:b,type:"search",placeholder:e,value:r,onChange:N=>s(N.target.value),onFocus:()=>d(!0),className:"pl-10 h-12 w-full",autoComplete:"off"})]})}),o.jsx(Uh,{className:"w-[var(--radix-popover-trigger-width)] p-0",align:"start",children:o.jsxs(iL,{shouldFilter:!1,children:[o.jsx(oL,{placeholder:"Search...",value:r,onValueChange:s}),o.jsxs(aL,{children:[f&&o.jsx("div",{className:"p-4 text-center text-sm text-muted-foreground",children:"Searching..."}),!f&&i.length===0&&r.trim().length>2&&o.jsx(lL,{children:"No results found."}),!f&&i.length>0&&o.jsx(dp,{heading:"Suggestions",children:i.map(N=>{var T;return o.jsx(Dd,{value:N.id,onSelect:()=>P(N),className:"cursor-pointer",children:o.jsxs("div",{className:"flex items-start gap-3 w-full",children:[o.jsx("img",{src:((T=N.images)==null?void 0:T[0])||"/placeholder.svg",alt:N.title,className:"w-12 h-12 object-cover rounded"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-medium truncate",children:N.title}),o.jsx("p",{className:"text-xs text-muted-foreground truncate",children:N.location}),o.jsxs("p",{className:"text-xs font-semibold text-primary mt-1",children:[Qe(N.price),"/night"]})]})]})},N.id)})}),!f&&l.length>0&&r.trim().length===0&&o.jsxs(dp,{heading:"Recent Searches",children:[l.map((N,T)=>o.jsx(Dd,{value:N,onSelect:()=>D(N),className:"cursor-pointer group",children:o.jsxs("div",{className:"flex items-center justify-between w-full",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(nv,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{children:N})]}),o.jsx(ie,{variant:"ghost",size:"icon",className:"h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity",onClick:k=>{k.stopPropagation(),x(N)},children:o.jsx(Pl,{className:"h-3 w-3"})})]})},T)),o.jsx(Dd,{value:"clear-all",onSelect:_,className:"cursor-pointer text-muted-foreground",children:o.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[o.jsx(Pl,{className:"h-3 w-3"}),"Clear all recent searches"]})})]}),!f&&r.trim().length>0&&o.jsx(dp,{children:o.jsx(Dd,{value:"search-all",onSelect:S,className:"cursor-pointer",children:o.jsxs("div",{className:"flex items-center gap-2 w-full",children:[o.jsx(Wc,{className:"h-4 w-4"}),o.jsxs("span",{children:['Search for "',r,'"']})]})})})]})]})})]}),o.jsxs(ie,{type:"submit",className:"h-12 px-6",children:[o.jsx(Wc,{className:"h-4 w-4 mr-2 sm:mr-0 sm:inline"}),o.jsx("span",{className:"hidden sm:inline",children:"Search"})]})]})},mo=({listing:t,onView:e,onFavorite:n,onWishlist:r,isFavorite:s,isInWishlist:i})=>{var a;return o.jsxs(se,{className:"group relative overflow-hidden border-0 shadow-sm hover:shadow-xl transition-all duration-500 hover:-translate-y-1",children:[o.jsxs("div",{className:"relative h-56 overflow-hidden",children:[o.jsx("img",{src:((a=t.images)==null?void 0:a[0])||"/placeholder.svg",alt:t.title,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110",loading:"lazy"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),o.jsxs("div",{className:"absolute top-3 right-3 flex gap-2 z-10",children:[r&&o.jsx(ie,{variant:"ghost",size:"icon",className:"bg-white/90 backdrop-blur-sm hover:bg-white hover:scale-110 transition-all duration-300 shadow-lg",onClick:l=>{l.stopPropagation(),r()},title:i?"Remove from wishlist":"Add to wishlist",children:o.jsx(mu,{className:`h-5 w-5 transition-all ${i?"fill-blue-500 text-blue-500 scale-110":"text-gray-700"}`})}),n&&o.jsx(ie,{variant:"ghost",size:"icon",className:"bg-white/90 backdrop-blur-sm hover:bg-white hover:scale-110 transition-all duration-300 shadow-lg",onClick:l=>{l.stopPropagation(),n()},title:s?"Remove from favorites":"Add to favorites",children:o.jsx(_a,{className:`h-5 w-5 transition-all ${s?"fill-red-500 text-red-500 scale-110":"text-gray-700"}`})})]}),o.jsx(Sn,{className:"absolute top-3 left-3 bg-white/90 backdrop-blur-sm text-foreground font-medium shadow-md capitalize z-10",children:t.category}),o.jsxs("div",{className:"absolute bottom-3 right-3 bg-white/95 backdrop-blur-sm px-3 py-1.5 rounded-full shadow-lg z-10 border border-white/20",children:[o.jsx("span",{className:"text-lg font-bold text-gray-900",children:Qe(t.price)}),o.jsx("span",{className:"text-xs text-gray-700 font-medium",children:"/night"})]})]}),o.jsxs(be,{className:"p-5",children:[o.jsx("h3",{className:"font-semibold text-lg mb-2 line-clamp-1 group-hover:text-primary transition-colors",children:t.title}),o.jsxs("div",{className:"flex items-center text-sm text-foreground/80 mb-3",children:[o.jsx(s_,{className:"h-4 w-4 mr-1.5 flex-shrink-0 text-foreground/70"}),o.jsx("span",{className:"line-clamp-1",children:t.location})]}),o.jsx("p",{className:"text-sm text-foreground/75 line-clamp-2 mb-4 leading-relaxed",children:t.description}),o.jsx("div",{className:"flex items-center justify-between pt-3 border-t border-border/50",children:o.jsxs("div",{className:"flex items-center gap-4 text-xs text-foreground/80",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(ca,{className:"h-3.5 w-3.5 fill-yellow-400 text-yellow-400"}),o.jsx("span",{className:"font-medium",children:"4.8"})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Rl,{className:"h-3.5 w-3.5 text-foreground/70"}),o.jsxs("span",{className:"font-medium",children:[t.maxGuests," guests"]})]})]})})]}),e&&o.jsx(_O,{className:"px-5 pb-5 pt-0",children:o.jsx(ie,{className:"w-full h-11",onClick:e,children:"View Details"})})]})},bL=async(t,e=6)=>{try{const n=await Gt(bt(st(ge,"bookings"),_t("guestId","==",t)));if(n.empty)return vk(e);const r=n.docs.map(b=>b.data()),s=[...new Set(r.map(b=>b.listingId))],i=r.map(b=>b.listingId),a=[];for(const b of i){const y=await Rt($e(ge,"listing",b));y.exists()&&a.push({id:y.id,...y.data()})}const l=a.map(b=>b.category),c=a.map(b=>b.location.toLowerCase()),u=a.reduce((b,y)=>b+y.price,0)/a.length,d={min:u*.7,max:u*1.5};return(await Gt(bt(st(ge,"listing"),_t("status","==","approved")))).docs.map(b=>({id:b.id,...b.data()})).filter(b=>!i.includes(b.id)).map(b=>{let y=0;l.includes(b.category)&&(y+=3);const w=b.location.toLowerCase();return c.forEach(_=>{(w.includes(_.split(",")[0])||_.includes(w.split(",")[0]))&&(y+=2)}),b.price>=d.min&&b.price<=d.max&&(y+=1),b.images&&b.images.length>3&&(y+=.5),{listing:b,score:y}}).sort((b,y)=>y.score-b.score).slice(0,e).map(b=>b.listing)}catch(n){return console.error("Error getting recommendations:",n),vk(e)}},vk=async t=>{try{return(await Gt(bt(st(ge,"listing"),_t("status","==","approved")))).docs.map(r=>({id:r.id,...r.data()})).sort((r,s)=>new Date(s.createdAt).getTime()-new Date(r.createdAt).getTime()).slice(0,t)}catch(e){return console.error("Error getting popular listings:",e),[]}},Pee=async(t,e=4)=>{try{const n=await Rt($e(ge,"listing",t));if(!n.exists())return[];const r={id:n.id,...n.data()};return(await Gt(bt(st(ge,"listing"),_t("status","==","approved")))).docs.map(a=>({id:a.id,...a.data()})).filter(a=>a.id!==t).map(a=>{let l=0;a.category===r.category&&(l+=3);const c=r.location.toLowerCase(),u=a.location.toLowerCase();return(u.includes(c.split(",")[0])||c.includes(u.split(",")[0]))&&(l+=2),Math.abs(a.price-r.price)/r.price<=.3&&(l+=1),{listing:a,score:l}}).sort((a,l)=>l.score-a.score).slice(0,e).map(a=>a.listing)}catch(n){return console.error("Error getting similar listings:",n),[]}},Aee=Object.freeze(Object.defineProperty({__proto__:null,getRecommendations:bL,getSimilarListings:Pee},Symbol.toStringTag,{value:"Module"})),Dee=()=>{const{user:t,userRole:e,userProfile:n,signOut:r}=Dt(),s=pt(),[i,a]=m.useState({favorites:0,wishlist:0,upcomingTrips:0,pastBookings:0,walletBalance:0}),[l,c]=m.useState([]),[u,d]=m.useState([]),[f,p]=m.useState(!0),[g,b]=m.useState(!1);m.useEffect(()=>{if(!t||e!=="guest"){s("/guest/login");return}y();const v=Ei($e(ge,"users",t.uid),j=>{if(j.exists()){const P=j.data();a(D=>{var S,N;return{...D,favorites:((S=P.favorites)==null?void 0:S.length)||0,wishlist:((N=P.wishlist)==null?void 0:N.length)||0,walletBalance:P.walletBalance||0}}),d(P.favorites||[])}});return()=>{v()}},[t,e,s]);const y=async()=>{if(t){p(!0);try{const v=await yo({guestId:t.uid}),j=new Date,P=v.filter(N=>new Date(N.checkIn)>=j&&N.status==="confirmed").length,D=v.filter(N=>new Date(N.checkOut)<j||N.status==="completed").length;a(N=>({...N,upcomingTrips:P,pastBookings:D}));const S=await bL(t.uid,6);c(S)}catch(v){console.error("Error loading dashboard data:",v)}finally{p(!1)}}},w=async v=>{if(!t){H.error("Please login to add favorites");return}try{const j=await If(t.uid,v,u);d(j),H.success(j.includes(v)?"Added to favorites":"Removed from favorites")}catch{H.error("Failed to update favorites")}},_=async v=>{if(!t){H.error("Please login to add to wishlist");return}try{const{toggleWishlist:j}=await $n(async()=>{const{toggleWishlist:N}=await Promise.resolve().then(()=>fo);return{toggleWishlist:N}},void 0),P=await Rt($e(ge,"users",t.uid)),D=P.exists()?P.data().wishlist||[]:[],S=await j(t.uid,v,D);H.success(S.includes(v)?"Added to wishlist":"Removed from wishlist")}catch{H.error("Failed to update wishlist")}},x=async()=>{await r(),s("/")};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"sticky top-0 z-50 border-b bg-card/95 backdrop-blur supports-[backdrop-filter]:bg-card/60 shadow-soft",children:o.jsxs("div",{className:"container mx-auto px-6 py-4 flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Xs,{size:"sm"}),o.jsx("div",{className:"p-2 rounded-lg bg-secondary/10",children:o.jsx(sf,{className:"w-5 h-5 text-secondary"})}),o.jsxs("div",{children:[o.jsxs("h1",{className:"text-lg font-bold",children:["Welcome, ",(n==null?void 0:n.fullName)||"Guest","!"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Discover your next adventure"})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Nr,{}),o.jsx(ie,{variant:"outline",onClick:()=>b(!0),children:"Sign Out"})]})]})}),o.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsxs("div",{className:"mb-8 p-6 rounded-xl bg-gradient-to-r from-secondary to-secondary/80 text-white",children:[o.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Discover Your Next Adventure"}),o.jsx("p",{className:"text-white/90",children:(n==null?void 0:n.fullName)||"Guest"})]}),o.jsx(se,{className:"shadow-medium mb-8 border-border/50",children:o.jsx(be,{className:"pt-6",children:o.jsx(wL,{onSearch:v=>s("/guest/browse"),placeholder:"Search destinations, experiences, services..."})})}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[o.jsxs(se,{className:"relative overflow-hidden border-0 shadow-md hover:shadow-xl transition-all duration-300 group",children:[o.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-primary via-secondary to-accent"}),o.jsx(me,{className:"pb-3",children:o.jsx(pe,{className:"text-sm font-medium text-muted-foreground uppercase tracking-wide",children:"Favorites"})}),o.jsx(be,{children:o.jsx("div",{className:"text-3xl font-bold bg-gradient-to-br from-primary to-primary-glow bg-clip-text text-transparent",children:i.favorites})})]}),o.jsxs(se,{className:"relative overflow-hidden border-0 shadow-md hover:shadow-xl transition-all duration-300 group",children:[o.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-blue-500 via-blue-400 to-blue-300"}),o.jsx(me,{className:"pb-3",children:o.jsx(pe,{className:"text-sm font-medium text-muted-foreground uppercase tracking-wide",children:"Wishlist"})}),o.jsx(be,{children:o.jsx("div",{className:"text-3xl font-bold bg-gradient-to-br from-blue-500 to-blue-600 bg-clip-text text-transparent",children:i.wishlist})})]}),o.jsxs(se,{className:"relative overflow-hidden border-0 shadow-md hover:shadow-xl transition-all duration-300 group cursor-pointer",onClick:()=>s("/guest/bookings?filter=upcoming"),children:[o.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-secondary via-primary to-accent"}),o.jsx(me,{className:"pb-3",children:o.jsx(pe,{className:"text-sm font-medium text-muted-foreground uppercase tracking-wide",children:"Upcoming Trips"})}),o.jsx(be,{children:o.jsx("div",{className:"text-3xl font-bold bg-gradient-to-br from-secondary to-secondary/80 bg-clip-text text-transparent",children:i.upcomingTrips})})]}),o.jsxs(se,{className:"relative overflow-hidden border-0 shadow-md hover:shadow-xl transition-all duration-300 group",children:[o.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-accent via-primary to-secondary"}),o.jsx(me,{className:"pb-3",children:o.jsx(pe,{className:"text-sm font-medium text-muted-foreground uppercase tracking-wide",children:"Past Bookings"})}),o.jsx(be,{children:o.jsx("div",{className:"text-3xl font-bold",children:i.pastBookings})})]}),o.jsxs(se,{className:"relative overflow-hidden border-0 shadow-md hover:shadow-xl transition-all duration-300 group",children:[o.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-accent via-green-500 to-green-600"}),o.jsx(me,{className:"pb-3",children:o.jsx(pe,{className:"text-sm font-medium text-muted-foreground uppercase tracking-wide",children:"Wallet Balance"})}),o.jsx(be,{children:o.jsx("div",{className:"text-3xl font-bold text-accent",children:Qe(i.walletBalance)})})]})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h3",{className:"text-2xl font-bold mb-6",children:"Browse Categories"}),o.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[o.jsx(se,{className:"shadow-medium hover:shadow-hover transition-smooth cursor-pointer",onClick:()=>s("/guest/browse?category=home"),children:o.jsxs(me,{className:"text-center",children:[o.jsx("img",{src:MM,alt:"Homes",className:"w-20 h-20 mx-auto mb-4"}),o.jsx(pe,{children:"Homes"}),o.jsx(Be,{children:"Find your perfect stay"})]})}),o.jsx(se,{className:"shadow-medium hover:shadow-hover transition-smooth cursor-pointer",onClick:()=>s("/guest/browse?category=experience"),children:o.jsxs(me,{className:"text-center",children:[o.jsx("img",{src:LM,alt:"Experiences",className:"w-20 h-20 mx-auto mb-4"}),o.jsx(pe,{children:"Experiences"}),o.jsx(Be,{children:"Discover unique activities"})]})}),o.jsx(se,{className:"shadow-medium hover:shadow-hover transition-smooth cursor-pointer",onClick:()=>s("/guest/browse?category=service"),children:o.jsxs(me,{className:"text-center",children:[o.jsx("img",{src:FM,alt:"Services",className:"w-20 h-20 mx-auto mb-4"}),o.jsx(pe,{children:"Services"}),o.jsx(Be,{children:"Professional assistance"})]})})]})]}),l.length>0&&o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx($9,{className:"w-6 h-6 text-primary"}),o.jsx("h3",{className:"text-2xl font-bold",children:"Recommended for You"})]}),o.jsx(ie,{variant:"outline",onClick:()=>s("/guest/browse"),children:"View All"})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:l.slice(0,3).map(v=>o.jsx(mo,{listing:v,onView:()=>s(`/guest/listing/${v.id}`),onFavorite:()=>w(v.id),onWishlist:()=>_(v.id),isFavorite:u.includes(v.id)},v.id))})]}),o.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx(se,{className:"shadow-medium hover:shadow-hover transition-smooth cursor-pointer",onClick:()=>s("/guest/settings?tab=favorites"),children:o.jsxs(me,{children:[o.jsx(_a,{className:"w-8 h-8 text-primary mb-2"}),o.jsx(pe,{children:"Favorites"}),o.jsx(Be,{children:"Your saved listings"})]})}),o.jsx(se,{className:"shadow-medium hover:shadow-hover transition-smooth cursor-pointer",onClick:()=>s("/guest/bookings"),children:o.jsxs(me,{children:[o.jsx(qn,{className:"w-8 h-8 text-secondary mb-2"}),o.jsx(pe,{children:"My Bookings"}),o.jsx(Be,{children:"View your trips"})]})}),o.jsx(se,{className:"shadow-medium hover:shadow-hover transition-smooth cursor-pointer",onClick:()=>s("/guest/wallet"),children:o.jsxs(me,{children:[o.jsx(l_,{className:"w-8 h-8 text-accent mb-2"}),o.jsx(pe,{children:"E-Wallet"}),o.jsx(Be,{children:"Manage your balance"})]})}),o.jsx(se,{className:"shadow-medium hover:shadow-hover transition-smooth cursor-pointer",onClick:()=>s("/guest/settings"),children:o.jsxs(me,{children:[o.jsx(i_,{className:"w-8 h-8 text-muted-foreground mb-2"}),o.jsx(pe,{children:"Settings"}),o.jsx(Be,{children:"Account preferences"})]})})]})]}),o.jsx(wr,{open:g,onOpenChange:b,children:o.jsxs(rr,{children:[o.jsxs(sr,{children:[o.jsx(or,{children:"Sign Out"}),o.jsx(ar,{children:"Are you sure you want to sign out? You'll need to sign in again to access your account."})]}),o.jsxs(ir,{children:[o.jsx(cr,{children:"Cancel"}),o.jsx(lr,{onClick:x,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Sign Out"})]})]})})]})},Oee=()=>{const{user:t,userRole:e,userProfile:n,signOut:r}=Dt(),s=pt(),[i,a]=m.useState({totalUsers:0,totalHosts:0,totalGuests:0,totalAdmins:0,activeListings:0,totalBookings:0,cancelledBookings:0,serviceFees:0}),[l,c]=m.useState(!1);m.useEffect(()=>{if(!t||e!=="admin"){s("/admin/login");return}let d=null,f=null,p=null;return d=Ei(st(ge,"users"),g=>{const b=g.docs.map(x=>{const v=x.data();return{id:x.id,email:v.email,role:v.role,fullName:v.fullName,...v}});console.log(" All users fetched:",b.length),console.log(" User details:",b.map(x=>({id:x.id,email:x.email||"N/A",role:x.role||"unknown",fullName:x.fullName||"N/A"})));const y=b.filter(x=>x.role==="host").length,w=b.filter(x=>x.role==="guest").length,_=b.filter(x=>x.role==="admin").length;console.log(" Count breakdown:",{hosts:y,guests:w,admins:_,total:b.length}),a(x=>({...x,totalUsers:g.size,totalHosts:y,totalGuests:w,totalAdmins:_}))},g=>{console.error(" Error fetching users:",g),H.error(`Failed to load users: ${g.message}`)}),f=Ei(st(ge,"listing"),g=>{const b=g.docs.filter(y=>y.data().status==="approved").length;a(y=>({...y,activeListings:b}))},g=>{console.error("Error fetching listings:",g),H.error(`Failed to load listings: ${g.message}`)}),p=Ei(st(ge,"bookings"),g=>{const b=g.docs.map(v=>v.data()),y=b.filter(v=>v.status==="confirmed"||v.status==="completed"),w=b.filter(v=>v.status==="cancelled"),x=y.reduce((v,j)=>v+(j.totalPrice||0),0)*.1;a(v=>({...v,totalBookings:g.size,cancelledBookings:w.length,serviceFees:x}))},g=>{console.error("Error fetching bookings:",g),H.error(`Failed to load bookings: ${g.message}`)}),()=>{d&&d(),f&&f(),p&&p()}},[t,e,s]);const u=async()=>{await r(),s("/")};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"sticky top-0 z-50 border-b bg-card/95 backdrop-blur supports-[backdrop-filter]:bg-card/60 shadow-soft",children:o.jsxs("div",{className:"container mx-auto px-6 py-4 flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Xs,{size:"sm"}),o.jsx("div",{className:"p-2 rounded-lg bg-accent/10",children:o.jsx(ys,{className:"w-5 h-5 text-accent"})}),o.jsxs("div",{children:[o.jsxs("h1",{className:"text-lg font-bold",children:["Welcome, ",(n==null?void 0:n.fullName)||"Admin","!"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Platform management"})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Nr,{}),o.jsx(ie,{variant:"outline",onClick:()=>c(!0),children:"Sign Out"})]})]})}),o.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsxs("div",{className:"mb-8 p-6 rounded-xl bg-gradient-accent text-white",children:[o.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Platform Overview"}),o.jsxs("p",{className:"text-white/90",children:["Welcome back, ",(n==null?void 0:n.fullName)||"Admin","!"]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[o.jsxs(se,{className:"shadow-soft",children:[o.jsx(me,{className:"pb-3",children:o.jsx(pe,{className:"text-sm font-medium text-muted-foreground",children:"Total Users"})}),o.jsxs(be,{children:[o.jsx("div",{className:"text-2xl font-bold",children:i.totalUsers}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[i.totalHosts," hosts, ",i.totalGuests," guests",i.totalAdmins>0?`, ${i.totalAdmins} admin${i.totalAdmins>1?"s":""}`:""]})]})]}),o.jsxs(se,{className:"shadow-soft",children:[o.jsx(me,{className:"pb-3",children:o.jsx(pe,{className:"text-sm font-medium text-muted-foreground",children:"Active Listings"})}),o.jsx(be,{children:o.jsx("div",{className:"text-2xl font-bold",children:i.activeListings})})]}),o.jsxs(se,{className:"shadow-soft",children:[o.jsx(me,{className:"pb-3",children:o.jsx(pe,{className:"text-sm font-medium text-muted-foreground",children:"Total Bookings"})}),o.jsx(be,{children:o.jsx("div",{className:"text-2xl font-bold",children:i.totalBookings})})]}),o.jsxs(se,{className:"shadow-soft",children:[o.jsx(me,{className:"pb-3",children:o.jsx(pe,{className:"text-sm font-medium text-muted-foreground",children:"Service Fees"})}),o.jsxs(be,{children:[o.jsx("div",{className:"text-2xl font-bold text-accent",children:Qe(i.serviceFees)}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"10% commission"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[o.jsx(se,{className:"shadow-medium hover:shadow-hover transition-smooth cursor-pointer",onClick:()=>s("/admin/users"),children:o.jsxs(me,{children:[o.jsx(Rl,{className:"w-8 h-8 text-primary mb-2"}),o.jsx(pe,{children:"User Management"}),o.jsx(Be,{children:"Manage hosts, guests, and permissions"})]})}),o.jsx(se,{className:"shadow-medium hover:shadow-hover transition-smooth cursor-pointer",onClick:()=>s("/admin/listings"),children:o.jsxs(me,{children:[o.jsx(kl,{className:"w-8 h-8 text-primary mb-2"}),o.jsx(pe,{children:"Listings Review"}),o.jsx(Be,{children:"Approve and moderate listings"})]})}),o.jsx(se,{className:"shadow-medium hover:shadow-hover transition-smooth cursor-pointer",onClick:()=>s("/admin/payments"),children:o.jsxs(me,{children:[o.jsx(nf,{className:"w-8 h-8 text-accent mb-2"}),o.jsx(pe,{children:"Payment Management"}),o.jsx(Be,{children:"Review and confirm payments"})]})}),o.jsx(se,{className:"shadow-medium hover:shadow-hover transition-smooth cursor-pointer",onClick:()=>s("/admin/analytics"),children:o.jsxs(me,{children:[o.jsx(Il,{className:"w-8 h-8 text-secondary mb-2"}),o.jsx(pe,{children:"Analytics"}),o.jsx(Be,{children:"View platform performance metrics"})]})}),o.jsx(se,{className:"shadow-medium hover:shadow-hover transition-smooth cursor-pointer",onClick:()=>s("/admin/reports"),children:o.jsxs(me,{children:[o.jsx(rf,{className:"w-8 h-8 text-secondary mb-2"}),o.jsx(pe,{children:"Reports"}),o.jsx(Be,{children:"Generate platform reports"})]})}),o.jsx(se,{className:"shadow-medium hover:shadow-hover transition-smooth cursor-pointer",onClick:()=>s("/admin/policies"),children:o.jsxs(me,{children:[o.jsx(i_,{className:"w-8 h-8 text-muted-foreground mb-2"}),o.jsx(pe,{children:"Policies & Settings"}),o.jsx(Be,{children:"Manage platform policies"})]})})]}),o.jsxs(se,{className:"shadow-medium",children:[o.jsxs(me,{children:[o.jsx(pe,{children:"Recent Activity"}),o.jsx(Be,{children:"Latest platform events"})]}),o.jsx(be,{children:o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(r_,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No recent activity to display"})]})})]})]}),o.jsx(wr,{open:l,onOpenChange:c,children:o.jsxs(rr,{children:[o.jsxs(sr,{children:[o.jsx(or,{children:"Sign Out"}),o.jsx(ar,{children:"Are you sure you want to sign out? You'll need to sign in again to access your account."})]}),o.jsxs(ir,{children:[o.jsx(cr,{children:"Cancel"}),o.jsx(lr,{onClick:u,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Sign Out"})]})]})})]})};var Uf=t=>t.type==="checkbox",hl=t=>t instanceof Date,pr=t=>t==null;const _L=t=>typeof t=="object";var dn=t=>!pr(t)&&!Array.isArray(t)&&_L(t)&&!hl(t),EL=t=>dn(t)&&t.target?Uf(t.target)?t.target.checked:t.target.value:t,Mee=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,NL=(t,e)=>t.has(Mee(e)),Lee=t=>{const e=t.constructor&&t.constructor.prototype;return dn(e)&&e.hasOwnProperty("isPrototypeOf")},Q1=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function En(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(Q1&&(t instanceof Blob||r))&&(n||dn(t)))if(e=n?[]:{},!n&&!Lee(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=En(t[s]));else return t;return e}var Jv=t=>/^\w*$/.test(t),cn=t=>t===void 0,X1=t=>Array.isArray(t)?t.filter(Boolean):[],Z1=t=>X1(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Se=(t,e,n)=>{if(!e||!dn(t))return n;const r=(Jv(e)?[e]:Z1(e)).reduce((s,i)=>pr(s)?s:s[i],t);return cn(r)||r===t?cn(t[e])?n:t[e]:r},Gr=t=>typeof t=="boolean",kt=(t,e,n)=>{let r=-1;const s=Jv(e)?[e]:Z1(e),i=s.length,a=i-1;for(;++r<i;){const l=s[r];let c=n;if(r!==a){const u=t[l];c=dn(u)||Array.isArray(u)?u:isNaN(+s[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}};const _g={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},As={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Vi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},J1=ee.createContext(null);J1.displayName="HookFormContext";const ey=()=>ee.useContext(J1),Fee=t=>{const{children:e,...n}=t;return ee.createElement(J1.Provider,{value:n},e)};var SL=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const a=i;return e._proxyFormState[a]!==As.all&&(e._proxyFormState[a]=!r||As.all),n&&(n[a]=!0),t[a]}});return s};const eE=typeof window<"u"?ee.useLayoutEffect:ee.useEffect;function Vee(t){const e=ey(),{control:n=e.control,disabled:r,name:s,exact:i}=t||{},[a,l]=ee.useState(n._formState),c=ee.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return eE(()=>n._subscribe({name:s,formState:c.current,exact:i,callback:u=>{!r&&l({...n._formState,...u})}}),[s,r,i]),ee.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),ee.useMemo(()=>SL(a,n,c.current,!1),[a,n])}var fi=t=>typeof t=="string",jL=(t,e,n,r,s)=>fi(t)?(r&&e.watch.add(t),Se(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),Se(n,i))):(r&&(e.watchAll=!0),n),V0=t=>pr(t)||!_L(t);function qi(t,e,n=new WeakSet){if(V0(t)||V0(e))return t===e;if(hl(t)&&hl(e))return t.getTime()===e.getTime();const r=Object.keys(t),s=Object.keys(e);if(r.length!==s.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const i of r){const a=t[i];if(!s.includes(i))return!1;if(i!=="ref"){const l=e[i];if(hl(a)&&hl(l)||dn(a)&&dn(l)||Array.isArray(a)&&Array.isArray(l)?!qi(a,l,n):a!==l)return!1}}return!0}function Uee(t){const e=ey(),{control:n=e.control,name:r,defaultValue:s,disabled:i,exact:a,compute:l}=t||{},c=ee.useRef(s),u=ee.useRef(l),d=ee.useRef(void 0);u.current=l;const f=ee.useMemo(()=>n._getWatch(r,c.current),[n,r]),[p,g]=ee.useState(u.current?u.current(f):f);return eE(()=>n._subscribe({name:r,formState:{values:!0},exact:a,callback:b=>{if(!i){const y=jL(r,n._names,b.values||n._formValues,!1,c.current);if(u.current){const w=u.current(y);qi(w,d.current)||(g(w),d.current=w)}else g(y)}}}),[n,i,r,a]),ee.useEffect(()=>n._removeUnmounted()),p}function $ee(t){const e=ey(),{name:n,disabled:r,control:s=e.control,shouldUnregister:i,defaultValue:a}=t,l=NL(s._names.array,n),c=ee.useMemo(()=>Se(s._formValues,n,Se(s._defaultValues,n,a)),[s,n,a]),u=Uee({control:s,name:n,defaultValue:c,exact:!0}),d=Vee({control:s,name:n,exact:!0}),f=ee.useRef(t),p=ee.useRef(s.register(n,{...t.rules,value:u,...Gr(t.disabled)?{disabled:t.disabled}:{}}));f.current=t;const g=ee.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Se(d.errors,n)},isDirty:{enumerable:!0,get:()=>!!Se(d.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Se(d.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Se(d.validatingFields,n)},error:{enumerable:!0,get:()=>Se(d.errors,n)}}),[d,n]),b=ee.useCallback(x=>p.current.onChange({target:{value:EL(x),name:n},type:_g.CHANGE}),[n]),y=ee.useCallback(()=>p.current.onBlur({target:{value:Se(s._formValues,n),name:n},type:_g.BLUR}),[n,s._formValues]),w=ee.useCallback(x=>{const v=Se(s._fields,n);v&&x&&(v._f.ref={focus:()=>x.focus&&x.focus(),select:()=>x.select&&x.select(),setCustomValidity:j=>x.setCustomValidity(j),reportValidity:()=>x.reportValidity()})},[s._fields,n]),_=ee.useMemo(()=>({name:n,value:u,...Gr(r)||d.disabled?{disabled:d.disabled||r}:{},onChange:b,onBlur:y,ref:w}),[n,r,d.disabled,b,y,w,u]);return ee.useEffect(()=>{const x=s._options.shouldUnregister||i;s.register(n,{...f.current.rules,...Gr(f.current.disabled)?{disabled:f.current.disabled}:{}});const v=(j,P)=>{const D=Se(s._fields,j);D&&D._f&&(D._f.mount=P)};if(v(n,!0),x){const j=En(Se(s._options.defaultValues,n));kt(s._defaultValues,n,j),cn(Se(s._formValues,n))&&kt(s._formValues,n,j)}return!l&&s.register(n),()=>{(l?x&&!s._state.action:x)?s.unregister(n):v(n,!1)}},[n,s,l,i]),ee.useEffect(()=>{s._setDisabledField({disabled:r,name:n})},[r,n,s]),ee.useMemo(()=>({field:_,formState:d,fieldState:g}),[_,d,g])}const Bee=t=>t.render($ee(t));var CL=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},eh=t=>Array.isArray(t)?t:[t],yk=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},Ir=t=>dn(t)&&!Object.keys(t).length,tE=t=>t.type==="file",Ds=t=>typeof t=="function",Eg=t=>{if(!Q1)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},kL=t=>t.type==="select-multiple",nE=t=>t.type==="radio",zee=t=>nE(t)||Uf(t),Rx=t=>Eg(t)&&t.isConnected;function Wee(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=cn(t)?r++:t[e[r++]];return t}function Hee(t){for(const e in t)if(t.hasOwnProperty(e)&&!cn(t[e]))return!1;return!0}function fn(t,e){const n=Array.isArray(e)?e:Jv(e)?[e]:Z1(e),r=n.length===1?t:Wee(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(dn(r)&&Ir(r)||Array.isArray(r)&&Hee(r))&&fn(t,n.slice(0,-1)),t}var TL=t=>{for(const e in t)if(Ds(t[e]))return!0;return!1};function Ng(t,e={}){const n=Array.isArray(t);if(dn(t)||n)for(const r in t)Array.isArray(t[r])||dn(t[r])&&!TL(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Ng(t[r],e[r])):pr(t[r])||(e[r]=!0);return e}function IL(t,e,n){const r=Array.isArray(t);if(dn(t)||r)for(const s in t)Array.isArray(t[s])||dn(t[s])&&!TL(t[s])?cn(e)||V0(n[s])?n[s]=Array.isArray(t[s])?Ng(t[s],[]):{...Ng(t[s])}:IL(t[s],pr(e)?{}:e[s],n[s]):n[s]=!qi(t[s],e[s]);return n}var wd=(t,e)=>IL(t,e,Ng(e));const xk={value:!1,isValid:!1},wk={value:!0,isValid:!0};var RL=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!cn(t[0].attributes.value)?cn(t[0].value)||t[0].value===""?wk:{value:t[0].value,isValid:!0}:wk:xk}return xk},PL=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>cn(t)?t:e?t===""?NaN:t&&+t:n&&fi(t)?new Date(t):r?r(t):t;const bk={isValid:!1,value:null};var AL=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,bk):bk;function _k(t){const e=t.ref;return tE(e)?e.files:nE(e)?AL(t.refs).value:kL(e)?[...e.selectedOptions].map(({value:n})=>n):Uf(e)?RL(t.refs).value:PL(cn(e.value)?t.ref.value:e.value,t)}var qee=(t,e,n,r)=>{const s={};for(const i of t){const a=Se(e,i);a&&kt(s,i,a._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},Sg=t=>t instanceof RegExp,bd=t=>cn(t)?t:Sg(t)?t.source:dn(t)?Sg(t.value)?t.value.source:t.value:t,Ek=t=>({isOnSubmit:!t||t===As.onSubmit,isOnBlur:t===As.onBlur,isOnChange:t===As.onChange,isOnAll:t===As.all,isOnTouch:t===As.onTouched});const Nk="AsyncFunction";var Gee=t=>!!t&&!!t.validate&&!!(Ds(t.validate)&&t.validate.constructor.name===Nk||dn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===Nk)),Kee=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),Sk=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const th=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=Se(t,s);if(i){const{_f:a,...l}=i;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],s)&&!r)return!0;if(a.ref&&e(a.ref,a.name)&&!r)return!0;if(th(l,e))break}else if(dn(l)&&th(l,e))break}}};function jk(t,e,n){const r=Se(t,n);if(r||Jv(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),a=Se(e,i),l=Se(t,i);if(a&&!Array.isArray(a)&&n!==i)return{name:n};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};s.pop()}return{name:n}}var Yee=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return Ir(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(a=>e[a]===(!r||As.all))},Qee=(t,e,n)=>!t||!e||t===e||eh(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),Xee=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,Zee=(t,e)=>!X1(Se(t,e)).length&&fn(t,e),Jee=(t,e,n)=>{const r=eh(Se(t,n));return kt(r,"root",e[n]),kt(t,n,r),t},hp=t=>fi(t);function Ck(t,e,n="validate"){if(hp(t)||Array.isArray(t)&&t.every(hp)||Gr(t)&&!t)return{type:n,message:hp(t)?t:"",ref:e}}var fc=t=>dn(t)&&!Sg(t)?t:{value:t,message:""},kk=async(t,e,n,r,s,i)=>{const{ref:a,refs:l,required:c,maxLength:u,minLength:d,min:f,max:p,pattern:g,validate:b,name:y,valueAsNumber:w,mount:_}=t._f,x=Se(n,y);if(!_||e.has(y))return{};const v=l?l[0]:a,j=A=>{s&&v.reportValidity&&(v.setCustomValidity(Gr(A)?"":A||""),v.reportValidity())},P={},D=nE(a),S=Uf(a),N=D||S,T=(w||tE(a))&&cn(a.value)&&cn(x)||Eg(a)&&a.value===""||x===""||Array.isArray(x)&&!x.length,k=CL.bind(null,y,r,P),I=(A,R,W,U=Vi.maxLength,q=Vi.minLength)=>{const K=A?R:W;P[y]={type:A?U:q,message:K,ref:a,...k(A?U:q,K)}};if(i?!Array.isArray(x)||!x.length:c&&(!N&&(T||pr(x))||Gr(x)&&!x||S&&!RL(l).isValid||D&&!AL(l).isValid)){const{value:A,message:R}=hp(c)?{value:!!c,message:c}:fc(c);if(A&&(P[y]={type:Vi.required,message:R,ref:v,...k(Vi.required,R)},!r))return j(R),P}if(!T&&(!pr(f)||!pr(p))){let A,R;const W=fc(p),U=fc(f);if(!pr(x)&&!isNaN(x)){const q=a.valueAsNumber||x&&+x;pr(W.value)||(A=q>W.value),pr(U.value)||(R=q<U.value)}else{const q=a.valueAsDate||new Date(x),K=F=>new Date(new Date().toDateString()+" "+F),L=a.type=="time",V=a.type=="week";fi(W.value)&&x&&(A=L?K(x)>K(W.value):V?x>W.value:q>new Date(W.value)),fi(U.value)&&x&&(R=L?K(x)<K(U.value):V?x<U.value:q<new Date(U.value))}if((A||R)&&(I(!!A,W.message,U.message,Vi.max,Vi.min),!r))return j(P[y].message),P}if((u||d)&&!T&&(fi(x)||i&&Array.isArray(x))){const A=fc(u),R=fc(d),W=!pr(A.value)&&x.length>+A.value,U=!pr(R.value)&&x.length<+R.value;if((W||U)&&(I(W,A.message,R.message),!r))return j(P[y].message),P}if(g&&!T&&fi(x)){const{value:A,message:R}=fc(g);if(Sg(A)&&!x.match(A)&&(P[y]={type:Vi.pattern,message:R,ref:a,...k(Vi.pattern,R)},!r))return j(R),P}if(b){if(Ds(b)){const A=await b(x,n),R=Ck(A,v);if(R&&(P[y]={...R,...k(Vi.validate,R.message)},!r))return j(R.message),P}else if(dn(b)){let A={};for(const R in b){if(!Ir(A)&&!r)break;const W=Ck(await b[R](x,n),v,R);W&&(A={...W,...k(R,W.message)},j(W.message),r&&(P[y]=A))}if(!Ir(A)&&(P[y]={ref:v,...A},!r))return P}}return j(!0),P};const ete={mode:As.onSubmit,reValidateMode:As.onChange,shouldFocusError:!0};function tte(t={}){let e={...ete,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ds(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=dn(e.defaultValues)||dn(e.values)?En(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:En(s),a={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const p={array:yk(),state:yk()},g=e.criteriaMode===As.all,b=M=>B=>{clearTimeout(u),u=setTimeout(M,B)},y=async M=>{if(!e.disabled&&(d.isValid||f.isValid||M)){const B=e.resolver?Ir((await S()).errors):await T(r,!0);B!==n.isValid&&p.state.next({isValid:B})}},w=(M,B)=>{!e.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((M||Array.from(l.mount)).forEach(G=>{G&&(B?kt(n.validatingFields,G,B):fn(n.validatingFields,G))}),p.state.next({validatingFields:n.validatingFields,isValidating:!Ir(n.validatingFields)}))},_=(M,B=[],G,he,fe=!0,oe=!0)=>{if(he&&G&&!e.disabled){if(a.action=!0,oe&&Array.isArray(Se(r,M))){const ye=G(Se(r,M),he.argA,he.argB);fe&&kt(r,M,ye)}if(oe&&Array.isArray(Se(n.errors,M))){const ye=G(Se(n.errors,M),he.argA,he.argB);fe&&kt(n.errors,M,ye),Zee(n.errors,M)}if((d.touchedFields||f.touchedFields)&&oe&&Array.isArray(Se(n.touchedFields,M))){const ye=G(Se(n.touchedFields,M),he.argA,he.argB);fe&&kt(n.touchedFields,M,ye)}(d.dirtyFields||f.dirtyFields)&&(n.dirtyFields=wd(s,i)),p.state.next({name:M,isDirty:I(M,B),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else kt(i,M,B)},x=(M,B)=>{kt(n.errors,M,B),p.state.next({errors:n.errors})},v=M=>{n.errors=M,p.state.next({errors:n.errors,isValid:!1})},j=(M,B,G,he)=>{const fe=Se(r,M);if(fe){const oe=Se(i,M,cn(G)?Se(s,M):G);cn(oe)||he&&he.defaultChecked||B?kt(i,M,B?oe:_k(fe._f)):W(M,oe),a.mount&&y()}},P=(M,B,G,he,fe)=>{let oe=!1,ye=!1;const We={name:M};if(!e.disabled){if(!G||he){(d.isDirty||f.isDirty)&&(ye=n.isDirty,n.isDirty=We.isDirty=I(),oe=ye!==We.isDirty);const ft=qi(Se(s,M),B);ye=!!Se(n.dirtyFields,M),ft?fn(n.dirtyFields,M):kt(n.dirtyFields,M,!0),We.dirtyFields=n.dirtyFields,oe=oe||(d.dirtyFields||f.dirtyFields)&&ye!==!ft}if(G){const ft=Se(n.touchedFields,M);ft||(kt(n.touchedFields,M,G),We.touchedFields=n.touchedFields,oe=oe||(d.touchedFields||f.touchedFields)&&ft!==G)}oe&&fe&&p.state.next(We)}return oe?We:{}},D=(M,B,G,he)=>{const fe=Se(n.errors,M),oe=(d.isValid||f.isValid)&&Gr(B)&&n.isValid!==B;if(e.delayError&&G?(c=b(()=>x(M,G)),c(e.delayError)):(clearTimeout(u),c=null,G?kt(n.errors,M,G):fn(n.errors,M)),(G?!qi(fe,G):fe)||!Ir(he)||oe){const ye={...he,...oe&&Gr(B)?{isValid:B}:{},errors:n.errors,name:M};n={...n,...ye},p.state.next(ye)}},S=async M=>{w(M,!0);const B=await e.resolver(i,e.context,qee(M||l.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return w(M),B},N=async M=>{const{errors:B}=await S(M);if(M)for(const G of M){const he=Se(B,G);he?kt(n.errors,G,he):fn(n.errors,G)}else n.errors=B;return B},T=async(M,B,G={valid:!0})=>{for(const he in M){const fe=M[he];if(fe){const{_f:oe,...ye}=fe;if(oe){const We=l.array.has(oe.name),ft=fe._f&&Gee(fe._f);ft&&d.validatingFields&&w([he],!0);const xn=await kk(fe,l.disabled,i,g,e.shouldUseNativeValidation&&!B,We);if(ft&&d.validatingFields&&w([he]),xn[oe.name]&&(G.valid=!1,B))break;!B&&(Se(xn,oe.name)?We?Jee(n.errors,xn,oe.name):kt(n.errors,oe.name,xn[oe.name]):fn(n.errors,oe.name))}!Ir(ye)&&await T(ye,B,G)}}return G.valid},k=()=>{for(const M of l.unMount){const B=Se(r,M);B&&(B._f.refs?B._f.refs.every(G=>!Rx(G)):!Rx(B._f.ref))&&J(M)}l.unMount=new Set},I=(M,B)=>!e.disabled&&(M&&B&&kt(i,M,B),!qi(F(),s)),A=(M,B,G)=>jL(M,l,{...a.mount?i:cn(B)?s:fi(M)?{[M]:B}:B},G,B),R=M=>X1(Se(a.mount?i:s,M,e.shouldUnregister?Se(s,M,[]):[])),W=(M,B,G={})=>{const he=Se(r,M);let fe=B;if(he){const oe=he._f;oe&&(!oe.disabled&&kt(i,M,PL(B,oe)),fe=Eg(oe.ref)&&pr(B)?"":B,kL(oe.ref)?[...oe.ref.options].forEach(ye=>ye.selected=fe.includes(ye.value)):oe.refs?Uf(oe.ref)?oe.refs.forEach(ye=>{(!ye.defaultChecked||!ye.disabled)&&(Array.isArray(fe)?ye.checked=!!fe.find(We=>We===ye.value):ye.checked=fe===ye.value||!!fe)}):oe.refs.forEach(ye=>ye.checked=ye.value===fe):tE(oe.ref)?oe.ref.value="":(oe.ref.value=fe,oe.ref.type||p.state.next({name:M,values:En(i)})))}(G.shouldDirty||G.shouldTouch)&&P(M,fe,G.shouldTouch,G.shouldDirty,!0),G.shouldValidate&&V(M)},U=(M,B,G)=>{for(const he in B){if(!B.hasOwnProperty(he))return;const fe=B[he],oe=M+"."+he,ye=Se(r,oe);(l.array.has(M)||dn(fe)||ye&&!ye._f)&&!hl(fe)?U(oe,fe,G):W(oe,fe,G)}},q=(M,B,G={})=>{const he=Se(r,M),fe=l.array.has(M),oe=En(B);kt(i,M,oe),fe?(p.array.next({name:M,values:En(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&G.shouldDirty&&p.state.next({name:M,dirtyFields:wd(s,i),isDirty:I(M,oe)})):he&&!he._f&&!pr(oe)?U(M,oe,G):W(M,oe,G),Sk(M,l)&&p.state.next({...n,name:M}),p.state.next({name:a.mount?M:void 0,values:En(i)})},K=async M=>{a.mount=!0;const B=M.target;let G=B.name,he=!0;const fe=Se(r,G),oe=ft=>{he=Number.isNaN(ft)||hl(ft)&&isNaN(ft.getTime())||qi(ft,Se(i,G,ft))},ye=Ek(e.mode),We=Ek(e.reValidateMode);if(fe){let ft,xn;const Br=B.type?_k(fe._f):EL(M),hr=M.type===_g.BLUR||M.type===_g.FOCUS_OUT,Mi=!Kee(fe._f)&&!e.resolver&&!Se(n.errors,G)&&!fe._f.deps||Xee(hr,Se(n.touchedFields,G),n.isSubmitted,We,ye),on=Sk(G,l,hr);kt(i,G,Br),hr?(fe._f.onBlur&&fe._f.onBlur(M),c&&c(0)):fe._f.onChange&&fe._f.onChange(M);const kn=P(G,Br,hr),Js=!Ir(kn)||on;if(!hr&&p.state.next({name:G,type:M.type,values:En(i)}),Mi)return(d.isValid||f.isValid)&&(e.mode==="onBlur"?hr&&y():hr||y()),Js&&p.state.next({name:G,...on?{}:kn});if(!hr&&on&&p.state.next({...n}),e.resolver){const{errors:Fn}=await S([G]);if(oe(Br),he){const oc=jk(n.errors,r,G),Li=jk(Fn,r,oc.name||G);ft=Li.error,G=Li.name,xn=Ir(Fn)}}else w([G],!0),ft=(await kk(fe,l.disabled,i,g,e.shouldUseNativeValidation))[G],w([G]),oe(Br),he&&(ft?xn=!1:(d.isValid||f.isValid)&&(xn=await T(r,!0)));he&&(fe._f.deps&&V(fe._f.deps),D(G,xn,ft,kn))}},L=(M,B)=>{if(Se(n.errors,B)&&M.focus)return M.focus(),1},V=async(M,B={})=>{let G,he;const fe=eh(M);if(e.resolver){const oe=await N(cn(M)?M:fe);G=Ir(oe),he=M?!fe.some(ye=>Se(oe,ye)):G}else M?(he=(await Promise.all(fe.map(async oe=>{const ye=Se(r,oe);return await T(ye&&ye._f?{[oe]:ye}:ye)}))).every(Boolean),!(!he&&!n.isValid)&&y()):he=G=await T(r);return p.state.next({...!fi(M)||(d.isValid||f.isValid)&&G!==n.isValid?{}:{name:M},...e.resolver||!M?{isValid:G}:{},errors:n.errors}),B.shouldFocus&&!he&&th(r,L,M?fe:l.mount),he},F=M=>{const B={...a.mount?i:s};return cn(M)?B:fi(M)?Se(B,M):M.map(G=>Se(B,G))},Q=(M,B)=>({invalid:!!Se((B||n).errors,M),isDirty:!!Se((B||n).dirtyFields,M),error:Se((B||n).errors,M),isValidating:!!Se(n.validatingFields,M),isTouched:!!Se((B||n).touchedFields,M)}),$=M=>{M&&eh(M).forEach(B=>fn(n.errors,B)),p.state.next({errors:M?n.errors:{}})},te=(M,B,G)=>{const he=(Se(r,M,{_f:{}})._f||{}).ref,fe=Se(n.errors,M)||{},{ref:oe,message:ye,type:We,...ft}=fe;kt(n.errors,M,{...ft,...B,ref:he}),p.state.next({name:M,errors:n.errors,isValid:!1}),G&&G.shouldFocus&&he&&he.focus&&he.focus()},ue=(M,B)=>Ds(M)?p.state.subscribe({next:G=>"values"in G&&M(A(void 0,B),G)}):A(M,B,!0),de=M=>p.state.subscribe({next:B=>{Qee(M.name,B.name,M.exact)&&Yee(B,M.formState||d,Z,M.reRenderRoot)&&M.callback({values:{...i},...n,...B,defaultValues:s})}}).unsubscribe,Ce=M=>(a.mount=!0,f={...f,...M.formState},de({...M,formState:f})),J=(M,B={})=>{for(const G of M?eh(M):l.mount)l.mount.delete(G),l.array.delete(G),B.keepValue||(fn(r,G),fn(i,G)),!B.keepError&&fn(n.errors,G),!B.keepDirty&&fn(n.dirtyFields,G),!B.keepTouched&&fn(n.touchedFields,G),!B.keepIsValidating&&fn(n.validatingFields,G),!e.shouldUnregister&&!B.keepDefaultValue&&fn(s,G);p.state.next({values:En(i)}),p.state.next({...n,...B.keepDirty?{isDirty:I()}:{}}),!B.keepIsValid&&y()},Fe=({disabled:M,name:B})=>{(Gr(M)&&a.mount||M||l.disabled.has(B))&&(M?l.disabled.add(B):l.disabled.delete(B))},Me=(M,B={})=>{let G=Se(r,M);const he=Gr(B.disabled)||Gr(e.disabled);return kt(r,M,{...G||{},_f:{...G&&G._f?G._f:{ref:{name:M}},name:M,mount:!0,...B}}),l.mount.add(M),G?Fe({disabled:Gr(B.disabled)?B.disabled:e.disabled,name:M}):j(M,!0,B.value),{...he?{disabled:B.disabled||e.disabled}:{},...e.progressive?{required:!!B.required,min:bd(B.min),max:bd(B.max),minLength:bd(B.minLength),maxLength:bd(B.maxLength),pattern:bd(B.pattern)}:{},name:M,onChange:K,onBlur:K,ref:fe=>{if(fe){Me(M,B),G=Se(r,M);const oe=cn(fe.value)&&fe.querySelectorAll&&fe.querySelectorAll("input,select,textarea")[0]||fe,ye=zee(oe),We=G._f.refs||[];if(ye?We.find(ft=>ft===oe):oe===G._f.ref)return;kt(r,M,{_f:{...G._f,...ye?{refs:[...We.filter(Rx),oe,...Array.isArray(Se(s,M))?[{}]:[]],ref:{type:oe.type,name:M}}:{ref:oe}}}),j(M,!1,void 0,oe)}else G=Se(r,M,{}),G._f&&(G._f.mount=!1),(e.shouldUnregister||B.shouldUnregister)&&!(NL(l.array,M)&&a.action)&&l.unMount.add(M)}}},le=()=>e.shouldFocusError&&th(r,L,l.mount),Ne=M=>{Gr(M)&&(p.state.next({disabled:M}),th(r,(B,G)=>{const he=Se(r,G);he&&(B.disabled=he._f.disabled||M,Array.isArray(he._f.refs)&&he._f.refs.forEach(fe=>{fe.disabled=he._f.disabled||M}))},0,!1))},De=(M,B)=>async G=>{let he;G&&(G.preventDefault&&G.preventDefault(),G.persist&&G.persist());let fe=En(i);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:oe,values:ye}=await S();n.errors=oe,fe=En(ye)}else await T(r);if(l.disabled.size)for(const oe of l.disabled)fn(fe,oe);if(fn(n.errors,"root"),Ir(n.errors)){p.state.next({errors:{}});try{await M(fe,G)}catch(oe){he=oe}}else B&&await B({...n.errors},G),le(),setTimeout(le);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ir(n.errors)&&!he,submitCount:n.submitCount+1,errors:n.errors}),he)throw he},Nt=(M,B={})=>{Se(r,M)&&(cn(B.defaultValue)?q(M,En(Se(s,M))):(q(M,B.defaultValue),kt(s,M,En(B.defaultValue))),B.keepTouched||fn(n.touchedFields,M),B.keepDirty||(fn(n.dirtyFields,M),n.isDirty=B.defaultValue?I(M,En(Se(s,M))):I()),B.keepError||(fn(n.errors,M),d.isValid&&y()),p.state.next({...n}))},Re=(M,B={})=>{const G=M?En(M):s,he=En(G),fe=Ir(M),oe=fe?s:he;if(B.keepDefaultValues||(s=G),!B.keepValues){if(B.keepDirtyValues){const ye=new Set([...l.mount,...Object.keys(wd(s,i))]);for(const We of Array.from(ye))Se(n.dirtyFields,We)?kt(oe,We,Se(i,We)):q(We,Se(oe,We))}else{if(Q1&&cn(M))for(const ye of l.mount){const We=Se(r,ye);if(We&&We._f){const ft=Array.isArray(We._f.refs)?We._f.refs[0]:We._f.ref;if(Eg(ft)){const xn=ft.closest("form");if(xn){xn.reset();break}}}}if(B.keepFieldsRef)for(const ye of l.mount)q(ye,Se(oe,ye));else r={}}i=e.shouldUnregister?B.keepDefaultValues?En(s):{}:En(oe),p.array.next({values:{...oe}}),p.state.next({values:{...oe}})}l={mount:B.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!d.isValid||!!B.keepIsValid||!!B.keepDirtyValues,a.watch=!!e.shouldUnregister,p.state.next({submitCount:B.keepSubmitCount?n.submitCount:0,isDirty:fe?!1:B.keepDirty?n.isDirty:!!(B.keepDefaultValues&&!qi(M,s)),isSubmitted:B.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:fe?{}:B.keepDirtyValues?B.keepDefaultValues&&i?wd(s,i):n.dirtyFields:B.keepDefaultValues&&M?wd(s,M):B.keepDirty?n.dirtyFields:{},touchedFields:B.keepTouched?n.touchedFields:{},errors:B.keepErrors?n.errors:{},isSubmitSuccessful:B.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Ue=(M,B)=>Re(Ds(M)?M(i):M,B),ht=(M,B={})=>{const G=Se(r,M),he=G&&G._f;if(he){const fe=he.refs?he.refs[0]:he.ref;fe.focus&&(fe.focus(),B.shouldSelect&&Ds(fe.select)&&fe.select())}},Z=M=>{n={...n,...M}},ce={control:{register:Me,unregister:J,getFieldState:Q,handleSubmit:De,setError:te,_subscribe:de,_runSchema:S,_focusError:le,_getWatch:A,_getDirty:I,_setValid:y,_setFieldArray:_,_setDisabledField:Fe,_setErrors:v,_getFieldArray:R,_reset:Re,_resetDefaultValues:()=>Ds(e.defaultValues)&&e.defaultValues().then(M=>{Ue(M,e.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:k,_disableForm:Ne,_subjects:p,_proxyFormState:d,get _fields(){return r},get _formValues(){return i},get _state(){return a},set _state(M){a=M},get _defaultValues(){return s},get _names(){return l},set _names(M){l=M},get _formState(){return n},get _options(){return e},set _options(M){e={...e,...M}}},subscribe:Ce,trigger:V,register:Me,handleSubmit:De,watch:ue,setValue:q,getValues:F,reset:Ue,resetField:Nt,clearErrors:$,unregister:J,setError:te,setFocus:ht,getFieldState:Q};return{...ce,formControl:ce}}function nte(t={}){const e=ee.useRef(void 0),n=ee.useRef(void 0),[r,s]=ee.useState({isDirty:!1,isValidating:!1,isLoading:Ds(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Ds(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:r},t.defaultValues&&!Ds(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:a,...l}=tte(t);e.current={...l,formState:r}}const i=e.current.control;return i._options=t,eE(()=>{const a=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),i._formState.isReady=!0,a},[i]),ee.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),ee.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode)},[i,t.mode,t.reValidateMode]),ee.useEffect(()=>{t.errors&&(i._setErrors(t.errors),i._focusError())},[i,t.errors]),ee.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),ee.useEffect(()=>{if(i._proxyFormState.isDirty){const a=i._getDirty();a!==r.isDirty&&i._subjects.state.next({isDirty:a})}},[i,r.isDirty]),ee.useEffect(()=>{t.values&&!qi(t.values,n.current)?(i._reset(t.values,{keepFieldsRef:!0,...i._options.resetOptions}),n.current=t.values,s(a=>({...a}))):i._resetDefaultValues()},[i,t.values]),ee.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=SL(r,i),e.current}const Tk=(t,e,n)=>{if(t&&"reportValidity"in t){const r=Se(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},DL=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?Tk(r.ref,n,t):r.refs&&r.refs.forEach(s=>Tk(s,n,t))}},rte=(t,e)=>{e.shouldUseNativeValidation&&DL(t,e);const n={};for(const r in t){const s=Se(e.fields,r),i=Object.assign(t[r]||{},{ref:s&&s.ref});if(ste(e.names||Object.keys(t),r)){const a=Object.assign({},Se(n,r));kt(a,"root",i),kt(n,r,a)}else kt(n,r,i)}return n},ste=(t,e)=>t.some(n=>n.startsWith(e+"."));var ite=function(t,e){for(var n={};t.length;){var r=t[0],s=r.code,i=r.message,a=r.path.join(".");if(!n[a])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];n[a]={message:l.message,type:l.code}}else n[a]={message:i,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return t.push(f)})}),e){var c=n[a].types,u=c&&c[r.code];n[a]=CL(a,e,n,s,u?[].concat(u,r.message):r.message)}t.shift()}return n},ote=function(t,e,n){return n===void 0&&(n={}),function(r,s,i){try{return Promise.resolve(function(a,l){try{var c=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(u){return i.shouldUseNativeValidation&&DL({},i),{errors:{},values:n.raw?r:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(a){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(a))return{values:{},errors:rte(ite(a.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw a}))}catch(a){return Promise.reject(a)}}};const nh=m.forwardRef(({className:t,...e},n)=>o.jsx("textarea",{className:_e("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));nh.displayName="Textarea";function U0(t,[e,n]){return Math.min(n,Math.max(e,t))}var ate=[" ","Enter","ArrowUp","ArrowDown"],lte=[" ","Enter"],Wl="Select",[ty,ny,cte]=Zg(Wl),[Gu,rae]=Kn(Wl,[cte,Fa]),ry=Fa(),[ute,qa]=Gu(Wl),[dte,hte]=Gu(Wl),OL=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:a,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:p,required:g,form:b}=t,y=ry(e),[w,_]=m.useState(null),[x,v]=m.useState(null),[j,P]=m.useState(!1),D=Pf(u),[S,N]=Si({prop:r,defaultProp:s??!1,onChange:i,caller:Wl}),[T,k]=Si({prop:a,defaultProp:l,onChange:c,caller:Wl}),I=m.useRef(null),A=w?b||!!w.closest("form"):!0,[R,W]=m.useState(new Set),U=Array.from(R).map(q=>q.props.value).join(";");return o.jsx(__,{...y,children:o.jsxs(ute,{required:g,scope:e,trigger:w,onTriggerChange:_,valueNode:x,onValueNodeChange:v,valueNodeHasChildren:j,onValueNodeHasChildrenChange:P,contentId:Wn(),value:T,onValueChange:k,open:S,onOpenChange:N,dir:D,triggerPointerDownPosRef:I,disabled:p,children:[o.jsx(ty.Provider,{scope:e,children:o.jsx(dte,{scope:t.__scopeSelect,onNativeOptionAdd:m.useCallback(q=>{W(K=>new Set(K).add(q))},[]),onNativeOptionRemove:m.useCallback(q=>{W(K=>{const L=new Set(K);return L.delete(q),L})},[]),children:n})}),A?o.jsxs(iF,{"aria-hidden":!0,required:g,tabIndex:-1,name:d,autoComplete:f,value:T,onChange:q=>k(q.target.value),disabled:p,form:b,children:[T===void 0?o.jsx("option",{value:""}):null,Array.from(R)]},U):null]})})};OL.displayName=Wl;var ML="SelectTrigger",LL=m.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=ry(n),a=qa(ML,n),l=a.disabled||r,c=Ze(e,a.onTriggerChange),u=ny(n),d=m.useRef("touch"),[f,p,g]=aF(y=>{const w=u().filter(v=>!v.disabled),_=w.find(v=>v.value===a.value),x=lF(w,y,_);x!==void 0&&a.onValueChange(x.value)}),b=y=>{l||(a.onOpenChange(!0),g()),y&&(a.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return o.jsx(af,{asChild:!0,...i,children:o.jsx(ke.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":oF(a.value)?"":void 0,...s,ref:c,onClick:xe(s.onClick,y=>{y.currentTarget.focus(),d.current!=="mouse"&&b(y)}),onPointerDown:xe(s.onPointerDown,y=>{d.current=y.pointerType;const w=y.target;w.hasPointerCapture(y.pointerId)&&w.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(b(y),y.preventDefault())}),onKeyDown:xe(s.onKeyDown,y=>{const w=f.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&p(y.key),!(w&&y.key===" ")&&ate.includes(y.key)&&(b(),y.preventDefault())})})})});LL.displayName=ML;var FL="SelectValue",VL=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:a="",...l}=t,c=qa(FL,n),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=Ze(e,c.onValueNodeChange);return hn(()=>{u(d)},[u,d]),o.jsx(ke.span,{...l,ref:f,style:{pointerEvents:"none"},children:oF(c.value)?o.jsx(o.Fragment,{children:a}):i})});VL.displayName=FL;var fte="SelectIcon",UL=m.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return o.jsx(ke.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});UL.displayName=fte;var mte="SelectPortal",$L=t=>o.jsx(Ou,{asChild:!0,...t});$L.displayName=mte;var Hl="SelectContent",BL=m.forwardRef((t,e)=>{const n=qa(Hl,t.__scopeSelect),[r,s]=m.useState();if(hn(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Ql.createPortal(o.jsx(zL,{scope:t.__scopeSelect,children:o.jsx(ty.Slot,{scope:t.__scopeSelect,children:o.jsx("div",{children:t.children})})}),i):null}return o.jsx(WL,{...t,ref:e})});BL.displayName=Hl;var Ss=10,[zL,Ga]=Gu(Hl),pte="SelectContentImpl",gte=ba("SelectContent.RemoveScroll"),WL=m.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:a,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:g,sticky:b,hideWhenDetached:y,avoidCollisions:w,..._}=t,x=qa(Hl,n),[v,j]=m.useState(null),[P,D]=m.useState(null),S=Ze(e,J=>j(J)),[N,T]=m.useState(null),[k,I]=m.useState(null),A=ny(n),[R,W]=m.useState(!1),U=m.useRef(!1);m.useEffect(()=>{if(v)return $v(v)},[v]),Vv();const q=m.useCallback(J=>{const[Fe,...Me]=A().map(De=>De.ref.current),[le]=Me.slice(-1),Ne=document.activeElement;for(const De of J)if(De===Ne||(De==null||De.scrollIntoView({block:"nearest"}),De===Fe&&P&&(P.scrollTop=0),De===le&&P&&(P.scrollTop=P.scrollHeight),De==null||De.focus(),document.activeElement!==Ne))return},[A,P]),K=m.useCallback(()=>q([N,v]),[q,N,v]);m.useEffect(()=>{R&&K()},[R,K]);const{onOpenChange:L,triggerPointerDownPosRef:V}=x;m.useEffect(()=>{if(v){let J={x:0,y:0};const Fe=le=>{var Ne,De;J={x:Math.abs(Math.round(le.pageX)-(((Ne=V.current)==null?void 0:Ne.x)??0)),y:Math.abs(Math.round(le.pageY)-(((De=V.current)==null?void 0:De.y)??0))}},Me=le=>{J.x<=10&&J.y<=10?le.preventDefault():v.contains(le.target)||L(!1),document.removeEventListener("pointermove",Fe),V.current=null};return V.current!==null&&(document.addEventListener("pointermove",Fe),document.addEventListener("pointerup",Me,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Fe),document.removeEventListener("pointerup",Me,{capture:!0})}}},[v,L,V]),m.useEffect(()=>{const J=()=>L(!1);return window.addEventListener("blur",J),window.addEventListener("resize",J),()=>{window.removeEventListener("blur",J),window.removeEventListener("resize",J)}},[L]);const[F,Q]=aF(J=>{const Fe=A().filter(Ne=>!Ne.disabled),Me=Fe.find(Ne=>Ne.ref.current===document.activeElement),le=lF(Fe,J,Me);le&&setTimeout(()=>le.ref.current.focus())}),$=m.useCallback((J,Fe,Me)=>{const le=!U.current&&!Me;(x.value!==void 0&&x.value===Fe||le)&&(T(J),le&&(U.current=!0))},[x.value]),te=m.useCallback(()=>v==null?void 0:v.focus(),[v]),ue=m.useCallback((J,Fe,Me)=>{const le=!U.current&&!Me;(x.value!==void 0&&x.value===Fe||le)&&I(J)},[x.value]),de=r==="popper"?$0:HL,Ce=de===$0?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:g,sticky:b,hideWhenDetached:y,avoidCollisions:w}:{};return o.jsx(zL,{scope:n,content:v,viewport:P,onViewportChange:D,itemRefCallback:$,selectedItem:N,onItemLeave:te,itemTextRefCallback:ue,focusSelectedItem:K,selectedItemText:k,position:r,isPositioned:R,searchRef:F,children:o.jsx(Of,{as:gte,allowPinchZoom:!0,children:o.jsx(Af,{asChild:!0,trapped:x.open,onMountAutoFocus:J=>{J.preventDefault()},onUnmountAutoFocus:xe(s,J=>{var Fe;(Fe=x.trigger)==null||Fe.focus({preventScroll:!0}),J.preventDefault()}),children:o.jsx(Xl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:J=>J.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:o.jsx(de,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:J=>J.preventDefault(),..._,...Ce,onPlaced:()=>W(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:xe(_.onKeyDown,J=>{const Fe=J.ctrlKey||J.altKey||J.metaKey;if(J.key==="Tab"&&J.preventDefault(),!Fe&&J.key.length===1&&Q(J.key),["ArrowUp","ArrowDown","Home","End"].includes(J.key)){let le=A().filter(Ne=>!Ne.disabled).map(Ne=>Ne.ref.current);if(["ArrowUp","End"].includes(J.key)&&(le=le.slice().reverse()),["ArrowUp","ArrowDown"].includes(J.key)){const Ne=J.target,De=le.indexOf(Ne);le=le.slice(De+1)}setTimeout(()=>q(le)),J.preventDefault()}})})})})})})});WL.displayName=pte;var vte="SelectItemAlignedPosition",HL=m.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=qa(Hl,n),a=Ga(Hl,n),[l,c]=m.useState(null),[u,d]=m.useState(null),f=Ze(e,S=>d(S)),p=ny(n),g=m.useRef(!1),b=m.useRef(!0),{viewport:y,selectedItem:w,selectedItemText:_,focusSelectedItem:x}=a,v=m.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&y&&w&&_){const S=i.trigger.getBoundingClientRect(),N=u.getBoundingClientRect(),T=i.valueNode.getBoundingClientRect(),k=_.getBoundingClientRect();if(i.dir!=="rtl"){const Ne=k.left-N.left,De=T.left-Ne,Nt=S.left-De,Re=S.width+Nt,Ue=Math.max(Re,N.width),ht=window.innerWidth-Ss,Z=U0(De,[Ss,Math.max(Ss,ht-Ue)]);l.style.minWidth=Re+"px",l.style.left=Z+"px"}else{const Ne=N.right-k.right,De=window.innerWidth-T.right-Ne,Nt=window.innerWidth-S.right-De,Re=S.width+Nt,Ue=Math.max(Re,N.width),ht=window.innerWidth-Ss,Z=U0(De,[Ss,Math.max(Ss,ht-Ue)]);l.style.minWidth=Re+"px",l.style.right=Z+"px"}const I=p(),A=window.innerHeight-Ss*2,R=y.scrollHeight,W=window.getComputedStyle(u),U=parseInt(W.borderTopWidth,10),q=parseInt(W.paddingTop,10),K=parseInt(W.borderBottomWidth,10),L=parseInt(W.paddingBottom,10),V=U+q+R+L+K,F=Math.min(w.offsetHeight*5,V),Q=window.getComputedStyle(y),$=parseInt(Q.paddingTop,10),te=parseInt(Q.paddingBottom,10),ue=S.top+S.height/2-Ss,de=A-ue,Ce=w.offsetHeight/2,J=w.offsetTop+Ce,Fe=U+q+J,Me=V-Fe;if(Fe<=ue){const Ne=I.length>0&&w===I[I.length-1].ref.current;l.style.bottom="0px";const De=u.clientHeight-y.offsetTop-y.offsetHeight,Nt=Math.max(de,Ce+(Ne?te:0)+De+K),Re=Fe+Nt;l.style.height=Re+"px"}else{const Ne=I.length>0&&w===I[0].ref.current;l.style.top="0px";const Nt=Math.max(ue,U+y.offsetTop+(Ne?$:0)+Ce)+Me;l.style.height=Nt+"px",y.scrollTop=Fe-ue+y.offsetTop}l.style.margin=`${Ss}px 0`,l.style.minHeight=F+"px",l.style.maxHeight=A+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[p,i.trigger,i.valueNode,l,u,y,w,_,i.dir,r]);hn(()=>v(),[v]);const[j,P]=m.useState();hn(()=>{u&&P(window.getComputedStyle(u).zIndex)},[u]);const D=m.useCallback(S=>{S&&b.current===!0&&(v(),x==null||x(),b.current=!1)},[v,x]);return o.jsx(xte,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:D,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:o.jsx(ke.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});HL.displayName=vte;var yte="SelectPopperPosition",$0=m.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Ss,...i}=t,a=ry(n);return o.jsx(ov,{...a,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});$0.displayName=yte;var[xte,rE]=Gu(Hl,{}),B0="SelectViewport",qL=m.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=Ga(B0,n),a=rE(B0,n),l=Ze(e,i.onViewportChange),c=m.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),o.jsx(ty.Slot,{scope:n,children:o.jsx(ke.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:xe(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=a;if(p!=null&&p.current&&f){const g=Math.abs(c.current-d.scrollTop);if(g>0){const b=window.innerHeight-Ss*2,y=parseFloat(f.style.minHeight),w=parseFloat(f.style.height),_=Math.max(y,w);if(_<b){const x=_+g,v=Math.min(b,x),j=x-v;f.style.height=v+"px",f.style.bottom==="0px"&&(d.scrollTop=j>0?j:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});qL.displayName=B0;var GL="SelectGroup",[wte,bte]=Gu(GL),_te=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Wn();return o.jsx(wte,{scope:n,id:s,children:o.jsx(ke.div,{role:"group","aria-labelledby":s,...r,ref:e})})});_te.displayName=GL;var KL="SelectLabel",YL=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=bte(KL,n);return o.jsx(ke.div,{id:s.id,...r,ref:e})});YL.displayName=KL;var jg="SelectItem",[Ete,QL]=Gu(jg),XL=m.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...a}=t,l=qa(jg,n),c=Ga(jg,n),u=l.value===r,[d,f]=m.useState(i??""),[p,g]=m.useState(!1),b=Ze(e,x=>{var v;return(v=c.itemRefCallback)==null?void 0:v.call(c,x,r,s)}),y=Wn(),w=m.useRef("touch"),_=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(Ete,{scope:n,value:r,disabled:s,textId:y,isSelected:u,onItemTextChange:m.useCallback(x=>{f(v=>v||((x==null?void 0:x.textContent)??"").trim())},[]),children:o.jsx(ty.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:o.jsx(ke.div,{role:"option","aria-labelledby":y,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:b,onFocus:xe(a.onFocus,()=>g(!0)),onBlur:xe(a.onBlur,()=>g(!1)),onClick:xe(a.onClick,()=>{w.current!=="mouse"&&_()}),onPointerUp:xe(a.onPointerUp,()=>{w.current==="mouse"&&_()}),onPointerDown:xe(a.onPointerDown,x=>{w.current=x.pointerType}),onPointerMove:xe(a.onPointerMove,x=>{var v;w.current=x.pointerType,s?(v=c.onItemLeave)==null||v.call(c):w.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:xe(a.onPointerLeave,x=>{var v;x.currentTarget===document.activeElement&&((v=c.onItemLeave)==null||v.call(c))}),onKeyDown:xe(a.onKeyDown,x=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&x.key===" "||(lte.includes(x.key)&&_(),x.key===" "&&x.preventDefault())})})})})});XL.displayName=jg;var Od="SelectItemText",ZL=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,a=qa(Od,n),l=Ga(Od,n),c=QL(Od,n),u=hte(Od,n),[d,f]=m.useState(null),p=Ze(e,_=>f(_),c.onItemTextChange,_=>{var x;return(x=l.itemTextRefCallback)==null?void 0:x.call(l,_,c.value,c.disabled)}),g=d==null?void 0:d.textContent,b=m.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:y,onNativeOptionRemove:w}=u;return hn(()=>(y(b),()=>w(b)),[y,w,b]),o.jsxs(o.Fragment,{children:[o.jsx(ke.span,{id:c.textId,...i,ref:p}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Ql.createPortal(i.children,a.valueNode):null]})});ZL.displayName=Od;var JL="SelectItemIndicator",eF=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return QL(JL,n).isSelected?o.jsx(ke.span,{"aria-hidden":!0,...r,ref:e}):null});eF.displayName=JL;var z0="SelectScrollUpButton",tF=m.forwardRef((t,e)=>{const n=Ga(z0,t.__scopeSelect),r=rE(z0,t.__scopeSelect),[s,i]=m.useState(!1),a=Ze(e,r.onScrollButtonChange);return hn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(rF,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});tF.displayName=z0;var W0="SelectScrollDownButton",nF=m.forwardRef((t,e)=>{const n=Ga(W0,t.__scopeSelect),r=rE(W0,t.__scopeSelect),[s,i]=m.useState(!1),a=Ze(e,r.onScrollButtonChange);return hn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(rF,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});nF.displayName=W0;var rF=m.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=Ga("SelectScrollButton",n),a=m.useRef(null),l=ny(n),c=m.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),hn(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),o.jsx(ke.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:xe(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:xe(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:xe(s.onPointerLeave,()=>{c()})})}),Nte="SelectSeparator",sF=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return o.jsx(ke.div,{"aria-hidden":!0,...r,ref:e})});sF.displayName=Nte;var H0="SelectArrow",Ste=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=ry(n),i=qa(H0,n),a=Ga(H0,n);return i.open&&a.position==="popper"?o.jsx(av,{...s,...r,ref:e}):null});Ste.displayName=H0;var jte="SelectBubbleInput",iF=m.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=m.useRef(null),i=Ze(r,s),a=L1(e);return m.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==e&&d){const f=new Event("change",{bubbles:!0});d.call(l,e),l.dispatchEvent(f)}},[a,e]),o.jsx(ke.select,{...n,style:{...qR,...n.style},ref:i,defaultValue:e})});iF.displayName=jte;function oF(t){return t===""||t===void 0}function aF(t){const e=sn(t),n=m.useRef(""),r=m.useRef(0),s=m.useCallback(a=>{const l=n.current+a;e(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),i=m.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function lF(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let a=Cte(t,Math.max(i,0));s.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function Cte(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var kte=OL,cF=LL,Tte=VL,Ite=UL,Rte=$L,uF=BL,Pte=qL,dF=YL,hF=XL,Ate=ZL,Dte=eF,fF=tF,mF=nF,pF=sF;const sE=kte,iE=Tte,sy=m.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(cF,{ref:r,className:_e("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,o.jsx(Ite,{asChild:!0,children:o.jsx(n_,{className:"h-4 w-4 opacity-50"})})]}));sy.displayName=cF.displayName;const gF=m.forwardRef(({className:t,...e},n)=>o.jsx(fF,{ref:n,className:_e("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(vP,{className:"h-4 w-4"})}));gF.displayName=fF.displayName;const vF=m.forwardRef(({className:t,...e},n)=>o.jsx(mF,{ref:n,className:_e("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(n_,{className:"h-4 w-4"})}));vF.displayName=mF.displayName;const iy=m.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>o.jsx(Rte,{children:o.jsxs(uF,{ref:s,className:_e("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[o.jsx(gF,{}),o.jsx(Pte,{className:_e("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),o.jsx(vF,{})]})}));iy.displayName=uF.displayName;const Ote=m.forwardRef(({className:t,...e},n)=>o.jsx(dF,{ref:n,className:_e("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));Ote.displayName=dF.displayName;const ds=m.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(hF,{ref:r,className:_e("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(Dte,{children:o.jsx(tf,{className:"h-4 w-4"})})}),o.jsx(Ate,{children:e})]}));ds.displayName=hF.displayName;const Mte=m.forwardRef(({className:t,...e},n)=>o.jsx(pF,{ref:n,className:_e("-mx-1 my-1 h-px bg-muted",t),...e}));Mte.displayName=pF.displayName;const Lte=Fee,yF=m.createContext({}),Hr=({...t})=>o.jsx(yF.Provider,{value:{name:t.name},children:o.jsx(Bee,{...t})}),oy=()=>{const t=m.useContext(yF),e=m.useContext(xF),{getFieldState:n,formState:r}=ey(),s=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:i}=e;return{id:i,name:t.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},xF=m.createContext({}),jr=m.forwardRef(({className:t,...e},n)=>{const r=m.useId();return o.jsx(xF.Provider,{value:{id:r},children:o.jsx("div",{ref:n,className:_e("space-y-2",t),...e})})});jr.displayName="FormItem";const Cr=m.forwardRef(({className:t,...e},n)=>{const{error:r,formItemId:s}=oy();return o.jsx(Le,{ref:n,className:_e(r&&"text-destructive",t),htmlFor:s,...e})});Cr.displayName="FormLabel";const kr=m.forwardRef(({...t},e)=>{const{error:n,formItemId:r,formDescriptionId:s,formMessageId:i}=oy();return o.jsx(UR,{ref:e,id:r,"aria-describedby":n?`${s} ${i}`:`${s}`,"aria-invalid":!!n,...t})});kr.displayName="FormControl";const Bi=m.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:r}=oy();return o.jsx("p",{ref:n,id:r,className:_e("text-sm text-muted-foreground",t),...e})});Bi.displayName="FormDescription";const Tr=m.forwardRef(({className:t,children:e,...n},r)=>{const{error:s,formMessageId:i}=oy(),a=s?String(s==null?void 0:s.message):e;return a?o.jsx("p",{ref:r,id:i,className:_e("text-sm font-medium text-destructive",t),...n,children:a}):null});Tr.displayName="FormMessage";var wF={exports:{}},rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oE=Symbol.for("react.transitional.element"),Fte=Symbol.for("react.portal"),Vte=Symbol.for("react.fragment"),Ute=Symbol.for("react.strict_mode"),$te=Symbol.for("react.profiler"),Bte=Symbol.for("react.consumer"),zte=Symbol.for("react.context"),Wte=Symbol.for("react.forward_ref"),Hte=Symbol.for("react.suspense"),qte=Symbol.for("react.memo"),bF=Symbol.for("react.lazy"),Gte=Symbol.for("react.activity"),Ik=Symbol.iterator;function Kte(t){return t===null||typeof t!="object"?null:(t=Ik&&t[Ik]||t["@@iterator"],typeof t=="function"?t:null)}var _F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},EF=Object.assign,NF={};function Ku(t,e,n){this.props=t,this.context=e,this.refs=NF,this.updater=n||_F}Ku.prototype.isReactComponent={};Ku.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ku.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function SF(){}SF.prototype=Ku.prototype;function aE(t,e,n){this.props=t,this.context=e,this.refs=NF,this.updater=n||_F}var lE=aE.prototype=new SF;lE.constructor=aE;EF(lE,Ku.prototype);lE.isPureReactComponent=!0;var Rk=Array.isArray;function q0(){}var Ht={H:null,A:null,T:null,S:null},jF=Object.prototype.hasOwnProperty;function cE(t,e,n){var r=n.ref;return{$$typeof:oE,type:t,key:e,ref:r!==void 0?r:null,props:n}}function Yte(t,e){return cE(t.type,e,t.props)}function uE(t){return typeof t=="object"&&t!==null&&t.$$typeof===oE}function Qte(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Pk=/\/+/g;function Px(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Qte(""+t.key):e.toString(36)}function Xte(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(q0,q0):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function bc(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"bigint":case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case oE:case Fte:a=!0;break;case bF:return a=t._init,bc(a(t._payload),e,n,r,s)}}if(a)return s=s(t),a=r===""?"."+Px(t,0):r,Rk(s)?(n="",a!=null&&(n=a.replace(Pk,"$&/")+"/"),bc(s,e,n,"",function(u){return u})):s!=null&&(uE(s)&&(s=Yte(s,n+(s.key==null||t&&t.key===s.key?"":(""+s.key).replace(Pk,"$&/")+"/")+a)),e.push(s)),1;a=0;var l=r===""?".":r+":";if(Rk(t))for(var c=0;c<t.length;c++)r=t[c],i=l+Px(r,c),a+=bc(r,e,n,i,s);else if(c=Kte(t),typeof c=="function")for(t=c.call(t),c=0;!(r=t.next()).done;)r=r.value,i=l+Px(r,c++),a+=bc(r,e,n,i,s);else if(i==="object"){if(typeof t.then=="function")return bc(Xte(t),e,n,r,s);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return a}function Mm(t,e,n){if(t==null)return t;var r=[],s=0;return bc(t,r,"","",function(i){return e.call(n,i,s++)}),r}function Zte(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ak=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Jte={map:Mm,forEach:function(t,e,n){Mm(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Mm(t,function(){e++}),e},toArray:function(t){return Mm(t,function(e){return e})||[]},only:function(t){if(!uE(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};rt.Activity=Gte;rt.Children=Jte;rt.Component=Ku;rt.Fragment=Vte;rt.Profiler=$te;rt.PureComponent=aE;rt.StrictMode=Ute;rt.Suspense=Hte;rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ht;rt.__COMPILER_RUNTIME={__proto__:null,c:function(t){return Ht.H.useMemoCache(t)}};rt.cache=function(t){return function(){return t.apply(null,arguments)}};rt.cacheSignal=function(){return null};rt.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var r=EF({},t.props),s=t.key;if(e!=null)for(i in e.key!==void 0&&(s=""+e.key),e)!jF.call(e,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&e.ref===void 0||(r[i]=e[i]);var i=arguments.length-2;if(i===1)r.children=n;else if(1<i){for(var a=Array(i),l=0;l<i;l++)a[l]=arguments[l+2];r.children=a}return cE(t.type,s,r)};rt.createContext=function(t){return t={$$typeof:zte,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:Bte,_context:t},t};rt.createElement=function(t,e,n){var r,s={},i=null;if(e!=null)for(r in e.key!==void 0&&(i=""+e.key),e)jF.call(e,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return cE(t,i,s)};rt.createRef=function(){return{current:null}};rt.forwardRef=function(t){return{$$typeof:Wte,render:t}};rt.isValidElement=uE;rt.lazy=function(t){return{$$typeof:bF,_payload:{_status:-1,_result:t},_init:Zte}};rt.memo=function(t,e){return{$$typeof:qte,type:t,compare:e===void 0?null:e}};rt.startTransition=function(t){var e=Ht.T,n={};Ht.T=n;try{var r=t(),s=Ht.S;s!==null&&s(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(q0,Ak)}catch(i){Ak(i)}finally{e!==null&&n.types!==null&&(e.types=n.types),Ht.T=e}};rt.unstable_useCacheRefresh=function(){return Ht.H.useCacheRefresh()};rt.use=function(t){return Ht.H.use(t)};rt.useActionState=function(t,e,n){return Ht.H.useActionState(t,e,n)};rt.useCallback=function(t,e){return Ht.H.useCallback(t,e)};rt.useContext=function(t){return Ht.H.useContext(t)};rt.useDebugValue=function(){};rt.useDeferredValue=function(t,e){return Ht.H.useDeferredValue(t,e)};rt.useEffect=function(t,e){return Ht.H.useEffect(t,e)};rt.useEffectEvent=function(t){return Ht.H.useEffectEvent(t)};rt.useId=function(){return Ht.H.useId()};rt.useImperativeHandle=function(t,e,n){return Ht.H.useImperativeHandle(t,e,n)};rt.useInsertionEffect=function(t,e){return Ht.H.useInsertionEffect(t,e)};rt.useLayoutEffect=function(t,e){return Ht.H.useLayoutEffect(t,e)};rt.useMemo=function(t,e){return Ht.H.useMemo(t,e)};rt.useOptimistic=function(t,e){return Ht.H.useOptimistic(t,e)};rt.useReducer=function(t,e,n){return Ht.H.useReducer(t,e,n)};rt.useRef=function(t){return Ht.H.useRef(t)};rt.useState=function(t){return Ht.H.useState(t)};rt.useSyncExternalStore=function(t,e,n){return Ht.H.useSyncExternalStore(t,e,n)};rt.useTransition=function(){return Ht.H.useTransition()};rt.version="19.2.0";wF.exports=rt;var dE=wF.exports;/*!
 * react-paypal-js v8.9.2 (2025-10-02T20:17:55.069Z)
 * Copyright 2020-present, PayPal, Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dk;(function(t){t.INITIAL="initial",t.PENDING="pending",t.REJECTED="rejected",t.RESOLVED="resolved"})(Dk||(Dk={}));var Ok;(function(t){t.LOADING_STATUS="setLoadingStatus",t.RESET_OPTIONS="resetOptions",t.SET_BRAINTREE_INSTANCE="braintreeInstance"})(Ok||(Ok={}));var Mk;(function(t){t.NUMBER="number",t.CVV="cvv",t.EXPIRATION_DATE="expirationDate",t.EXPIRATION_MONTH="expirationMonth",t.EXPIRATION_YEAR="expirationYear",t.POSTAL_CODE="postalCode"})(Mk||(Mk={}));dE.createContext(null);dE.createContext({});function Lk(){}dE.createContext({cardFieldsForm:null,fields:{},registerField:Lk,unregisterField:Lk});const ene=t=>o.jsx(tne,{...t}),tne=({amount:t,userId:e,description:n,onSuccess:r})=>{const[s,i]=m.useState(!1),a=async()=>{i(!0);try{await new Promise(l=>setTimeout(l,2e3)),await Tf({userId:e,type:"payment",amount:t,description:`PayPal payment (simulated): ${n}`,status:"completed",paymentMethod:"paypal"}),H.success("Payment successful! (Simulated - Configure PayPal SDK for real payments)"),r()}catch(l){H.error("Payment failed"),console.error(l)}finally{i(!1)}};return o.jsxs(ie,{onClick:a,disabled:s,className:"w-full bg-[#0070ba] hover:bg-[#003087]",children:[o.jsx(nf,{className:"h-4 w-4 mr-2"}),s?"Processing...":`Pay ${Qe(t)} with PayPal (Simulated)`]})};function vt(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function ns(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function gr(t,e){const n=vt(t);return isNaN(e)?ns(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function Gs(t,e){const n=vt(t);if(isNaN(e))return ns(t,NaN);if(!e)return n;const r=n.getDate(),s=ns(t,n.getTime());s.setMonth(n.getMonth()+e+1,0);const i=s.getDate();return r>=i?s:(n.setFullYear(s.getFullYear(),s.getMonth(),r),n)}const hE=6048e5,nne=864e5;let rne={};function $f(){return rne}function Ii(t,e){var l,c,u,d;const n=$f(),r=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=vt(t),i=s.getDay(),a=(i<r?7:0)+i-r;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function ql(t){return Ii(t,{weekStartsOn:1})}function CF(t){const e=vt(t),n=e.getFullYear(),r=ns(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=ql(r),i=ns(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const a=ql(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function Nu(t){const e=vt(t);return e.setHours(0,0,0,0),e}function Cg(t){const e=vt(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function mi(t,e){const n=Nu(t),r=Nu(e),s=+n-Cg(n),i=+r-Cg(r);return Math.round((s-i)/nne)}function sne(t){const e=CF(t),n=ns(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),ql(n)}function G0(t,e){const n=e*7;return gr(t,n)}function ine(t,e){return Gs(t,e*12)}function one(t){let e;return t.forEach(function(n){const r=vt(n);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function ane(t){let e;return t.forEach(n=>{const r=vt(n);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function Mr(t,e){const n=Nu(t),r=Nu(e);return+n==+r}function fE(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function lne(t){if(!fE(t)&&typeof t!="number")return!1;const e=vt(t);return!isNaN(Number(e))}function $h(t,e){const n=vt(t),r=vt(e),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function cne(t,e,n){const r=Ii(t,n),s=Ii(e,n),i=+r-Cg(r),a=+s-Cg(s);return Math.round((i-a)/hE)}function mE(t){const e=vt(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function Ur(t){const e=vt(t);return e.setDate(1),e.setHours(0,0,0,0),e}function kF(t){const e=vt(t),n=ns(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function pE(t,e){var l,c,u,d;const n=$f(),r=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=vt(t),i=s.getDay(),a=(i<r?-7:0)+6-(i-r);return s.setDate(s.getDate()+a),s.setHours(23,59,59,999),s}function TF(t){return pE(t,{weekStartsOn:1})}const une={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},dne=(t,e,n)=>{let r;const s=une[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Ax(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const hne={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},fne={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},mne={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},pne={date:Ax({formats:hne,defaultWidth:"full"}),time:Ax({formats:fne,defaultWidth:"full"}),dateTime:Ax({formats:mne,defaultWidth:"full"})},gne={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},vne=(t,e,n,r)=>gne[t];function _d(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,l=n!=null&&n.width?String(n.width):a;s=t.formattingValues[l]||t.formattingValues[a]}else{const a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[l]||t.values[a]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const yne={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},xne={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},wne={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},bne={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},_ne={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Ene={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Nne=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Sne={ordinalNumber:Nne,era:_d({values:yne,defaultWidth:"wide"}),quarter:_d({values:xne,defaultWidth:"wide",argumentCallback:t=>t-1}),month:_d({values:wne,defaultWidth:"wide"}),day:_d({values:bne,defaultWidth:"wide"}),dayPeriod:_d({values:_ne,defaultWidth:"wide",formattingValues:Ene,defaultFormattingWidth:"wide"})};function Ed(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const a=i[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?Cne(l,f=>f.test(a)):jne(l,f=>f.test(a));let u;u=t.valueCallback?t.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=e.slice(a.length);return{value:u,rest:d}}}function jne(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Cne(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function kne(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let a=t.valueCallback?t.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;const l=e.slice(s.length);return{value:a,rest:l}}}const Tne=/^(\d+)(th|st|nd|rd)?/i,Ine=/\d+/i,Rne={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Pne={any:[/^b/i,/^(a|c)/i]},Ane={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Dne={any:[/1/i,/2/i,/3/i,/4/i]},One={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Mne={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Lne={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Fne={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Vne={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Une={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},$ne={ordinalNumber:kne({matchPattern:Tne,parsePattern:Ine,valueCallback:t=>parseInt(t,10)}),era:Ed({matchPatterns:Rne,defaultMatchWidth:"wide",parsePatterns:Pne,defaultParseWidth:"any"}),quarter:Ed({matchPatterns:Ane,defaultMatchWidth:"wide",parsePatterns:Dne,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ed({matchPatterns:One,defaultMatchWidth:"wide",parsePatterns:Mne,defaultParseWidth:"any"}),day:Ed({matchPatterns:Lne,defaultMatchWidth:"wide",parsePatterns:Fne,defaultParseWidth:"any"}),dayPeriod:Ed({matchPatterns:Vne,defaultMatchWidth:"any",parsePatterns:Une,defaultParseWidth:"any"})},IF={code:"en-US",formatDistance:dne,formatLong:pne,formatRelative:vne,localize:Sne,match:$ne,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Bne(t){const e=vt(t);return mi(e,kF(e))+1}function RF(t){const e=vt(t),n=+ql(e)-+sne(e);return Math.round(n/hE)+1}function PF(t,e){var d,f,p,g;const n=vt(t),r=n.getFullYear(),s=$f(),i=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((g=(p=s.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,a=ns(t,0);a.setFullYear(r+1,0,i),a.setHours(0,0,0,0);const l=Ii(a,e),c=ns(t,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const u=Ii(c,e);return n.getTime()>=l.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function zne(t,e){var l,c,u,d;const n=$f(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=PF(t,e),i=ns(t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),Ii(i,e)}function AF(t,e){const n=vt(t),r=+Ii(n,e)-+zne(n,e);return Math.round(r/hE)+1}function Tt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Ro={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Tt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Tt(n+1,2)},d(t,e){return Tt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Tt(t.getHours()%12||12,e.length)},H(t,e){return Tt(t.getHours(),e.length)},m(t,e){return Tt(t.getMinutes(),e.length)},s(t,e){return Tt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return Tt(s,e.length)}},mc={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Fk={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Ro.y(t,e)},Y:function(t,e,n,r){const s=PF(t,r),i=s>0?s:1-s;if(e==="YY"){const a=i%100;return Tt(a,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):Tt(i,e.length)},R:function(t,e){const n=CF(t);return Tt(n,e.length)},u:function(t,e){const n=t.getFullYear();return Tt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Tt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Tt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Ro.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Tt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=AF(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):Tt(s,e.length)},I:function(t,e,n){const r=RF(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Tt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Ro.d(t,e)},D:function(t,e,n){const r=Bne(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Tt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return Tt(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return Tt(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return Tt(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=mc.noon:r===0?s=mc.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=mc.evening:r>=12?s=mc.afternoon:r>=4?s=mc.morning:s=mc.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ro.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Ro.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Tt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Tt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ro.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Ro.s(t,e)},S:function(t,e){return Ro.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return Uk(r);case"XXXX":case"XX":return il(r);case"XXXXX":case"XXX":default:return il(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return Uk(r);case"xxxx":case"xx":return il(r);case"xxxxx":case"xxx":default:return il(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Vk(r,":");case"OOOO":default:return"GMT"+il(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Vk(r,":");case"zzzz":default:return"GMT"+il(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Tt(r,e.length)},T:function(t,e,n){const r=t.getTime();return Tt(r,e.length)}};function Vk(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+Tt(i,2)}function Uk(t,e){return t%60===0?(t>0?"-":"+")+Tt(Math.abs(t)/60,2):il(t,e)}function il(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Tt(Math.trunc(r/60),2),i=Tt(r%60,2);return n+s+e+i}const $k=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},DF=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Wne=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return $k(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",$k(r,e)).replace("{{time}}",DF(s,e))},Hne={p:DF,P:Wne},qne=/^D+$/,Gne=/^Y+$/,Kne=["D","DD","YY","YYYY"];function Yne(t){return qne.test(t)}function Qne(t){return Gne.test(t)}function Xne(t,e,n){const r=Zne(t,e,n);if(console.warn(r),Kne.includes(t))throw new RangeError(r)}function Zne(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Jne=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ere=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,tre=/^'([^]*?)'?$/,nre=/''/g,rre=/[a-zA-Z]/;function ps(t,e,n){var d,f,p,g,b,y,w,_;const r=$f(),s=(n==null?void 0:n.locale)??r.locale??IF,i=(n==null?void 0:n.firstWeekContainsDate)??((f=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((g=(p=r.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,a=(n==null?void 0:n.weekStartsOn)??((y=(b=n==null?void 0:n.locale)==null?void 0:b.options)==null?void 0:y.weekStartsOn)??r.weekStartsOn??((_=(w=r.locale)==null?void 0:w.options)==null?void 0:_.weekStartsOn)??0,l=vt(t);if(!lne(l))throw new RangeError("Invalid time value");let c=e.match(ere).map(x=>{const v=x[0];if(v==="p"||v==="P"){const j=Hne[v];return j(x,s.formatLong)}return x}).join("").match(Jne).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const v=x[0];if(v==="'")return{isToken:!1,value:sre(x)};if(Fk[v])return{isToken:!0,value:x};if(v.match(rre))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:x}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:a,locale:s};return c.map(x=>{if(!x.isToken)return x.value;const v=x.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&Qne(v)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&Yne(v))&&Xne(v,e,String(t));const j=Fk[v[0]];return j(l,v,s.localize,u)}).join("")}function sre(t){const e=t.match(tre);return e?e[1].replace(nre,"'"):t}function ire(t){const e=vt(t),n=e.getFullYear(),r=e.getMonth(),s=ns(t,0);return s.setFullYear(n,r+1,0),s.setHours(0,0,0,0),s.getDate()}function ore(t){return Math.trunc(+vt(t)/1e3)}function are(t){const e=vt(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}function lre(t,e){return cne(are(t),Ur(t),e)+1}function K0(t,e){const n=vt(t),r=vt(e);return n.getTime()>r.getTime()}function OF(t,e){const n=vt(t),r=vt(e);return+n<+r}function gE(t,e){const n=vt(t),r=vt(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function cre(t,e){const n=vt(t),r=vt(e);return n.getFullYear()===r.getFullYear()}function Dx(t,e){return gr(t,-e)}function Ox(t,e){const n=vt(t),r=n.getFullYear(),s=n.getDate(),i=ns(t,0);i.setFullYear(r,e,15),i.setHours(0,0,0,0);const a=ire(i);return n.setMonth(e,Math.min(s,a)),n}function Bk(t,e){const n=vt(t);return isNaN(+n)?ns(t,NaN):(n.setFullYear(e),n)}var Ye=function(){return Ye=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ye.apply(this,arguments)};function ure(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function MF(t,e,n){for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function Bf(t){return t.mode==="multiple"}function zf(t){return t.mode==="range"}function ay(t){return t.mode==="single"}var dre={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function hre(t,e){return ps(t,"LLLL y",e)}function fre(t,e){return ps(t,"d",e)}function mre(t,e){return ps(t,"LLLL",e)}function pre(t){return"".concat(t)}function gre(t,e){return ps(t,"cccccc",e)}function vre(t,e){return ps(t,"yyyy",e)}var yre=Object.freeze({__proto__:null,formatCaption:hre,formatDay:fre,formatMonthCaption:mre,formatWeekNumber:pre,formatWeekdayName:gre,formatYearCaption:vre}),xre=function(t,e,n){return ps(t,"do MMMM (EEEE)",n)},wre=function(){return"Month: "},bre=function(){return"Go to next month"},_re=function(){return"Go to previous month"},Ere=function(t,e){return ps(t,"cccc",e)},Nre=function(t){return"Week n. ".concat(t)},Sre=function(){return"Year: "},jre=Object.freeze({__proto__:null,labelDay:xre,labelMonthDropdown:wre,labelNext:bre,labelPrevious:_re,labelWeekNumber:Nre,labelWeekday:Ere,labelYearDropdown:Sre});function Cre(){var t="buttons",e=dre,n=IF,r={},s={},i=1,a={},l=new Date;return{captionLayout:t,classNames:e,formatters:yre,labels:jre,locale:n,modifiersClassNames:r,modifiers:s,numberOfMonths:i,styles:a,today:l,mode:"default"}}function kre(t){var e=t.fromYear,n=t.toYear,r=t.fromMonth,s=t.toMonth,i=t.fromDate,a=t.toDate;return r?i=Ur(r):e&&(i=new Date(e,0,1)),s?a=mE(s):n&&(a=new Date(n,11,31)),{fromDate:i?Nu(i):void 0,toDate:a?Nu(a):void 0}}var LF=m.createContext(void 0);function Tre(t){var e,n=t.initialProps,r=Cre(),s=kre(n),i=s.fromDate,a=s.toDate,l=(e=n.captionLayout)!==null&&e!==void 0?e:r.captionLayout;l!=="buttons"&&(!i||!a)&&(l="buttons");var c;(ay(n)||Bf(n)||zf(n))&&(c=n.onSelect);var u=Ye(Ye(Ye({},r),n),{captionLayout:l,classNames:Ye(Ye({},r.classNames),n.classNames),components:Ye({},n.components),formatters:Ye(Ye({},r.formatters),n.formatters),fromDate:i,labels:Ye(Ye({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:Ye(Ye({},r.modifiers),n.modifiers),modifiersClassNames:Ye(Ye({},r.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:Ye(Ye({},r.styles),n.styles),toDate:a});return o.jsx(LF.Provider,{value:u,children:t.children})}function Ut(){var t=m.useContext(LF);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function FF(t){var e=Ut(),n=e.locale,r=e.classNames,s=e.styles,i=e.formatters.formatCaption;return o.jsx("div",{className:r.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:i(t.displayMonth,{locale:n})})}function Ire(t){return o.jsx("svg",Ye({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:o.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function VF(t){var e,n,r=t.onChange,s=t.value,i=t.children,a=t.caption,l=t.className,c=t.style,u=Ut(),d=(n=(e=u.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&n!==void 0?n:Ire;return o.jsxs("div",{className:l,style:c,children:[o.jsx("span",{className:u.classNames.vhidden,children:t["aria-label"]}),o.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:s,onChange:r,children:i}),o.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[a,o.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function Rre(t){var e,n=Ut(),r=n.fromDate,s=n.toDate,i=n.styles,a=n.locale,l=n.formatters.formatMonthCaption,c=n.classNames,u=n.components,d=n.labels.labelMonthDropdown;if(!r)return o.jsx(o.Fragment,{});if(!s)return o.jsx(o.Fragment,{});var f=[];if(cre(r,s))for(var p=Ur(r),g=r.getMonth();g<=s.getMonth();g++)f.push(Ox(p,g));else for(var p=Ur(new Date),g=0;g<=11;g++)f.push(Ox(p,g));var b=function(w){var _=Number(w.target.value),x=Ox(Ur(t.displayMonth),_);t.onChange(x)},y=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:VF;return o.jsx(y,{name:"months","aria-label":d(),className:c.dropdown_month,style:i.dropdown_month,onChange:b,value:t.displayMonth.getMonth(),caption:l(t.displayMonth,{locale:a}),children:f.map(function(w){return o.jsx("option",{value:w.getMonth(),children:l(w,{locale:a})},w.getMonth())})})}function Pre(t){var e,n=t.displayMonth,r=Ut(),s=r.fromDate,i=r.toDate,a=r.locale,l=r.styles,c=r.classNames,u=r.components,d=r.formatters.formatYearCaption,f=r.labels.labelYearDropdown,p=[];if(!s)return o.jsx(o.Fragment,{});if(!i)return o.jsx(o.Fragment,{});for(var g=s.getFullYear(),b=i.getFullYear(),y=g;y<=b;y++)p.push(Bk(kF(new Date),y));var w=function(x){var v=Bk(Ur(n),Number(x.target.value));t.onChange(v)},_=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:VF;return o.jsx(_,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:w,value:n.getFullYear(),caption:d(n,{locale:a}),children:p.map(function(x){return o.jsx("option",{value:x.getFullYear(),children:d(x,{locale:a})},x.getFullYear())})})}function Are(t,e){var n=m.useState(t),r=n[0],s=n[1],i=e===void 0?r:e;return[i,s]}function Dre(t){var e=t.month,n=t.defaultMonth,r=t.today,s=e||n||r||new Date,i=t.toDate,a=t.fromDate,l=t.numberOfMonths,c=l===void 0?1:l;if(i&&$h(i,s)<0){var u=-1*(c-1);s=Gs(i,u)}return a&&$h(s,a)<0&&(s=a),Ur(s)}function Ore(){var t=Ut(),e=Dre(t),n=Are(e,t.month),r=n[0],s=n[1],i=function(a){var l;if(!t.disableNavigation){var c=Ur(a);s(c),(l=t.onMonthChange)===null||l===void 0||l.call(t,c)}};return[r,i]}function Mre(t,e){for(var n=e.reverseMonths,r=e.numberOfMonths,s=Ur(t),i=Ur(Gs(s,r)),a=$h(i,s),l=[],c=0;c<a;c++){var u=Gs(s,c);l.push(u)}return n&&(l=l.reverse()),l}function Lre(t,e){if(!e.disableNavigation){var n=e.toDate,r=e.pagedNavigation,s=e.numberOfMonths,i=s===void 0?1:s,a=r?i:1,l=Ur(t);if(!n)return Gs(l,a);var c=$h(n,t);if(!(c<i))return Gs(l,a)}}function Fre(t,e){if(!e.disableNavigation){var n=e.fromDate,r=e.pagedNavigation,s=e.numberOfMonths,i=s===void 0?1:s,a=r?i:1,l=Ur(t);if(!n)return Gs(l,-a);var c=$h(l,n);if(!(c<=0))return Gs(l,-a)}}var UF=m.createContext(void 0);function Vre(t){var e=Ut(),n=Ore(),r=n[0],s=n[1],i=Mre(r,e),a=Lre(r,e),l=Fre(r,e),c=function(f){return i.some(function(p){return gE(f,p)})},u=function(f,p){c(f)||(p&&OF(f,p)?s(Gs(f,1+e.numberOfMonths*-1)):s(f))},d={currentMonth:r,displayMonths:i,goToMonth:s,goToDate:u,previousMonth:l,nextMonth:a,isDateDisplayed:c};return o.jsx(UF.Provider,{value:d,children:t.children})}function Wf(){var t=m.useContext(UF);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function zk(t){var e,n=Ut(),r=n.classNames,s=n.styles,i=n.components,a=Wf().goToMonth,l=function(d){a(Gs(d,t.displayIndex?-t.displayIndex:0))},c=(e=i==null?void 0:i.CaptionLabel)!==null&&e!==void 0?e:FF,u=o.jsx(c,{id:t.id,displayMonth:t.displayMonth});return o.jsxs("div",{className:r.caption_dropdowns,style:s.caption_dropdowns,children:[o.jsx("div",{className:r.vhidden,children:u}),o.jsx(Rre,{onChange:l,displayMonth:t.displayMonth}),o.jsx(Pre,{onChange:l,displayMonth:t.displayMonth})]})}function Ure(t){return o.jsx("svg",Ye({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:o.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function $re(t){return o.jsx("svg",Ye({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:o.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var kg=m.forwardRef(function(t,e){var n=Ut(),r=n.classNames,s=n.styles,i=[r.button_reset,r.button];t.className&&i.push(t.className);var a=i.join(" "),l=Ye(Ye({},s.button_reset),s.button);return t.style&&Object.assign(l,t.style),o.jsx("button",Ye({},t,{ref:e,type:"button",className:a,style:l}))});function Bre(t){var e,n,r=Ut(),s=r.dir,i=r.locale,a=r.classNames,l=r.styles,c=r.labels,u=c.labelPrevious,d=c.labelNext,f=r.components;if(!t.nextMonth&&!t.previousMonth)return o.jsx(o.Fragment,{});var p=u(t.previousMonth,{locale:i}),g=[a.nav_button,a.nav_button_previous].join(" "),b=d(t.nextMonth,{locale:i}),y=[a.nav_button,a.nav_button_next].join(" "),w=(e=f==null?void 0:f.IconRight)!==null&&e!==void 0?e:$re,_=(n=f==null?void 0:f.IconLeft)!==null&&n!==void 0?n:Ure;return o.jsxs("div",{className:a.nav,style:l.nav,children:[!t.hidePrevious&&o.jsx(kg,{name:"previous-month","aria-label":p,className:g,style:l.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:s==="rtl"?o.jsx(w,{className:a.nav_icon,style:l.nav_icon}):o.jsx(_,{className:a.nav_icon,style:l.nav_icon})}),!t.hideNext&&o.jsx(kg,{name:"next-month","aria-label":b,className:y,style:l.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:s==="rtl"?o.jsx(_,{className:a.nav_icon,style:l.nav_icon}):o.jsx(w,{className:a.nav_icon,style:l.nav_icon})})]})}function Wk(t){var e=Ut().numberOfMonths,n=Wf(),r=n.previousMonth,s=n.nextMonth,i=n.goToMonth,a=n.displayMonths,l=a.findIndex(function(b){return gE(t.displayMonth,b)}),c=l===0,u=l===a.length-1,d=e>1&&(c||!u),f=e>1&&(u||!c),p=function(){r&&i(r)},g=function(){s&&i(s)};return o.jsx(Bre,{displayMonth:t.displayMonth,hideNext:d,hidePrevious:f,nextMonth:s,previousMonth:r,onPreviousClick:p,onNextClick:g})}function zre(t){var e,n=Ut(),r=n.classNames,s=n.disableNavigation,i=n.styles,a=n.captionLayout,l=n.components,c=(e=l==null?void 0:l.CaptionLabel)!==null&&e!==void 0?e:FF,u;return s?u=o.jsx(c,{id:t.id,displayMonth:t.displayMonth}):a==="dropdown"?u=o.jsx(zk,{displayMonth:t.displayMonth,id:t.id}):a==="dropdown-buttons"?u=o.jsxs(o.Fragment,{children:[o.jsx(zk,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),o.jsx(Wk,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):u=o.jsxs(o.Fragment,{children:[o.jsx(c,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),o.jsx(Wk,{displayMonth:t.displayMonth,id:t.id})]}),o.jsx("div",{className:r.caption,style:i.caption,children:u})}function Wre(t){var e=Ut(),n=e.footer,r=e.styles,s=e.classNames.tfoot;return n?o.jsx("tfoot",{className:s,style:r.tfoot,children:o.jsx("tr",{children:o.jsx("td",{colSpan:8,children:n})})}):o.jsx(o.Fragment,{})}function Hre(t,e,n){for(var r=n?ql(new Date):Ii(new Date,{locale:t,weekStartsOn:e}),s=[],i=0;i<7;i++){var a=gr(r,i);s.push(a)}return s}function qre(){var t=Ut(),e=t.classNames,n=t.styles,r=t.showWeekNumber,s=t.locale,i=t.weekStartsOn,a=t.ISOWeek,l=t.formatters.formatWeekdayName,c=t.labels.labelWeekday,u=Hre(s,i,a);return o.jsxs("tr",{style:n.head_row,className:e.head_row,children:[r&&o.jsx("td",{style:n.head_cell,className:e.head_cell}),u.map(function(d,f){return o.jsx("th",{scope:"col",className:e.head_cell,style:n.head_cell,"aria-label":c(d,{locale:s}),children:l(d,{locale:s})},f)})]})}function Gre(){var t,e=Ut(),n=e.classNames,r=e.styles,s=e.components,i=(t=s==null?void 0:s.HeadRow)!==null&&t!==void 0?t:qre;return o.jsx("thead",{style:r.head,className:n.head,children:o.jsx(i,{})})}function Kre(t){var e=Ut(),n=e.locale,r=e.formatters.formatDay;return o.jsx(o.Fragment,{children:r(t.date,{locale:n})})}var vE=m.createContext(void 0);function Yre(t){if(!Bf(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return o.jsx(vE.Provider,{value:e,children:t.children})}return o.jsx(Qre,{initialProps:t.initialProps,children:t.children})}function Qre(t){var e=t.initialProps,n=t.children,r=e.selected,s=e.min,i=e.max,a=function(u,d,f){var p,g;(p=e.onDayClick)===null||p===void 0||p.call(e,u,d,f);var b=!!(d.selected&&s&&(r==null?void 0:r.length)===s);if(!b){var y=!!(!d.selected&&i&&(r==null?void 0:r.length)===i);if(!y){var w=r?MF([],r):[];if(d.selected){var _=w.findIndex(function(x){return Mr(u,x)});w.splice(_,1)}else w.push(u);(g=e.onSelect)===null||g===void 0||g.call(e,w,u,d,f)}}},l={disabled:[]};r&&l.disabled.push(function(u){var d=i&&r.length>i-1,f=r.some(function(p){return Mr(p,u)});return!!(d&&!f)});var c={selected:r,onDayClick:a,modifiers:l};return o.jsx(vE.Provider,{value:c,children:n})}function yE(){var t=m.useContext(vE);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function Xre(t,e){var n=e||{},r=n.from,s=n.to;return r&&s?Mr(s,t)&&Mr(r,t)?void 0:Mr(s,t)?{from:s,to:void 0}:Mr(r,t)?void 0:K0(r,t)?{from:t,to:s}:{from:r,to:t}:s?K0(t,s)?{from:s,to:t}:{from:t,to:s}:r?OF(t,r)?{from:t,to:r}:{from:r,to:t}:{from:t,to:void 0}}var xE=m.createContext(void 0);function Zre(t){if(!zf(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return o.jsx(xE.Provider,{value:e,children:t.children})}return o.jsx(Jre,{initialProps:t.initialProps,children:t.children})}function Jre(t){var e=t.initialProps,n=t.children,r=e.selected,s=r||{},i=s.from,a=s.to,l=e.min,c=e.max,u=function(g,b,y){var w,_;(w=e.onDayClick)===null||w===void 0||w.call(e,g,b,y);var x=Xre(g,r);(_=e.onSelect)===null||_===void 0||_.call(e,x,g,b,y)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(d.range_start=[i],a?(d.range_end=[a],Mr(i,a)||(d.range_middle=[{after:i,before:a}])):d.range_end=[i]):a&&(d.range_start=[a],d.range_end=[a]),l&&(i&&!a&&d.disabled.push({after:Dx(i,l-1),before:gr(i,l-1)}),i&&a&&d.disabled.push({after:i,before:gr(i,l-1)}),!i&&a&&d.disabled.push({after:Dx(a,l-1),before:gr(a,l-1)})),c){if(i&&!a&&(d.disabled.push({before:gr(i,-c+1)}),d.disabled.push({after:gr(i,c-1)})),i&&a){var f=mi(a,i)+1,p=c-f;d.disabled.push({before:Dx(i,p)}),d.disabled.push({after:gr(a,p)})}!i&&a&&(d.disabled.push({before:gr(a,-c+1)}),d.disabled.push({after:gr(a,c-1)}))}return o.jsx(xE.Provider,{value:{selected:r,onDayClick:u,modifiers:d},children:n})}function wE(){var t=m.useContext(xE);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function fp(t){return Array.isArray(t)?MF([],t):t!==void 0?[t]:[]}function ese(t){var e={};return Object.entries(t).forEach(function(n){var r=n[0],s=n[1];e[r]=fp(s)}),e}var Ks;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(Ks||(Ks={}));var tse=Ks.Selected,Ui=Ks.Disabled,nse=Ks.Hidden,rse=Ks.Today,Mx=Ks.RangeEnd,Lx=Ks.RangeMiddle,Fx=Ks.RangeStart,sse=Ks.Outside;function ise(t,e,n){var r,s=(r={},r[tse]=fp(t.selected),r[Ui]=fp(t.disabled),r[nse]=fp(t.hidden),r[rse]=[t.today],r[Mx]=[],r[Lx]=[],r[Fx]=[],r[sse]=[],r);return t.fromDate&&s[Ui].push({before:t.fromDate}),t.toDate&&s[Ui].push({after:t.toDate}),Bf(t)?s[Ui]=s[Ui].concat(e.modifiers[Ui]):zf(t)&&(s[Ui]=s[Ui].concat(n.modifiers[Ui]),s[Fx]=n.modifiers[Fx],s[Lx]=n.modifiers[Lx],s[Mx]=n.modifiers[Mx]),s}var $F=m.createContext(void 0);function ose(t){var e=Ut(),n=yE(),r=wE(),s=ise(e,n,r),i=ese(e.modifiers),a=Ye(Ye({},s),i);return o.jsx($F.Provider,{value:a,children:t.children})}function BF(){var t=m.useContext($F);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function ase(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function lse(t){return!!(t&&typeof t=="object"&&"from"in t)}function cse(t){return!!(t&&typeof t=="object"&&"after"in t)}function use(t){return!!(t&&typeof t=="object"&&"before"in t)}function dse(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function hse(t,e){var n,r=e.from,s=e.to;if(r&&s){var i=mi(s,r)<0;i&&(n=[s,r],r=n[0],s=n[1]);var a=mi(t,r)>=0&&mi(s,t)>=0;return a}return s?Mr(s,t):r?Mr(r,t):!1}function fse(t){return fE(t)}function mse(t){return Array.isArray(t)&&t.every(fE)}function pse(t,e){return e.some(function(n){if(typeof n=="boolean")return n;if(fse(n))return Mr(t,n);if(mse(n))return n.includes(t);if(lse(n))return hse(t,n);if(dse(n))return n.dayOfWeek.includes(t.getDay());if(ase(n)){var r=mi(n.before,t),s=mi(n.after,t),i=r>0,a=s<0,l=K0(n.before,n.after);return l?a&&i:i||a}return cse(n)?mi(t,n.after)>0:use(n)?mi(n.before,t)>0:typeof n=="function"?n(t):!1})}function bE(t,e,n){var r=Object.keys(e).reduce(function(i,a){var l=e[a];return pse(t,l)&&i.push(a),i},[]),s={};return r.forEach(function(i){return s[i]=!0}),n&&!gE(t,n)&&(s.outside=!0),s}function gse(t,e){for(var n=Ur(t[0]),r=mE(t[t.length-1]),s,i,a=n;a<=r;){var l=bE(a,e),c=!l.disabled&&!l.hidden;if(!c){a=gr(a,1);continue}if(l.selected)return a;l.today&&!i&&(i=a),s||(s=a),a=gr(a,1)}return i||s}var vse=365;function zF(t,e){var n=e.moveBy,r=e.direction,s=e.context,i=e.modifiers,a=e.retry,l=a===void 0?{count:0,lastFocused:t}:a,c=s.weekStartsOn,u=s.fromDate,d=s.toDate,f=s.locale,p={day:gr,week:G0,month:Gs,year:ine,startOfWeek:function(w){return s.ISOWeek?ql(w):Ii(w,{locale:f,weekStartsOn:c})},endOfWeek:function(w){return s.ISOWeek?TF(w):pE(w,{locale:f,weekStartsOn:c})}},g=p[n](t,r==="after"?1:-1);r==="before"&&u?g=one([u,g]):r==="after"&&d&&(g=ane([d,g]));var b=!0;if(i){var y=bE(g,i);b=!y.disabled&&!y.hidden}return b?g:l.count>vse?l.lastFocused:zF(g,{moveBy:n,direction:r,context:s,modifiers:i,retry:Ye(Ye({},l),{count:l.count+1})})}var WF=m.createContext(void 0);function yse(t){var e=Wf(),n=BF(),r=m.useState(),s=r[0],i=r[1],a=m.useState(),l=a[0],c=a[1],u=gse(e.displayMonths,n),d=s??(l&&e.isDateDisplayed(l))?l:u,f=function(){c(s),i(void 0)},p=function(w){i(w)},g=Ut(),b=function(w,_){if(s){var x=zF(s,{moveBy:w,direction:_,context:g,modifiers:n});Mr(s,x)||(e.goToDate(x,s),p(x))}},y={focusedDay:s,focusTarget:d,blur:f,focus:p,focusDayAfter:function(){return b("day","after")},focusDayBefore:function(){return b("day","before")},focusWeekAfter:function(){return b("week","after")},focusWeekBefore:function(){return b("week","before")},focusMonthBefore:function(){return b("month","before")},focusMonthAfter:function(){return b("month","after")},focusYearBefore:function(){return b("year","before")},focusYearAfter:function(){return b("year","after")},focusStartOfWeek:function(){return b("startOfWeek","before")},focusEndOfWeek:function(){return b("endOfWeek","after")}};return o.jsx(WF.Provider,{value:y,children:t.children})}function _E(){var t=m.useContext(WF);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function xse(t,e){var n=BF(),r=bE(t,n,e);return r}var EE=m.createContext(void 0);function wse(t){if(!ay(t.initialProps)){var e={selected:void 0};return o.jsx(EE.Provider,{value:e,children:t.children})}return o.jsx(bse,{initialProps:t.initialProps,children:t.children})}function bse(t){var e=t.initialProps,n=t.children,r=function(i,a,l){var c,u,d;if((c=e.onDayClick)===null||c===void 0||c.call(e,i,a,l),a.selected&&!e.required){(u=e.onSelect)===null||u===void 0||u.call(e,void 0,i,a,l);return}(d=e.onSelect)===null||d===void 0||d.call(e,i,i,a,l)},s={selected:e.selected,onDayClick:r};return o.jsx(EE.Provider,{value:s,children:n})}function HF(){var t=m.useContext(EE);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function _se(t,e){var n=Ut(),r=HF(),s=yE(),i=wE(),a=_E(),l=a.focusDayAfter,c=a.focusDayBefore,u=a.focusWeekAfter,d=a.focusWeekBefore,f=a.blur,p=a.focus,g=a.focusMonthBefore,b=a.focusMonthAfter,y=a.focusYearBefore,w=a.focusYearAfter,_=a.focusStartOfWeek,x=a.focusEndOfWeek,v=function(K){var L,V,F,Q;ay(n)?(L=r.onDayClick)===null||L===void 0||L.call(r,t,e,K):Bf(n)?(V=s.onDayClick)===null||V===void 0||V.call(s,t,e,K):zf(n)?(F=i.onDayClick)===null||F===void 0||F.call(i,t,e,K):(Q=n.onDayClick)===null||Q===void 0||Q.call(n,t,e,K)},j=function(K){var L;p(t),(L=n.onDayFocus)===null||L===void 0||L.call(n,t,e,K)},P=function(K){var L;f(),(L=n.onDayBlur)===null||L===void 0||L.call(n,t,e,K)},D=function(K){var L;(L=n.onDayMouseEnter)===null||L===void 0||L.call(n,t,e,K)},S=function(K){var L;(L=n.onDayMouseLeave)===null||L===void 0||L.call(n,t,e,K)},N=function(K){var L;(L=n.onDayPointerEnter)===null||L===void 0||L.call(n,t,e,K)},T=function(K){var L;(L=n.onDayPointerLeave)===null||L===void 0||L.call(n,t,e,K)},k=function(K){var L;(L=n.onDayTouchCancel)===null||L===void 0||L.call(n,t,e,K)},I=function(K){var L;(L=n.onDayTouchEnd)===null||L===void 0||L.call(n,t,e,K)},A=function(K){var L;(L=n.onDayTouchMove)===null||L===void 0||L.call(n,t,e,K)},R=function(K){var L;(L=n.onDayTouchStart)===null||L===void 0||L.call(n,t,e,K)},W=function(K){var L;(L=n.onDayKeyUp)===null||L===void 0||L.call(n,t,e,K)},U=function(K){var L;switch(K.key){case"ArrowLeft":K.preventDefault(),K.stopPropagation(),n.dir==="rtl"?l():c();break;case"ArrowRight":K.preventDefault(),K.stopPropagation(),n.dir==="rtl"?c():l();break;case"ArrowDown":K.preventDefault(),K.stopPropagation(),u();break;case"ArrowUp":K.preventDefault(),K.stopPropagation(),d();break;case"PageUp":K.preventDefault(),K.stopPropagation(),K.shiftKey?y():g();break;case"PageDown":K.preventDefault(),K.stopPropagation(),K.shiftKey?w():b();break;case"Home":K.preventDefault(),K.stopPropagation(),_();break;case"End":K.preventDefault(),K.stopPropagation(),x();break}(L=n.onDayKeyDown)===null||L===void 0||L.call(n,t,e,K)},q={onClick:v,onFocus:j,onBlur:P,onKeyDown:U,onKeyUp:W,onMouseEnter:D,onMouseLeave:S,onPointerEnter:N,onPointerLeave:T,onTouchCancel:k,onTouchEnd:I,onTouchMove:A,onTouchStart:R};return q}function Ese(){var t=Ut(),e=HF(),n=yE(),r=wE(),s=ay(t)?e.selected:Bf(t)?n.selected:zf(t)?r.selected:void 0;return s}function Nse(t){return Object.values(Ks).includes(t)}function Sse(t,e){var n=[t.classNames.day];return Object.keys(e).forEach(function(r){var s=t.modifiersClassNames[r];if(s)n.push(s);else if(Nse(r)){var i=t.classNames["day_".concat(r)];i&&n.push(i)}}),n}function jse(t,e){var n=Ye({},t.styles.day);return Object.keys(e).forEach(function(r){var s;n=Ye(Ye({},n),(s=t.modifiersStyles)===null||s===void 0?void 0:s[r])}),n}function Cse(t,e,n){var r,s,i,a=Ut(),l=_E(),c=xse(t,e),u=_se(t,c),d=Ese(),f=!!(a.onDayClick||a.mode!=="default");m.useEffect(function(){var D;c.outside||l.focusedDay&&f&&Mr(l.focusedDay,t)&&((D=n.current)===null||D===void 0||D.focus())},[l.focusedDay,t,n,f,c.outside]);var p=Sse(a,c).join(" "),g=jse(a,c),b=!!(c.outside&&!a.showOutsideDays||c.hidden),y=(i=(s=a.components)===null||s===void 0?void 0:s.DayContent)!==null&&i!==void 0?i:Kre,w=o.jsx(y,{date:t,displayMonth:e,activeModifiers:c}),_={style:g,className:p,children:w,role:"gridcell"},x=l.focusTarget&&Mr(l.focusTarget,t)&&!c.outside,v=l.focusedDay&&Mr(l.focusedDay,t),j=Ye(Ye(Ye({},_),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=v||x?0:-1,r)),u),P={isButton:f,isHidden:b,activeModifiers:c,selectedDays:d,buttonProps:j,divProps:_};return P}function kse(t){var e=m.useRef(null),n=Cse(t.date,t.displayMonth,e);return n.isHidden?o.jsx("div",{role:"gridcell"}):n.isButton?o.jsx(kg,Ye({name:"day",ref:e},n.buttonProps)):o.jsx("div",Ye({},n.divProps))}function Tse(t){var e=t.number,n=t.dates,r=Ut(),s=r.onWeekNumberClick,i=r.styles,a=r.classNames,l=r.locale,c=r.labels.labelWeekNumber,u=r.formatters.formatWeekNumber,d=u(Number(e),{locale:l});if(!s)return o.jsx("span",{className:a.weeknumber,style:i.weeknumber,children:d});var f=c(Number(e),{locale:l}),p=function(g){s(e,n,g)};return o.jsx(kg,{name:"week-number","aria-label":f,className:a.weeknumber,style:i.weeknumber,onClick:p,children:d})}function Ise(t){var e,n,r=Ut(),s=r.styles,i=r.classNames,a=r.showWeekNumber,l=r.components,c=(e=l==null?void 0:l.Day)!==null&&e!==void 0?e:kse,u=(n=l==null?void 0:l.WeekNumber)!==null&&n!==void 0?n:Tse,d;return a&&(d=o.jsx("td",{className:i.cell,style:s.cell,children:o.jsx(u,{number:t.weekNumber,dates:t.dates})})),o.jsxs("tr",{className:i.row,style:s.row,children:[d,t.dates.map(function(f){return o.jsx("td",{className:i.cell,style:s.cell,role:"presentation",children:o.jsx(c,{displayMonth:t.displayMonth,date:f})},ore(f))})]})}function Hk(t,e,n){for(var r=n!=null&&n.ISOWeek?TF(e):pE(e,n),s=n!=null&&n.ISOWeek?ql(t):Ii(t,n),i=mi(r,s),a=[],l=0;l<=i;l++)a.push(gr(s,l));var c=a.reduce(function(u,d){var f=n!=null&&n.ISOWeek?RF(d):AF(d,n),p=u.find(function(g){return g.weekNumber===f});return p?(p.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return c}function Rse(t,e){var n=Hk(Ur(t),mE(t),e);if(e!=null&&e.useFixedWeeks){var r=lre(t,e);if(r<6){var s=n[n.length-1],i=s.dates[s.dates.length-1],a=G0(i,6-r),l=Hk(G0(i,1),a,e);n.push.apply(n,l)}}return n}function Pse(t){var e,n,r,s=Ut(),i=s.locale,a=s.classNames,l=s.styles,c=s.hideHead,u=s.fixedWeeks,d=s.components,f=s.weekStartsOn,p=s.firstWeekContainsDate,g=s.ISOWeek,b=Rse(t.displayMonth,{useFixedWeeks:!!u,ISOWeek:g,locale:i,weekStartsOn:f,firstWeekContainsDate:p}),y=(e=d==null?void 0:d.Head)!==null&&e!==void 0?e:Gre,w=(n=d==null?void 0:d.Row)!==null&&n!==void 0?n:Ise,_=(r=d==null?void 0:d.Footer)!==null&&r!==void 0?r:Wre;return o.jsxs("table",{id:t.id,className:a.table,style:l.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!c&&o.jsx(y,{}),o.jsx("tbody",{className:a.tbody,style:l.tbody,children:b.map(function(x){return o.jsx(w,{displayMonth:t.displayMonth,dates:x.dates,weekNumber:x.weekNumber},x.weekNumber)})}),o.jsx(_,{displayMonth:t.displayMonth})]})}function Ase(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Dse=Ase()?m.useLayoutEffect:m.useEffect,Vx=!1,Ose=0;function qk(){return"react-day-picker-".concat(++Ose)}function Mse(t){var e,n=t??(Vx?qk():null),r=m.useState(n),s=r[0],i=r[1];return Dse(function(){s===null&&i(qk())},[]),m.useEffect(function(){Vx===!1&&(Vx=!0)},[]),(e=t??s)!==null&&e!==void 0?e:void 0}function Lse(t){var e,n,r=Ut(),s=r.dir,i=r.classNames,a=r.styles,l=r.components,c=Wf().displayMonths,u=Mse(r.id?"".concat(r.id,"-").concat(t.displayIndex):void 0),d=r.id?"".concat(r.id,"-grid-").concat(t.displayIndex):void 0,f=[i.month],p=a.month,g=t.displayIndex===0,b=t.displayIndex===c.length-1,y=!g&&!b;s==="rtl"&&(e=[g,b],b=e[0],g=e[1]),g&&(f.push(i.caption_start),p=Ye(Ye({},p),a.caption_start)),b&&(f.push(i.caption_end),p=Ye(Ye({},p),a.caption_end)),y&&(f.push(i.caption_between),p=Ye(Ye({},p),a.caption_between));var w=(n=l==null?void 0:l.Caption)!==null&&n!==void 0?n:zre;return o.jsxs("div",{className:f.join(" "),style:p,children:[o.jsx(w,{id:u,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),o.jsx(Pse,{id:d,"aria-labelledby":u,displayMonth:t.displayMonth})]},t.displayIndex)}function Fse(t){var e=Ut(),n=e.classNames,r=e.styles;return o.jsx("div",{className:n.months,style:r.months,children:t.children})}function Vse(t){var e,n,r=t.initialProps,s=Ut(),i=_E(),a=Wf(),l=m.useState(!1),c=l[0],u=l[1];m.useEffect(function(){s.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),u(!0)))},[s.initialFocus,c,i.focus,i.focusTarget,i]);var d=[s.classNames.root,s.className];s.numberOfMonths>1&&d.push(s.classNames.multiple_months),s.showWeekNumber&&d.push(s.classNames.with_weeknumber);var f=Ye(Ye({},s.styles.root),s.style),p=Object.keys(r).filter(function(b){return b.startsWith("data-")}).reduce(function(b,y){var w;return Ye(Ye({},b),(w={},w[y]=r[y],w))},{}),g=(n=(e=r.components)===null||e===void 0?void 0:e.Months)!==null&&n!==void 0?n:Fse;return o.jsx("div",Ye({className:d.join(" "),style:f,dir:s.dir,id:s.id,nonce:r.nonce,title:r.title,lang:r.lang},p,{children:o.jsx(g,{children:a.displayMonths.map(function(b,y){return o.jsx(Lse,{displayIndex:y,displayMonth:b},y)})})}))}function Use(t){var e=t.children,n=ure(t,["children"]);return o.jsx(Tre,{initialProps:n,children:o.jsx(Vre,{children:o.jsx(wse,{initialProps:n,children:o.jsx(Yre,{initialProps:n,children:o.jsx(Zre,{initialProps:n,children:o.jsx(ose,{children:o.jsx(yse,{children:e})})})})})})})}function $se(t){return o.jsx(Use,Ye({},t,{children:o.jsx(Vse,{initialProps:t})}))}function Su({className:t,classNames:e,showOutsideDays:n=!0,...r}){return o.jsx($se,{showOutsideDays:n,className:_e("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:_e(Lh({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:_e(Lh({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({...s})=>o.jsx(N9,{className:"h-4 w-4"}),IconRight:({...s})=>o.jsx(gP,{className:"h-4 w-4"})},...r})}Su.displayName="Calendar";function Bse({value:t,onChange:e,placeholder:n="Pick a date range",className:r,disabled:s,error:i}){const[a,l]=m.useState(!1),c=f=>{f&&(e==null||e(f),f.from&&f.to&&l(!1))},u=new Date;u.setHours(0,0,0,0);const d=s||(f=>{const p=new Date(f);return p.setHours(0,0,0,0),p<u});return o.jsxs(wg,{open:a,onOpenChange:l,children:[o.jsx(bg,{asChild:!0,children:o.jsxs(ie,{variant:"outline",type:"button",className:_e("w-full justify-start text-left font-normal",!(t!=null&&t.from)&&"text-muted-foreground",i&&"border-destructive",r),children:[o.jsx(qn,{className:"mr-2 h-4 w-4"}),t!=null&&t.from?t.to?o.jsxs(o.Fragment,{children:[ps(t.from,"LLL dd, y")," -"," ",ps(t.to,"LLL dd, y")]}):ps(t.from,"LLL dd, y"):o.jsx("span",{children:n})]})}),o.jsx(Uh,{className:"w-auto p-0",align:"start",children:o.jsx(Su,{mode:"range",defaultMonth:(t==null?void 0:t.from)||u,selected:t,onSelect:c,numberOfMonths:2,disabled:d})})]})}var NE="Progress",SE=100,[zse,sae]=Kn(NE),[Wse,Hse]=zse(NE),qF=m.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=qse,...a}=t;(s||s===0)&&!Gk(s)&&console.error(Gse(`${s}`,"Progress"));const l=Gk(s)?s:SE;r!==null&&!Kk(r,l)&&console.error(Kse(`${r}`,"Progress"));const c=Kk(r,l)?r:null,u=Tg(c)?i(c,l):void 0;return o.jsx(Wse,{scope:n,value:c,max:l,children:o.jsx(ke.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Tg(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":YF(c,l),"data-value":c??void 0,"data-max":l,...a,ref:e})})});qF.displayName=NE;var GF="ProgressIndicator",KF=m.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=Hse(GF,n);return o.jsx(ke.div,{"data-state":YF(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});KF.displayName=GF;function qse(t,e){return`${Math.round(t/e*100)}%`}function YF(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Tg(t){return typeof t=="number"}function Gk(t){return Tg(t)&&!isNaN(t)&&t>0}function Kk(t,e){return Tg(t)&&!isNaN(t)&&t<=e&&t>=0}function Gse(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${SE}\`.`}function Kse(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${SE} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var QF=qF,Yse=KF;const jE=m.forwardRef(({className:t,value:e,...n},r)=>o.jsx(QF,{ref:r,className:_e("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:o.jsx(Yse,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));jE.displayName=QF.displayName;const Qse=({images:t,onRemove:e,uploadProgress:n=0,isUploading:r=!1})=>t.length===0?o.jsx("div",{className:"flex items-center justify-center w-full h-32 border-2 border-dashed rounded-lg border-muted-foreground/25",children:o.jsxs("div",{className:"text-center",children:[o.jsx(_P,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"No images selected"})]})}):o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:t.map((s,i)=>{const a=URL.createObjectURL(s);return o.jsxs("div",{className:"relative group",children:[o.jsx("div",{className:"aspect-square rounded-lg overflow-hidden border-2 border-border",children:o.jsx("img",{src:a,alt:`Preview ${i+1}`,className:"w-full h-full object-cover"})}),!r&&o.jsx(ie,{type:"button",variant:"destructive",size:"icon",className:"absolute top-1 right-1 h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>e(i),children:o.jsx(Pl,{className:"h-4 w-4"})}),o.jsx("div",{className:"mt-1 text-xs text-muted-foreground truncate",children:s.name}),o.jsxs("div",{className:"mt-1 text-xs text-muted-foreground",children:[(s.size/1024/1024).toFixed(2)," MB"]})]},i)})}),r&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"Uploading images..."}),o.jsxs("span",{className:"text-muted-foreground",children:[n,"%"]})]}),o.jsx(jE,{value:n})]})]});var Et;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const a of s)i[a]=a;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),a={};for(const l of i)a[l]=s[l];return t.objectValues(a)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&i.push(a);return i},t.find=(s,i)=>{for(const a of s)if(i(a))return a},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Et||(Et={}));var Yk;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Yk||(Yk={}));const Oe=Et.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Mo=t=>{switch(typeof t){case"undefined":return Oe.undefined;case"string":return Oe.string;case"number":return Number.isNaN(t)?Oe.nan:Oe.number;case"boolean":return Oe.boolean;case"function":return Oe.function;case"bigint":return Oe.bigint;case"symbol":return Oe.symbol;case"object":return Array.isArray(t)?Oe.array:t===null?Oe.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Oe.promise:typeof Map<"u"&&t instanceof Map?Oe.map:typeof Set<"u"&&t instanceof Set?Oe.set:typeof Date<"u"&&t instanceof Date?Oe.date:Oe.object;default:return Oe.unknown}},we=Et.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class po extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(s);else if(a.code==="invalid_return_type")s(a.returnTypeError);else if(a.code==="invalid_arguments")s(a.argumentsError);else if(a.path.length===0)r._errors.push(n(a));else{let l=r,c=0;for(;c<a.path.length;){const u=a.path[c];c===a.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(n(a))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),r}static assert(e){if(!(e instanceof po))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Et.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];n[i]=n[i]||[],n[i].push(e(s))}else r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}po.create=t=>new po(t);const Y0=(t,e)=>{let n;switch(t.code){case we.invalid_type:t.received===Oe.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case we.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Et.jsonStringifyReplacer)}`;break;case we.unrecognized_keys:n=`Unrecognized key(s) in object: ${Et.joinValues(t.keys,", ")}`;break;case we.invalid_union:n="Invalid input";break;case we.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Et.joinValues(t.options)}`;break;case we.invalid_enum_value:n=`Invalid enum value. Expected ${Et.joinValues(t.options)}, received '${t.received}'`;break;case we.invalid_arguments:n="Invalid function arguments";break;case we.invalid_return_type:n="Invalid function return type";break;case we.invalid_date:n="Invalid date";break;case we.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Et.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case we.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case we.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case we.custom:n="Invalid input";break;case we.invalid_intersection_types:n="Intersection results could not be merged";break;case we.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case we.not_finite:n="Number must be finite";break;default:n=e.defaultError,Et.assertNever(t)}return{message:n}};let Xse=Y0;function Zse(){return Xse}const Jse=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],a={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let l="";const c=r.filter(u=>!!u).slice().reverse();for(const u of c)l=u(a,{data:e,defaultError:l}).message;return{...s,path:i,message:l}};function Te(t,e){const n=Zse(),r=Jse({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Y0?void 0:Y0].filter(s=>!!s)});t.common.issues.push(r)}class rs{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return Je;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,a=await s.value;r.push({key:i,value:a})}return rs.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:a}=s;if(i.status==="aborted"||a.status==="aborted")return Je;i.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||s.alwaysSet)&&(r[i.value]=a.value)}return{status:e.value,value:r}}}const Je=Object.freeze({status:"aborted"}),Md=t=>({status:"dirty",value:t}),xs=t=>({status:"valid",value:t}),Qk=t=>t.status==="aborted",Xk=t=>t.status==="dirty",ju=t=>t.status==="valid",Ig=t=>typeof Promise<"u"&&t instanceof Promise;var Ve;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Ve||(Ve={}));class Aa{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Zk=(t,e)=>{if(ju(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new po(t.common.issues);return this._error=n,this._error}}};function at(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(a,l)=>{const{message:c}=t;return a.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??r??l.defaultError}:a.code!=="invalid_type"?{message:l.defaultError}:{message:c??n??l.defaultError}},description:s}}class yt{get description(){return this._def.description}_getType(e){return Mo(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Mo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new rs,ctx:{common:e.parent.common,data:e.data,parsedType:Mo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Ig(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Mo(e)},s=this._parseSync({data:e,path:r.path,parent:r});return Zk(r,s)}"~validate"(e){var r,s;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Mo(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:n});return ju(i)?{value:i.value}:{issues:n.common.issues}}catch(i){(s=(r=i==null?void 0:i.message)==null?void 0:r.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(i=>ju(i)?{value:i.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Mo(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(Ig(s)?s:Promise.resolve(s));return Zk(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const a=e(s),l=()=>i.addIssue({code:we.custom,...r(s)});return typeof Promise<"u"&&a instanceof Promise?a.then(c=>c?!0:(l(),!1)):a?!0:(l(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new ku({schema:this,typeName:et.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return va.create(this,this._def)}nullable(){return Tu.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ni.create(this)}promise(){return Ag.create(this,this._def)}or(e){return Rg.create([this,e],this._def)}and(e){return Pg.create(this,e,this._def)}transform(e){return new ku({...at(this._def),schema:this,typeName:et.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new X0({...at(this._def),innerType:this,defaultValue:n,typeName:et.ZodDefault})}brand(){return new _ie({typeName:et.ZodBranded,type:this,...at(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Z0({...at(this._def),innerType:this,catchValue:n,typeName:et.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return CE.create(this,e)}readonly(){return J0.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const eie=/^c[^\s-]{8,}$/i,tie=/^[0-9a-z]+$/,nie=/^[0-9A-HJKMNP-TV-Z]{26}$/i,rie=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,sie=/^[a-z0-9_-]{21}$/i,iie=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,oie=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,aie=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,lie="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Ux;const cie=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,uie=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,die=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,hie=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,fie=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,mie=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,XF="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",pie=new RegExp(`^${XF}$`);function ZF(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function gie(t){return new RegExp(`^${ZF(t)}$`)}function vie(t){let e=`${XF}T${ZF(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function yie(t,e){return!!((e==="v4"||!e)&&cie.test(t)||(e==="v6"||!e)&&die.test(t))}function xie(t,e){if(!iie.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function wie(t,e){return!!((e==="v4"||!e)&&uie.test(t)||(e==="v6"||!e)&&hie.test(t))}class Jo extends yt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Oe.string){const i=this._getOrReturnCtx(e);return Te(i,{code:we.invalid_type,expected:Oe.string,received:i.parsedType}),Je}const r=new rs;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),Te(s,{code:we.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),Te(s,{code:we.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const a=e.data.length>i.value,l=e.data.length<i.value;(a||l)&&(s=this._getOrReturnCtx(e,s),a?Te(s,{code:we.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&Te(s,{code:we.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")aie.test(e.data)||(s=this._getOrReturnCtx(e,s),Te(s,{validation:"email",code:we.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")Ux||(Ux=new RegExp(lie,"u")),Ux.test(e.data)||(s=this._getOrReturnCtx(e,s),Te(s,{validation:"emoji",code:we.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")rie.test(e.data)||(s=this._getOrReturnCtx(e,s),Te(s,{validation:"uuid",code:we.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")sie.test(e.data)||(s=this._getOrReturnCtx(e,s),Te(s,{validation:"nanoid",code:we.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")eie.test(e.data)||(s=this._getOrReturnCtx(e,s),Te(s,{validation:"cuid",code:we.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")tie.test(e.data)||(s=this._getOrReturnCtx(e,s),Te(s,{validation:"cuid2",code:we.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")nie.test(e.data)||(s=this._getOrReturnCtx(e,s),Te(s,{validation:"ulid",code:we.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),Te(s,{validation:"url",code:we.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),Te(s,{validation:"regex",code:we.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),Te(s,{code:we.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),Te(s,{code:we.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),Te(s,{code:we.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?vie(i).test(e.data)||(s=this._getOrReturnCtx(e,s),Te(s,{code:we.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?pie.test(e.data)||(s=this._getOrReturnCtx(e,s),Te(s,{code:we.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?gie(i).test(e.data)||(s=this._getOrReturnCtx(e,s),Te(s,{code:we.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?oie.test(e.data)||(s=this._getOrReturnCtx(e,s),Te(s,{validation:"duration",code:we.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?yie(e.data,i.version)||(s=this._getOrReturnCtx(e,s),Te(s,{validation:"ip",code:we.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?xie(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),Te(s,{validation:"jwt",code:we.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?wie(e.data,i.version)||(s=this._getOrReturnCtx(e,s),Te(s,{validation:"cidr",code:we.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?fie.test(e.data)||(s=this._getOrReturnCtx(e,s),Te(s,{validation:"base64",code:we.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?mie.test(e.data)||(s=this._getOrReturnCtx(e,s),Te(s,{validation:"base64url",code:we.invalid_string,message:i.message}),r.dirty()):Et.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:we.invalid_string,...Ve.errToObj(r)})}_addCheck(e){return new Jo({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Ve.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Ve.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Ve.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Ve.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Ve.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Ve.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Ve.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Ve.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Ve.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Ve.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Ve.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Ve.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Ve.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...Ve.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Ve.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Ve.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Ve.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...Ve.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Ve.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Ve.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Ve.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Ve.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Ve.errToObj(n)})}nonempty(e){return this.min(1,Ve.errToObj(e))}trim(){return new Jo({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Jo({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Jo({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Jo.create=t=>new Jo({checks:[],typeName:et.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...at(t)});function bie(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=Number.parseInt(t.toFixed(s).replace(".","")),a=Number.parseInt(e.toFixed(s).replace(".",""));return i%a/10**s}class Bh extends yt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Oe.number){const i=this._getOrReturnCtx(e);return Te(i,{code:we.invalid_type,expected:Oe.number,received:i.parsedType}),Je}let r;const s=new rs;for(const i of this._def.checks)i.kind==="int"?Et.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Te(r,{code:we.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),Te(r,{code:we.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),Te(r,{code:we.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?bie(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),Te(r,{code:we.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Te(r,{code:we.not_finite,message:i.message}),s.dirty()):Et.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Ve.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Ve.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Ve.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Ve.toString(n))}setLimit(e,n,r,s){return new Bh({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Ve.toString(s)}]})}_addCheck(e){return new Bh({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Ve.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ve.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ve.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ve.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ve.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Ve.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Ve.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ve.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ve.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Et.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Bh.create=t=>new Bh({checks:[],typeName:et.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...at(t)});class zh extends yt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Oe.bigint)return this._getInvalidInput(e);let r;const s=new rs;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),Te(r,{code:we.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),Te(r,{code:we.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Te(r,{code:we.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Et.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return Te(n,{code:we.invalid_type,expected:Oe.bigint,received:n.parsedType}),Je}gte(e,n){return this.setLimit("min",e,!0,Ve.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Ve.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Ve.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Ve.toString(n))}setLimit(e,n,r,s){return new zh({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Ve.toString(s)}]})}_addCheck(e){return new zh({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ve.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ve.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ve.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ve.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Ve.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}zh.create=t=>new zh({checks:[],typeName:et.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...at(t)});class Jk extends yt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Oe.boolean){const r=this._getOrReturnCtx(e);return Te(r,{code:we.invalid_type,expected:Oe.boolean,received:r.parsedType}),Je}return xs(e.data)}}Jk.create=t=>new Jk({typeName:et.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...at(t)});class Wh extends yt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Oe.date){const i=this._getOrReturnCtx(e);return Te(i,{code:we.invalid_type,expected:Oe.date,received:i.parsedType}),Je}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return Te(i,{code:we.invalid_date}),Je}const r=new rs;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),Te(s,{code:we.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),Te(s,{code:we.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):Et.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Wh({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Ve.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Ve.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Wh.create=t=>new Wh({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:et.ZodDate,...at(t)});class eT extends yt{_parse(e){if(this._getType(e)!==Oe.symbol){const r=this._getOrReturnCtx(e);return Te(r,{code:we.invalid_type,expected:Oe.symbol,received:r.parsedType}),Je}return xs(e.data)}}eT.create=t=>new eT({typeName:et.ZodSymbol,...at(t)});class tT extends yt{_parse(e){if(this._getType(e)!==Oe.undefined){const r=this._getOrReturnCtx(e);return Te(r,{code:we.invalid_type,expected:Oe.undefined,received:r.parsedType}),Je}return xs(e.data)}}tT.create=t=>new tT({typeName:et.ZodUndefined,...at(t)});class nT extends yt{_parse(e){if(this._getType(e)!==Oe.null){const r=this._getOrReturnCtx(e);return Te(r,{code:we.invalid_type,expected:Oe.null,received:r.parsedType}),Je}return xs(e.data)}}nT.create=t=>new nT({typeName:et.ZodNull,...at(t)});class Hh extends yt{constructor(){super(...arguments),this._any=!0}_parse(e){return xs(e.data)}}Hh.create=t=>new Hh({typeName:et.ZodAny,...at(t)});class rT extends yt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return xs(e.data)}}rT.create=t=>new rT({typeName:et.ZodUnknown,...at(t)});class Da extends yt{_parse(e){const n=this._getOrReturnCtx(e);return Te(n,{code:we.invalid_type,expected:Oe.never,received:n.parsedType}),Je}}Da.create=t=>new Da({typeName:et.ZodNever,...at(t)});class sT extends yt{_parse(e){if(this._getType(e)!==Oe.undefined){const r=this._getOrReturnCtx(e);return Te(r,{code:we.invalid_type,expected:Oe.void,received:r.parsedType}),Je}return xs(e.data)}}sT.create=t=>new sT({typeName:et.ZodVoid,...at(t)});class Ni extends yt{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==Oe.array)return Te(n,{code:we.invalid_type,expected:Oe.array,received:n.parsedType}),Je;if(s.exactLength!==null){const a=n.data.length>s.exactLength.value,l=n.data.length<s.exactLength.value;(a||l)&&(Te(n,{code:a?we.too_big:we.too_small,minimum:l?s.exactLength.value:void 0,maximum:a?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(Te(n,{code:we.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(Te(n,{code:we.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((a,l)=>s.type._parseAsync(new Aa(n,a,n.path,l)))).then(a=>rs.mergeArray(r,a));const i=[...n.data].map((a,l)=>s.type._parseSync(new Aa(n,a,n.path,l)));return rs.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new Ni({...this._def,minLength:{value:e,message:Ve.toString(n)}})}max(e,n){return new Ni({...this._def,maxLength:{value:e,message:Ve.toString(n)}})}length(e,n){return new Ni({...this._def,exactLength:{value:e,message:Ve.toString(n)}})}nonempty(e){return this.min(1,e)}}Ni.create=(t,e)=>new Ni({type:t,minLength:null,maxLength:null,exactLength:null,typeName:et.ZodArray,...at(e)});function _c(t){if(t instanceof nn){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=va.create(_c(r))}return new nn({...t._def,shape:()=>e})}else return t instanceof Ni?new Ni({...t._def,type:_c(t.element)}):t instanceof va?va.create(_c(t.unwrap())):t instanceof Tu?Tu.create(_c(t.unwrap())):t instanceof Gl?Gl.create(t.items.map(e=>_c(e))):t}class nn extends yt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Et.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==Oe.object){const u=this._getOrReturnCtx(e);return Te(u,{code:we.invalid_type,expected:Oe.object,received:u.parsedType}),Je}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),l=[];if(!(this._def.catchall instanceof Da&&this._def.unknownKeys==="strip"))for(const u in s.data)a.includes(u)||l.push(u);const c=[];for(const u of a){const d=i[u],f=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Aa(s,f,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof Da){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")l.length>0&&(Te(s,{code:we.unrecognized_keys,keys:l}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Aa(s,f,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,p=await d.value;u.push({key:f,value:p,alwaysSet:d.alwaysSet})}return u}).then(u=>rs.mergeObjectSync(r,u)):rs.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return Ve.errToObj,new nn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,a;const s=((a=(i=this._def).errorMap)==null?void 0:a.call(i,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:Ve.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new nn({...this._def,unknownKeys:"strip"})}passthrough(){return new nn({...this._def,unknownKeys:"passthrough"})}extend(e){return new nn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new nn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:et.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new nn({...this._def,catchall:e})}pick(e){const n={};for(const r of Et.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new nn({...this._def,shape:()=>n})}omit(e){const n={};for(const r of Et.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new nn({...this._def,shape:()=>n})}deepPartial(){return _c(this)}partial(e){const n={};for(const r of Et.objectKeys(this.shape)){const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}return new nn({...this._def,shape:()=>n})}required(e){const n={};for(const r of Et.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof va;)i=i._def.innerType;n[r]=i}return new nn({...this._def,shape:()=>n})}keyof(){return JF(Et.objectKeys(this.shape))}}nn.create=(t,e)=>new nn({shape:()=>t,unknownKeys:"strip",catchall:Da.create(),typeName:et.ZodObject,...at(e)});nn.strictCreate=(t,e)=>new nn({shape:()=>t,unknownKeys:"strict",catchall:Da.create(),typeName:et.ZodObject,...at(e)});nn.lazycreate=(t,e)=>new nn({shape:t,unknownKeys:"strip",catchall:Da.create(),typeName:et.ZodObject,...at(e)});class Rg extends yt{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const a=i.map(l=>new po(l.ctx.common.issues));return Te(n,{code:we.invalid_union,unionErrors:a}),Je}if(n.common.async)return Promise.all(r.map(async i=>{const a={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:a}),ctx:a}})).then(s);{let i;const a=[];for(const c of r){const u={...n,common:{...n.common,issues:[]},parent:null},d=c._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&a.push(u.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const l=a.map(c=>new po(c));return Te(n,{code:we.invalid_union,unionErrors:l}),Je}}get options(){return this._def.options}}Rg.create=(t,e)=>new Rg({options:t,typeName:et.ZodUnion,...at(e)});function Q0(t,e){const n=Mo(t),r=Mo(e);if(t===e)return{valid:!0,data:t};if(n===Oe.object&&r===Oe.object){const s=Et.objectKeys(e),i=Et.objectKeys(t).filter(l=>s.indexOf(l)!==-1),a={...t,...e};for(const l of i){const c=Q0(t[l],e[l]);if(!c.valid)return{valid:!1};a[l]=c.data}return{valid:!0,data:a}}else if(n===Oe.array&&r===Oe.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const a=t[i],l=e[i],c=Q0(a,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return n===Oe.date&&r===Oe.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Pg extends yt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,a)=>{if(Qk(i)||Qk(a))return Je;const l=Q0(i.value,a.value);return l.valid?((Xk(i)||Xk(a))&&n.dirty(),{status:n.value,value:l.data}):(Te(r,{code:we.invalid_intersection_types}),Je)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,a])=>s(i,a)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Pg.create=(t,e,n)=>new Pg({left:t,right:e,typeName:et.ZodIntersection,...at(n)});class Gl extends yt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Oe.array)return Te(r,{code:we.invalid_type,expected:Oe.array,received:r.parsedType}),Je;if(r.data.length<this._def.items.length)return Te(r,{code:we.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Je;!this._def.rest&&r.data.length>this._def.items.length&&(Te(r,{code:we.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((a,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Aa(r,a,r.path,l)):null}).filter(a=>!!a);return r.common.async?Promise.all(i).then(a=>rs.mergeArray(n,a)):rs.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new Gl({...this._def,rest:e})}}Gl.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Gl({items:t,typeName:et.ZodTuple,rest:null,...at(e)})};class iT extends yt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Oe.map)return Te(r,{code:we.invalid_type,expected:Oe.map,received:r.parsedType}),Je;const s=this._def.keyType,i=this._def.valueType,a=[...r.data.entries()].map(([l,c],u)=>({key:s._parse(new Aa(r,l,r.path,[u,"key"])),value:i._parse(new Aa(r,c,r.path,[u,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of a){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Je;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),l.set(u.value,d.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of a){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Je;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),l.set(u.value,d.value)}return{status:n.value,value:l}}}}iT.create=(t,e,n)=>new iT({valueType:e,keyType:t,typeName:et.ZodMap,...at(n)});class qh extends yt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Oe.set)return Te(r,{code:we.invalid_type,expected:Oe.set,received:r.parsedType}),Je;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(Te(r,{code:we.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(Te(r,{code:we.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function a(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Je;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const l=[...r.data.values()].map((c,u)=>i._parse(new Aa(r,c,r.path,u)));return r.common.async?Promise.all(l).then(c=>a(c)):a(l)}min(e,n){return new qh({...this._def,minSize:{value:e,message:Ve.toString(n)}})}max(e,n){return new qh({...this._def,maxSize:{value:e,message:Ve.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}qh.create=(t,e)=>new qh({valueType:t,minSize:null,maxSize:null,typeName:et.ZodSet,...at(e)});class oT extends yt{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}oT.create=(t,e)=>new oT({getter:t,typeName:et.ZodLazy,...at(e)});class aT extends yt{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Te(n,{received:n.data,code:we.invalid_literal,expected:this._def.value}),Je}return{status:"valid",value:e.data}}get value(){return this._def.value}}aT.create=(t,e)=>new aT({value:t,typeName:et.ZodLiteral,...at(e)});function JF(t,e){return new Cu({values:t,typeName:et.ZodEnum,...at(e)})}class Cu extends yt{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Te(n,{expected:Et.joinValues(r),received:n.parsedType,code:we.invalid_type}),Je}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return Te(n,{received:n.data,code:we.invalid_enum_value,options:r}),Je}return xs(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Cu.create(e,{...this._def,...n})}exclude(e,n=this._def){return Cu.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Cu.create=JF;class lT extends yt{_parse(e){const n=Et.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Oe.string&&r.parsedType!==Oe.number){const s=Et.objectValues(n);return Te(r,{expected:Et.joinValues(s),received:r.parsedType,code:we.invalid_type}),Je}if(this._cache||(this._cache=new Set(Et.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=Et.objectValues(n);return Te(r,{received:r.data,code:we.invalid_enum_value,options:s}),Je}return xs(e.data)}get enum(){return this._def.values}}lT.create=(t,e)=>new lT({values:t,typeName:et.ZodNativeEnum,...at(e)});class Ag extends yt{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Oe.promise&&n.common.async===!1)return Te(n,{code:we.invalid_type,expected:Oe.promise,received:n.parsedType}),Je;const r=n.parsedType===Oe.promise?n.data:Promise.resolve(n.data);return xs(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Ag.create=(t,e)=>new Ag({type:t,typeName:et.ZodPromise,...at(e)});class ku extends yt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===et.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:a=>{Te(r,a),a.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const a=s.transform(r.data,i);if(r.common.async)return Promise.resolve(a).then(async l=>{if(n.value==="aborted")return Je;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?Je:c.status==="dirty"||n.value==="dirty"?Md(c.value):c});{if(n.value==="aborted")return Je;const l=this._def.schema._parseSync({data:a,path:r.path,parent:r});return l.status==="aborted"?Je:l.status==="dirty"||n.value==="dirty"?Md(l.value):l}}if(s.type==="refinement"){const a=l=>{const c=s.refinement(l,i);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?Je:(l.status==="dirty"&&n.dirty(),a(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?Je:(l.status==="dirty"&&n.dirty(),a(l.value).then(()=>({status:n.value,value:l.value}))))}if(s.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!ju(a))return Je;const l=s.transform(a.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>ju(a)?Promise.resolve(s.transform(a.value,i)).then(l=>({status:n.value,value:l})):Je);Et.assertNever(s)}}ku.create=(t,e,n)=>new ku({schema:t,typeName:et.ZodEffects,effect:e,...at(n)});ku.createWithPreprocess=(t,e,n)=>new ku({schema:e,effect:{type:"preprocess",transform:t},typeName:et.ZodEffects,...at(n)});class va extends yt{_parse(e){return this._getType(e)===Oe.undefined?xs(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}va.create=(t,e)=>new va({innerType:t,typeName:et.ZodOptional,...at(e)});class Tu extends yt{_parse(e){return this._getType(e)===Oe.null?xs(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Tu.create=(t,e)=>new Tu({innerType:t,typeName:et.ZodNullable,...at(e)});class X0 extends yt{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===Oe.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}X0.create=(t,e)=>new X0({innerType:t,typeName:et.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...at(e)});class Z0 extends yt{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Ig(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new po(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new po(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Z0.create=(t,e)=>new Z0({innerType:t,typeName:et.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...at(e)});class cT extends yt{_parse(e){if(this._getType(e)!==Oe.nan){const r=this._getOrReturnCtx(e);return Te(r,{code:we.invalid_type,expected:Oe.nan,received:r.parsedType}),Je}return{status:"valid",value:e.data}}}cT.create=t=>new cT({typeName:et.ZodNaN,...at(t)});class _ie extends yt{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class CE extends yt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Je:i.status==="dirty"?(n.dirty(),Md(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Je:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new CE({in:e,out:n,typeName:et.ZodPipeline})}}class J0 extends yt{_parse(e){const n=this._def.innerType._parse(e),r=s=>(ju(s)&&(s.value=Object.freeze(s.value)),s);return Ig(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}J0.create=(t,e)=>new J0({innerType:t,typeName:et.ZodReadonly,...at(e)});function uT(t,e){const n=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof n=="string"?{message:n}:n}function Eie(t,e={},n){return t?Hh.create().superRefine((r,s)=>{const i=t(r);if(i instanceof Promise)return i.then(a=>{if(!a){const l=uT(e,r),c=l.fatal??n??!0;s.addIssue({code:"custom",...l,fatal:c})}});if(!i){const a=uT(e,r),l=a.fatal??n??!0;s.addIssue({code:"custom",...a,fatal:l})}}):Hh.create()}nn.lazycreate;var et;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(et||(et={}));const Nie=(t,e={message:`Input not instance of ${t.name}`})=>Eie(n=>n instanceof t,e),si=Jo.create,dT=Wh.create;Hh.create;Da.create;const Sie=Ni.create,hT=nn.create;nn.strictCreate;Rg.create;Pg.create;Gl.create;const jie=Cu.create;Ag.create;va.create;Tu.create;const Cie=hT({title:si().min(10,"Title must be at least 10 characters").max(100,"Title must not exceed 100 characters").trim(),description:si().min(50,"Description must be at least 50 characters").max(2e3,"Description must not exceed 2000 characters").trim(),category:jie(["home","experience","service"],{required_error:"Please select a category"}),price:si().min(1,"Price is required").refine(t=>!isNaN(Number(t))&&Number(t)>0,"Price must be a positive number"),discount:si().optional().refine(t=>!t||t.trim()===""||!isNaN(Number(t))&&Number(t)>=0&&Number(t)<=100,"Discount must be between 0 and 100"),promo:si().max(100,"Promo description must not exceed 100 characters").optional(),location:si().min(5,"Location must be at least 5 characters").max(200,"Location must not exceed 200 characters").trim(),maxGuests:si().min(1,"Max guests is required").refine(t=>!isNaN(Number(t))&&Number(t)>0&&Number.isInteger(Number(t)),"Max guests must be a positive integer"),bedrooms:si().optional().refine(t=>!t||t.trim()===""||!isNaN(Number(t))&&Number(t)>=0&&Number.isInteger(Number(t)),"Bedrooms must be a non-negative integer"),bathrooms:si().optional().refine(t=>!t||t.trim()===""||!isNaN(Number(t))&&Number(t)>=0,"Bathrooms must be a non-negative number (can be 0.5, 1, 1.5, etc.)"),amenities:si().optional().default(""),dateRange:hT({from:dT().optional(),to:dT().optional()}).refine(t=>!t.from&&!t.to?!0:t.from&&t.to?t.to>=t.from:!0,{message:"End date must be after start date",path:["to"]}).refine(t=>{if(t.from){const e=new Date;return e.setHours(0,0,0,0),t.from>=e}return!0},{message:"Start date cannot be in the past",path:["from"]}),images:Sie(Nie(File)).max(10,"Maximum 10 images allowed").optional().default([])}),fT=5*1024*1024,mT=["image/jpeg","image/jpg","image/png","image/webp"],Ja=10,kie=({onSuccess:t})=>{var Ue,ht;const{user:e}=Dt(),[n,r]=m.useState(!1),[s,i]=m.useState([]),[a,l]=m.useState(0),[c,u]=m.useState(!1),[d,f]=m.useState("idle"),[p,g]=m.useState([]),[b,y]=m.useState([]),[w,_]=m.useState(!1),[x,v]=m.useState(!1),[j,P]=m.useState(!1),[D,S]=m.useState(null),[N,T]=m.useState(!1),[k,I]=m.useState(!1),A=500,R=m.useRef(null),W=m.useRef(!1),U=nte({resolver:ote(Cie),defaultValues:{title:"",description:"",category:"home",price:"",discount:"",promo:"",location:"",maxGuests:"",bedrooms:"",bathrooms:"",amenities:"",dateRange:{from:void 0,to:void 0},images:[]},mode:"onChange"}),q=U.watch(),K=U.formState.errors,L=m.useCallback(()=>e?`${e.uid}_draft`:null,[e]),F=m.useCallback(()=>{var ce,M;const Z=[q.title,q.description,q.price,q.location,q.maxGuests,((ce=q.dateRange)==null?void 0:ce.from)&&((M=q.dateRange)==null?void 0:M.to),s.length>0],X=Z.filter(Boolean).length;return Math.round(X/Z.length*100)},[q,s.length])(),Q=(Z,X)=>{const ce=[],M=new Date(Z);for(;M<=X;)ce.push(M.toISOString().split("T")[0]),M.setDate(M.getDate()+1);return ce},$=Z=>{const X={};return Object.keys(Z).forEach(ce=>{Z[ce]!==void 0&&(X[ce]=Z[ce])}),X},te=Z=>mT.includes(Z.type)?Z.size>fT?`File size exceeds ${fT/1024/1024}MB limit`:null:`Invalid file type. Allowed types: ${mT.join(", ")}`,ue=Z=>{const X=Array.from(Z.target.files||[]),ce=[],M=[];X.forEach(G=>{const he=te(G);he?M.push(`${G.name}: ${he}`):ce.push(G)}),M.length>0&&H.error(M.join(", "));const B=[...s,...ce].slice(0,Ja);i(B),U.setValue("images",B,{shouldValidate:!0}),B.length>Ja&&H.warning(`Maximum ${Ja} images allowed. Only the first ${Ja} were added.`)},de=Z=>{const X=s.filter((ce,M)=>M!==Z);i(X),U.setValue("images",X,{shouldValidate:!0})},Ce=m.useCallback(async Z=>{var fe,oe;if(!e)return;const X=L();if(!X)return;const ce=U.getValues(),M=(fe=ce.dateRange)!=null&&fe.from&&((oe=ce.dateRange)!=null&&oe.to)?Q(ce.dateRange.from,ce.dateRange.to):p;let B=null;try{const ye=await Rt($e(ge,"listing",X));ye.exists()&&(B=ye.data().createdAt)}catch(ye){console.error("Error checking existing draft:",ye)}const G={hostId:e.uid,title:ce.title||"",description:ce.description||"",category:ce.category||"home",price:ce.price?Number(ce.price):void 0,discount:ce.discount&&ce.discount.trim()?Number(ce.discount):void 0,promo:ce.promo||void 0,location:ce.location||"",maxGuests:ce.maxGuests?Number(ce.maxGuests):void 0,bedrooms:ce.bedrooms&&ce.bedrooms.trim()?Number(ce.bedrooms):void 0,bathrooms:ce.bathrooms&&ce.bathrooms.trim()?Number(ce.bathrooms):void 0,amenities:ce.amenities?ce.amenities.split(",").map(ye=>ye.trim()).filter(Boolean):[],availableDates:M,blockedDates:b,images:[],status:"draft",createdAt:B||new Date().toISOString(),updatedAt:j0()},he=$(G);try{f("saving"),await hg($e(ge,"listing",X),he,{merge:!0}),S(X),f("saved"),Z!=null&&Z.manual&&(H.success("Draft saved successfully"),setTimeout(()=>f("idle"),2e3))}catch(ye){console.error("Failed to save draft:",ye),f("error");const We=ye.code==="permission-denied"?"Permission denied. Please check your permissions.":ye.code==="unavailable"?"Network error. Please check your connection.":"Failed to save draft";Z!=null&&Z.manual?H.error(We):H.error("Auto-save failed. Please save manually.",{duration:3e3}),setTimeout(()=>f("idle"),3e3)}},[e,L,U,p,b]);m.useEffect(()=>{if(!W.current){W.current=!0;return}if(e)return R.current&&window.clearTimeout(R.current),R.current=window.setTimeout(()=>{U.formState.isDirty&&Ce()},2e3),()=>{R.current&&window.clearTimeout(R.current)}},[q,s,e,U.formState.isDirty,Ce]),m.useEffect(()=>{const Z=()=>{e&&U.formState.isDirty&&Ce()};return window.addEventListener("beforeunload",Z),()=>window.removeEventListener("beforeunload",Z)},[Ce,e,U.formState.isDirty]),m.useEffect(()=>{(async()=>{if(!e)return;const X=L();if(X)try{const ce=await Rt($e(ge,"listing",X));ce.exists()&&ce.data().status==="draft"&&(v(!0),P(!0),S(X))}catch(ce){ce.code!=="permission-denied"&&console.error("Failed to check draft:",ce)}})()},[e,L]);const J=async()=>{if(D)try{const Z=await Rt($e(ge,"listing",D));if(!Z.exists())return;const X=Z.data();U.reset({title:X.title||"",description:X.description||"",category:X.category||"home",price:X.price?String(X.price):"",discount:X.discount?String(X.discount):"",promo:X.promo||"",location:X.location||"",maxGuests:X.maxGuests?String(X.maxGuests):"",bedrooms:X.bedrooms?String(X.bedrooms):"",bathrooms:X.bathrooms?String(X.bathrooms):"",amenities:Array.isArray(X.amenities)?X.amenities.join(", "):X.amenities||"",dateRange:X.availableDates&&X.availableDates.length>0?{from:new Date(X.availableDates[0]),to:new Date(X.availableDates[X.availableDates.length-1])}:{from:void 0,to:void 0},images:[]}),X.availableDates&&Array.isArray(X.availableDates)&&g(X.availableDates),X.blockedDates&&Array.isArray(X.blockedDates)&&y(X.blockedDates),P(!1),H.success("Draft loaded successfully")}catch(Z){console.error("Failed to load draft:",Z);const X=Z.code==="permission-denied"?"Permission denied. Unable to load draft.":"Failed to load draft";H.error(X)}},Fe=async()=>{if(!D){P(!1),v(!1),T(!1),U.reset();return}try{await $l($e(ge,"listing",D)),S(null),P(!1),v(!1),T(!1),U.reset(),g([]),y([]),i([]),H.success("Draft discarded")}catch(Z){console.error("Failed to discard draft:",Z);const X=Z.code==="permission-denied"?"Permission denied. Unable to discard draft.":"Failed to discard draft";H.error(X)}},Me=async Z=>{var he,fe;if(!e)throw new Error("No user");const X=U.getValues(),ce=(he=X.dateRange)!=null&&he.from&&((fe=X.dateRange)!=null&&fe.to)?Q(X.dateRange.from,X.dateRange.to):p;let M=null;if(D&&Z==="draft")try{const oe=await Rt($e(ge,"listing",D));oe.exists()&&(M=oe.data().createdAt)}catch(oe){console.error("Error checking existing listing:",oe)}const B={hostId:e.uid,title:X.title,description:X.description,category:X.category||"home",price:Number(X.price),discount:X.discount&&X.discount.trim()?Number(X.discount):void 0,promo:X.promo||void 0,location:X.location,maxGuests:Number(X.maxGuests),bedrooms:X.bedrooms&&X.bedrooms.trim()?Number(X.bedrooms):void 0,bathrooms:X.bathrooms&&X.bathrooms.trim()?Number(X.bathrooms):void 0,amenities:X.amenities?X.amenities.split(",").map(oe=>oe.trim()).filter(Boolean):[],availableDates:ce,blockedDates:b,images:[],status:Z,createdAt:M||new Date().toISOString(),updatedAt:new Date().toISOString()},G=$(B);console.log("persistListing: Preparing payload with status:",G.status),console.log("persistListing: Full payload keys:",Object.keys(G));{console.log('persistListing: Creating listing with status "pending"');const oe=await fO(G);if(D)try{await $l($e(ge,"listing",D))}catch(ye){console.error("Error deleting draft:",ye)}return S(null),v(!1),oe}},le=async(Z,X)=>{u(!0),l(0);try{const{uploadListingImages:ce}=await $n(async()=>{const{uploadListingImages:G}=await import("./cloudinary-BPbL6VjZ.js");return{uploadListingImages:G}},[]),B=await ce(Z,X,G=>{l(G)});return l(100),B}finally{u(!1),setTimeout(()=>l(0),1e3)}},Ne=async()=>{if(e){r(!0);try{console.log('createListingAfterPayment: Starting listing creation with status "pending"');const Z=await Me("pending");if(console.log("createListingAfterPayment: Listing created with ID:",Z),s.length>0){console.log("createListingAfterPayment: Uploading",s.length,"images");const X=await le(s,Z);console.log("createListingAfterPayment: Images uploaded, updating listing with URLs"),await hg($e(ge,"listing",Z),{images:X,updatedAt:j0()},{merge:!0}),console.log("createListingAfterPayment: Listing updated with images")}S(null),v(!1),console.log("createListingAfterPayment: Success! Listing ID:",Z,"Status: pending"),H.success("Payment received. Listing submitted for review!"),t()}catch(Z){console.error("createListingAfterPayment: Error occurred:",Z),console.error("createListingAfterPayment: Error details:",{code:Z.code,message:Z.message,stack:Z.stack});const X=Z.code==="permission-denied"?"Permission denied. Please check your permissions.":Z.code==="unavailable"?"Network error. Please check your connection and try again.":Z.message||"Failed to create listing after payment";H.error(X)}finally{r(!1),_(!1)}}},De=async()=>{const Z=await U.trigger(),X=U.getValues("dateRange");if(!Z){H.error("Please fix the errors in the form before proceeding.");return}if(!(X!=null&&X.from)||!(X!=null&&X.to)){H.error("Please select an availability date range."),U.setError("dateRange.to",{message:"Date range is required"});return}if(s.length===0){H.error("Please upload at least one image."),U.setError("images",{message:"At least one image is required"});return}I(!0)},Nt=()=>{I(!1),_(!0)},Re=async()=>{await Ce({manual:!0})};return o.jsxs(o.Fragment,{children:[o.jsx(gk,{open:j,onOpenChange:P,children:o.jsxs(O0,{children:[o.jsxs(M0,{children:[o.jsx(L0,{children:"Unsaved Draft Found"}),o.jsx(F0,{children:"We found a saved draft for this account. Would you like to continue editing it or discard it and start fresh?"})]}),o.jsxs("div",{className:"mt-4 flex gap-2 justify-end",children:[o.jsx(ie,{variant:"outline",onClick:()=>{P(!1),T(!0)},children:"Discard Draft"}),o.jsx(ie,{onClick:J,children:"Continue Draft"})]})]})}),o.jsxs(se,{children:[o.jsxs(me,{children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(pe,{children:"Create New Listing"}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[d==="saving"&&o.jsxs(o.Fragment,{children:[o.jsx(wh,{className:"h-4 w-4 animate-spin"}),o.jsx("span",{children:"Saving..."})]}),d==="saved"&&o.jsxs(o.Fragment,{children:[o.jsx(Vw,{className:"h-4 w-4 text-green-500"}),o.jsx("span",{children:"Saved"})]}),d==="error"&&o.jsxs(o.Fragment,{children:[o.jsx(r_,{className:"h-4 w-4 text-destructive"}),o.jsx("span",{children:"Save failed"})]})]})]}),o.jsxs("div",{className:"mt-4 space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"Form completion"}),o.jsxs("span",{className:"font-medium",children:[F,"%"]})]}),o.jsx(jE,{value:F,className:"h-2"})]})]}),o.jsx(be,{children:o.jsx(Lte,{...U,children:o.jsxs("form",{onSubmit:U.handleSubmit(De),className:"space-y-6",children:[o.jsx(Hr,{control:U.control,name:"title",render:({field:Z})=>{var X;return o.jsxs(jr,{children:[o.jsxs(Cr,{children:["Title ",o.jsx("span",{className:"text-destructive",children:"*"})]}),o.jsx(kr,{children:o.jsx(qe,{placeholder:"Enter a descriptive title for your listing",...Z,value:Z.value||""})}),o.jsxs("div",{className:"flex justify-between",children:[o.jsxs(Bi,{children:[((X=Z.value)==null?void 0:X.length)||0,"/100 characters"]}),o.jsx(Tr,{})]})]})}}),o.jsx(Hr,{control:U.control,name:"description",render:({field:Z})=>{var X;return o.jsxs(jr,{children:[o.jsxs(Cr,{children:["Description ",o.jsx("span",{className:"text-destructive",children:"*"})]}),o.jsx(kr,{children:o.jsx(nh,{placeholder:"Describe your listing in detail. Include amenities, nearby attractions, and what makes it special.",className:"min-h-[120px]",...Z,value:Z.value||""})}),o.jsxs("div",{className:"flex justify-between",children:[o.jsxs(Bi,{children:[((X=Z.value)==null?void 0:X.length)||0,"/2000 characters (minimum 50)"]}),o.jsx(Tr,{})]})]})}}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(Hr,{control:U.control,name:"category",render:({field:Z})=>o.jsxs(jr,{children:[o.jsxs(Cr,{children:["Category ",o.jsx("span",{className:"text-destructive",children:"*"})]}),o.jsxs(sE,{onValueChange:Z.onChange,defaultValue:Z.value,children:[o.jsx(kr,{children:o.jsx(sy,{children:o.jsx(iE,{placeholder:"Select category"})})}),o.jsxs(iy,{children:[o.jsx(ds,{value:"home",children:"Home"}),o.jsx(ds,{value:"experience",children:"Experience"}),o.jsx(ds,{value:"service",children:"Service"})]})]}),o.jsx(Tr,{})]})}),o.jsx(Hr,{control:U.control,name:"price",render:({field:Z})=>o.jsxs(jr,{children:[o.jsxs(Cr,{children:["Price per Night () ",o.jsx("span",{className:"text-destructive",children:"*"})]}),o.jsx(kr,{children:o.jsx(qe,{type:"number",step:"0.01",min:"0",placeholder:"0.00",...Z,value:Z.value||"",onChange:X=>Z.onChange(X.target.value)})}),o.jsx(Tr,{})]})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(Hr,{control:U.control,name:"discount",render:({field:Z})=>o.jsxs(jr,{children:[o.jsx(Cr,{children:"Discount (%)"}),o.jsx(kr,{children:o.jsx(qe,{type:"number",min:"0",max:"100",placeholder:"0",...Z,value:Z.value||"",onChange:X=>Z.onChange(X.target.value)})}),o.jsx(Bi,{children:"Optional discount percentage (0-100)"}),o.jsx(Tr,{})]})}),o.jsx(Hr,{control:U.control,name:"promo",render:({field:Z})=>o.jsxs(jr,{children:[o.jsx(Cr,{children:"Promo Description"}),o.jsx(kr,{children:o.jsx(qe,{placeholder:"e.g., 'Summer Special'",maxLength:100,...Z,value:Z.value||""})}),o.jsx(Bi,{children:"Optional promotional message"}),o.jsx(Tr,{})]})})]}),o.jsx(Hr,{control:U.control,name:"location",render:({field:Z})=>o.jsxs(jr,{children:[o.jsxs(Cr,{children:["Location ",o.jsx("span",{className:"text-destructive",children:"*"})]}),o.jsx(kr,{children:o.jsx(qe,{placeholder:"City, State, Country",...Z,value:Z.value||""})}),o.jsx(Tr,{})]})}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx(Hr,{control:U.control,name:"maxGuests",render:({field:Z})=>o.jsxs(jr,{children:[o.jsxs(Cr,{children:["Max Guests ",o.jsx("span",{className:"text-destructive",children:"*"})]}),o.jsx(kr,{children:o.jsx(qe,{type:"number",min:"1",placeholder:"1",...Z,value:Z.value||"",onChange:X=>Z.onChange(X.target.value)})}),o.jsx(Tr,{})]})}),o.jsx(Hr,{control:U.control,name:"bedrooms",render:({field:Z})=>o.jsxs(jr,{children:[o.jsx(Cr,{children:"Bedrooms"}),o.jsx(kr,{children:o.jsx(qe,{type:"number",min:"0",placeholder:"0",...Z,value:Z.value||"",onChange:X=>Z.onChange(X.target.value)})}),o.jsx(Tr,{})]})}),o.jsx(Hr,{control:U.control,name:"bathrooms",render:({field:Z})=>o.jsxs(jr,{children:[o.jsx(Cr,{children:"Bathrooms"}),o.jsx(kr,{children:o.jsx(qe,{type:"number",min:"0",step:"0.5",placeholder:"0",...Z,value:Z.value||"",onChange:X=>Z.onChange(X.target.value)})}),o.jsx(Bi,{children:"Can be 0.5, 1, 1.5, etc."}),o.jsx(Tr,{})]})})]}),o.jsx(Hr,{control:U.control,name:"amenities",render:({field:Z})=>o.jsxs(jr,{children:[o.jsx(Cr,{children:"Amenities"}),o.jsx(kr,{children:o.jsx(qe,{placeholder:"WiFi, Pool, Kitchen, Parking (comma separated)",...Z,value:Z.value||""})}),o.jsx(Bi,{children:"Separate multiple amenities with commas"}),o.jsx(Tr,{})]})}),o.jsx(Hr,{control:U.control,name:"dateRange",render:({field:Z})=>{var X,ce;return o.jsxs(jr,{children:[o.jsxs(Cr,{children:["Availability Date Range ",o.jsx("span",{className:"text-destructive",children:"*"})]}),o.jsx(kr,{children:o.jsx(Bse,{value:Z.value,onChange:Z.onChange,placeholder:"Select your listing availability period",className:"mt-2",error:!!K.dateRange})}),((X=Z.value)==null?void 0:X.from)&&((ce=Z.value)==null?void 0:ce.to)&&o.jsxs(Bi,{children:["Available from ",Z.value.from.toLocaleDateString()," to ",Z.value.to.toLocaleDateString()]}),o.jsx(Tr,{})]})}}),o.jsx(Hr,{control:U.control,name:"images",render:()=>o.jsxs(jr,{children:[o.jsxs(Cr,{children:["Images ",o.jsx("span",{className:"text-destructive",children:"*"})]}),o.jsx(kr,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(qe,{id:"images",type:"file",multiple:!0,accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:ue,className:"hidden"}),o.jsxs(ie,{type:"button",variant:"outline",onClick:()=>{var Z;return(Z=document.getElementById("images"))==null?void 0:Z.click()},disabled:s.length>=Ja,children:[o.jsx(_P,{className:"h-4 w-4 mr-2"}),"Upload Images (",s.length,"/",Ja,")"]})]}),o.jsx(Qse,{images:s,onRemove:de,uploadProgress:a,isUploading:c})]})}),o.jsxs(Bi,{children:["Upload at least 1 image (max ",Ja,"). Accepted formats: JPG, PNG, WebP. Max size: 5MB per image."]}),o.jsx(Tr,{})]})}),o.jsxs("div",{className:"flex gap-2 pt-4",children:[o.jsx(ie,{type:"submit",disabled:n||c,className:"flex-1",children:n?o.jsxs(o.Fragment,{children:[o.jsx(wh,{className:"h-4 w-4 mr-2 animate-spin"}),"Processing..."]}):`Pay & Publish (${Qe(A)})`}),o.jsxs(ie,{type:"button",variant:"outline",disabled:n||c,className:"flex-1",onClick:Re,children:[o.jsx(xP,{className:"h-4 w-4 mr-2"}),"Save as Draft"]})]})]})})})]}),o.jsx(gk,{open:w,onOpenChange:_,children:o.jsxs(O0,{children:[o.jsxs(M0,{children:[o.jsx(L0,{children:"Complete Subscription to Publish"}),o.jsxs(F0,{children:["Pay a one-time subscription fee of ",Qe(A)," to submit your listing for review."]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"rounded-lg border p-4",children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:"Listing Details"}),o.jsx("div",{className:"font-medium mt-1",children:q.title||"Untitled Listing"}),o.jsxs("div",{className:"text-sm text-muted-foreground mt-2",children:["Category: ",q.category]}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:["Location: ",q.location||"-"]}),o.jsx("div",{className:"text-sm text-muted-foreground",children:(Ue=q.dateRange)!=null&&Ue.from&&((ht=q.dateRange)!=null&&ht.to)?`Availability: ${q.dateRange.from.toLocaleDateString()} - ${q.dateRange.to.toLocaleDateString()}`:"Availability: Not set"})]}),o.jsxs("div",{className:"rounded-lg bg-muted p-4",children:[o.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[o.jsx("span",{children:"Subscription Fee:"}),o.jsx("span",{className:"font-medium",children:Qe(A)})]}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"This fee covers listing review and processing. Your listing will be reviewed by our team before going live."})]}),e&&o.jsx(ene,{amount:A,userId:e.uid,description:`Host subscription for listing: ${q.title||"Untitled"}`,onSuccess:Ne})]})]})}),o.jsx(wr,{open:N,onOpenChange:T,children:o.jsxs(rr,{children:[o.jsxs(sr,{children:[o.jsx(or,{children:"Discard Draft?"}),o.jsx(ar,{children:"Are you sure you want to discard this draft? All unsaved changes will be permanently lost."})]}),o.jsxs(ir,{children:[o.jsx(cr,{children:"Cancel"}),o.jsx(lr,{onClick:Fe,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Discard Draft"})]})]})}),o.jsx(wr,{open:k,onOpenChange:I,children:o.jsxs(rr,{children:[o.jsxs(sr,{children:[o.jsx(or,{children:"Proceed to Payment?"}),o.jsxs(ar,{children:["You're about to pay a one-time subscription fee of ",Qe(A)," to publish this listing. After payment, your listing will be submitted for admin review."]})]}),o.jsxs(ir,{children:[o.jsx(cr,{children:"Cancel"}),o.jsx(lr,{onClick:Nt,children:"Proceed to Payment"})]})]})})]})},Tie=()=>{const t=pt();return o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsxs("div",{className:"max-w-3xl mx-auto",children:[o.jsxs(ie,{variant:"ghost",onClick:()=>t("/host/dashboard"),className:"mb-4",children:[o.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),o.jsx(kie,{onSuccess:()=>t("/host/listings")})]})})},Iie=()=>{const t=pt(),{user:e}=Dt(),[n,r]=m.useState([]),[s,i]=m.useState(!0),[a,l]=m.useState(!1),[c,u]=m.useState(null);m.useEffect(()=>{e&&d()},[e]);const d=async()=>{if(e)try{i(!0),console.log("Loading listings for hostId:",e.uid);const g=await kf({hostId:e.uid});console.log("Loaded listings:",g),r(g)}catch(g){console.error("Failed to load listings:",g),H.error(`Failed to load listings: ${g.message||"Unknown error"}`)}finally{i(!1)}},f=g=>{u(g),l(!0)},p=async()=>{if(c)try{await mO(c),H.success("Listing deleted"),d(),u(null)}catch{H.error("Failed to delete listing")}finally{l(!1)}};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"sticky top-0 z-50 border-b bg-card/95 backdrop-blur supports-[backdrop-filter]:bg-card/60 shadow-soft",children:o.jsxs("div",{className:"container mx-auto px-6 py-4 flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>t("/host/dashboard"),children:o.jsx(Vt,{className:"h-5 w-5"})}),o.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:o.jsx(kl,{className:"w-5 h-5 text-primary"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-lg font-bold",children:"My Listings"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Manage your properties"})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Nr,{}),o.jsxs(ie,{onClick:()=>t("/host/create-listing"),children:[o.jsx(Uw,{className:"h-4 w-4 mr-2"}),"Create Listing"]})]})]})}),o.jsx("div",{className:"max-w-7xl mx-auto p-6",children:s?o.jsx("div",{className:"flex items-center justify-center py-20",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):n.length===0?o.jsxs("div",{className:"text-center py-20",children:[o.jsx("div",{className:"w-20 h-20 rounded-full bg-muted flex items-center justify-center mx-auto mb-4",children:o.jsx(kl,{className:"w-10 h-10 text-muted-foreground"})}),o.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No listings yet"}),o.jsx("p",{className:"text-muted-foreground mb-6",children:"Create your first listing to start hosting"}),o.jsxs(ie,{size:"lg",onClick:()=>t("/host/create-listing"),children:[o.jsx(Uw,{className:"h-4 w-4 mr-2"}),"Create Your First Listing"]})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(g=>o.jsxs("div",{className:"group",children:[o.jsx(mo,{listing:g}),o.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[o.jsx(Sn,{variant:g.status==="draft"?"secondary":"default",children:g.status.charAt(0).toUpperCase()+g.status.slice(1)}),o.jsx("span",{className:"text-sm text-muted-foreground",children:g.category})]}),o.jsxs("div",{className:"mt-3 flex gap-2",children:[o.jsx(ie,{variant:"outline",size:"sm",className:"flex-1 hover:bg-primary hover:text-primary-foreground",onClick:()=>t(`/host/create-listing?edit=${g.id}`),children:g.status==="draft"?"Resume":"Edit"}),o.jsx(ie,{variant:"destructive",size:"sm",className:"flex-1",onClick:()=>f(g.id),children:"Delete"})]})]},g.id))})}),o.jsx(wr,{open:a,onOpenChange:l,children:o.jsxs(rr,{children:[o.jsxs(sr,{children:[o.jsx(or,{children:"Delete Listing?"}),o.jsx(ar,{children:"Are you sure you want to delete this listing? This action cannot be undone. Any associated bookings and reviews will be affected."})]}),o.jsxs(ir,{children:[o.jsx(cr,{onClick:()=>u(null),children:"Cancel"}),o.jsx(lr,{onClick:p,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})};function el({className:t,...e}){return o.jsx("div",{className:_e("animate-pulse rounded-md bg-muted",t),...e})}const Rie=()=>o.jsxs(se,{className:"overflow-hidden border-0 shadow-sm",children:[o.jsx(el,{className:"h-56 w-full"}),o.jsxs(be,{className:"p-5 space-y-3",children:[o.jsx(el,{className:"h-5 w-3/4"}),o.jsx(el,{className:"h-4 w-1/2"}),o.jsx(el,{className:"h-4 w-full"}),o.jsx(el,{className:"h-4 w-2/3"}),o.jsx("div",{className:"flex items-center justify-between pt-3 border-t",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(el,{className:"h-4 w-12"}),o.jsx(el,{className:"h-4 w-16"})]})})]})]}),ya=({icon:t,title:e,description:n,action:r})=>o.jsxs("div",{className:"flex flex-col items-center justify-center py-16 px-4 text-center animate-fadeInUp",children:[o.jsx("div",{className:"mb-6 w-20 h-20 rounded-full bg-muted flex items-center justify-center text-muted-foreground",children:t}),o.jsx("h3",{className:"text-xl font-semibold mb-2",children:e}),o.jsx("p",{className:"text-muted-foreground max-w-md mb-6 leading-relaxed",children:n}),r]}),Pie=({onFilterChange:t,initialFilters:e})=>{const[n,r]=m.useState(e||{location:"",guests:1,category:"all"}),[s,i]=m.useState(!1);m.useEffect(()=>{e&&r(e)},[e]);const a=()=>{t(n)},l=()=>{const c={location:"",guests:1,category:"all"};r(c),t(c)};return o.jsxs(se,{children:[o.jsx(me,{children:o.jsxs(pe,{className:"flex items-center gap-2",children:[o.jsx(I9,{className:"h-5 w-5"}),"Search Filters"]})}),o.jsxs(be,{className:"space-y-4",children:[o.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"location",children:"Where"}),o.jsx(qe,{id:"location",placeholder:"Location",value:n.location,onChange:c=>r({...n,location:c.target.value})})]}),o.jsxs("div",{children:[o.jsx(Le,{children:"Check-in"}),o.jsxs(wg,{children:[o.jsx(bg,{asChild:!0,children:o.jsxs(ie,{variant:"outline",className:"w-full justify-start",children:[o.jsx(qn,{className:"mr-2 h-4 w-4"}),n.checkIn?ps(n.checkIn,"PP"):"Select date"]})}),o.jsx(Uh,{className:"w-auto p-0",children:o.jsx(Su,{mode:"single",selected:n.checkIn,onSelect:c=>r({...n,checkIn:c}),disabled:c=>c<new Date})})]})]}),o.jsxs("div",{children:[o.jsx(Le,{children:"Check-out"}),o.jsxs(wg,{children:[o.jsx(bg,{asChild:!0,children:o.jsxs(ie,{variant:"outline",className:"w-full justify-start",children:[o.jsx(qn,{className:"mr-2 h-4 w-4"}),n.checkOut?ps(n.checkOut,"PP"):"Select date"]})}),o.jsx(Uh,{className:"w-auto p-0",children:o.jsx(Su,{mode:"single",selected:n.checkOut,onSelect:c=>r({...n,checkOut:c}),disabled:c=>c<(n.checkIn||new Date)})})]})]})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"guests",children:"Guests"}),o.jsx(qe,{id:"guests",type:"number",min:"1",value:n.guests,onChange:c=>r({...n,guests:Number(c.target.value)})})]}),o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"category",children:"Category"}),o.jsxs(sE,{value:n.category,onValueChange:c=>r({...n,category:c}),children:[o.jsx(sy,{children:o.jsx(iE,{})}),o.jsxs(iy,{children:[o.jsx(ds,{value:"all",children:"All Categories"}),o.jsx(ds,{value:"home",children:"Homes"}),o.jsx(ds,{value:"experience",children:"Experiences"}),o.jsx(ds,{value:"service",children:"Services"})]})]})]})]}),o.jsxs(ie,{variant:"ghost",onClick:()=>i(!s),className:"w-full",children:[s?"Hide":"Show"," Advanced Filters"]}),s&&o.jsxs("div",{className:"grid md:grid-cols-2 gap-4 pt-4 border-t",children:[o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"minPrice",children:"Min Price ()"}),o.jsx(qe,{id:"minPrice",type:"number",min:"0",value:n.minPrice||"",onChange:c=>r({...n,minPrice:Number(c.target.value)}),placeholder:"0"})]}),o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"maxPrice",children:"Max Price ()"}),o.jsx(qe,{id:"maxPrice",type:"number",min:"0",value:n.maxPrice||"",onChange:c=>r({...n,maxPrice:Number(c.target.value)}),placeholder:"No limit"})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ie,{onClick:a,className:"flex-1",children:"Apply Filters"}),o.jsx(ie,{onClick:l,variant:"outline",children:"Reset"})]})]})]})},Aie=()=>{const t=pt(),e=Ua(),{user:n}=Dt(),[r,s]=m.useState([]),[i,a]=m.useState([]),[l,c]=m.useState([]),[u,d]=m.useState(!0),[f,p]=m.useState(""),g=()=>{const N=new URLSearchParams(e.search).get("category");return N&&["home","experience","service"].includes(N)?N:"all"},[b,y]=m.useState({location:"",guests:1,category:g()});m.useEffect(()=>{w(),n&&(_(),x())},[n,b.category]),m.useEffect(()=>{const S=new URLSearchParams(e.search),N=S.get("q"),T=S.get("category");if(N&&p(N),T&&["home","experience","service"].includes(T)){const k=T;y(I=>I.category!==k?{...I,category:k}:I)}else T||y(k=>k.category!=="all"?{...k,category:"all"}:k)},[e.search]);const w=async()=>{try{const S=b.category!=="all"?{category:b.category,status:"approved"}:{status:"approved"},N=await kf(S);s(N)}catch{H.error("Failed to load listings")}finally{d(!1)}},_=async()=>{if(!n)return;const S=await Rt($e(ge,"users",n.uid));S.exists()&&a(S.data().favorites||[])},x=async()=>{if(!n)return;const S=await Rt($e(ge,"users",n.uid));S.exists()&&c(S.data().wishlist||[])},v=async S=>{if(!n){H.error("Please login to add favorites");return}const T=i.includes(S)?i.filter(k=>k!==S):[...i,S];a(T);try{const k=await If(n.uid,S,i);a(k),H.success(k.includes(S)?"Added to favorites":"Removed from favorites")}catch{a(i),H.error("Failed to update favorites")}},j=async S=>{if(!n){H.error("Please login to add to wishlist");return}const T=l.includes(S)?l.filter(k=>k!==S):[...l,S];c(T);try{const k=await Fv(n.uid,S,l);c(k),H.success(k.includes(S)?"Added to wishlist":"Removed from wishlist")}catch{c(l),H.error("Failed to update wishlist")}},P=r.filter(S=>{if(f.trim()){const N=f.toLowerCase(),T=S.title.toLowerCase().includes(N),k=S.location.toLowerCase().includes(N),I=S.description.toLowerCase().includes(N),A=S.category.toLowerCase().includes(N);if(!T&&!k&&!I&&!A)return!1}return!(b.location&&!S.location.toLowerCase().includes(b.location.toLowerCase())||b.guests>S.maxGuests||b.minPrice&&S.price<b.minPrice||b.maxPrice&&S.price>b.maxPrice)}),D=S=>{y(S)};return o.jsx("div",{className:"min-h-screen bg-background",children:o.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-6 lg:py-8",children:[o.jsxs(ie,{variant:"ghost",onClick:()=>t("/guest/dashboard"),className:"mb-6",children:[o.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),o.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Browse Listings"}),o.jsx(se,{className:"mb-6 shadow-md",children:o.jsx(be,{className:"pt-6",children:o.jsx(wL,{onSearch:S=>{p(S),t(`/guest/browse?q=${encodeURIComponent(S)}`)},placeholder:"Search destinations, experiences, services..."})})}),o.jsx("div",{className:"mb-6 flex flex-wrap gap-2",children:["all","home","experience","service"].map(S=>o.jsx("button",{className:`px-4 py-2 rounded-full text-sm font-medium border-2 transition-all ${b.category===S?"bg-primary text-primary-foreground border-primary shadow-md":"bg-background border-border text-foreground hover:bg-muted hover:border-primary/50"}`,onClick:()=>y({...b,category:S}),children:S==="all"?"All":S.charAt(0).toUpperCase()+S.slice(1)},S))}),o.jsx("div",{className:"mb-8",children:o.jsx(Pie,{onFilterChange:D,initialFilters:b})}),u?o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[...Array(8)].map((S,N)=>o.jsx(Rie,{},N))}):P.length===0?o.jsx(ya,{icon:o.jsx(Wc,{className:"h-10 w-10"}),title:"No listings found",description:"Try adjusting your filters or browse a different category to find what you're looking for.",action:o.jsx(ie,{onClick:()=>y({...b,category:"all",location:"",guests:1}),children:"Clear Filters"})}):o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:P.map(S=>o.jsx(mo,{listing:S,onView:()=>t(`/guest/listing/${S.id}`),onFavorite:()=>v(S.id),onWishlist:()=>j(S.id),isFavorite:i.includes(S.id),isInWishlist:l.includes(S.id)},S.id))})]})})};var eV={exports:{}},tV={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iu=m;function Die(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Oie=typeof Object.is=="function"?Object.is:Die,Mie=Iu.useState,Lie=Iu.useEffect,Fie=Iu.useLayoutEffect,Vie=Iu.useDebugValue;function Uie(t,e){var n=e(),r=Mie({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return Fie(function(){s.value=n,s.getSnapshot=e,$x(s)&&i({inst:s})},[t,n,e]),Lie(function(){return $x(s)&&i({inst:s}),t(function(){$x(s)&&i({inst:s})})},[t]),Vie(n),n}function $x(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Oie(t,n)}catch{return!0}}function $ie(t,e){return e()}var Bie=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?$ie:Uie;tV.useSyncExternalStore=Iu.useSyncExternalStore!==void 0?Iu.useSyncExternalStore:Bie;eV.exports=tV;var zie=eV.exports;function Wie(){return zie.useSyncExternalStore(Hie,()=>!0,()=>!1)}function Hie(){return()=>{}}var kE="Avatar",[qie,iae]=Kn(kE),[Gie,nV]=qie(kE),rV=m.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,i]=m.useState("idle");return o.jsx(Gie,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:o.jsx(ke.span,{...r,ref:e})})});rV.displayName=kE;var sV="AvatarImage",iV=m.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=t,a=nV(sV,n),l=Kie(r,i),c=sn(u=>{s(u),a.onImageLoadingStatusChange(u)});return hn(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?o.jsx(ke.img,{...i,ref:e,src:r}):null});iV.displayName=sV;var oV="AvatarFallback",aV=m.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,i=nV(oV,n),[a,l]=m.useState(r===void 0);return m.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),a&&i.imageLoadingStatus!=="loaded"?o.jsx(ke.span,{...s,ref:e}):null});aV.displayName=oV;function pT(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Kie(t,{referrerPolicy:e,crossOrigin:n}){const r=Wie(),s=m.useRef(null),i=r?(s.current||(s.current=new window.Image),s.current):null,[a,l]=m.useState(()=>pT(i,t));return hn(()=>{l(pT(i,t))},[i,t]),hn(()=>{const c=f=>()=>{l(f)};if(!i)return;const u=c("loaded"),d=c("error");return i.addEventListener("load",u),i.addEventListener("error",d),e&&(i.referrerPolicy=e),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,n,e]),a}var lV=rV,cV=iV,uV=aV;const TE=m.forwardRef(({className:t,...e},n)=>o.jsx(lV,{ref:n,className:_e("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));TE.displayName=lV.displayName;const Yie=m.forwardRef(({className:t,...e},n)=>o.jsx(cV,{ref:n,className:_e("aspect-square h-full w-full",t),...e}));Yie.displayName=cV.displayName;const IE=m.forwardRef(({className:t,...e},n)=>o.jsx(uV,{ref:n,className:_e("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));IE.displayName=uV.displayName;const Qie=({listingId:t})=>{const[e,n]=m.useState([]),[r,s]=m.useState(!0),[i,a]=m.useState("newest"),[l,c]=m.useState(new Set);m.useEffect(()=>{u(),d()},[t]);const u=async()=>{try{const y=await vO(t);n(y)}catch(y){console.error(y)}finally{s(!1)}},d=()=>{const y=localStorage.getItem(`helpful_reviews_${t}`);y&&c(new Set(JSON.parse(y)))},f=y=>{const w=new Set(l);w.has(y)?w.delete(y):w.add(y),c(w),localStorage.setItem(`helpful_reviews_${t}`,JSON.stringify(Array.from(w)))},p=m.useMemo(()=>{const y=[...e];switch(i){case"newest":return y.sort((w,_)=>new Date(_.createdAt).getTime()-new Date(w.createdAt).getTime());case"highest":return y.sort((w,_)=>_.rating-w.rating);case"lowest":return y.sort((w,_)=>w.rating-_.rating);case"most_helpful":return y.sort((w,_)=>{const x=l.has(w.id)?1:0,v=l.has(_.id)?1:0;return x!==v?v-x:_.rating-w.rating});default:return y}},[e,i,l]),g=m.useMemo(()=>e.length===0?0:(e.reduce((w,_)=>w+_.rating,0)/e.length).toFixed(1),[e]),b=m.useMemo(()=>{const y={5:0,4:0,3:0,2:0,1:0};return e.forEach(w=>{y[w.rating]++}),y},[e]);return r?o.jsx("p",{children:"Loading reviews..."}):e.length===0?o.jsx(se,{children:o.jsx(be,{className:"py-8 text-center text-muted-foreground",children:"No reviews yet"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"text-2xl font-semibold mb-2",children:["Reviews (",e.length,")"]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(ca,{className:"h-5 w-5 fill-yellow-400 text-yellow-400"}),o.jsx("span",{className:"text-lg font-bold ml-1",children:g})]}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",e.length," ",e.length===1?"review":"reviews",")"]})]})]}),o.jsxs(sE,{value:i,onValueChange:y=>a(y),children:[o.jsxs(sy,{className:"w-full sm:w-[200px]",children:[o.jsx(E9,{className:"h-4 w-4 mr-2"}),o.jsx(iE,{placeholder:"Sort by"})]}),o.jsxs(iy,{children:[o.jsx(ds,{value:"newest",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(nv,{className:"h-4 w-4"}),o.jsx("span",{children:"Newest First"})]})}),o.jsx(ds,{value:"highest",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Il,{className:"h-4 w-4"}),o.jsx("span",{children:"Highest Rated"})]})}),o.jsx(ds,{value:"lowest",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Il,{className:"h-4 w-4 rotate-180"}),o.jsx("span",{children:"Lowest Rated"})]})}),o.jsx(ds,{value:"most_helpful",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(FS,{className:"h-4 w-4"}),o.jsx("span",{children:"Most Helpful"})]})})]})]})]}),o.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:"Rating Breakdown"}),o.jsx("div",{className:"space-y-2",children:[5,4,3,2,1].reverse().map(y=>{const w=b[y],_=w/e.length*100;return o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"flex items-center gap-1 w-20",children:[o.jsx("span",{className:"text-sm",children:y}),o.jsx(ca,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"})]}),o.jsx("div",{className:"flex-1 bg-background rounded-full h-2 overflow-hidden",children:o.jsx("div",{className:"bg-primary h-full rounded-full transition-all duration-300",style:{width:`${_}%`}})}),o.jsx("span",{className:"text-sm text-muted-foreground w-12 text-right",children:w})]},y)})})]}),o.jsx("div",{className:"space-y-4",children:p.map(y=>o.jsx(se,{children:o.jsx(be,{className:"pt-6",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx(TE,{children:o.jsx(IE,{children:y.guestId.slice(0,2).toUpperCase()})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"flex items-start justify-between mb-2",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"flex",children:[...Array(5)].map((w,_)=>o.jsx(ca,{className:`h-4 w-4 ${_<y.rating?"fill-yellow-400 text-yellow-400":"text-muted"}`},_))}),o.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(y.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})}),o.jsx("p",{className:"text-sm mb-3 leading-relaxed",children:y.comment}),o.jsxs(ie,{variant:"ghost",size:"sm",className:"h-8 text-xs",onClick:()=>f(y.id),children:[o.jsx(FS,{className:`h-3 w-3 mr-1 ${l.has(y.id)?"fill-primary text-primary":""}`}),"Helpful ",l.has(y.id)&&"(1)"]})]})]})})},y.id))})]})},Xie=({url:t,title:e,description:n="",variant:r="outline",size:s="default"})=>{const[i,a]=m.useState(!1),l=encodeURIComponent(t),c=encodeURIComponent(e),u=async()=>{try{await navigator.clipboard.writeText(t),a(!0),H.success("Link copied to clipboard!"),setTimeout(()=>a(!1),2e3)}catch{H.error("Failed to copy link")}},d=async()=>{if(navigator.share)try{await navigator.share({title:e,text:n,url:t})}catch(b){b.name!=="AbortError"&&console.error("Error sharing:",b)}else u()},f=()=>{const b=`https://www.facebook.com/sharer/sharer.php?u=${l}`;window.open(b,"_blank","noopener,noreferrer")},p=()=>{const b=`https://twitter.com/intent/tweet?url=${l}&text=${c}${n?"&hashtags=MojoDojoCasaHouse":""}`;window.open(b,"_blank","noopener,noreferrer")},g=()=>{const b=`https://api.whatsapp.com/send?text=${c}%20${l}`;window.open(b,"_blank","noopener,noreferrer")};return o.jsxs("div",{className:"flex items-center gap-2",children:[navigator.share&&o.jsxs(ie,{variant:r,size:s,onClick:d,className:"flex items-center gap-2",children:[o.jsx(LS,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Share"})]}),o.jsxs(PM,{children:[o.jsx(AM,{asChild:!0,children:o.jsxs(ie,{variant:r,size:s,className:"flex items-center gap-2",children:[o.jsx(LS,{className:"h-4 w-4"}),!navigator.share&&o.jsx("span",{children:"Share"}),navigator.share&&o.jsx("span",{className:"hidden sm:inline",children:"More"})]})}),o.jsxs(O1,{align:"end",className:"w-48",children:[o.jsx(Zo,{onClick:u,children:i?o.jsxs(o.Fragment,{children:[o.jsx(tf,{className:"h-4 w-4 mr-2 text-green-500"}),"Copied!"]}):o.jsxs(o.Fragment,{children:[o.jsx(D9,{className:"h-4 w-4 mr-2"}),"Copy Link"]})}),o.jsx(DM,{}),o.jsxs(Zo,{onClick:f,children:[o.jsx(yP,{className:"h-4 w-4 mr-2 text-blue-600"}),"Share to Facebook"]}),o.jsxs(Zo,{onClick:p,children:[o.jsx(bP,{className:"h-4 w-4 mr-2 text-sky-500"}),"Share to Twitter"]}),o.jsxs(Zo,{onClick:g,children:[o.jsx(M9,{className:"h-4 w-4 mr-2 text-green-600"}),"Share to WhatsApp"]})]})]})]})},Zie=()=>{const{id:t}=H8(),e=pt(),{user:n}=Dt(),[r,s]=m.useState(null),[i,a]=m.useState(),[l,c]=m.useState(),[u,d]=m.useState(1),[f,p]=m.useState(!1),[g,b]=m.useState([]),[y,w]=m.useState([]),[_,x]=m.useState(null);m.useEffect(()=>{t&&v(),n&&(P(),D())},[t,n]);const v=async()=>{if(!t)return;const I=await pO(t);s(I),I&&(console.log(" Listing loaded:",{id:I.id,title:I.title,hostId:I.hostId,hasHostId:!!I.hostId}),I.hostId?await j(I.hostId):console.error(" Listing missing hostId!",I))},j=async I=>{try{const A=await Rt($e(ge,"users",I));if(A.exists()){const R=A.data();x({fullName:R.fullName||"Host",email:R.email||""})}else console.warn("Host user document not found:",I),x({fullName:"Host",email:""})}catch(A){console.error("Error loading host info:",A),x({fullName:"Host",email:""})}},P=async()=>{if(!n)return;const I=await Rt($e(ge,"users",n.uid));I.exists()&&b(I.data().favorites||[])},D=async()=>{if(!n)return;const I=await Rt($e(ge,"users",n.uid));I.exists()&&w(I.data().wishlist||[])},S=async()=>{if(!n||!r){H.error("Please login to add favorites");return}try{const{toggleFavorite:I}=await $n(async()=>{const{toggleFavorite:R}=await Promise.resolve().then(()=>fo);return{toggleFavorite:R}},void 0),A=await I(n.uid,r.id,g);b(A),H.success(A.includes(r.id)?"Added to favorites":"Removed from favorites")}catch{H.error("Failed to update favorites")}},N=async()=>{if(!n||!r){H.error("Please login to add to wishlist");return}try{const{toggleWishlist:I}=await $n(async()=>{const{toggleWishlist:R}=await Promise.resolve().then(()=>fo);return{toggleWishlist:R}},void 0),A=await I(n.uid,r.id,y);w(A),H.success(A.includes(r.id)?"Added to wishlist":"Removed from wishlist")}catch{H.error("Failed to update wishlist")}},T=()=>!i||!l||!r?0:Math.ceil((l.getTime()-i.getTime())/(1e3*60*60*24))*r.price,k=async()=>{var I;if(!n||!r||!i||!l){H.error("Please select dates and sign in");return}if(!r.hostId){H.error("Listing error: Missing host information. Please contact support."),console.error("Listing missing hostId:",r);return}p(!0);try{const A={listingId:r.id,guestId:n.uid,hostId:r.hostId,checkIn:i.toISOString(),checkOut:l.toISOString(),guests:u,totalPrice:T(),status:"pending"};console.log(" Creating booking with data:",{...A,hostIdValue:r.hostId,hostIdType:typeof r.hostId,hostIdLength:(I=r.hostId)==null?void 0:I.length});const R=await gO(A);console.log(" Booking created successfully:",R),console.log(" Booking details:",{bookingId:R,hostId:r.hostId,guestId:n.uid,listingId:r.id,status:"pending",checkIn:A.checkIn,checkOut:A.checkOut,guests:A.guests,totalPrice:A.totalPrice});try{const{getDoc:W,doc:U}=await $n(async()=>{const{getDoc:L,doc:V}=await Promise.resolve().then(()=>C0);return{getDoc:L,doc:V}},void 0),{db:q}=await $n(async()=>{const{db:L}=await Promise.resolve().then(()=>k0);return{db:L}},void 0),K=await W(U(q,"bookings",R));if(K.exists()){const L=K.data();if(console.log(" Verified booking in Firestore:",{id:R,hostId:L.hostId,hostIdType:typeof L.hostId,guestId:L.guestId,guestIdType:typeof L.guestId,status:L.status,createdAt:L.createdAt,listingId:L.listingId}),r.id){const V=await W(U(q,"listing",r.id));if(V.exists()){const F=V.data();console.log(" Listing hostId comparison:",{listingHostId:F.hostId,listingHostIdType:typeof F.hostId,bookingHostId:L.hostId,bookingHostIdType:typeof L.hostId,match:String(F.hostId)===String(L.hostId)})}}}}catch(W){console.error(" Error verifying booking:",W)}H.success("Booking request sent! The host will review your request."),e("/guest/dashboard")}catch(A){console.error(" Error creating booking:",A),H.error("Failed to create booking")}finally{p(!1)}};return r?o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsxs(ie,{variant:"ghost",onClick:()=>e("/guest/browse"),className:"mb-4",children:[o.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Back to Browse"]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[o.jsxs("div",{children:[o.jsx("img",{src:r.images[0]||"/placeholder.svg",alt:r.title,className:"w-full h-96 object-cover rounded-lg mb-4"}),o.jsx("div",{className:"grid grid-cols-3 gap-2",children:r.images.slice(1,4).map((I,A)=>o.jsx("img",{src:I,alt:"",className:"w-full h-24 object-cover rounded"},A))})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx(Sn,{children:r.category}),o.jsxs("div",{className:"flex items-center gap-2",children:[n&&r&&o.jsxs(o.Fragment,{children:[o.jsxs(ie,{variant:"outline",size:"sm",onClick:N,className:"flex items-center gap-2",title:y.includes(r.id)?"Remove from wishlist":"Add to wishlist",children:[o.jsx(mu,{className:`h-4 w-4 ${y.includes(r.id)?"fill-blue-500 text-blue-500":""}`}),y.includes(r.id)?"In Wishlist":"Wishlist"]}),o.jsxs(ie,{variant:"outline",size:"sm",onClick:S,className:"flex items-center gap-2",title:g.includes(r.id)?"Remove from favorites":"Add to favorites",children:[o.jsx(_a,{className:`h-4 w-4 ${g.includes(r.id)?"fill-red-500 text-red-500":""}`}),g.includes(r.id)?"Favorited":"Favorite"]})]}),r&&o.jsx(Xie,{url:window.location.href,title:r.title,description:r.description,variant:"outline",size:"sm"})]})]}),o.jsx("h1",{className:"text-3xl font-bold mb-2",children:r.title}),o.jsxs("div",{className:"flex items-center text-muted-foreground mb-4",children:[o.jsx(s_,{className:"h-4 w-4 mr-1"}),o.jsx("span",{children:r.location})]}),o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Rl,{className:"h-4 w-4"}),r.maxGuests," guests"]}),r.bedrooms&&o.jsxs("span",{children:[r.bedrooms," bedrooms"]}),r.bathrooms&&o.jsxs("span",{children:[r.bathrooms," bathrooms"]})]}),_&&o.jsx(se,{className:"mb-6 border-primary/20 bg-primary/5",children:o.jsx(be,{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:o.jsx(sf,{className:"h-6 w-6 text-primary"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Hosted by"}),o.jsx("p",{className:"font-semibold text-lg",children:_.fullName})]})]})})}),o.jsx("p",{className:"text-muted-foreground mb-6",children:r.description}),r.amenities.length>0&&o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"font-semibold mb-2",children:"Amenities"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:r.amenities.map((I,A)=>o.jsx(Sn,{variant:"outline",children:I},A))})]}),o.jsxs(se,{children:[o.jsx(me,{children:o.jsxs(pe,{className:"flex items-center justify-between",children:[o.jsx("span",{children:Qe(r.price)}),o.jsx("span",{className:"text-sm font-normal text-muted-foreground",children:"per night"})]})}),o.jsxs(be,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Check-in"}),o.jsx(Su,{mode:"single",selected:i,onSelect:a,disabled:I=>I<new Date,className:"rounded-md border"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Check-out"}),o.jsx(Su,{mode:"single",selected:l,onSelect:c,disabled:I=>!i||I<=i,className:"rounded-md border"})]}),i&&l&&o.jsx("div",{className:"pt-4 border-t",children:o.jsxs("div",{className:"flex justify-between mb-2",children:[o.jsx("span",{children:"Total"}),o.jsx("span",{className:"font-bold",children:Qe(T())})]})}),o.jsx(ie,{className:"w-full",onClick:k,disabled:!i||!l||f,children:f?"Booking...":"Request to Book"})]})]})]})]}),o.jsx("div",{className:"mt-12",children:o.jsx(Qie,{listingId:r.id})}),o.jsx(Jie,{listingId:r.id})]})}):o.jsx(Di,{})},Jie=({listingId:t})=>{const e=pt(),{user:n}=Dt(),[r,s]=m.useState([]),[i,a]=m.useState([]),[l,c]=m.useState([]),[u,d]=m.useState(!0);m.useEffect(()=>{f(),n&&(p(),g())},[t,n]);const f=async()=>{try{const{getSimilarListings:w}=await $n(async()=>{const{getSimilarListings:x}=await Promise.resolve().then(()=>Aee);return{getSimilarListings:x}},void 0),_=await w(t,4);s(_)}catch(w){console.error("Error loading similar listings:",w)}finally{d(!1)}},p=async()=>{if(!n)return;const{doc:w,getDoc:_}=await $n(async()=>{const{doc:j,getDoc:P}=await Promise.resolve().then(()=>C0);return{doc:j,getDoc:P}},void 0),{db:x}=await $n(async()=>{const{db:j}=await Promise.resolve().then(()=>k0);return{db:j}},void 0),v=await _(w(x,"users",n.uid));v.exists()&&a(v.data().favorites||[])},g=async()=>{if(!n)return;const{doc:w,getDoc:_}=await $n(async()=>{const{doc:j,getDoc:P}=await Promise.resolve().then(()=>C0);return{doc:j,getDoc:P}},void 0),{db:x}=await $n(async()=>{const{db:j}=await Promise.resolve().then(()=>k0);return{db:j}},void 0),v=await _(w(x,"users",n.uid));v.exists()&&c(v.data().wishlist||[])},b=async w=>{if(!n){H.error("Please login to add favorites");return}try{const{toggleFavorite:_}=await $n(async()=>{const{toggleFavorite:v}=await Promise.resolve().then(()=>fo);return{toggleFavorite:v}},void 0),x=await _(n.uid,w,i);a(x),H.success(x.includes(w)?"Added to favorites":"Removed from favorites")}catch{H.error("Failed to update favorites")}},y=async w=>{if(!n){H.error("Please login to add to wishlist");return}try{const{toggleWishlist:_}=await $n(async()=>{const{toggleWishlist:v}=await Promise.resolve().then(()=>fo);return{toggleWishlist:v}},void 0),x=await _(n.uid,w,l);c(x),H.success(x.includes(w)?"Added to wishlist":"Removed from wishlist")}catch{H.error("Failed to update wishlist")}};return u||r.length===0?null:o.jsxs("div",{className:"mt-12",children:[o.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Similar Listings"}),o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:r.map(w=>o.jsx(mo,{listing:w,onView:()=>e(`/guest/listing/${w.id}`),onFavorite:()=>b(w.id),onWishlist:()=>y(w.id),isFavorite:i.includes(w.id),isInWishlist:l.includes(w.id)},w.id))})]})},eoe=()=>{const t=pt(),[e]=cf(),{user:n}=Dt(),[r,s]=m.useState([]),[i,a]=m.useState(!0),[l,c]=m.useState(!1),[u,d]=m.useState(null),[f,p]=m.useState(!1),g=e.get("filter");m.useEffect(()=>{if(!n)return;a(!0),console.log(" MyBookings: Setting up listener for guest:",n.uid);const x=bt(st(ge,"bookings"),_t("guestId","==",n.uid)),v=Ei(x,j=>{const P=j.docs.map(S=>{const N=S.data();return{id:S.id,...N}});P.sort((S,N)=>{const T=new Date(S.createdAt||0).getTime();return new Date(N.createdAt||0).getTime()-T}),console.log(" Real-time guest bookings update:",{guestUid:n.uid,count:P.length,filter:g,allBookings:j.docs.map(S=>({id:S.id,hostId:S.data().hostId,guestId:S.data().guestId,status:S.data().status,listingId:S.data().listingId,createdAt:S.data().createdAt}))});let D=P;if(g==="upcoming"){const S=new Date;D=P.filter(N=>new Date(N.checkIn)>=S&&N.status==="confirmed")}s(D),a(!1)},j=>{console.error(" Error in guest bookings listener:",j),a(!1),b()});return()=>v()},[n,g]);const b=async()=>{if(n)try{const x=await yo({guestId:n.uid});s(x),console.log(" Bookings loaded (fallback):",x.length,"bookings")}catch(x){console.error(" Error in fallback load:",x)}finally{a(!1)}},y=x=>{switch(x){case"confirmed":return"default";case"pending":return"secondary";case"cancelled":return"destructive";case"completed":return"outline";default:return"secondary"}},w=x=>{if(x.status!=="confirmed"){H.error("Only confirmed bookings can be cancelled");return}if(new Date(x.checkIn)<new Date){H.error("Cannot cancel past bookings");return}d(x),c(!0)},_=async()=>{if(!(!u||!n)){p(!0);try{await j1(u.id,{status:"cancelled"});const x=u.totalPrice||0;if(x>0){const v=await Rt($e(ge,"users",n.uid)),P=(v.exists()&&v.data().walletBalance||0)+x;await Gn($e(ge,"users",n.uid),{walletBalance:P}),await Tf({userId:n.uid,type:"refund",amount:x,description:`Refund for cancelled booking #${u.id.slice(0,8)}`,status:"completed"}),console.log(" Refund processed:",{bookingId:u.id,refundAmount:x,newBalance:P})}H.success(`Booking cancelled. ${x>0?`${Qe(x)} has been refunded to your wallet.`:""}`),c(!1),d(null)}catch(x){console.error("Error cancelling booking:",x),H.error(`Failed to cancel booking: ${x.message||"Unknown error"}`)}finally{p(!1)}}};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"sticky top-0 z-50 border-b bg-card/95 backdrop-blur supports-[backdrop-filter]:bg-card/60 shadow-soft",children:o.jsxs("div",{className:"container mx-auto px-6 py-4 flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>t("/guest/dashboard"),children:o.jsx(Vt,{className:"h-5 w-5"})}),o.jsx("div",{className:"p-2 rounded-lg bg-secondary/10",children:o.jsx(qn,{className:"w-5 h-5 text-secondary"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-lg font-bold",children:g==="upcoming"?"Upcoming Trips":"My Bookings"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:g==="upcoming"?"Your confirmed upcoming trips":"View your trips"})]})]}),o.jsx(Nr,{})]})}),o.jsx("div",{className:"max-w-4xl mx-auto p-6",children:i?o.jsx(Di,{}):r.length===0?o.jsx(se,{children:o.jsxs(be,{className:"py-12 text-center text-muted-foreground",children:[o.jsx(qn,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No bookings yet"})]})}):o.jsx("div",{className:"space-y-4",children:r.map(x=>{const v=x.status==="confirmed"&&new Date(x.checkIn)>=new Date;return o.jsxs(se,{children:[o.jsx(me,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(pe,{children:["Booking #",x.id.slice(0,8)]}),o.jsx(Sn,{variant:y(x.status),children:x.status})]})}),o.jsxs(be,{children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Check-in"}),o.jsx("p",{className:"font-medium",children:new Date(x.checkIn).toLocaleDateString()})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Check-out"}),o.jsx("p",{className:"font-medium",children:new Date(x.checkOut).toLocaleDateString()})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Guests"}),o.jsx("p",{className:"font-medium",children:x.guests})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Total"}),o.jsx("p",{className:"font-medium",children:Qe(x.totalPrice||0)})]})]}),v&&o.jsx("div",{className:"pt-4 border-t",children:o.jsxs(ie,{variant:"destructive",size:"sm",onClick:()=>w(x),className:"w-full",children:[o.jsx(Pl,{className:"h-4 w-4 mr-2"}),"Cancel Booking"]})})]})]},x.id)})})}),o.jsx(wr,{open:l,onOpenChange:c,children:o.jsxs(rr,{children:[o.jsxs(sr,{children:[o.jsx(or,{children:"Cancel Booking"}),o.jsxs(ar,{children:["Are you sure you want to cancel this booking?",u&&u.totalPrice>0&&o.jsxs("div",{className:"mt-2 p-3 bg-muted rounded-md",children:[o.jsx("p",{className:"text-sm font-medium",children:"Refund Information:"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["A refund of ",Qe(u.totalPrice)," will be credited to your wallet balance."]})]})]})]}),o.jsxs(ir,{children:[o.jsx(cr,{disabled:f,children:"Keep Booking"}),o.jsx(lr,{onClick:_,disabled:f,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:f?"Cancelling...":"Cancel Booking"})]})]})})]})},toe=()=>{const t=pt(),{user:e}=Dt(),[n,r]=m.useState([]),[s,i]=m.useState(!0),[a,l]=m.useState(!1),[c,u]=m.useState(!1),[d,f]=m.useState(!1),[p,g]=m.useState(null);m.useEffect(()=>{if(!e)return;i(!0),console.log(" HostBookings: Setting up listener for host:",e.uid);const v=bt(st(ge,"bookings"),_t("hostId","==",e.uid)),j=Ei(v,P=>{const D=P.docs.map(N=>{const T=N.data();return{id:N.id,...T}});D.sort((N,T)=>{const k=new Date(N.createdAt||0).getTime();return new Date(T.createdAt||0).getTime()-k}),console.log(" Real-time bookings update:",{hostUid:e.uid,count:D.length,allBookings:P.docs.map(N=>({id:N.id,hostId:N.data().hostId,hostIdType:typeof N.data().hostId,guestId:N.data().guestId,status:N.data().status,listingId:N.data().listingId,createdAt:N.data().createdAt})),matchingBookings:D.filter(N=>String(N.hostId)===String(e.uid)).length});const S=D.filter(N=>{const T=String(N.hostId)===String(e.uid);return!T&&N.hostId&&console.warn(" Booking hostId mismatch:",{bookingId:N.id,bookingHostId:N.hostId,bookingHostIdType:typeof N.hostId,currentHostUid:e.uid,currentHostUidType:typeof e.uid,match:T}),T});r(S),i(!1),S.length===0&&D.length>0&&console.warn(" Found bookings but none match hostId:",{hostUid:e.uid,bookingHostIds:D.map(N=>({id:N.id,hostId:N.hostId,hostIdType:typeof N.hostId}))}),S.length===0&&(console.log(" Debug: No bookings found for host. Checking all bookings..."),b(e.uid),y(e.uid))},P=>{console.error(" Error in bookings listener:",P),i(!1),H.error(`Failed to load bookings: ${P.message||"Unknown error"}`),w()});return()=>j()},[e]);const b=async v=>{try{const j=bt(st(ge,"bookings")),D=(await Gt(j)).docs.map(N=>({id:N.id,...N.data()})),S=D.filter(N=>String(N.hostId)===String(v));console.log(" DEBUG: All bookings in Firestore:",{total:D.length,bookings:D.map(N=>({id:N.id,hostId:N.hostId,hostIdType:typeof N.hostId,guestId:N.guestId,status:N.status,listingId:N.listingId,createdAt:N.createdAt})),hostUidLookingFor:v,matchingBookings:S.length,matchingBookingDetails:S.map(N=>({id:N.id,hostId:N.hostId,guestId:N.guestId,status:N.status}))}),S.length>0&&console.warn(" Found bookings with matching hostId in all bookings:",{hostUid:v,matchingBookingsCount:S.length,possibleCauses:["Firestore security rules may be blocking the where query","Index not deployed yet for where clause","Data type mismatch in query","Query timing issue - booking may not be indexed yet"]})}catch(j){console.error(" Error fetching all bookings for debug:",j),j.code==="permission-denied"&&console.error(" Permission denied - check Firestore security rules for bookings collection")}},y=async v=>{try{console.log(" Testing direct query with hostId:",v);const j=bt(st(ge,"bookings"),_t("hostId","==",v)),D=(await Gt(j)).docs.map(S=>({id:S.id,...S.data()}));console.log(" Direct query result:",{hostUid:v,count:D.length,bookings:D.map(S=>({id:S.id,hostId:S.hostId,guestId:S.guestId,status:S.status}))})}catch(j){console.error(" Direct query failed:",j),j.code==="permission-denied"&&console.error(" Permission denied - Firestore rules may be blocking the query")}},w=async()=>{if(e)try{const v=await yo({hostId:e.uid});r(v),console.log(" Bookings loaded (fallback):",v.length,"bookings")}catch(v){console.error(" Error in fallback load:",v),H.error(`Failed to load bookings: ${v.message||"Unknown error"}`)}},_=(v,j)=>{if(g({id:v,action:j}),j==="confirmed")l(!0);else{const P=n.find(D=>D.id===v);(P==null?void 0:P.status)==="confirmed"?f(!0):u(!0)}},x=async()=>{if(p)try{const v=await Rt($e(ge,"bookings",p.id)),j=v.exists()?v.data():null;if(await j1(p.id,{status:p.action}),p.action==="cancelled"&&(j==null?void 0:j.status)==="confirmed"){const P=j.totalPrice||0;if(P>0&&j.guestId)try{const D=await Rt($e(ge,"users",j.guestId)),N=(D.exists()&&D.data().walletBalance||0)+P;await Gn($e(ge,"users",j.guestId),{walletBalance:N}),await Tf({userId:j.guestId,type:"refund",amount:P,description:`Refund for cancelled booking #${p.id.slice(0,8)} (cancelled by host)`,status:"completed"}),console.log(" Refund processed for host cancellation:",{bookingId:p.id,guestId:j.guestId,refundAmount:P,newBalance:N}),H.success(`Booking cancelled. ${P>0?`${P.toFixed(2)} has been refunded to guest's wallet.`:""}`)}catch(D){console.error("Error processing refund:",D),H.warning("Booking cancelled, but refund could not be processed. Please contact support.")}else H.success("Booking cancelled")}if(p.action==="confirmed")try{const P=await Rt($e(ge,"bookings",p.id));if(P.exists()){const D=P.data(),S=await Rt($e(ge,"listing",D.listingId));if(S.exists()){const N=S.data();try{const T=await Rt($e(ge,"users",D.guestId));if(T.exists()){const k=T.data();console.log(" Preparing to send confirmation email to guest:",{guestId:D.guestId,guestEmail:k.email,guestName:k.fullName}),await mQ(k.email||D.guestId,k.fullName||"Guest",N.title||"Your Booking",N.location||"",D.checkIn,D.checkOut,D.guests||1,D.totalPrice||0,p.id)?H.success("Booking confirmed and confirmation email sent to guest!"):H.warning("Booking confirmed, but email could not be sent. Please check EmailJS configuration.")}else console.warn("Guest document not found for booking:",D.guestId),H.warning("Booking confirmed, but guest email not found.")}catch(T){console.error(" Error fetching guest document:",T),T.code==="permission-denied"?H.error("Permission denied: Cannot access guest information. Please check Firestore rules."):H.warning("Booking confirmed, but could not fetch guest information for email.")}}else console.warn("Listing document not found for booking:",D.listingId),H.success("Booking confirmed, but listing details not found.")}else console.warn("Booking document not found:",p.id),H.success("Booking confirmed, but details not found for email.")}catch(P){console.error("Failed to send confirmation email:",P),H.success("Booking confirmed, but email could not be sent.")}else p.action==="cancelled"&&(j==null?void 0:j.status)!=="confirmed"&&H.success("Booking declined");g(null)}catch(v){console.error("Error updating booking:",v),H.error("Failed to update booking")}finally{l(!1),u(!1),f(!1)}};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"sticky top-0 z-50 border-b bg-card/95 backdrop-blur supports-[backdrop-filter]:bg-card/60 shadow-soft",children:o.jsxs("div",{className:"container mx-auto px-6 py-4 flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>t("/host/dashboard"),children:o.jsx(Vt,{className:"h-5 w-5"})}),o.jsx("div",{className:"p-2 rounded-lg bg-secondary/10",children:o.jsx(qn,{className:"w-5 h-5 text-secondary"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-lg font-bold",children:"Booking Requests"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Manage reservations"})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>{console.log(" Manual refresh triggered for host:",e==null?void 0:e.uid),w()},title:"Refresh bookings",children:o.jsx(Tl,{className:"h-5 w-5"})}),o.jsx(Nr,{})]})]})}),o.jsx("div",{className:"max-w-6xl mx-auto p-6",children:s?o.jsx(Di,{}):n.length===0?o.jsx(se,{children:o.jsxs(be,{className:"py-12 text-center",children:[o.jsx("p",{className:"text-muted-foreground mb-4",children:"No booking requests"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Bookings will appear here when guests make reservation requests for your listings."}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Current host ID: ",e==null?void 0:e.uid]})]})}):o.jsx("div",{className:"grid gap-4",children:n.map(v=>o.jsxs(se,{children:[o.jsx(me,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(pe,{children:["Booking #",v.id.slice(0,8)]}),o.jsx(Sn,{children:v.status})]})}),o.jsx(be,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4 flex-1",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Check-in"}),o.jsx("p",{className:"font-medium",children:new Date(v.checkIn).toLocaleDateString()})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Check-out"}),o.jsx("p",{className:"font-medium",children:new Date(v.checkOut).toLocaleDateString()})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Total"}),o.jsx("p",{className:"font-medium",children:Qe(v.totalPrice||0)})]})]}),v.status==="pending"&&o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ie,{size:"sm",onClick:()=>_(v.id,"confirmed"),children:"Confirm"}),o.jsx(ie,{size:"sm",variant:"destructive",onClick:()=>_(v.id,"cancelled"),children:"Decline"})]}),v.status==="confirmed"&&new Date(v.checkIn)>=new Date&&o.jsx("div",{className:"pt-4 border-t",children:o.jsxs(ie,{variant:"destructive",size:"sm",onClick:()=>_(v.id,"cancelled"),className:"w-full",children:[o.jsx(Pl,{className:"h-4 w-4 mr-2"}),"Cancel Booking"]})})]})})]},v.id))})}),o.jsx(wr,{open:a,onOpenChange:l,children:o.jsxs(rr,{children:[o.jsxs(sr,{children:[o.jsx(or,{children:"Confirm Booking?"}),o.jsx(ar,{children:"Are you sure you want to confirm this booking? The guest will be notified and the booking will be finalized."})]}),o.jsxs(ir,{children:[o.jsx(cr,{onClick:()=>g(null),children:"Cancel"}),o.jsx(lr,{onClick:x,children:"Confirm Booking"})]})]})}),o.jsx(wr,{open:c,onOpenChange:u,children:o.jsxs(rr,{children:[o.jsxs(sr,{children:[o.jsx(or,{children:"Decline Booking?"}),o.jsx(ar,{children:"Are you sure you want to decline this booking request? The guest will be notified and this action cannot be undone."})]}),o.jsxs(ir,{children:[o.jsx(cr,{onClick:()=>g(null),children:"Cancel"}),o.jsx(lr,{onClick:x,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Decline Booking"})]})]})}),o.jsx(wr,{open:d,onOpenChange:f,children:o.jsxs(rr,{children:[o.jsxs(sr,{children:[o.jsx(or,{children:"Cancel Booking?"}),o.jsxs(ar,{children:["Are you sure you want to cancel this confirmed booking?",p&&(()=>{const v=n.find(j=>j.id===p.id);return v&&v.totalPrice>0?o.jsxs("div",{className:"mt-2 p-3 bg-muted rounded-md",children:[o.jsx("p",{className:"text-sm font-medium",children:"Refund Information:"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["A refund of ",Qe(v.totalPrice)," will be credited to the guest's wallet balance."]})]}):null})()]})]}),o.jsxs(ir,{children:[o.jsx(cr,{onClick:()=>g(null),children:"Keep Booking"}),o.jsx(lr,{onClick:x,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Cancel Booking"})]})]})})]})},noe=()=>{const t=pt(),{user:e,userRole:n}=Dt(),[r,s]=m.useState(!0),[i,a]=m.useState({totalEarnings:0,pendingEarnings:0,completedEarnings:0,serviceFees:0}),[l,c]=m.useState([]),[u,d]=m.useState([]);m.useEffect(()=>{!e||n!=="host"?t("/host/login"):f()},[e,n,t]);const f=async()=>{if(e){s(!0);try{const p=await yo({hostId:e.uid});c(p);const g=p.filter(j=>j.status==="confirmed"||j.status==="completed"),b=p.filter(j=>j.status==="pending"),y=g.reduce((j,P)=>j+(P.totalPrice||0),0),w=b.reduce((j,P)=>j+(P.totalPrice||0),0),_=y*.1,x=y-_;a({totalEarnings:y,pendingEarnings:w,completedEarnings:x,serviceFees:_});const v=await C1(e.uid);d(v)}catch(p){console.error("Error loading payments data:",p),H.error(`Failed to load payments: ${p.message||"Unknown error"}`)}finally{s(!1)}}};return r?o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsx("div",{className:"max-w-7xl mx-auto",children:o.jsx(Di,{})})}):o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[o.jsxs(ie,{variant:"ghost",onClick:()=>t("/host/dashboard"),children:[o.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Payments & Earnings"}),o.jsx("p",{className:"text-muted-foreground",children:"View your earnings and payment history"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[o.jsxs(se,{children:[o.jsx(me,{className:"pb-3",children:o.jsx(pe,{className:"text-sm font-medium text-muted-foreground",children:"Total Earnings"})}),o.jsxs(be,{children:[o.jsx("div",{className:"text-2xl font-bold text-primary",children:Qe(i.totalEarnings)}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"From all confirmed bookings"})]})]}),o.jsxs(se,{children:[o.jsx(me,{className:"pb-3",children:o.jsx(pe,{className:"text-sm font-medium text-muted-foreground",children:"Your Earnings"})}),o.jsxs(be,{children:[o.jsx("div",{className:"text-2xl font-bold text-green-600",children:Qe(i.completedEarnings)}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"After 10% service fee"})]})]}),o.jsxs(se,{children:[o.jsx(me,{className:"pb-3",children:o.jsx(pe,{className:"text-sm font-medium text-muted-foreground",children:"Pending Earnings"})}),o.jsxs(be,{children:[o.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:Qe(i.pendingEarnings)}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Awaiting confirmation"})]})]}),o.jsxs(se,{children:[o.jsx(me,{className:"pb-3",children:o.jsx(pe,{className:"text-sm font-medium text-muted-foreground",children:"Service Fees"})}),o.jsxs(be,{children:[o.jsx("div",{className:"text-2xl font-bold text-accent",children:Qe(i.serviceFees)}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"10% commission"})]})]})]}),o.jsxs(se,{className:"mb-8",children:[o.jsxs(me,{children:[o.jsx(pe,{children:"Recent Bookings"}),o.jsx(Be,{children:"Your recent booking payments"})]}),o.jsx(be,{children:l.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(qn,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No bookings yet"})]}):o.jsx("div",{className:"space-y-4",children:l.slice(0,5).map(p=>o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-lg bg-primary/10 flex items-center justify-center",children:o.jsx(qn,{className:"h-6 w-6 text-primary"})}),o.jsxs("div",{children:[o.jsxs("p",{className:"font-medium",children:["Booking #",p.id.slice(0,8)]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[new Date(p.checkIn).toLocaleDateString()," - ",new Date(p.checkOut).toLocaleDateString()]}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[p.guests," guest",p.guests>1?"s":""]})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-lg font-bold",children:Qe(p.totalPrice||0)}),o.jsx(Sn,{className:p.status==="confirmed"||p.status==="completed"?"bg-green-500":p.status==="pending"?"bg-yellow-500":"bg-red-500",children:p.status})]})]},p.id))})})]}),o.jsxs(se,{children:[o.jsxs(me,{children:[o.jsx(pe,{children:"Transaction History"}),o.jsx(Be,{children:"Your payment and withdrawal history"})]}),o.jsx(be,{children:u.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(l_,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No transactions yet"})]}):o.jsx("div",{className:"space-y-4",children:u.map(p=>o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${p.type==="deposit"||p.type==="reward"?"bg-green-500/10":"bg-red-500/10"}`,children:p.type==="deposit"||p.type==="reward"?o.jsx(Il,{className:"h-6 w-6 text-green-500"}):o.jsx(Il,{className:"h-6 w-6 text-red-500 rotate-180"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:p.description}),o.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(p.createdAt).toLocaleString()}),p.paymentMethod&&o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Method: ",p.paymentMethod]})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:`text-lg font-bold ${p.type==="deposit"||p.type==="reward"?"text-green-500":"text-red-500"}`,children:[p.type==="deposit"||p.type==="reward"?"+":"-",Qe(p.amount)]}),p.status&&o.jsx(Sn,{className:p.status==="completed"?"bg-green-500":p.status==="pending"?"bg-yellow-500":p.status==="failed"?"bg-red-500":"bg-gray-500",children:p.status})]})]},p.id))})})]})]})})},roe=({points:t,onRedeem:e})=>{const n=[{points:100,reward:"$10 discount",discount:10},{points:250,reward:"$30 discount",discount:30},{points:500,reward:"$75 discount",discount:75},{points:1e3,reward:"$200 discount",discount:200}];return o.jsxs(se,{children:[o.jsx(me,{children:o.jsxs(pe,{className:"flex items-center gap-2",children:[o.jsx(ca,{className:"h-5 w-5 text-yellow-500"}),"Points & Rewards"]})}),o.jsxs(be,{className:"space-y-4",children:[o.jsxs("div",{className:"text-center p-4 bg-primary/10 rounded-lg",children:[o.jsx("div",{className:"text-3xl font-bold text-primary",children:t}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Points"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"font-semibold text-sm",children:"Available Rewards:"}),n.map(r=>o.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(R9,{className:"h-4 w-4 text-primary"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-sm",children:r.reward}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:[r.points," points"]})]})]}),o.jsx(ie,{size:"sm",disabled:t<r.points,onClick:()=>e==null?void 0:e(r.points),children:"Redeem"})]},r.points))]}),o.jsxs("div",{className:"text-xs text-muted-foreground mt-4 p-3 bg-muted rounded",children:[o.jsx("p",{className:"font-semibold mb-1",children:"How to earn points:"}),o.jsxs("ul",{className:"space-y-1",children:[o.jsx("li",{children:" Complete a booking: +50 points"}),o.jsx("li",{children:" Write a review: +20 points"}),o.jsx("li",{children:" Refer a friend: +100 points"}),o.jsx("li",{children:" Host a property: +30 points per booking"})]})]})]})]})},RE=({coupons:t,onApplyCoupon:e})=>{const[n,r]=m.useState(""),s=()=>{if(!n.trim()){H.error("Please enter a coupon code");return}e==null||e(n),r("")},i=t.filter(l=>!l.used),a=t.filter(l=>l.used);return o.jsxs(se,{children:[o.jsx(me,{children:o.jsxs(pe,{className:"flex items-center gap-2",children:[o.jsx(o_,{className:"h-5 w-5"}),"Coupons & Discounts"]})}),o.jsxs(be,{className:"space-y-4",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsx(qe,{placeholder:"Enter coupon code",value:n,onChange:l=>r(l.target.value.toUpperCase())}),o.jsx(ie,{onClick:s,children:"Apply"})]}),i.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"font-semibold text-sm",children:"Available Coupons:"}),i.map(l=>o.jsx("div",{className:"p-3 border rounded-lg border-primary/20 bg-primary/5",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-mono font-bold text-primary",children:l.code}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:[l.discount,"% off",l.minSpend&&` on orders over $${l.minSpend}`]}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:["Valid until: ",new Date(l.validUntil).toLocaleDateString()]})]}),o.jsxs(Sn,{variant:"secondary",children:[l.discount,"%"]})]})},l.id))]}),a.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"font-semibold text-sm text-muted-foreground",children:"Used Coupons:"}),a.map(l=>o.jsx("div",{className:"p-3 border rounded-lg opacity-50",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"font-mono text-sm",children:l.code}),o.jsx(tf,{className:"h-4 w-4 text-green-500"})]})},l.id))]})]})]})},soe=()=>{const t=pt(),{user:e}=Dt(),[n,r]=m.useState(0),[s,i]=m.useState(0),[a,l]=m.useState([]),[c,u]=m.useState([]),[d,f]=m.useState(""),[p,g]=m.useState(!1);m.useEffect(()=>{e&&(b(),y())},[e]);const b=async()=>{if(!e)return;const v=await Rt($e(ge,"users",e.uid));v.exists()&&(r(v.data().walletBalance||0),i(v.data().points||0),l(v.data().coupons||[]))},y=async()=>{if(!e)return;const v=await C1(e.uid);u(v)},w=async()=>{if(!e||!d||Number(d)<=0){H.error("Enter a valid amount");return}g(!0);try{const v=n+Number(d);await Gn($e(ge,"users",e.uid),{walletBalance:v}),await Tf({userId:e.uid,type:"deposit",amount:Number(d),description:"Wallet deposit"}),r(v),f(""),y(),H.success("Deposit successful!")}catch{H.error("Deposit failed")}finally{g(!1)}},_=async v=>{if(e){if(s<v){H.error("Not enough points");return}try{const j=v===100?10:v===250?30:v===500?75:200,P={id:`REWARD${Date.now()}`,code:`REWARD${Date.now()}`,discount:j/n*100,validUntil:new Date(Date.now()+30*24*60*60*1e3).toISOString(),used:!1},D=s-v;await Gn($e(ge,"users",e.uid),{points:D,coupons:[...a,P]}),i(D),l([...a,P]),H.success(`Redeemed ${v} points for ${Qe(j)} coupon!`)}catch{H.error("Failed to redeem points")}}},x=v=>{const j=a.find(P=>P.code===v&&!P.used);if(!j){H.error("Invalid or already used coupon");return}H.success(`Coupon ${v} applied! ${j.discount}% discount`)};return o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsxs(ie,{variant:"ghost",onClick:()=>t("/guest/dashboard"),className:"mb-6",children:[o.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),o.jsx("h1",{className:"text-3xl font-bold mb-6",children:"E-Wallet & Rewards"}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[o.jsxs(se,{children:[o.jsx(me,{children:o.jsxs(pe,{className:"flex items-center gap-2",children:[o.jsx(l_,{className:"h-5 w-5"}),"Current Balance"]})}),o.jsxs(be,{children:[o.jsx("p",{className:"text-4xl font-bold text-primary mb-6",children:Qe(n)}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(qe,{type:"number",placeholder:"Amount",value:d,onChange:v=>f(v.target.value)}),o.jsx(ie,{onClick:w,disabled:p,children:"Deposit"})]})]})]}),o.jsx(roe,{points:s,onRedeem:_})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[o.jsx(RE,{coupons:a,onApplyCoupon:x}),o.jsxs(se,{children:[o.jsx(me,{children:o.jsx(pe,{children:"Transaction History"})}),o.jsx(be,{children:c.length===0?o.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No transactions yet"}):o.jsx("div",{className:"space-y-3",children:c.map(v=>o.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[v.type==="deposit"||v.type==="reward"?o.jsx(Il,{className:"h-5 w-5 text-green-500"}):o.jsx($w,{className:"h-5 w-5 text-red-500"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:v.description}),o.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(v.createdAt).toLocaleString()})]})]}),o.jsxs("p",{className:`font-semibold ${v.type==="deposit"||v.type==="reward"?"text-green-500":"text-red-500"}`,children:[v.type==="deposit"||v.type==="reward"?"+":"-",Qe(v.amount)]})]},v.id))})})]})]})]})})},dV=m.forwardRef(({className:t,...e},n)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:n,className:_e("w-full caption-bottom text-sm",t),...e})}));dV.displayName="Table";const hV=m.forwardRef(({className:t,...e},n)=>o.jsx("thead",{ref:n,className:_e("[&_tr]:border-b",t),...e}));hV.displayName="TableHeader";const fV=m.forwardRef(({className:t,...e},n)=>o.jsx("tbody",{ref:n,className:_e("[&_tr:last-child]:border-0",t),...e}));fV.displayName="TableBody";const ioe=m.forwardRef(({className:t,...e},n)=>o.jsx("tfoot",{ref:n,className:_e("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));ioe.displayName="TableFooter";const eb=m.forwardRef(({className:t,...e},n)=>o.jsx("tr",{ref:n,className:_e("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",t),...e}));eb.displayName="TableRow";const ol=m.forwardRef(({className:t,...e},n)=>o.jsx("th",{ref:n,className:_e("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));ol.displayName="TableHead";const al=m.forwardRef(({className:t,...e},n)=>o.jsx("td",{ref:n,className:_e("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));al.displayName="TableCell";const ooe=m.forwardRef(({className:t,...e},n)=>o.jsx("caption",{ref:n,className:_e("mt-4 text-sm text-muted-foreground",t),...e}));ooe.displayName="TableCaption";const aoe=()=>{const t=pt(),{user:e,userRole:n}=Dt(),[r,s]=m.useState([]),[i,a]=m.useState(!0),[l,c]=m.useState(null);m.useEffect(()=>{if(!e||n!=="admin"){t("/admin/login");return}u()},[e,n,t]);const u=async()=>{a(!0),c(null);try{const f=(await Gt(st(ge,"users"))).docs.map(p=>({id:p.id,...p.data()}));s(f),f.length===0&&c("No users found in the database.")}catch(d){console.error("Failed to load users",d);const f=d.code==="permission-denied"?"Permission denied. Please check that your admin role is set correctly in Firestore.":d.message||"Failed to load users. Please check the console for details.";c(f),H.error(f)}finally{a(!1)}};return o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs(ie,{variant:"ghost",onClick:()=>t("/admin/dashboard"),className:"mb-6",children:[o.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),o.jsx("h1",{className:"text-3xl font-bold mb-6",children:"User Management"}),i?o.jsx(se,{children:o.jsxs(be,{className:"py-12 text-center",children:[o.jsx(wh,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-primary"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading users..."})]})}):l?o.jsx(se,{children:o.jsxs(be,{className:"py-12 text-center",children:[o.jsx(r_,{className:"h-12 w-12 mx-auto mb-4 text-destructive"}),o.jsx("p",{className:"text-destructive font-medium mb-2",children:l}),o.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:'Make sure your admin user has the role field set to "admin" in Firestore.'}),o.jsx(ie,{onClick:u,variant:"outline",children:"Retry"})]})}):r.length===0?o.jsx(se,{children:o.jsx(be,{className:"py-12 text-center",children:o.jsx("p",{className:"text-muted-foreground",children:"No users found in the database."})})}):o.jsx(se,{children:o.jsxs(dV,{children:[o.jsx(hV,{children:o.jsxs(eb,{children:[o.jsx(ol,{children:"Full Name"}),o.jsx(ol,{children:"Email"}),o.jsx(ol,{children:"Role"}),o.jsx(ol,{children:"Points"}),o.jsx(ol,{children:"Wallet Balance"}),o.jsx(ol,{children:"Joined"})]})}),o.jsx(fV,{children:r.map(d=>o.jsxs(eb,{children:[o.jsx(al,{className:"font-medium",children:d.fullName||"N/A"}),o.jsx(al,{children:d.email}),o.jsx(al,{children:o.jsx(Sn,{variant:d.role==="admin"?"default":"secondary",children:d.role})}),o.jsx(al,{children:d.points||0}),o.jsx(al,{children:Qe(d.walletBalance||0)}),o.jsx(al,{children:d.createdAt?new Date(d.createdAt).toLocaleDateString():"N/A"})]},d.id))})]})})]})})},loe=()=>{const t=pt(),[e,n]=m.useState([]),[r,s]=m.useState(!0),[i,a]=m.useState(!1),[l,c]=m.useState(!1),[u,d]=m.useState(null);m.useEffect(()=>{f()},[]);const f=async()=>{try{s(!0),console.log("ReviewListings: Loading pending listings...");const w=await kf({status:"pending"});console.log(`ReviewListings: Found ${w.length} pending listings:`,w),console.log("ReviewListings: Listing details:",w.map(_=>({id:_.id,title:_.title,status:_.status,hostId:_.hostId}))),n(w),w.length===0&&console.log('ReviewListings: No pending listings found. Check if listings exist with status "pending" in Firestore.')}catch(w){console.error("ReviewListings: Error loading pending listings:",w),console.error("ReviewListings: Error details:",{message:w.message,code:w.code,stack:w.stack}),H.error(`Failed to load listings: ${w.message||"Unknown error"}`)}finally{s(!1)}},p=w=>{d(w),a(!0)},g=w=>{d(w),c(!0)},b=async()=>{if(u)try{await T0(u,{status:"approved"}),H.success("Listing approved"),f(),d(null)}catch{H.error("Failed to approve listing")}finally{a(!1)}},y=async()=>{if(u)try{await T0(u,{status:"rejected"}),H.success("Listing rejected"),f(),d(null)}catch{H.error("Failed to reject listing")}finally{c(!1)}};return o.jsxs("div",{className:"min-h-screen bg-background p-6",children:[o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs(ie,{variant:"ghost",onClick:()=>t("/admin/dashboard"),className:"mb-6",children:[o.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),o.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Review Pending Listings"}),r?o.jsx(Di,{}):e.length===0?o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-muted-foreground",children:"No pending listings"})}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(w=>o.jsxs("div",{children:[o.jsx(mo,{listing:w}),o.jsxs("div",{className:"mt-2 flex gap-2",children:[o.jsx(ie,{variant:"default",size:"sm",className:"flex-1",onClick:()=>p(w.id),children:"Approve"}),o.jsx(ie,{variant:"destructive",size:"sm",className:"flex-1",onClick:()=>g(w.id),children:"Reject"})]})]},w.id))})]}),o.jsx(wr,{open:i,onOpenChange:a,children:o.jsxs(rr,{children:[o.jsxs(sr,{children:[o.jsx(or,{children:"Approve Listing?"}),o.jsx(ar,{children:"Are you sure you want to approve this listing? It will be published and visible to all users."})]}),o.jsxs(ir,{children:[o.jsx(cr,{onClick:()=>d(null),children:"Cancel"}),o.jsx(lr,{onClick:b,children:"Approve"})]})]})}),o.jsx(wr,{open:l,onOpenChange:c,children:o.jsxs(rr,{children:[o.jsxs(sr,{children:[o.jsx(or,{children:"Reject Listing?"}),o.jsx(ar,{children:"Are you sure you want to reject this listing? The host will be notified and the listing will not be published."})]}),o.jsxs(ir,{children:[o.jsx(cr,{onClick:()=>d(null),children:"Cancel"}),o.jsx(lr,{onClick:y,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Reject"})]})]})})]})},coe=()=>{const t=pt(),[e]=cf(),{user:n,userRole:r,refreshUserProfile:s}=Dt(),[i,a]=m.useState(null),[l,c]=m.useState(!1),[u,d]=m.useState([]),[f,p]=m.useState([]),[g,b]=m.useState([]),[y,w]=m.useState([]),[_,x]=m.useState([]),[v,j]=m.useState([]),[P,D]=m.useState(e.get("tab")||"profile");m.useEffect(()=>{n&&S()},[n,r]),m.useEffect(()=>{const U=e.get("tab");U&&D(U)},[e]),m.useEffect(()=>{n&&i&&r==="guest"?(N(),T(),k()):n&&r==="host"&&k()},[n,i,r]);const S=async()=>{if(n)try{const U=await Rt($e(ge,"users",n.uid));if(U.exists()){const q=U.data();a(q),w(q.favorites||[]),x(q.wishlist||[]),j(q.coupons||[])}}catch(U){console.error(U)}},N=async()=>{var U;if(!n||!((U=i==null?void 0:i.favorites)!=null&&U.length)){d([]);return}try{const{getListing:q}=await $n(async()=>{const{getListing:L}=await Promise.resolve().then(()=>fo);return{getListing:L}},void 0),K=await Promise.all(i.favorites.map(L=>q(L)));d(K.filter(L=>L!==null))}catch(q){console.error("Error loading favorite listings:",q),d([])}},T=async()=>{var U;if(!n||!((U=i==null?void 0:i.wishlist)!=null&&U.length)){p([]);return}try{const{getListing:q}=await $n(async()=>{const{getListing:L}=await Promise.resolve().then(()=>fo);return{getListing:L}},void 0),K=await Promise.all(i.wishlist.map(L=>q(L)));p(K.filter(L=>L!==null))}catch(q){console.error("Error loading wishlist listings:",q),p([])}},k=async()=>{if(n)try{const U=await yo(r==="guest"?{guestId:n.uid}:{hostId:n.uid});b(U)}catch(U){console.error("Error loading bookings:",U)}},I=async U=>{if(!n){H.error("Please login to manage favorites");return}try{const q=await If(n.uid,U,y);w(q),a(K=>K?{...K,favorites:q}:null),r==="guest"&&N(),H.success(q.includes(U)?"Added to favorites":"Removed from favorites")}catch{H.error("Failed to update favorites")}},A=async U=>{if(!n){H.error("Please login to manage wishlist");return}try{const q=await Fv(n.uid,U,_);x(q),a(K=>K?{...K,wishlist:q}:null),r==="guest"&&T(),H.success(q.includes(U)?"Added to wishlist":"Removed from wishlist")}catch{H.error("Failed to update wishlist")}},R=async()=>{if(!(!n||!i)){c(!0);try{await Gn($e(ge,"users",n.uid),{fullName:i.fullName}),await S(),await s(),H.success("Profile updated successfully!")}catch{H.error("Failed to update profile")}finally{c(!1)}}},W=()=>{t(r==="host"?"/host/dashboard":r==="guest"?"/guest/dashboard":"/admin/dashboard")};return i?o.jsx("div",{className:"min-h-screen bg-background",children:o.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-6 lg:py-8 max-w-4xl",children:[o.jsxs(ie,{variant:"ghost",onClick:W,className:"mb-6",children:[o.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),o.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Account Settings"}),o.jsxs(ic,{value:P,onValueChange:D,className:"space-y-6",children:[o.jsxs(Wa,{className:`grid w-full ${r==="guest"?"grid-cols-6":r==="host"?"grid-cols-5":"grid-cols-4"}`,children:[o.jsxs(It,{value:"profile",children:[o.jsx(sf,{className:"h-4 w-4 mr-2"}),"Profile"]}),r==="guest"&&o.jsxs(o.Fragment,{children:[o.jsxs(It,{value:"favorites",children:[o.jsx(_a,{className:"h-4 w-4 mr-2"}),"Favorites"]}),o.jsxs(It,{value:"wishlist",children:[o.jsx(mu,{className:"h-4 w-4 mr-2"}),"Wishlist"]})]}),o.jsxs(It,{value:"bookings",children:[o.jsx(qn,{className:"h-4 w-4 mr-2"}),"Bookings"]}),r==="host"&&o.jsxs(It,{value:"coupons",children:[o.jsx(o_,{className:"h-4 w-4 mr-2"}),"Coupons"]}),o.jsxs(It,{value:"notifications",children:[o.jsx(t_,{className:"h-4 w-4 mr-2"}),"Notifications"]}),o.jsxs(It,{value:"security",children:[o.jsx(ys,{className:"h-4 w-4 mr-2"}),"Security"]})]}),o.jsx(jt,{value:"profile",children:o.jsxs(se,{children:[o.jsxs(me,{children:[o.jsx(pe,{children:"Profile Information"}),o.jsx(Be,{children:"Update your account details"})]}),o.jsxs(be,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"fullName",children:"Full Name"}),o.jsx(qe,{id:"fullName",type:"text",value:i.fullName,onChange:U=>a({...i,fullName:U.target.value}),placeholder:"Enter your full name"})]}),o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"email",children:"Email"}),o.jsx(qe,{id:"email",type:"email",value:i.email,disabled:!0})]}),o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"role",children:"Role"}),o.jsx(qe,{id:"role",value:i.role,disabled:!0})]}),o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"points",children:"Reward Points"}),o.jsx(qe,{id:"points",value:i.points,disabled:!0})]}),o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"balance",children:"Wallet Balance"}),o.jsx(qe,{id:"balance",value:Qe(i.walletBalance),disabled:!0})]}),o.jsx(ie,{onClick:R,disabled:l,children:l?"Saving...":"Save Changes"})]})]})}),r==="guest"&&o.jsx(jt,{value:"favorites",children:o.jsxs(se,{children:[o.jsxs(me,{children:[o.jsx(pe,{children:"Your Favorites"}),o.jsx(Be,{children:"Listings you've liked and saved"})]}),o.jsx(be,{children:u.length===0?o.jsx(ya,{icon:o.jsx(_a,{className:"h-10 w-10"}),title:"No favorites yet",description:"Start exploring and add listings to your favorites!",action:o.jsx(ie,{onClick:()=>t("/guest/browse"),children:"Browse Listings"})}):o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(U=>o.jsx(mo,{listing:U,onView:()=>t(`/guest/listing/${U.id}`),onFavorite:()=>I(U.id),onWishlist:()=>A(U.id),isFavorite:y.includes(U.id),isInWishlist:_.includes(U.id)},U.id))})})]})}),r==="guest"&&o.jsx(jt,{value:"wishlist",children:o.jsxs(se,{children:[o.jsxs(me,{children:[o.jsx(pe,{children:"Your Wishlist"}),o.jsx(Be,{children:"Listings you're planning to book in the future"})]}),o.jsx(be,{children:f.length===0?o.jsx(ya,{icon:o.jsx(mu,{className:"h-10 w-10"}),title:"No wishlist items yet",description:"Add listings to your wishlist for future trips!",action:o.jsx(ie,{onClick:()=>t("/guest/browse"),children:"Browse Listings"})}):o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(U=>o.jsx(mo,{listing:U,onView:()=>t(`/guest/listing/${U.id}`),onFavorite:()=>I(U.id),onWishlist:()=>A(U.id),isFavorite:y.includes(U.id),isInWishlist:_.includes(U.id)},U.id))})})]})}),o.jsx(jt,{value:"bookings",children:o.jsxs(se,{children:[o.jsxs(me,{children:[o.jsx(pe,{children:r==="guest"?"My Bookings":"Host Bookings"}),o.jsx(Be,{children:r==="guest"?"View your booking history":"Manage your property bookings"})]}),o.jsx(be,{children:g.length===0?o.jsx(ya,{icon:o.jsx(qn,{className:"h-10 w-10"}),title:"No bookings yet",description:r==="guest"?"Start exploring amazing places to stay!":"No booking requests at this time.",action:r==="guest"?o.jsx(ie,{onClick:()=>t("/guest/browse"),children:"Browse Listings"}):void 0}):o.jsx("div",{className:"space-y-4",children:g.map(U=>o.jsxs("div",{className:"p-4 border rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{children:[o.jsxs("p",{className:"font-medium",children:["Booking #",U.id.slice(0,8)]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[new Date(U.checkIn).toLocaleDateString()," - ",new Date(U.checkOut).toLocaleDateString()]})]}),o.jsx(Sn,{children:U.status})]}),o.jsxs("div",{className:"flex items-center justify-between mt-2",children:[o.jsxs("p",{className:"text-sm text-muted-foreground",children:[U.guests," guest",U.guests>1?"s":""]}),o.jsx("p",{className:"font-semibold",children:Qe(U.totalPrice||0)})]})]},U.id))})})]})}),r==="host"&&o.jsx(jt,{value:"coupons",children:o.jsxs(se,{children:[o.jsxs(me,{children:[o.jsx(pe,{children:"Coupons"}),o.jsx(Be,{children:"Manage your promotional coupons"})]}),o.jsx(be,{children:o.jsx(RE,{coupons:v,onApplyCoupon:U=>H.info(`Coupon ${U} applied`)})})]})}),o.jsx(jt,{value:"notifications",children:o.jsxs(se,{children:[o.jsxs(me,{children:[o.jsx(pe,{children:"Notification Preferences"}),o.jsx(Be,{children:"Manage how you receive updates"})]}),o.jsx(be,{children:o.jsx("p",{className:"text-muted-foreground",children:"Notification settings coming soon"})})]})}),o.jsx(jt,{value:"payments",children:o.jsxs(se,{children:[o.jsxs(me,{children:[o.jsx(pe,{children:"Payment Methods"}),o.jsx(Be,{children:"Manage your payment options"})]}),o.jsx(be,{children:o.jsx("p",{className:"text-muted-foreground",children:"Payment method management coming soon"})})]})}),o.jsx(jt,{value:"security",children:o.jsxs(se,{children:[o.jsxs(me,{children:[o.jsx(pe,{children:"Security Settings"}),o.jsx(Be,{children:"Manage your account security"})]}),o.jsx(be,{children:o.jsx("p",{className:"text-muted-foreground",children:"Security settings coming soon"})})]})})]})]})}):o.jsx(Di,{})};var ly="Switch",[uoe,oae]=Kn(ly),[doe,hoe]=uoe(ly),mV=m.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:a,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=t,[p,g]=m.useState(null),b=Ze(e,v=>g(v)),y=m.useRef(!1),w=p?d||!!p.closest("form"):!0,[_,x]=Si({prop:s,defaultProp:i??!1,onChange:u,caller:ly});return o.jsxs(doe,{scope:n,checked:_,disabled:l,children:[o.jsx(ke.button,{type:"button",role:"switch","aria-checked":_,"aria-required":a,"data-state":yV(_),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:b,onClick:xe(t.onClick,v=>{x(j=>!j),w&&(y.current=v.isPropagationStopped(),y.current||v.stopPropagation())})}),w&&o.jsx(vV,{control:p,bubbles:!y.current,name:r,value:c,checked:_,required:a,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});mV.displayName=ly;var pV="SwitchThumb",gV=m.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=hoe(pV,n);return o.jsx(ke.span,{"data-state":yV(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});gV.displayName=pV;var foe="SwitchBubbleInput",vV=m.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...s},i)=>{const a=m.useRef(null),l=Ze(a,i),c=L1(n),u=x_(e);return m.useEffect(()=>{const d=a.current;if(!d)return;const f=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&g){const b=new Event("click",{bubbles:r});g.call(d,n),d.dispatchEvent(b)}},[c,n,r]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});vV.displayName=foe;function yV(t){return t?"checked":"unchecked"}var xV=mV,moe=gV;const an=m.forwardRef(({className:t,...e},n)=>o.jsx(xV,{className:_e("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",t),...e,ref:n,children:o.jsx(moe,{className:_e("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));an.displayName=xV.displayName;const poe=()=>{const t=pt(),[e]=cf(),{user:n,userRole:r,refreshUserProfile:s,signOut:i}=Dt(),[a,l]=m.useState(null),[c,u]=m.useState(!1),[d,f]=m.useState([]),[p,g]=m.useState([]),[b,y]=m.useState(e.get("tab")||"profile"),[w,_]=m.useState(!1),[x,v]=m.useState({email:{bookingConfirmations:!0,bookingCancellations:!0,bookingReminders:!0,newMessages:!0,paymentUpdates:!0,promotionalOffers:!0},inApp:{bookingUpdates:!0,newMessages:!0,paymentNotifications:!0,systemAlerts:!0}});m.useEffect(()=>{if(n&&r!=="host"){t("/host/login");return}n&&j()},[n,r,t]),m.useEffect(()=>{const k=e.get("tab");k&&y(k)},[e]),m.useEffect(()=>{n&&r==="host"&&(P(),a!=null&&a.notifications&&v(a.notifications))},[n,r,a]);const j=async()=>{if(n)try{const k=await Rt($e(ge,"users",n.uid));if(k.exists()){const I=k.data();l(I),g(I.coupons||[])}}catch(k){console.error(k)}},P=async()=>{if(n)try{const k=await yo({hostId:n.uid});f(k)}catch(k){console.error("Error loading bookings:",k)}},D=async()=>{if(!(!n||!a)){u(!0);try{await Gn($e(ge,"users",n.uid),{fullName:a.fullName}),await j(),await s(),H.success("Profile updated successfully!")}catch{H.error("Failed to update profile")}finally{u(!1)}}},S=()=>{t("/host/dashboard")},N=async()=>{if(n){u(!0);try{await Gn($e(ge,"users",n.uid),{notifications:x}),await s(),H.success("Notification preferences saved!")}catch(k){console.error("Error saving notification preferences:",k),H.error("Failed to save notification preferences")}finally{u(!1)}}},T=async()=>{await i(),t("/")};return a?o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-6 lg:py-8 max-w-4xl",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs(ie,{variant:"ghost",onClick:S,children:[o.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),o.jsx(ie,{variant:"outline",onClick:()=>_(!0),children:"Sign Out"})]}),o.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Account Settings"}),o.jsxs(ic,{value:b,onValueChange:y,className:"space-y-6",children:[o.jsxs(Wa,{className:"grid w-full grid-cols-5",children:[o.jsxs(It,{value:"profile",children:[o.jsx(sf,{className:"h-4 w-4 mr-2"}),"Profile"]}),o.jsxs(It,{value:"bookings",children:[o.jsx(qn,{className:"h-4 w-4 mr-2"}),"Bookings"]}),o.jsxs(It,{value:"coupons",children:[o.jsx(o_,{className:"h-4 w-4 mr-2"}),"Coupons"]}),o.jsxs(It,{value:"notifications",children:[o.jsx(t_,{className:"h-4 w-4 mr-2"}),"Notifications"]}),o.jsxs(It,{value:"security",children:[o.jsx(ys,{className:"h-4 w-4 mr-2"}),"Security"]})]}),o.jsx(jt,{value:"profile",children:o.jsxs(se,{children:[o.jsxs(me,{children:[o.jsx(pe,{children:"Profile Information"}),o.jsx(Be,{children:"Update your account details"})]}),o.jsxs(be,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"fullName",children:"Full Name"}),o.jsx(qe,{id:"fullName",type:"text",value:a.fullName,onChange:k=>l({...a,fullName:k.target.value}),placeholder:"Enter your full name"})]}),o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"email",children:"Email"}),o.jsx(qe,{id:"email",type:"email",value:a.email,disabled:!0})]}),o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"role",children:"Role"}),o.jsx(qe,{id:"role",value:a.role,disabled:!0})]}),o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"points",children:"Reward Points"}),o.jsx(qe,{id:"points",value:a.points,disabled:!0})]}),o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"balance",children:"Wallet Balance"}),o.jsx(qe,{id:"balance",value:Qe(a.walletBalance),disabled:!0})]}),o.jsx(ie,{onClick:D,disabled:c,children:c?"Saving...":"Save Changes"})]})]})}),o.jsx(jt,{value:"bookings",children:o.jsxs(se,{children:[o.jsxs(me,{children:[o.jsx(pe,{children:"Host Bookings"}),o.jsx(Be,{children:"Manage your property bookings"})]}),o.jsx(be,{children:d.length===0?o.jsx(ya,{icon:o.jsx(qn,{className:"h-10 w-10"}),title:"No bookings yet",description:"No booking requests at this time."}):o.jsx("div",{className:"space-y-4",children:d.map(k=>o.jsxs("div",{className:"p-4 border rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{children:[o.jsxs("p",{className:"font-medium",children:["Booking #",k.id.slice(0,8)]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[new Date(k.checkIn).toLocaleDateString()," - ",new Date(k.checkOut).toLocaleDateString()]})]}),o.jsx(Sn,{variant:k.status==="confirmed"?"default":k.status==="pending"?"secondary":k.status==="cancelled"?"destructive":k.status==="completed"?"outline":"secondary",children:k.status})]}),o.jsxs("div",{className:"flex items-center justify-between mt-2",children:[o.jsxs("p",{className:"text-sm text-muted-foreground",children:[k.guests," guest",k.guests>1?"s":""]}),o.jsx("p",{className:"font-semibold",children:Qe(k.totalPrice||0)})]})]},k.id))})})]})}),o.jsx(jt,{value:"coupons",children:o.jsxs(se,{children:[o.jsxs(me,{children:[o.jsx(pe,{children:"Coupons"}),o.jsx(Be,{children:"Manage your promotional coupons"})]}),o.jsx(be,{children:o.jsx(RE,{coupons:p,onApplyCoupon:k=>H.info(`Coupon ${k} applied`)})})]})}),o.jsx(jt,{value:"notifications",children:o.jsxs(se,{children:[o.jsxs(me,{children:[o.jsx(pe,{children:"Notification Preferences"}),o.jsx(Be,{children:"Manage how you receive updates"})]}),o.jsxs(be,{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b",children:[o.jsx(Bs,{className:"h-5 w-5 text-primary"}),o.jsx("h3",{className:"text-lg font-semibold",children:"Email Notifications"})]}),o.jsxs("div",{className:"space-y-3 pl-7",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"email-booking-confirmations",children:"Booking Confirmations"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Receive emails when bookings are confirmed"})]}),o.jsx(an,{id:"email-booking-confirmations",checked:x.email.bookingConfirmations,onCheckedChange:k=>v(I=>({...I,email:{...I.email,bookingConfirmations:k}}))})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"email-booking-cancellations",children:"Booking Cancellations"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Receive emails when bookings are cancelled"})]}),o.jsx(an,{id:"email-booking-cancellations",checked:x.email.bookingCancellations,onCheckedChange:k=>v(I=>({...I,email:{...I.email,bookingCancellations:k}}))})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"email-booking-reminders",children:"Booking Reminders"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Receive reminders about upcoming bookings"})]}),o.jsx(an,{id:"email-booking-reminders",checked:x.email.bookingReminders,onCheckedChange:k=>v(I=>({...I,email:{...I.email,bookingReminders:k}}))})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"email-new-messages",children:"New Messages"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Receive emails for new messages"})]}),o.jsx(an,{id:"email-new-messages",checked:x.email.newMessages,onCheckedChange:k=>v(I=>({...I,email:{...I.email,newMessages:k}}))})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"email-payment-updates",children:"Payment Updates"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Receive emails about payment transactions"})]}),o.jsx(an,{id:"email-payment-updates",checked:x.email.paymentUpdates,onCheckedChange:k=>v(I=>({...I,email:{...I.email,paymentUpdates:k}}))})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"email-promotional-offers",children:"Promotional Offers"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Receive promotional emails and special offers"})]}),o.jsx(an,{id:"email-promotional-offers",checked:x.email.promotionalOffers,onCheckedChange:k=>v(I=>({...I,email:{...I.email,promotionalOffers:k}}))})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b",children:[o.jsx(wP,{className:"h-5 w-5 text-secondary"}),o.jsx("h3",{className:"text-lg font-semibold",children:"In-App Notifications"})]}),o.jsxs("div",{className:"space-y-3 pl-7",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"inapp-booking-updates",children:"Booking Updates"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Get notified about booking status changes"})]}),o.jsx(an,{id:"inapp-booking-updates",checked:x.inApp.bookingUpdates,onCheckedChange:k=>v(I=>({...I,inApp:{...I.inApp,bookingUpdates:k}}))})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"inapp-new-messages",children:"New Messages"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Get notified about new messages"})]}),o.jsx(an,{id:"inapp-new-messages",checked:x.inApp.newMessages,onCheckedChange:k=>v(I=>({...I,inApp:{...I.inApp,newMessages:k}}))})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"inapp-payment-notifications",children:"Payment Notifications"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Get notified about payment activities"})]}),o.jsx(an,{id:"inapp-payment-notifications",checked:x.inApp.paymentNotifications,onCheckedChange:k=>v(I=>({...I,inApp:{...I.inApp,paymentNotifications:k}}))})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"inapp-system-alerts",children:"System Alerts"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Receive important system notifications"})]}),o.jsx(an,{id:"inapp-system-alerts",checked:x.inApp.systemAlerts,onCheckedChange:k=>v(I=>({...I,inApp:{...I.inApp,systemAlerts:k}}))})]})]})]}),o.jsx("div",{className:"pt-4 border-t",children:o.jsx(ie,{onClick:N,disabled:c,children:c?"Saving...":"Save Preferences"})})]})]})}),o.jsx(jt,{value:"security",children:o.jsxs(se,{children:[o.jsxs(me,{children:[o.jsx(pe,{children:"Security Settings"}),o.jsx(Be,{children:"Manage your account security"})]}),o.jsx(be,{children:o.jsx("p",{className:"text-muted-foreground",children:"Security settings coming soon"})})]})})]})]}),o.jsx(wr,{open:w,onOpenChange:_,children:o.jsxs(rr,{children:[o.jsxs(sr,{children:[o.jsx(or,{children:"Sign Out"}),o.jsx(ar,{children:"Are you sure you want to sign out? You'll need to sign in again to access your account."})]}),o.jsxs(ir,{children:[o.jsx(cr,{children:"Cancel"}),o.jsx(lr,{onClick:T,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Sign Out"})]})]})})]}):o.jsx(Di,{})},goe=()=>{const t=pt(),[e]=cf(),{user:n,userRole:r,refreshUserProfile:s,signOut:i}=Dt(),[a,l]=m.useState(null),[c,u]=m.useState(!1),[d,f]=m.useState([]),[p,g]=m.useState([]),[b,y]=m.useState([]),[w,_]=m.useState([]),[x,v]=m.useState([]),[j,P]=m.useState(e.get("tab")||"profile"),[D,S]=m.useState(!1),[N,T]=m.useState({email:{bookingConfirmations:!0,bookingCancellations:!0,bookingReminders:!0,newMessages:!0,paymentUpdates:!0,promotionalOffers:!0},inApp:{bookingUpdates:!0,newMessages:!0,paymentNotifications:!0,systemAlerts:!0}});m.useEffect(()=>{if(n&&r!=="guest"){t("/guest/login");return}n&&k()},[n,r,t]),m.useEffect(()=>{const F=e.get("tab");F&&P(F)},[e]),m.useEffect(()=>{n&&a&&r==="guest"&&(I(),A(),R(),a.notifications&&T(a.notifications))},[n,a,r]);const k=async()=>{if(n)try{const F=await Rt($e(ge,"users",n.uid));if(F.exists()){const Q=F.data();l(Q),_(Q.favorites||[]),v(Q.wishlist||[])}}catch(F){console.error(F)}},I=async()=>{var F;if(!n||!((F=a==null?void 0:a.favorites)!=null&&F.length)){f([]);return}try{const{getListing:Q}=await $n(async()=>{const{getListing:te}=await Promise.resolve().then(()=>fo);return{getListing:te}},void 0),$=await Promise.all(a.favorites.map(te=>Q(te)));f($.filter(te=>te!==null))}catch(Q){console.error("Error loading favorite listings:",Q),f([])}},A=async()=>{var F;if(!n||!((F=a==null?void 0:a.wishlist)!=null&&F.length)){g([]);return}try{const{getListing:Q}=await $n(async()=>{const{getListing:te}=await Promise.resolve().then(()=>fo);return{getListing:te}},void 0),$=await Promise.all(a.wishlist.map(te=>Q(te)));g($.filter(te=>te!==null))}catch(Q){console.error("Error loading wishlist listings:",Q),g([])}},R=async()=>{if(n)try{const F=await yo({guestId:n.uid});y(F)}catch(F){console.error("Error loading bookings:",F)}},W=async F=>{if(!n){H.error("Please login to manage favorites");return}try{const Q=await If(n.uid,F,w);_(Q),l($=>$?{...$,favorites:Q}:null),I(),H.success(Q.includes(F)?"Added to favorites":"Removed from favorites")}catch{H.error("Failed to update favorites")}},U=async F=>{if(!n){H.error("Please login to manage wishlist");return}try{const Q=await Fv(n.uid,F,x);v(Q),l($=>$?{...$,wishlist:Q}:null),A(),H.success(Q.includes(F)?"Added to wishlist":"Removed from wishlist")}catch{H.error("Failed to update wishlist")}},q=async()=>{if(!(!n||!a)){u(!0);try{await Gn($e(ge,"users",n.uid),{fullName:a.fullName}),await k(),await s(),H.success("Profile updated successfully!")}catch{H.error("Failed to update profile")}finally{u(!1)}}},K=()=>{t("/guest/dashboard")},L=async()=>{if(n){u(!0);try{await Gn($e(ge,"users",n.uid),{notifications:N}),await s(),H.success("Notification preferences saved!")}catch(F){console.error("Error saving notification preferences:",F),H.error("Failed to save notification preferences")}finally{u(!1)}}},V=async()=>{await i(),t("/")};return a?o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-6 lg:py-8 max-w-4xl",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs(ie,{variant:"ghost",onClick:K,children:[o.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),o.jsx(ie,{variant:"outline",onClick:()=>S(!0),children:"Sign Out"})]}),o.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Account Settings"}),o.jsxs(ic,{value:j,onValueChange:P,className:"space-y-6",children:[o.jsxs(Wa,{className:"grid w-full grid-cols-6",children:[o.jsxs(It,{value:"profile",children:[o.jsx(sf,{className:"h-4 w-4 mr-2"}),"Profile"]}),o.jsxs(It,{value:"favorites",children:[o.jsx(_a,{className:"h-4 w-4 mr-2"}),"Favorites"]}),o.jsxs(It,{value:"wishlist",children:[o.jsx(mu,{className:"h-4 w-4 mr-2"}),"Wishlist"]}),o.jsxs(It,{value:"bookings",children:[o.jsx(qn,{className:"h-4 w-4 mr-2"}),"Bookings"]}),o.jsxs(It,{value:"notifications",children:[o.jsx(t_,{className:"h-4 w-4 mr-2"}),"Notifications"]}),o.jsxs(It,{value:"security",children:[o.jsx(ys,{className:"h-4 w-4 mr-2"}),"Security"]})]}),o.jsx(jt,{value:"profile",children:o.jsxs(se,{children:[o.jsxs(me,{children:[o.jsx(pe,{children:"Profile Information"}),o.jsx(Be,{children:"Update your account details"})]}),o.jsxs(be,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"fullName",children:"Full Name"}),o.jsx(qe,{id:"fullName",type:"text",value:a.fullName,onChange:F=>l({...a,fullName:F.target.value}),placeholder:"Enter your full name"})]}),o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"email",children:"Email"}),o.jsx(qe,{id:"email",type:"email",value:a.email,disabled:!0})]}),o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"role",children:"Role"}),o.jsx(qe,{id:"role",value:a.role,disabled:!0})]}),o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"points",children:"Reward Points"}),o.jsx(qe,{id:"points",value:a.points,disabled:!0})]}),o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"balance",children:"Wallet Balance"}),o.jsx(qe,{id:"balance",value:Qe(a.walletBalance),disabled:!0})]}),o.jsx(ie,{onClick:q,disabled:c,children:c?"Saving...":"Save Changes"})]})]})}),o.jsx(jt,{value:"favorites",children:o.jsxs(se,{children:[o.jsxs(me,{children:[o.jsx(pe,{children:"Your Favorites"}),o.jsx(Be,{children:"Listings you've liked and saved"})]}),o.jsx(be,{children:d.length===0?o.jsx(ya,{icon:o.jsx(_a,{className:"h-10 w-10"}),title:"No favorites yet",description:"Start exploring and add listings to your favorites!",action:o.jsx(ie,{onClick:()=>t("/guest/browse"),children:"Browse Listings"})}):o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(F=>o.jsx(mo,{listing:F,onView:()=>t(`/guest/listing/${F.id}`),onFavorite:()=>W(F.id),onWishlist:()=>U(F.id),isFavorite:w.includes(F.id),isInWishlist:x.includes(F.id)},F.id))})})]})}),o.jsx(jt,{value:"wishlist",children:o.jsxs(se,{children:[o.jsxs(me,{children:[o.jsx(pe,{children:"Your Wishlist"}),o.jsx(Be,{children:"Listings you're planning to book in the future"})]}),o.jsx(be,{children:p.length===0?o.jsx(ya,{icon:o.jsx(mu,{className:"h-10 w-10"}),title:"No wishlist items yet",description:"Add listings to your wishlist for future trips!",action:o.jsx(ie,{onClick:()=>t("/guest/browse"),children:"Browse Listings"})}):o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map(F=>o.jsx(mo,{listing:F,onView:()=>t(`/guest/listing/${F.id}`),onFavorite:()=>W(F.id),onWishlist:()=>U(F.id),isFavorite:w.includes(F.id),isInWishlist:x.includes(F.id)},F.id))})})]})}),o.jsx(jt,{value:"bookings",children:o.jsxs(se,{children:[o.jsxs(me,{children:[o.jsx(pe,{children:"My Bookings"}),o.jsx(Be,{children:"View your booking history"})]}),o.jsx(be,{children:b.length===0?o.jsx(ya,{icon:o.jsx(qn,{className:"h-10 w-10"}),title:"No bookings yet",description:"Start exploring amazing places to stay!",action:o.jsx(ie,{onClick:()=>t("/guest/browse"),children:"Browse Listings"})}):o.jsx("div",{className:"space-y-4",children:b.map(F=>o.jsxs("div",{className:"p-4 border rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{children:[o.jsxs("p",{className:"font-medium",children:["Booking #",F.id.slice(0,8)]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[new Date(F.checkIn).toLocaleDateString()," - ",new Date(F.checkOut).toLocaleDateString()]})]}),o.jsx(Sn,{children:F.status})]}),o.jsxs("div",{className:"flex items-center justify-between mt-2",children:[o.jsxs("p",{className:"text-sm text-muted-foreground",children:[F.guests," guest",F.guests>1?"s":""]}),o.jsx("p",{className:"font-semibold",children:Qe(F.totalPrice||0)})]})]},F.id))})})]})}),o.jsx(jt,{value:"notifications",children:o.jsxs(se,{children:[o.jsxs(me,{children:[o.jsx(pe,{children:"Notification Preferences"}),o.jsx(Be,{children:"Manage how you receive updates"})]}),o.jsxs(be,{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b",children:[o.jsx(Bs,{className:"h-5 w-5 text-primary"}),o.jsx("h3",{className:"text-lg font-semibold",children:"Email Notifications"})]}),o.jsxs("div",{className:"space-y-3 pl-7",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"email-booking-confirmations",children:"Booking Confirmations"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Receive emails when bookings are confirmed"})]}),o.jsx(an,{id:"email-booking-confirmations",checked:N.email.bookingConfirmations,onCheckedChange:F=>T(Q=>({...Q,email:{...Q.email,bookingConfirmations:F}}))})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"email-booking-cancellations",children:"Booking Cancellations"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Receive emails when bookings are cancelled"})]}),o.jsx(an,{id:"email-booking-cancellations",checked:N.email.bookingCancellations,onCheckedChange:F=>T(Q=>({...Q,email:{...Q.email,bookingCancellations:F}}))})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"email-booking-reminders",children:"Booking Reminders"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Receive reminders about upcoming bookings"})]}),o.jsx(an,{id:"email-booking-reminders",checked:N.email.bookingReminders,onCheckedChange:F=>T(Q=>({...Q,email:{...Q.email,bookingReminders:F}}))})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"email-new-messages",children:"New Messages"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Receive emails for new messages"})]}),o.jsx(an,{id:"email-new-messages",checked:N.email.newMessages,onCheckedChange:F=>T(Q=>({...Q,email:{...Q.email,newMessages:F}}))})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"email-payment-updates",children:"Payment Updates"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Receive emails about payment transactions"})]}),o.jsx(an,{id:"email-payment-updates",checked:N.email.paymentUpdates,onCheckedChange:F=>T(Q=>({...Q,email:{...Q.email,paymentUpdates:F}}))})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"email-promotional-offers",children:"Promotional Offers"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Receive promotional emails and special offers"})]}),o.jsx(an,{id:"email-promotional-offers",checked:N.email.promotionalOffers,onCheckedChange:F=>T(Q=>({...Q,email:{...Q.email,promotionalOffers:F}}))})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b",children:[o.jsx(wP,{className:"h-5 w-5 text-secondary"}),o.jsx("h3",{className:"text-lg font-semibold",children:"In-App Notifications"})]}),o.jsxs("div",{className:"space-y-3 pl-7",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"inapp-booking-updates",children:"Booking Updates"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Get notified about booking status changes"})]}),o.jsx(an,{id:"inapp-booking-updates",checked:N.inApp.bookingUpdates,onCheckedChange:F=>T(Q=>({...Q,inApp:{...Q.inApp,bookingUpdates:F}}))})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"inapp-new-messages",children:"New Messages"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Get notified about new messages"})]}),o.jsx(an,{id:"inapp-new-messages",checked:N.inApp.newMessages,onCheckedChange:F=>T(Q=>({...Q,inApp:{...Q.inApp,newMessages:F}}))})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"inapp-payment-notifications",children:"Payment Notifications"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Get notified about payment activities"})]}),o.jsx(an,{id:"inapp-payment-notifications",checked:N.inApp.paymentNotifications,onCheckedChange:F=>T(Q=>({...Q,inApp:{...Q.inApp,paymentNotifications:F}}))})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Le,{htmlFor:"inapp-system-alerts",children:"System Alerts"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Receive important system notifications"})]}),o.jsx(an,{id:"inapp-system-alerts",checked:N.inApp.systemAlerts,onCheckedChange:F=>T(Q=>({...Q,inApp:{...Q.inApp,systemAlerts:F}}))})]})]})]}),o.jsx("div",{className:"pt-4 border-t",children:o.jsx(ie,{onClick:L,disabled:c,children:c?"Saving...":"Save Preferences"})})]})]})}),o.jsx(jt,{value:"security",children:o.jsxs(se,{children:[o.jsxs(me,{children:[o.jsx(pe,{children:"Security Settings"}),o.jsx(Be,{children:"Manage your account security"})]}),o.jsx(be,{children:o.jsx("p",{className:"text-muted-foreground",children:"Security settings coming soon"})})]})})]})]}),o.jsx(wr,{open:D,onOpenChange:S,children:o.jsxs(rr,{children:[o.jsxs(sr,{children:[o.jsx(or,{children:"Sign Out"}),o.jsx(ar,{children:"Are you sure you want to sign out? You'll need to sign in again to access your account."})]}),o.jsxs(ir,{children:[o.jsx(cr,{children:"Cancel"}),o.jsx(lr,{onClick:V,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Sign Out"})]})]})})]}):o.jsx(Di,{})};function voe(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var PE="ScrollArea",[wV,aae]=Kn(PE),[yoe,ws]=wV(PE),bV=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:i=600,...a}=t,[l,c]=m.useState(null),[u,d]=m.useState(null),[f,p]=m.useState(null),[g,b]=m.useState(null),[y,w]=m.useState(null),[_,x]=m.useState(0),[v,j]=m.useState(0),[P,D]=m.useState(!1),[S,N]=m.useState(!1),T=Ze(e,I=>c(I)),k=Pf(s);return o.jsx(yoe,{scope:n,type:r,dir:k,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:p,scrollbarX:g,onScrollbarXChange:b,scrollbarXEnabled:P,onScrollbarXEnabledChange:D,scrollbarY:y,onScrollbarYChange:w,scrollbarYEnabled:S,onScrollbarYEnabledChange:N,onCornerWidthChange:x,onCornerHeightChange:j,children:o.jsx(ke.div,{dir:k,...a,ref:T,style:{position:"relative","--radix-scroll-area-corner-width":_+"px","--radix-scroll-area-corner-height":v+"px",...t.style}})})});bV.displayName=PE;var _V="ScrollAreaViewport",EV=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:s,...i}=t,a=ws(_V,n),l=m.useRef(null),c=Ze(e,l,a.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),o.jsx(ke.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...t.style},children:o.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});EV.displayName=_V;var Oi="ScrollAreaScrollbar",AE=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=ws(Oi,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:a}=s,l=t.orientation==="horizontal";return m.useEffect(()=>(l?i(!0):a(!0),()=>{l?i(!1):a(!1)}),[l,i,a]),s.type==="hover"?o.jsx(xoe,{...r,ref:e,forceMount:n}):s.type==="scroll"?o.jsx(woe,{...r,ref:e,forceMount:n}):s.type==="auto"?o.jsx(NV,{...r,ref:e,forceMount:n}):s.type==="always"?o.jsx(DE,{...r,ref:e}):null});AE.displayName=Oi;var xoe=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=ws(Oi,t.__scopeScrollArea),[i,a]=m.useState(!1);return m.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),a(!0)},d=()=>{c=window.setTimeout(()=>a(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),o.jsx(Ln,{present:n||i,children:o.jsx(NV,{"data-state":i?"visible":"hidden",...r,ref:e})})}),woe=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=ws(Oi,t.__scopeScrollArea),i=t.orientation==="horizontal",a=uy(()=>c("SCROLL_END"),100),[l,c]=voe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),m.useEffect(()=>{const u=s.viewport,d=i?"scrollLeft":"scrollTop";if(u){let f=u[d];const p=()=>{const g=u[d];f!==g&&(c("SCROLL"),a()),f=g};return u.addEventListener("scroll",p),()=>u.removeEventListener("scroll",p)}},[s.viewport,i,c,a]),o.jsx(Ln,{present:n||l!=="hidden",children:o.jsx(DE,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:xe(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:xe(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),NV=m.forwardRef((t,e)=>{const n=ws(Oi,t.__scopeScrollArea),{forceMount:r,...s}=t,[i,a]=m.useState(!1),l=t.orientation==="horizontal",c=uy(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;a(l?u:d)}},10);return Ru(n.viewport,c),Ru(n.content,c),o.jsx(Ln,{present:r||i,children:o.jsx(DE,{"data-state":i?"visible":"hidden",...s,ref:e})})}),DE=m.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,s=ws(Oi,t.__scopeScrollArea),i=m.useRef(null),a=m.useRef(0),[l,c]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=TV(l.viewport,l.content),d={...r,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:p=>i.current=p,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:p=>a.current=p};function f(p,g){return joe(p,a.current,l,g)}return n==="horizontal"?o.jsx(boe,{...d,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const p=s.viewport.scrollLeft,g=gT(p,l,s.dir);i.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollLeft=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollLeft=f(p,s.dir))}}):n==="vertical"?o.jsx(_oe,{...d,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const p=s.viewport.scrollTop,g=gT(p,l);i.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollTop=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollTop=f(p))}}):null}),boe=m.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=ws(Oi,t.__scopeScrollArea),[a,l]=m.useState(),c=m.useRef(null),u=Ze(e,c,i.onScrollbarXChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(jV,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":cy(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(i.viewport){const p=i.viewport.scrollLeft+d.deltaX;t.onWheelScroll(p),RV(p,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&a&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Og(a.paddingLeft),paddingEnd:Og(a.paddingRight)}})}})}),_oe=m.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=ws(Oi,t.__scopeScrollArea),[a,l]=m.useState(),c=m.useRef(null),u=Ze(e,c,i.onScrollbarYChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(jV,{"data-orientation":"vertical",...s,ref:u,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":cy(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(i.viewport){const p=i.viewport.scrollTop+d.deltaY;t.onWheelScroll(p),RV(p,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&a&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Og(a.paddingTop),paddingEnd:Og(a.paddingBottom)}})}})}),[Eoe,SV]=wV(Oi),jV=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:a,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...p}=t,g=ws(Oi,n),[b,y]=m.useState(null),w=Ze(e,T=>y(T)),_=m.useRef(null),x=m.useRef(""),v=g.viewport,j=r.content-r.viewport,P=sn(d),D=sn(c),S=uy(f,10);function N(T){if(_.current){const k=T.clientX-_.current.left,I=T.clientY-_.current.top;u({x:k,y:I})}}return m.useEffect(()=>{const T=k=>{const I=k.target;(b==null?void 0:b.contains(I))&&P(k,j)};return document.addEventListener("wheel",T,{passive:!1}),()=>document.removeEventListener("wheel",T,{passive:!1})},[v,b,j,P]),m.useEffect(D,[r,D]),Ru(b,S),Ru(g.content,S),o.jsx(Eoe,{scope:n,scrollbar:b,hasThumb:s,onThumbChange:sn(i),onThumbPointerUp:sn(a),onThumbPositionChange:D,onThumbPointerDown:sn(l),children:o.jsx(ke.div,{...p,ref:w,style:{position:"absolute",...p.style},onPointerDown:xe(t.onPointerDown,T=>{T.button===0&&(T.target.setPointerCapture(T.pointerId),_.current=b.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),N(T))}),onPointerMove:xe(t.onPointerMove,N),onPointerUp:xe(t.onPointerUp,T=>{const k=T.target;k.hasPointerCapture(T.pointerId)&&k.releasePointerCapture(T.pointerId),document.body.style.webkitUserSelect=x.current,g.viewport&&(g.viewport.style.scrollBehavior=""),_.current=null})})})}),Dg="ScrollAreaThumb",CV=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=SV(Dg,t.__scopeScrollArea);return o.jsx(Ln,{present:n||s.hasThumb,children:o.jsx(Noe,{ref:e,...r})})}),Noe=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...s}=t,i=ws(Dg,n),a=SV(Dg,n),{onThumbPositionChange:l}=a,c=Ze(e,f=>a.onThumbChange(f)),u=m.useRef(void 0),d=uy(()=>{u.current&&(u.current(),u.current=void 0)},100);return m.useEffect(()=>{const f=i.viewport;if(f){const p=()=>{if(d(),!u.current){const g=Coe(f,l);u.current=g,l()}};return l(),f.addEventListener("scroll",p),()=>f.removeEventListener("scroll",p)}},[i.viewport,d,l]),o.jsx(ke.div,{"data-state":a.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:xe(t.onPointerDownCapture,f=>{const g=f.target.getBoundingClientRect(),b=f.clientX-g.left,y=f.clientY-g.top;a.onThumbPointerDown({x:b,y})}),onPointerUp:xe(t.onPointerUp,a.onThumbPointerUp)})});CV.displayName=Dg;var OE="ScrollAreaCorner",kV=m.forwardRef((t,e)=>{const n=ws(OE,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?o.jsx(Soe,{...t,ref:e}):null});kV.displayName=OE;var Soe=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,s=ws(OE,n),[i,a]=m.useState(0),[l,c]=m.useState(0),u=!!(i&&l);return Ru(s.scrollbarX,()=>{var f;const d=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),Ru(s.scrollbarY,()=>{var f;const d=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(d),a(d)}),u?o.jsx(ke.div,{...r,ref:e,style:{width:i,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Og(t){return t?parseInt(t,10):0}function TV(t,e){const n=t/e;return isNaN(n)?0:n}function cy(t){const e=TV(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function joe(t,e,n,r="ltr"){const s=cy(n),i=s/2,a=e||i,l=s-a,c=n.scrollbar.paddingStart+a,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,d=n.content-n.viewport,f=r==="ltr"?[0,d]:[d*-1,0];return IV([c,u],f)(t)}function gT(t,e,n="ltr"){const r=cy(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-s,a=e.content-e.viewport,l=i-r,c=n==="ltr"?[0,a]:[a*-1,0],u=U0(t,c);return IV([0,a],[0,l])(u)}function IV(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function RV(t,e){return t>0&&t<e}var Coe=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function s(){const i={left:t.scrollLeft,top:t.scrollTop},a=n.left!==i.left,l=n.top!==i.top;(a||l)&&e(),n=i,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function uy(t,e){const n=sn(t),r=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),m.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function Ru(t,e){const n=sn(e);hn(()=>{let r=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(t),()=>{window.cancelAnimationFrame(r),s.unobserve(t)}}},[t,n])}var PV=bV,koe=EV,Toe=kV;const tb=m.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(PV,{ref:r,className:_e("relative overflow-hidden",t),...n,children:[o.jsx(koe,{className:"h-full w-full rounded-[inherit]",children:e}),o.jsx(AV,{}),o.jsx(Toe,{})]}));tb.displayName=PV.displayName;const AV=m.forwardRef(({className:t,orientation:e="vertical",...n},r)=>o.jsx(AE,{ref:r,orientation:e,className:_e("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:o.jsx(CV,{className:"relative flex-1 rounded-full bg-border"})}));AV.displayName=AE.displayName;const DV=()=>{const{user:t,userProfile:e}=Dt(),[n,r]=m.useState([]),[s,i]=m.useState(""),[a,l]=m.useState(null);m.useEffect(()=>{t&&c()},[t]);const c=async()=>{if(t)try{const d=await xO(t.uid);r(d)}catch(d){console.error(d)}},u=async()=>{if(!(!t||!a||!s.trim()))try{await yO({senderId:t.uid,receiverId:a,content:s,read:!1}),i(""),c(),H.success("Message sent")}catch{H.error("Failed to send message")}};return o.jsxs("div",{className:"grid md:grid-cols-3 gap-4 h-[600px]",children:[o.jsxs(se,{className:"md:col-span-1",children:[o.jsx(me,{children:o.jsx(pe,{children:"Conversations"})}),o.jsx(be,{className:"p-0",children:o.jsx(tb,{className:"h-[500px]",children:n.length===0?o.jsx("p",{className:"text-center text-muted-foreground p-4",children:"No messages"}):n.map(d=>o.jsx("div",{className:"p-4 border-b cursor-pointer hover:bg-accent",onClick:()=>l(d.senderId),children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(TE,{children:o.jsx(IE,{children:"U"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-medium text-sm",children:"User"}),o.jsx("p",{className:"text-xs text-muted-foreground line-clamp-1",children:d.content})]})]})},d.id))})})]}),o.jsxs(se,{className:"md:col-span-2",children:[o.jsx(me,{children:o.jsx(pe,{children:"Chat"})}),o.jsx(be,{children:a?o.jsxs("div",{className:"space-y-4",children:[o.jsx(tb,{className:"h-[400px] pr-4",children:n.filter(d=>d.senderId===a||d.receiverId===a).map(d=>o.jsx("div",{className:`mb-4 flex ${d.senderId===(t==null?void 0:t.uid)?"justify-end":"justify-start"}`,children:o.jsxs("div",{className:`max-w-[70%] rounded-lg p-3 ${d.senderId===(t==null?void 0:t.uid)?"bg-primary text-primary-foreground":"bg-muted"}`,children:[o.jsx("p",{className:"text-sm",children:d.content}),o.jsx("p",{className:"text-xs opacity-70 mt-1",children:new Date(d.createdAt).toLocaleTimeString()})]})},d.id))}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(qe,{placeholder:"Type a message...",value:s,onChange:d=>i(d.target.value),onKeyPress:d=>d.key==="Enter"&&u()}),o.jsx(ie,{onClick:u,children:o.jsx(U9,{className:"h-4 w-4"})})]})]}):o.jsx("div",{className:"h-[400px] flex items-center justify-center text-muted-foreground",children:"Select a conversation to start chatting"})})]})]})},Ioe=()=>{const t=pt();return o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsxs(ie,{variant:"ghost",onClick:()=>t("/host/dashboard"),className:"mb-6",children:[o.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),o.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Messages"}),o.jsx(DV,{})]})})},Roe=()=>{const t=pt();return o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsxs(ie,{variant:"ghost",onClick:()=>t("/guest/dashboard"),className:"mb-6",children:[o.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),o.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Messages"}),o.jsx(DV,{})]})})},Poe=()=>{const t=pt(),{user:e,userRole:n}=Dt(),[r,s]=m.useState(!0),[i,a]=m.useState({totalUsers:0,totalHosts:0,totalGuests:0,totalListings:0,totalBookings:0,totalRevenue:0,avgRating:0}),[l,c]=m.useState([]),[u,d]=m.useState([]),[f,p]=m.useState([]),[g,b]=m.useState(0),[y,w]=m.useState(0);m.useEffect(()=>{!e||n!=="admin"?t("/admin/login"):_()},[e,n,t]);const _=async()=>{s(!0);try{const[v,j,P,D]=await Promise.all([Gt(st(ge,"users")),Gt(st(ge,"listing")),Gt(st(ge,"bookings")),Gt(st(ge,"reviews"))]),S=v.docs.map(le=>le.data()),N=S.filter(le=>le.role==="host").length,T=S.filter(le=>le.role==="guest").length,k=j.docs.map(le=>({id:le.id,...le.data()})),I=P.docs.map(le=>({id:le.id,...le.data()})),A=D.docs.map(le=>({id:le.id,...le.data()})),R=I.filter(le=>le.status==="confirmed"||le.status==="completed"),U=R.reduce((le,Ne)=>le+(Ne.totalPrice||0),0)*.1,q=A.length>0?A.reduce((le,Ne)=>le+Ne.rating,0)/A.length:0,K=new Map;A.forEach(le=>{const Ne=K.get(le.listingId)||{totalRating:0,count:0};K.set(le.listingId,{totalRating:Ne.totalRating+le.rating,count:Ne.count+1})});const L=Array.from(K.entries()).map(([le,Ne])=>{const De=k.find(Nt=>Nt.id===le);return De?{id:le,title:De.title,rating:Ne.totalRating/Ne.count,reviewCount:Ne.count,price:De.price}:null}).filter(le=>le!==null).sort((le,Ne)=>Ne.rating!==le.rating?Ne.rating-le.rating:Ne.reviewCount-le.reviewCount).slice(0,3);c(L);const V=Array.from(K.entries()).map(([le,Ne])=>{const De=k.find(Nt=>Nt.id===le);return De?{id:le,title:De.title,rating:Ne.totalRating/Ne.count,reviewCount:Ne.count,price:De.price}:null}).filter(le=>le!==null).sort((le,Ne)=>le.rating!==Ne.rating?le.rating-Ne.rating:Ne.reviewCount-le.reviewCount).slice(0,3);d(V);const F=new Date,Q=new Date(F.getTime()-30*24*60*60*1e3),$=[],te=Math.max(...R.map(le=>le.totalPrice||0),1);for(let le=0;le<4;le++){const Ne=new Date(Q);Ne.setDate(Ne.getDate()+le*7);const De=new Date(Ne);De.setDate(De.getDate()+7);const Re=R.filter(Z=>{const X=new Date(Z.createdAt);return X>=Ne&&X<De}).reduce((Z,X)=>Z+(X.totalPrice||0),0),Ue=Re*.1,ht=te>0?Re/te*100:0;$.push({week:`Week ${le+1}`,revenue:Ue,percentage:Math.min(ht,100)})}p($);const ue=R.filter(le=>{const Ne=new Date(le.createdAt),De=(F.getTime()-Ne.getTime())/(1e3*60*60*24);return De<=30&&De>15}).length,de=R.filter(le=>{const Ne=new Date(le.createdAt);return(F.getTime()-Ne.getTime())/(1e3*60*60*24)<=15}).length,Ce=ue>0?(de-ue)/ue*100:0,J=k.filter(le=>{const Ne=new Date(le.createdAt),De=(F.getTime()-Ne.getTime())/(1e3*60*60*24);return De<=30&&De>15}).length,Fe=k.filter(le=>{const Ne=new Date(le.createdAt);return(F.getTime()-Ne.getTime())/(1e3*60*60*24)<=15}).length,Me=J>0?(Fe-J)/J*100:0;a({totalUsers:v.size,totalHosts:N,totalGuests:T,totalListings:j.size,totalBookings:P.size,totalRevenue:U,avgRating:q}),b(Me),w(Ce)}catch(v){console.error("Error loading analytics:",v)}finally{s(!1)}},x=v=>{const j=v>=0?"+":"",P=v>=0?"text-green-600":"text-red-600",D=v>=0?Il:$w;return o.jsxs("div",{className:`flex items-center text-xs ${P} mt-1`,children:[o.jsx(D,{className:"h-3 w-3 mr-1"}),j,v.toFixed(1),"% from last period"]})};return r?o.jsx("div",{className:"min-h-screen bg-background p-6 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading analytics..."})]})}):o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs(ie,{variant:"ghost",onClick:()=>t("/admin/dashboard"),className:"mb-6",children:[o.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),o.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Platform Analytics"}),o.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[o.jsxs(se,{children:[o.jsx(me,{children:o.jsx(pe,{className:"text-sm text-muted-foreground",children:"Total Users"})}),o.jsxs(be,{children:[o.jsx("div",{className:"text-3xl font-bold",children:i.totalUsers}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[i.totalHosts," hosts, ",i.totalGuests," guests"]})]})]}),o.jsxs(se,{children:[o.jsx(me,{children:o.jsx(pe,{className:"text-sm text-muted-foreground",children:"Total Listings"})}),o.jsxs(be,{children:[o.jsx("div",{className:"text-3xl font-bold",children:i.totalListings}),x(g)]})]}),o.jsxs(se,{children:[o.jsx(me,{children:o.jsx(pe,{className:"text-sm text-muted-foreground",children:"Total Bookings"})}),o.jsxs(be,{children:[o.jsx("div",{className:"text-3xl font-bold",children:i.totalBookings}),x(y)]})]}),o.jsxs(se,{children:[o.jsx(me,{children:o.jsx(pe,{className:"text-sm text-muted-foreground",children:"Service Fees"})}),o.jsxs(be,{children:[o.jsx("div",{className:"text-3xl font-bold text-accent",children:Qe(i.totalRevenue)}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"10% commission"})]})]})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[o.jsxs(se,{children:[o.jsxs(me,{children:[o.jsx(pe,{children:"Top Rated Listings"}),o.jsx(Be,{children:"Highest performing listings"})]}),o.jsx(be,{children:l.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(ca,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No reviews yet"})]}):o.jsx("div",{className:"space-y-4",children:l.map((v,j)=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:v.title}),o.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[o.jsx(ca,{className:"h-3 w-3 fill-yellow-400 text-yellow-400 mr-1"}),v.rating.toFixed(1)," (",v.reviewCount," reviews)"]})]}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:[Qe(v.price),"/night"]})]},v.id))})})]}),o.jsxs(se,{children:[o.jsxs(me,{children:[o.jsx(pe,{children:"Lowest Rated Listings"}),o.jsx(Be,{children:"Listings needing attention"})]}),o.jsx(be,{children:u.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx($w,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No reviews yet"})]}):o.jsx("div",{className:"space-y-4",children:u.map(v=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:v.title}),o.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[o.jsx(ca,{className:"h-3 w-3 fill-yellow-400 text-yellow-400 mr-1"}),v.rating.toFixed(1)," (",v.reviewCount," reviews)"]})]}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:[Qe(v.price),"/night"]})]},v.id))})})]}),o.jsxs(se,{children:[o.jsxs(me,{children:[o.jsx(pe,{children:"Revenue Trends"}),o.jsx(Be,{children:"Last 30 days performance"})]}),o.jsx(be,{children:f.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(nf,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No revenue data yet"})]}):o.jsx("div",{className:"space-y-4",children:f.map((v,j)=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm",children:v.week}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-32 bg-muted rounded-full h-2",children:o.jsx("div",{className:"bg-primary h-2 rounded-full",style:{width:`${v.percentage}%`}})}),o.jsx("span",{className:"text-sm font-medium",children:Qe(v.revenue)})]})]},j))})})]})]})]})})},Aoe=()=>{const t=pt(),{user:e,userRole:n}=Dt(),[r,s]=m.useState(!0),[i,a]=m.useState([]),[l,c]=m.useState(null),[u,d]=m.useState(!1),[f,p]=m.useState(null);m.useEffect(()=>{!e||n!=="admin"?t("/admin/login"):g()},[e,n,t]);const g=async()=>{try{s(!0);const v=st(ge,"transactions"),j=bt(v,Ps("createdAt","desc")),P=await Gt(j),D=await Promise.all(P.docs.map(async S=>{const N=S.data();let T="Unknown",k="Unknown";try{const I=await Rt($e(ge,"users",N.userId));if(I.exists()){const A=I.data();T=A.email||"Unknown",k=A.fullName||"Unknown"}}catch(I){console.error("Error fetching user data:",I)}return{id:S.id,...N,userEmail:T,userName:k}}));a(D)}catch(v){console.error("Error loading transactions:",v),H.error(`Failed to load transactions: ${v.message||"Unknown error"}`)}finally{s(!1)}},b=(v,j)=>{c(v),p(j),d(!0)},y=async()=>{if(!(!l||!f))try{const v=$e(ge,"transactions",l);await Gn(v,{status:f==="confirm"?"completed":"refunded"}),H.success(`Transaction ${f==="confirm"?"confirmed":"refunded"}`),g(),c(null),p(null)}catch(v){H.error(`Failed to ${f} transaction`),console.error(v)}finally{d(!1)}},w=v=>{switch(v){case"completed":return o.jsxs(Sn,{className:"bg-green-500",children:[o.jsx(zc,{className:"h-3 w-3 mr-1"}),"Completed"]});case"pending":return o.jsxs(Sn,{className:"bg-yellow-500",children:[o.jsx(nv,{className:"h-3 w-3 mr-1"}),"Pending"]});case"failed":return o.jsxs(Sn,{className:"bg-red-500",children:[o.jsx(MS,{className:"h-3 w-3 mr-1"}),"Failed"]});case"refunded":return o.jsxs(Sn,{className:"bg-gray-500",children:[o.jsx(MS,{className:"h-3 w-3 mr-1"}),"Refunded"]});default:return o.jsx(Sn,{children:v||"Unknown"})}},_=i.filter(v=>v.status==="pending"),x=i.filter(v=>v.status==="completed").reduce((v,j)=>v+j.amount,0);return r?o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsx("div",{className:"max-w-7xl mx-auto",children:o.jsx(Di,{})})}):o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[o.jsxs(ie,{variant:"ghost",onClick:()=>t("/admin/dashboard"),children:[o.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Back"]}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Payment Management"}),o.jsx("p",{className:"text-muted-foreground",children:"Review and manage all platform transactions"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[o.jsxs(se,{children:[o.jsx(me,{children:o.jsx(pe,{className:"text-sm font-medium text-muted-foreground",children:"Total Revenue"})}),o.jsx(be,{children:o.jsx("div",{className:"text-2xl font-bold",children:Qe(x)})})]}),o.jsxs(se,{children:[o.jsx(me,{children:o.jsx(pe,{className:"text-sm font-medium text-muted-foreground",children:"Pending Transactions"})}),o.jsx(be,{children:o.jsx("div",{className:"text-2xl font-bold",children:_.length})})]}),o.jsxs(se,{children:[o.jsx(me,{children:o.jsx(pe,{className:"text-sm font-medium text-muted-foreground",children:"Total Transactions"})}),o.jsx(be,{children:o.jsx("div",{className:"text-2xl font-bold",children:i.length})})]})]}),o.jsxs(se,{children:[o.jsxs(me,{children:[o.jsx(pe,{children:"All Transactions"}),o.jsx(Be,{children:"Review and manage payment transactions"})]}),o.jsx(be,{children:i.length===0?o.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[o.jsx(nf,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No transactions found"})]}):o.jsx("div",{className:"space-y-4",children:i.map(v=>o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[o.jsx("p",{className:"font-medium",children:v.userName}),w(v.status)]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:v.description}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[v.userEmail,"  ",new Date(v.createdAt).toLocaleDateString()]}),v.paymentId&&o.jsxs("p",{className:"text-xs text-muted-foreground",children:["Payment ID: ",v.paymentId]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-lg font-bold",children:Qe(v.amount)}),o.jsx("p",{className:"text-xs text-muted-foreground",children:v.paymentMethod||"N/A"})]}),v.status==="pending"&&o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ie,{size:"sm",onClick:()=>b(v.id,"confirm"),children:"Confirm"}),o.jsx(ie,{size:"sm",variant:"destructive",onClick:()=>b(v.id,"refund"),children:"Refund"})]})]})]},v.id))})})]}),o.jsx(wr,{open:u,onOpenChange:d,children:o.jsxs(rr,{children:[o.jsxs(sr,{children:[o.jsx(or,{children:f==="confirm"?"Confirm Transaction?":"Refund Transaction?"}),o.jsx(ar,{children:f==="confirm"?"Are you sure you want to confirm this transaction? This action cannot be undone.":"Are you sure you want to refund this transaction? The payment will be reversed."})]}),o.jsxs(ir,{children:[o.jsx(cr,{children:"Cancel"}),o.jsx(lr,{onClick:y,children:f==="confirm"?"Confirm":"Refund"})]})]})})]})})},Doe=()=>{const t=pt(),[e,n]=m.useState(!1),[r,s]=m.useState({totalBookings:0,totalRevenue:0,totalServiceFees:0,totalUsers:0,totalListings:0,activeHosts:0,activeGuests:0});m.useEffect(()=>{i()},[]);const i=async()=>{n(!0);try{const[l,c,u]=await Promise.all([Gt(st(ge,"bookings")),Gt(st(ge,"users")),Gt(st(ge,"listing"))]),d=l.docs.map(b=>b.data()),f=c.docs.map(b=>b.data()),p=d.reduce((b,y)=>b+(y.totalPrice||0),0);s({totalBookings:d.length,totalRevenue:p,totalServiceFees:p*.15,totalUsers:f.length,totalListings:u.size,activeHosts:f.filter(b=>b.role==="host").length,activeGuests:f.filter(b=>b.role==="guest").length})}catch{H.error("Failed to load report data")}finally{n(!1)}},a=()=>{const l=`Platform Analytics Report
Generated: ${new Date().toLocaleString()}

Metric,Value
Total Bookings,${r.totalBookings}
Total Revenue,${r.totalRevenue.toFixed(2)}
Service Fees Collected,${r.totalServiceFees.toFixed(2)}
Total Users,${r.totalUsers}
Active Hosts,${r.activeHosts}
Active Guests,${r.activeGuests}
Total Listings,${r.totalListings}
`,c=new Blob([l],{type:"text/csv"}),u=window.URL.createObjectURL(c),d=document.createElement("a");d.href=u,d.download=`platform-report-${Date.now()}.csv`,d.click(),H.success("Report downloaded successfully")};return o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs(ie,{variant:"ghost",onClick:()=>t("/admin/dashboard"),className:"mb-6",children:[o.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Platform Reports"}),o.jsx("p",{className:"text-muted-foreground",children:"Generate and download comprehensive platform analytics"})]}),o.jsxs(ie,{onClick:a,children:[o.jsx(T9,{className:"h-4 w-4 mr-2"}),"Download CSV Report"]})]}),e?o.jsx("p",{children:"Loading report data..."}):o.jsxs("div",{className:"grid gap-6",children:[o.jsxs(se,{children:[o.jsx(me,{children:o.jsxs(pe,{className:"flex items-center gap-2",children:[o.jsx(rf,{className:"h-5 w-5"}),"Summary Report"]})}),o.jsx(be,{children:o.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"p-4 border rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-primary",children:r.totalBookings}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Bookings"})]}),o.jsxs("div",{className:"p-4 border rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-green-600",children:Qe(r.totalRevenue)}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Revenue"})]}),o.jsxs("div",{className:"p-4 border rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-blue-600",children:Qe(r.totalServiceFees)}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Service Fees (15%)"})]}),o.jsxs("div",{className:"p-4 border rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold",children:r.totalUsers}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Users"})]}),o.jsxs("div",{className:"p-4 border rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold",children:r.activeHosts}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Active Hosts"})]}),o.jsxs("div",{className:"p-4 border rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold",children:r.activeGuests}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Active Guests"})]}),o.jsxs("div",{className:"p-4 border rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold",children:r.totalListings}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Listings"})]})]})})]}),o.jsxs(se,{children:[o.jsx(me,{children:o.jsx(pe,{children:"Service Fee Breakdown"})}),o.jsx(be,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center p-3 bg-muted rounded",children:[o.jsx("span",{children:"Gross Revenue"}),o.jsx("span",{className:"font-bold",children:Qe(r.totalRevenue)})]}),o.jsxs("div",{className:"flex justify-between items-center p-3 bg-muted rounded",children:[o.jsx("span",{children:"Platform Fee (15%)"}),o.jsx("span",{className:"font-bold text-blue-600",children:Qe(r.totalServiceFees)})]}),o.jsxs("div",{className:"flex justify-between items-center p-3 bg-primary/10 rounded",children:[o.jsx("span",{className:"font-semibold",children:"Net to Hosts"}),o.jsx("span",{className:"font-bold",children:Qe(r.totalRevenue-r.totalServiceFees)})]})]})})]})]})]})})},Ooe=()=>{const t=pt(),[e,n]=m.useState(`
CANCELLATION POLICY

1. Free Cancellation: 
   - Full refund if cancelled 48+ hours before check-in
   - 50% refund if cancelled 24-48 hours before check-in
   - No refund if cancelled less than 24 hours before check-in

2. Host Cancellation:
   - Hosts may cancel up to 7 days before check-in without penalty
   - Last-minute host cancellations result in automatic full refund to guest
  `),[r,s]=m.useState(`
TERMS OF SERVICE

1. User Responsibilities:
   - Users must be 18+ years old
   - Accurate information must be provided
   - Properties must match their descriptions
   - Respect other users and properties

2. Platform Usage:
   - No illegal activities
   - No discrimination
   - Respect booking agreements
   - Pay all applicable fees

3. Liability:
   - Platform acts as intermediary only
   - Users responsible for their own safety
   - Insurance recommended for all parties
  `),[i,a]=m.useState(`
HOUSE RULES & REGULATIONS

1. Guest Conduct:
   - Respect noise limitations
   - No smoking unless explicitly allowed
   - Maximum guest count must be respected
   - No parties without host permission

2. Property Care:
   - Report any damages immediately
   - Keep property clean and tidy
   - Dispose of trash properly
   - Follow check-out procedures

3. Security:
   - Lock all doors and windows
   - Don't share access codes
   - Report suspicious activity
  `),l=()=>{H.success("Policies updated successfully")};return o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsxs(ie,{variant:"ghost",onClick:()=>t("/admin/dashboard"),className:"mb-6",children:[o.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Policies & Compliance"}),o.jsx("p",{className:"text-muted-foreground",children:"Manage platform rules, regulations, and policies"})]}),o.jsxs(ie,{onClick:l,children:[o.jsx(xP,{className:"h-4 w-4 mr-2"}),"Save All Changes"]})]}),o.jsxs(ic,{defaultValue:"cancellation",className:"space-y-4",children:[o.jsxs(Wa,{className:"grid w-full grid-cols-3",children:[o.jsx(It,{value:"cancellation",children:"Cancellation"}),o.jsx(It,{value:"terms",children:"Terms of Service"}),o.jsx(It,{value:"rules",children:"House Rules"})]}),o.jsx(jt,{value:"cancellation",children:o.jsxs(se,{children:[o.jsx(me,{children:o.jsxs(pe,{className:"flex items-center gap-2",children:[o.jsx(a_,{className:"h-5 w-5"}),"Cancellation Policy"]})}),o.jsx(be,{children:o.jsx(nh,{value:e,onChange:c=>n(c.target.value),rows:15,className:"font-mono text-sm"})})]})}),o.jsx(jt,{value:"terms",children:o.jsxs(se,{children:[o.jsx(me,{children:o.jsxs(pe,{className:"flex items-center gap-2",children:[o.jsx(rf,{className:"h-5 w-5"}),"Terms of Service"]})}),o.jsx(be,{children:o.jsx(nh,{value:r,onChange:c=>s(c.target.value),rows:15,className:"font-mono text-sm"})})]})}),o.jsx(jt,{value:"rules",children:o.jsxs(se,{children:[o.jsx(me,{children:o.jsxs(pe,{className:"flex items-center gap-2",children:[o.jsx(ys,{className:"h-5 w-5"}),"House Rules & Regulations"]})}),o.jsx(be,{children:o.jsx(nh,{value:i,onChange:c=>a(c.target.value),rows:15,className:"font-mono text-sm"})})]})})]})]})})},Moe=()=>{const t=Ua();return m.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 flex flex-col",children:[o.jsx("div",{className:"flex-1 flex items-center justify-center p-6",children:o.jsxs(se,{className:"w-full max-w-md shadow-2xl border-border/50",children:[o.jsxs(me,{className:"space-y-6 text-center pb-8 pt-12",children:[o.jsx("div",{className:"w-24 h-24 mx-auto rounded-full bg-gradient-to-br from-red-100 to-orange-100 dark:from-red-900/20 dark:to-orange-900/20 flex items-center justify-center",children:o.jsx(a_,{className:"w-16 h-16 text-red-500"})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(pe,{className:"text-6xl font-bold bg-gradient-to-r from-red-500 to-orange-500 bg-clip-text text-transparent",children:"404"}),o.jsx(Be,{className:"text-xl",children:"Oops! Page not found"})]})]}),o.jsxs(be,{className:"space-y-6 pb-12",children:[o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("p",{className:"text-muted-foreground",children:"The page you're looking for doesn't exist or has been moved."}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Requested path: ",o.jsx("code",{className:"bg-muted px-2 py-1 rounded text-xs",children:t.pathname})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(ie,{asChild:!0,className:"w-full h-12 text-base font-semibold",size:"lg",children:o.jsxs(An,{to:"/",children:[o.jsx(kl,{className:"w-4 h-4 mr-2"}),"Return to Home"]})}),o.jsx(ie,{asChild:!0,variant:"outline",className:"w-full",children:o.jsxs(An,{to:"/guest/browse",children:[o.jsx(Wc,{className:"w-4 h-4 mr-2"}),"Browse Listings"]})})]}),o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"w-full h-px bg-gradient-to-r from-transparent via-border to-transparent"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Need help? ",o.jsx(An,{to:"/contact",className:"text-primary hover:underline",children:"Contact our support team"})]})]})]})]})}),o.jsx(OM,{})]})},Loe=new m8,Foe=()=>{const{loading:t}=Dt();return t?o.jsx(Di,{}):o.jsxs(o7,{children:[o.jsx(wt,{path:"/",element:o.jsx(MZ,{})}),o.jsx(wt,{path:"/host/policies",element:o.jsx(YZ,{})}),o.jsx(wt,{path:"/host/login",element:o.jsx(zZ,{})}),o.jsx(wt,{path:"/guest/login",element:o.jsx(XZ,{})}),o.jsx(wt,{path:"/admin/login",element:o.jsx(JZ,{})}),o.jsx(wt,{path:"/verify-email",element:o.jsx(eJ,{})}),o.jsx(wt,{path:"/verify-otp",element:o.jsx(pJ,{})}),o.jsx(wt,{path:"/verification-pending",element:o.jsx(gJ,{})}),o.jsx(wt,{path:"/host/dashboard",element:o.jsx(zJ,{})}),o.jsx(wt,{path:"/host/create-listing",element:o.jsx(Tie,{})}),o.jsx(wt,{path:"/host/listings",element:o.jsx(Iie,{})}),o.jsx(wt,{path:"/host/bookings",element:o.jsx(toe,{})}),o.jsx(wt,{path:"/host/payments",element:o.jsx(noe,{})}),o.jsx(wt,{path:"/host/messages",element:o.jsx(Ioe,{})}),o.jsx(wt,{path:"/host/settings",element:o.jsx(poe,{})}),o.jsx(wt,{path:"/guest/dashboard",element:o.jsx(Dee,{})}),o.jsx(wt,{path:"/guest/browse",element:o.jsx(Aie,{})}),o.jsx(wt,{path:"/guest/listing/:id",element:o.jsx(Zie,{})}),o.jsx(wt,{path:"/guest/bookings",element:o.jsx(eoe,{})}),o.jsx(wt,{path:"/guest/wallet",element:o.jsx(soe,{})}),o.jsx(wt,{path:"/guest/messages",element:o.jsx(Roe,{})}),o.jsx(wt,{path:"/guest/settings",element:o.jsx(goe,{})}),o.jsx(wt,{path:"/admin/dashboard",element:o.jsx(Oee,{})}),o.jsx(wt,{path:"/admin/users",element:o.jsx(aoe,{})}),o.jsx(wt,{path:"/admin/listings",element:o.jsx(loe,{})}),o.jsx(wt,{path:"/admin/payments",element:o.jsx(Aoe,{})}),o.jsx(wt,{path:"/admin/analytics",element:o.jsx(Poe,{})}),o.jsx(wt,{path:"/admin/reports",element:o.jsx(Doe,{})}),o.jsx(wt,{path:"/admin/policies",element:o.jsx(Ooe,{})}),o.jsx(wt,{path:"/settings",element:o.jsx(coe,{})}),o.jsx(wt,{path:"*",element:o.jsx(Moe,{})})]})},Voe=()=>o.jsx(g8,{client:Loe,children:o.jsx(kU,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:o.jsxs(WB,{children:[o.jsx(SU,{}),o.jsx(o$,{}),o.jsx(m7,{children:o.jsx(gQ,{children:o.jsx(Foe,{})})})]})})});VR(document.getElementById("root")).render(o.jsx(Voe,{}));
