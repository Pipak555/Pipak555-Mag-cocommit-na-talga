var _N=t=>{throw TypeError(t)};var Cy=(t,e,n)=>e.has(t)||_N("Cannot "+n);var se=(t,e,n)=>(Cy(t,e,"read from private field"),n?n.call(t):e.get(t)),_t=(t,e,n)=>e.has(t)?_N("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),rt=(t,e,n,r)=>(Cy(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),tr=(t,e,n)=>(Cy(t,e,"access private method"),n);var nm=(t,e,n,r)=>({set _(s){rt(t,e,s,n)},get _(){return se(t,e,r)}});function i5(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function kT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var TT={exports:{}},Lg={},IT={exports:{}},lt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zh=Symbol.for("react.element"),o5=Symbol.for("react.portal"),a5=Symbol.for("react.fragment"),l5=Symbol.for("react.strict_mode"),c5=Symbol.for("react.profiler"),u5=Symbol.for("react.provider"),d5=Symbol.for("react.context"),h5=Symbol.for("react.forward_ref"),f5=Symbol.for("react.suspense"),m5=Symbol.for("react.memo"),p5=Symbol.for("react.lazy"),EN=Symbol.iterator;function g5(t){return t===null||typeof t!="object"?null:(t=EN&&t[EN]||t["@@iterator"],typeof t=="function"?t:null)}var RT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},PT=Object.assign,AT={};function Au(t,e,n){this.props=t,this.context=e,this.refs=AT,this.updater=n||RT}Au.prototype.isReactComponent={};Au.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Au.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function DT(){}DT.prototype=Au.prototype;function sb(t,e,n){this.props=t,this.context=e,this.refs=AT,this.updater=n||RT}var ib=sb.prototype=new DT;ib.constructor=sb;PT(ib,Au.prototype);ib.isPureReactComponent=!0;var NN=Array.isArray,OT=Object.prototype.hasOwnProperty,ob={current:null},MT={key:!0,ref:!0,__self:!0,__source:!0};function LT(t,e,n){var r,s={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)OT.call(e,r)&&!MT.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Zh,type:t,key:i,ref:a,props:s,_owner:ob.current}}function v5(t,e){return{$$typeof:Zh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ab(t){return typeof t=="object"&&t!==null&&t.$$typeof===Zh}function y5(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var SN=/\/+/g;function ky(t,e){return typeof t=="object"&&t!==null&&t.key!=null?y5(""+t.key):e.toString(36)}function Fm(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Zh:case o5:a=!0}}if(a)return a=t,s=s(a),t=r===""?"."+ky(a,0):r,NN(s)?(n="",t!=null&&(n=t.replace(SN,"$&/")+"/"),Fm(s,e,n,"",function(u){return u})):s!=null&&(ab(s)&&(s=v5(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(SN,"$&/")+"/")+t)),e.push(s)),1;if(a=0,r=r===""?".":r+":",NN(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+ky(i,l);a+=Fm(i,e,n,c,s)}else if(c=g5(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+ky(i,l++),a+=Fm(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function rm(t,e,n){if(t==null)return t;var r=[],s=0;return Fm(t,r,"","",function(i){return e.call(n,i,s++)}),r}function x5(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var br={current:null},Vm={transition:null},w5={ReactCurrentDispatcher:br,ReactCurrentBatchConfig:Vm,ReactCurrentOwner:ob};function FT(){throw Error("act(...) is not supported in production builds of React.")}lt.Children={map:rm,forEach:function(t,e,n){rm(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return rm(t,function(){e++}),e},toArray:function(t){return rm(t,function(e){return e})||[]},only:function(t){if(!ab(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};lt.Component=Au;lt.Fragment=a5;lt.Profiler=c5;lt.PureComponent=sb;lt.StrictMode=l5;lt.Suspense=f5;lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=w5;lt.act=FT;lt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=PT({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=ob.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)OT.call(e,c)&&!MT.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Zh,type:t.type,key:s,ref:i,props:r,_owner:a}};lt.createContext=function(t){return t={$$typeof:d5,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:u5,_context:t},t.Consumer=t};lt.createElement=LT;lt.createFactory=function(t){var e=LT.bind(null,t);return e.type=t,e};lt.createRef=function(){return{current:null}};lt.forwardRef=function(t){return{$$typeof:h5,render:t}};lt.isValidElement=ab;lt.lazy=function(t){return{$$typeof:p5,_payload:{_status:-1,_result:t},_init:x5}};lt.memo=function(t,e){return{$$typeof:m5,type:t,compare:e===void 0?null:e}};lt.startTransition=function(t){var e=Vm.transition;Vm.transition={};try{t()}finally{Vm.transition=e}};lt.unstable_act=FT;lt.useCallback=function(t,e){return br.current.useCallback(t,e)};lt.useContext=function(t){return br.current.useContext(t)};lt.useDebugValue=function(){};lt.useDeferredValue=function(t){return br.current.useDeferredValue(t)};lt.useEffect=function(t,e){return br.current.useEffect(t,e)};lt.useId=function(){return br.current.useId()};lt.useImperativeHandle=function(t,e,n){return br.current.useImperativeHandle(t,e,n)};lt.useInsertionEffect=function(t,e){return br.current.useInsertionEffect(t,e)};lt.useLayoutEffect=function(t,e){return br.current.useLayoutEffect(t,e)};lt.useMemo=function(t,e){return br.current.useMemo(t,e)};lt.useReducer=function(t,e,n){return br.current.useReducer(t,e,n)};lt.useRef=function(t){return br.current.useRef(t)};lt.useState=function(t){return br.current.useState(t)};lt.useSyncExternalStore=function(t,e,n){return br.current.useSyncExternalStore(t,e,n)};lt.useTransition=function(){return br.current.useTransition()};lt.version="18.3.1";IT.exports=lt;var m=IT.exports;const te=kT(m),lb=i5({__proto__:null,default:te},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b5=m,_5=Symbol.for("react.element"),E5=Symbol.for("react.fragment"),N5=Object.prototype.hasOwnProperty,S5=b5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,j5={key:!0,ref:!0,__self:!0,__source:!0};function VT(t,e,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)N5.call(e,r)&&!j5.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:_5,type:t,key:i,ref:a,props:s,_owner:S5.current}}Lg.Fragment=E5;Lg.jsx=VT;Lg.jsxs=VT;TT.exports=Lg;var o=TT.exports,$T={exports:{}},ss={},UT={exports:{}},BT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,V){var ee=L.length;L.push(V);e:for(;0<ee;){var _e=ee-1>>>1,U=L[_e];if(0<s(U,V))L[_e]=V,L[ee]=U,ee=_e;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var V=L[0],ee=L.pop();if(ee!==V){L[0]=ee;e:for(var _e=0,U=L.length,le=U>>>1;_e<le;){var de=2*(_e+1)-1,fe=L[de],ke=de+1,J=L[ke];if(0>s(fe,ee))ke<U&&0>s(J,fe)?(L[_e]=J,L[ke]=ee,_e=ke):(L[_e]=fe,L[de]=ee,_e=de);else if(ke<U&&0>s(J,ee))L[_e]=J,L[ke]=ee,_e=ke;else break e}}return V}function s(L,V){var ee=L.sortIndex-V.sortIndex;return ee!==0?ee:L.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,f=null,p=3,g=!1,_=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(L){for(var V=n(u);V!==null;){if(V.callback===null)r(u);else if(V.startTime<=L)r(u),V.sortIndex=V.expirationTime,e(c,V);else break;V=n(u)}}function j(L){if(v=!1,y(L),!_)if(n(c)!==null)_=!0,H(P);else{var V=n(u);V!==null&&q(j,V.startTime-L)}}function P(L,V){_=!1,v&&(v=!1,b(N),N=-1),g=!0;var ee=p;try{for(y(V),f=n(c);f!==null&&(!(f.expirationTime>V)||L&&!I());){var _e=f.callback;if(typeof _e=="function"){f.callback=null,p=f.priorityLevel;var U=_e(f.expirationTime<=V);V=t.unstable_now(),typeof U=="function"?f.callback=U:f===n(c)&&r(c),y(V)}else r(c);f=n(c)}if(f!==null)var le=!0;else{var de=n(u);de!==null&&q(j,de.startTime-V),le=!1}return le}finally{f=null,p=ee,g=!1}}var D=!1,S=null,N=-1,T=5,C=-1;function I(){return!(t.unstable_now()-C<T)}function A(){if(S!==null){var L=t.unstable_now();C=L;var V=!0;try{V=S(!0,L)}finally{V?R():(D=!1,S=null)}}else D=!1}var R;if(typeof x=="function")R=function(){x(A)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,F=z.port2;z.port1.onmessage=A,R=function(){F.postMessage(null)}}else R=function(){w(A,0)};function H(L){S=L,D||(D=!0,R())}function q(L,V){N=w(function(){L(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){_||g||(_=!0,H(P))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(L){switch(p){case 1:case 2:case 3:var V=3;break;default:V=p}var ee=p;p=V;try{return L()}finally{p=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,V){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var ee=p;p=L;try{return V()}finally{p=ee}},t.unstable_scheduleCallback=function(L,V,ee){var _e=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?_e+ee:_e):ee=_e,L){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=ee+U,L={id:d++,callback:V,priorityLevel:L,startTime:ee,expirationTime:U,sortIndex:-1},ee>_e?(L.sortIndex=ee,e(u,L),n(c)===null&&L===n(u)&&(v?(b(N),N=-1):v=!0,q(j,ee-_e))):(L.sortIndex=U,e(c,L),_||g||(_=!0,H(P))),L},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(L){var V=p;return function(){var ee=p;p=V;try{return L.apply(this,arguments)}finally{p=ee}}}})(BT);UT.exports=BT;var C5=UT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k5=m,ts=C5;function xe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zT=new Set,oh={};function Kl(t,e){lu(t,e),lu(t+"Capture",e)}function lu(t,e){for(oh[t]=e,t=0;t<e.length;t++)zT.add(e[t])}var no=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wx=Object.prototype.hasOwnProperty,T5=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jN={},CN={};function I5(t){return Wx.call(CN,t)?!0:Wx.call(jN,t)?!1:T5.test(t)?CN[t]=!0:(jN[t]=!0,!1)}function R5(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function P5(t,e,n,r){if(e===null||typeof e>"u"||R5(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function _r(t,e,n,r,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var Zn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Zn[t]=new _r(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Zn[e]=new _r(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Zn[t]=new _r(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Zn[t]=new _r(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Zn[t]=new _r(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Zn[t]=new _r(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Zn[t]=new _r(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Zn[t]=new _r(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Zn[t]=new _r(t,5,!1,t.toLowerCase(),null,!1,!1)});var cb=/[\-:]([a-z])/g;function ub(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(cb,ub);Zn[e]=new _r(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(cb,ub);Zn[e]=new _r(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(cb,ub);Zn[e]=new _r(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Zn[t]=new _r(t,1,!1,t.toLowerCase(),null,!1,!1)});Zn.xlinkHref=new _r("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Zn[t]=new _r(t,1,!1,t.toLowerCase(),null,!0,!0)});function db(t,e,n,r){var s=Zn.hasOwnProperty(e)?Zn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(P5(e,n,s,r)&&(n=null),r||s===null?I5(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var go=k5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sm=Symbol.for("react.element"),Ec=Symbol.for("react.portal"),Nc=Symbol.for("react.fragment"),hb=Symbol.for("react.strict_mode"),Hx=Symbol.for("react.profiler"),WT=Symbol.for("react.provider"),HT=Symbol.for("react.context"),fb=Symbol.for("react.forward_ref"),qx=Symbol.for("react.suspense"),Gx=Symbol.for("react.suspense_list"),mb=Symbol.for("react.memo"),Do=Symbol.for("react.lazy"),qT=Symbol.for("react.offscreen"),kN=Symbol.iterator;function ud(t){return t===null||typeof t!="object"?null:(t=kN&&t[kN]||t["@@iterator"],typeof t=="function"?t:null)}var Xt=Object.assign,Ty;function Cd(t){if(Ty===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ty=e&&e[1]||""}return`
`+Ty+t}var Iy=!1;function Ry(t,e){if(!t||Iy)return"";Iy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=l);break}}}finally{Iy=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Cd(t):""}function A5(t){switch(t.tag){case 5:return Cd(t.type);case 16:return Cd("Lazy");case 13:return Cd("Suspense");case 19:return Cd("SuspenseList");case 0:case 2:case 15:return t=Ry(t.type,!1),t;case 11:return t=Ry(t.type.render,!1),t;case 1:return t=Ry(t.type,!0),t;default:return""}}function Kx(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Nc:return"Fragment";case Ec:return"Portal";case Hx:return"Profiler";case hb:return"StrictMode";case qx:return"Suspense";case Gx:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case HT:return(t.displayName||"Context")+".Consumer";case WT:return(t._context.displayName||"Context")+".Provider";case fb:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case mb:return e=t.displayName||null,e!==null?e:Kx(t.type)||"Memo";case Do:e=t._payload,t=t._init;try{return Kx(t(e))}catch{}}return null}function D5(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Kx(e);case 8:return e===hb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function xa(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function GT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function O5(t){var e=GT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function im(t){t._valueTracker||(t._valueTracker=O5(t))}function KT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=GT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function pp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Yx(t,e){var n=e.checked;return Xt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function TN(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=xa(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function YT(t,e){e=e.checked,e!=null&&db(t,"checked",e,!1)}function Qx(t,e){YT(t,e);var n=xa(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Xx(t,e.type,n):e.hasOwnProperty("defaultValue")&&Xx(t,e.type,xa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function IN(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Xx(t,e,n){(e!=="number"||pp(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var kd=Array.isArray;function Lc(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+xa(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Zx(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(xe(91));return Xt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function RN(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(xe(92));if(kd(n)){if(1<n.length)throw Error(xe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:xa(n)}}function QT(t,e){var n=xa(e.value),r=xa(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function PN(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function XT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jx(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?XT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var om,ZT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(om=om||document.createElement("div"),om.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=om.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ah(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var $d={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},M5=["Webkit","ms","Moz","O"];Object.keys($d).forEach(function(t){M5.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),$d[e]=$d[t]})});function JT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||$d.hasOwnProperty(t)&&$d[t]?(""+e).trim():e+"px"}function eI(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=JT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var L5=Xt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ew(t,e){if(e){if(L5[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(xe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(xe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(xe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(xe(62))}}function tw(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nw=null;function pb(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var rw=null,Fc=null,Vc=null;function AN(t){if(t=tf(t)){if(typeof rw!="function")throw Error(xe(280));var e=t.stateNode;e&&(e=Bg(e),rw(t.stateNode,t.type,e))}}function tI(t){Fc?Vc?Vc.push(t):Vc=[t]:Fc=t}function nI(){if(Fc){var t=Fc,e=Vc;if(Vc=Fc=null,AN(t),e)for(t=0;t<e.length;t++)AN(e[t])}}function rI(t,e){return t(e)}function sI(){}var Py=!1;function iI(t,e,n){if(Py)return t(e,n);Py=!0;try{return rI(t,e,n)}finally{Py=!1,(Fc!==null||Vc!==null)&&(sI(),nI())}}function lh(t,e){var n=t.stateNode;if(n===null)return null;var r=Bg(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(xe(231,e,typeof n));return n}var sw=!1;if(no)try{var dd={};Object.defineProperty(dd,"passive",{get:function(){sw=!0}}),window.addEventListener("test",dd,dd),window.removeEventListener("test",dd,dd)}catch{sw=!1}function F5(t,e,n,r,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Ud=!1,gp=null,vp=!1,iw=null,V5={onError:function(t){Ud=!0,gp=t}};function $5(t,e,n,r,s,i,a,l,c){Ud=!1,gp=null,F5.apply(V5,arguments)}function U5(t,e,n,r,s,i,a,l,c){if($5.apply(this,arguments),Ud){if(Ud){var u=gp;Ud=!1,gp=null}else throw Error(xe(198));vp||(vp=!0,iw=u)}}function Yl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function oI(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function DN(t){if(Yl(t)!==t)throw Error(xe(188))}function B5(t){var e=t.alternate;if(!e){if(e=Yl(t),e===null)throw Error(xe(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return DN(s),t;if(i===r)return DN(s),e;i=i.sibling}throw Error(xe(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a)throw Error(xe(189))}}if(n.alternate!==r)throw Error(xe(190))}if(n.tag!==3)throw Error(xe(188));return n.stateNode.current===n?t:e}function aI(t){return t=B5(t),t!==null?lI(t):null}function lI(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=lI(t);if(e!==null)return e;t=t.sibling}return null}var cI=ts.unstable_scheduleCallback,ON=ts.unstable_cancelCallback,z5=ts.unstable_shouldYield,W5=ts.unstable_requestPaint,un=ts.unstable_now,H5=ts.unstable_getCurrentPriorityLevel,gb=ts.unstable_ImmediatePriority,uI=ts.unstable_UserBlockingPriority,yp=ts.unstable_NormalPriority,q5=ts.unstable_LowPriority,dI=ts.unstable_IdlePriority,Fg=null,vi=null;function G5(t){if(vi&&typeof vi.onCommitFiberRoot=="function")try{vi.onCommitFiberRoot(Fg,t,void 0,(t.current.flags&128)===128)}catch{}}var Fs=Math.clz32?Math.clz32:Q5,K5=Math.log,Y5=Math.LN2;function Q5(t){return t>>>=0,t===0?32:31-(K5(t)/Y5|0)|0}var am=64,lm=4194304;function Td(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function xp(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=Td(l):(i&=a,i!==0&&(r=Td(i)))}else a=n&~s,a!==0?r=Td(a):i!==0&&(r=Td(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Fs(e),s=1<<n,r|=t[n],e&=~s;return r}function X5(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Z5(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-Fs(i),l=1<<a,c=s[a];c===-1?(!(l&n)||l&r)&&(s[a]=X5(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function ow(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function hI(){var t=am;return am<<=1,!(am&4194240)&&(am=64),t}function Ay(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Jh(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Fs(e),t[e]=n}function J5(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Fs(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function vb(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Fs(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Pt=0;function fI(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var mI,yb,pI,gI,vI,aw=!1,cm=[],ea=null,ta=null,na=null,ch=new Map,uh=new Map,Lo=[],e3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function MN(t,e){switch(t){case"focusin":case"focusout":ea=null;break;case"dragenter":case"dragleave":ta=null;break;case"mouseover":case"mouseout":na=null;break;case"pointerover":case"pointerout":ch.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":uh.delete(e.pointerId)}}function hd(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=tf(e),e!==null&&yb(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function t3(t,e,n,r,s){switch(e){case"focusin":return ea=hd(ea,t,e,n,r,s),!0;case"dragenter":return ta=hd(ta,t,e,n,r,s),!0;case"mouseover":return na=hd(na,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return ch.set(i,hd(ch.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,uh.set(i,hd(uh.get(i)||null,t,e,n,r,s)),!0}return!1}function yI(t){var e=ul(t.target);if(e!==null){var n=Yl(e);if(n!==null){if(e=n.tag,e===13){if(e=oI(n),e!==null){t.blockedOn=e,vI(t.priority,function(){pI(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $m(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=lw(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);nw=r,n.target.dispatchEvent(r),nw=null}else return e=tf(n),e!==null&&yb(e),t.blockedOn=n,!1;e.shift()}return!0}function LN(t,e,n){$m(t)&&n.delete(e)}function n3(){aw=!1,ea!==null&&$m(ea)&&(ea=null),ta!==null&&$m(ta)&&(ta=null),na!==null&&$m(na)&&(na=null),ch.forEach(LN),uh.forEach(LN)}function fd(t,e){t.blockedOn===e&&(t.blockedOn=null,aw||(aw=!0,ts.unstable_scheduleCallback(ts.unstable_NormalPriority,n3)))}function dh(t){function e(s){return fd(s,t)}if(0<cm.length){fd(cm[0],t);for(var n=1;n<cm.length;n++){var r=cm[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ea!==null&&fd(ea,t),ta!==null&&fd(ta,t),na!==null&&fd(na,t),ch.forEach(e),uh.forEach(e),n=0;n<Lo.length;n++)r=Lo[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Lo.length&&(n=Lo[0],n.blockedOn===null);)yI(n),n.blockedOn===null&&Lo.shift()}var $c=go.ReactCurrentBatchConfig,wp=!0;function r3(t,e,n,r){var s=Pt,i=$c.transition;$c.transition=null;try{Pt=1,xb(t,e,n,r)}finally{Pt=s,$c.transition=i}}function s3(t,e,n,r){var s=Pt,i=$c.transition;$c.transition=null;try{Pt=4,xb(t,e,n,r)}finally{Pt=s,$c.transition=i}}function xb(t,e,n,r){if(wp){var s=lw(t,e,n,r);if(s===null)zy(t,e,r,bp,n),MN(t,r);else if(t3(s,t,e,n,r))r.stopPropagation();else if(MN(t,r),e&4&&-1<e3.indexOf(t)){for(;s!==null;){var i=tf(s);if(i!==null&&mI(i),i=lw(t,e,n,r),i===null&&zy(t,e,r,bp,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else zy(t,e,r,null,n)}}var bp=null;function lw(t,e,n,r){if(bp=null,t=pb(r),t=ul(t),t!==null)if(e=Yl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=oI(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return bp=t,null}function xI(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(H5()){case gb:return 1;case uI:return 4;case yp:case q5:return 16;case dI:return 536870912;default:return 16}default:return 16}}var Ko=null,wb=null,Um=null;function wI(){if(Um)return Um;var t,e=wb,n=e.length,r,s="value"in Ko?Ko.value:Ko.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===s[i-r];r++);return Um=s.slice(t,1<r?1-r:void 0)}function Bm(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function um(){return!0}function FN(){return!1}function is(t){function e(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?um:FN,this.isPropagationStopped=FN,this}return Xt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=um)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=um)},persist:function(){},isPersistent:um}),e}var Du={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bb=is(Du),ef=Xt({},Du,{view:0,detail:0}),i3=is(ef),Dy,Oy,md,Vg=Xt({},ef,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_b,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==md&&(md&&t.type==="mousemove"?(Dy=t.screenX-md.screenX,Oy=t.screenY-md.screenY):Oy=Dy=0,md=t),Dy)},movementY:function(t){return"movementY"in t?t.movementY:Oy}}),VN=is(Vg),o3=Xt({},Vg,{dataTransfer:0}),a3=is(o3),l3=Xt({},ef,{relatedTarget:0}),My=is(l3),c3=Xt({},Du,{animationName:0,elapsedTime:0,pseudoElement:0}),u3=is(c3),d3=Xt({},Du,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),h3=is(d3),f3=Xt({},Du,{data:0}),$N=is(f3),m3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},p3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},g3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function v3(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=g3[t])?!!e[t]:!1}function _b(){return v3}var y3=Xt({},ef,{key:function(t){if(t.key){var e=m3[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Bm(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?p3[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_b,charCode:function(t){return t.type==="keypress"?Bm(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Bm(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),x3=is(y3),w3=Xt({},Vg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),UN=is(w3),b3=Xt({},ef,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_b}),_3=is(b3),E3=Xt({},Du,{propertyName:0,elapsedTime:0,pseudoElement:0}),N3=is(E3),S3=Xt({},Vg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),j3=is(S3),C3=[9,13,27,32],Eb=no&&"CompositionEvent"in window,Bd=null;no&&"documentMode"in document&&(Bd=document.documentMode);var k3=no&&"TextEvent"in window&&!Bd,bI=no&&(!Eb||Bd&&8<Bd&&11>=Bd),BN=" ",zN=!1;function _I(t,e){switch(t){case"keyup":return C3.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function EI(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Sc=!1;function T3(t,e){switch(t){case"compositionend":return EI(e);case"keypress":return e.which!==32?null:(zN=!0,BN);case"textInput":return t=e.data,t===BN&&zN?null:t;default:return null}}function I3(t,e){if(Sc)return t==="compositionend"||!Eb&&_I(t,e)?(t=wI(),Um=wb=Ko=null,Sc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return bI&&e.locale!=="ko"?null:e.data;default:return null}}var R3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function WN(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!R3[t.type]:e==="textarea"}function NI(t,e,n,r){tI(r),e=_p(e,"onChange"),0<e.length&&(n=new bb("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var zd=null,hh=null;function P3(t){OI(t,0)}function $g(t){var e=kc(t);if(KT(e))return t}function A3(t,e){if(t==="change")return e}var SI=!1;if(no){var Ly;if(no){var Fy="oninput"in document;if(!Fy){var HN=document.createElement("div");HN.setAttribute("oninput","return;"),Fy=typeof HN.oninput=="function"}Ly=Fy}else Ly=!1;SI=Ly&&(!document.documentMode||9<document.documentMode)}function qN(){zd&&(zd.detachEvent("onpropertychange",jI),hh=zd=null)}function jI(t){if(t.propertyName==="value"&&$g(hh)){var e=[];NI(e,hh,t,pb(t)),iI(P3,e)}}function D3(t,e,n){t==="focusin"?(qN(),zd=e,hh=n,zd.attachEvent("onpropertychange",jI)):t==="focusout"&&qN()}function O3(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $g(hh)}function M3(t,e){if(t==="click")return $g(e)}function L3(t,e){if(t==="input"||t==="change")return $g(e)}function F3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Bs=typeof Object.is=="function"?Object.is:F3;function fh(t,e){if(Bs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Wx.call(e,s)||!Bs(t[s],e[s]))return!1}return!0}function GN(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function KN(t,e){var n=GN(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=GN(n)}}function CI(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?CI(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function kI(){for(var t=window,e=pp();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=pp(t.document)}return e}function Nb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function V3(t){var e=kI(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&CI(n.ownerDocument.documentElement,n)){if(r!==null&&Nb(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=KN(n,i);var a=KN(n,r);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var $3=no&&"documentMode"in document&&11>=document.documentMode,jc=null,cw=null,Wd=null,uw=!1;function YN(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;uw||jc==null||jc!==pp(r)||(r=jc,"selectionStart"in r&&Nb(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Wd&&fh(Wd,r)||(Wd=r,r=_p(cw,"onSelect"),0<r.length&&(e=new bb("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=jc)))}function dm(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Cc={animationend:dm("Animation","AnimationEnd"),animationiteration:dm("Animation","AnimationIteration"),animationstart:dm("Animation","AnimationStart"),transitionend:dm("Transition","TransitionEnd")},Vy={},TI={};no&&(TI=document.createElement("div").style,"AnimationEvent"in window||(delete Cc.animationend.animation,delete Cc.animationiteration.animation,delete Cc.animationstart.animation),"TransitionEvent"in window||delete Cc.transitionend.transition);function Ug(t){if(Vy[t])return Vy[t];if(!Cc[t])return t;var e=Cc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in TI)return Vy[t]=e[n];return t}var II=Ug("animationend"),RI=Ug("animationiteration"),PI=Ug("animationstart"),AI=Ug("transitionend"),DI=new Map,QN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function La(t,e){DI.set(t,e),Kl(e,[t])}for(var $y=0;$y<QN.length;$y++){var Uy=QN[$y],U3=Uy.toLowerCase(),B3=Uy[0].toUpperCase()+Uy.slice(1);La(U3,"on"+B3)}La(II,"onAnimationEnd");La(RI,"onAnimationIteration");La(PI,"onAnimationStart");La("dblclick","onDoubleClick");La("focusin","onFocus");La("focusout","onBlur");La(AI,"onTransitionEnd");lu("onMouseEnter",["mouseout","mouseover"]);lu("onMouseLeave",["mouseout","mouseover"]);lu("onPointerEnter",["pointerout","pointerover"]);lu("onPointerLeave",["pointerout","pointerover"]);Kl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Kl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Kl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Kl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Kl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Kl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Id="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),z3=new Set("cancel close invalid load scroll toggle".split(" ").concat(Id));function XN(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,U5(r,e,void 0,t),t.currentTarget=null}function OI(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;XN(s,l,u),i=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;XN(s,l,u),i=c}}}if(vp)throw t=iw,vp=!1,iw=null,t}function zt(t,e){var n=e[pw];n===void 0&&(n=e[pw]=new Set);var r=t+"__bubble";n.has(r)||(MI(e,t,2,!1),n.add(r))}function By(t,e,n){var r=0;e&&(r|=4),MI(n,t,r,e)}var hm="_reactListening"+Math.random().toString(36).slice(2);function mh(t){if(!t[hm]){t[hm]=!0,zT.forEach(function(n){n!=="selectionchange"&&(z3.has(n)||By(n,!1,t),By(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[hm]||(e[hm]=!0,By("selectionchange",!1,e))}}function MI(t,e,n,r){switch(xI(e)){case 1:var s=r3;break;case 4:s=s3;break;default:s=xb}n=s.bind(null,e,n,t),s=void 0,!sw||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function zy(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=ul(l),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}l=l.parentNode}}r=r.return}iI(function(){var u=i,d=pb(n),f=[];e:{var p=DI.get(t);if(p!==void 0){var g=bb,_=t;switch(t){case"keypress":if(Bm(n)===0)break e;case"keydown":case"keyup":g=x3;break;case"focusin":_="focus",g=My;break;case"focusout":_="blur",g=My;break;case"beforeblur":case"afterblur":g=My;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=VN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=a3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=_3;break;case II:case RI:case PI:g=u3;break;case AI:g=N3;break;case"scroll":g=i3;break;case"wheel":g=j3;break;case"copy":case"cut":case"paste":g=h3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=UN}var v=(e&4)!==0,w=!v&&t==="scroll",b=v?p!==null?p+"Capture":null:p;v=[];for(var x=u,y;x!==null;){y=x;var j=y.stateNode;if(y.tag===5&&j!==null&&(y=j,b!==null&&(j=lh(x,b),j!=null&&v.push(ph(x,j,y)))),w)break;x=x.return}0<v.length&&(p=new g(p,_,null,n,d),f.push({event:p,listeners:v}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==nw&&(_=n.relatedTarget||n.fromElement)&&(ul(_)||_[ro]))break e;if((g||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,g?(_=n.relatedTarget||n.toElement,g=u,_=_?ul(_):null,_!==null&&(w=Yl(_),_!==w||_.tag!==5&&_.tag!==6)&&(_=null)):(g=null,_=u),g!==_)){if(v=VN,j="onMouseLeave",b="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(v=UN,j="onPointerLeave",b="onPointerEnter",x="pointer"),w=g==null?p:kc(g),y=_==null?p:kc(_),p=new v(j,x+"leave",g,n,d),p.target=w,p.relatedTarget=y,j=null,ul(d)===u&&(v=new v(b,x+"enter",_,n,d),v.target=y,v.relatedTarget=w,j=v),w=j,g&&_)t:{for(v=g,b=_,x=0,y=v;y;y=cc(y))x++;for(y=0,j=b;j;j=cc(j))y++;for(;0<x-y;)v=cc(v),x--;for(;0<y-x;)b=cc(b),y--;for(;x--;){if(v===b||b!==null&&v===b.alternate)break t;v=cc(v),b=cc(b)}v=null}else v=null;g!==null&&ZN(f,p,g,v,!1),_!==null&&w!==null&&ZN(f,w,_,v,!0)}}e:{if(p=u?kc(u):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var P=A3;else if(WN(p))if(SI)P=L3;else{P=O3;var D=D3}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(P=M3);if(P&&(P=P(t,u))){NI(f,P,n,d);break e}D&&D(t,p,u),t==="focusout"&&(D=p._wrapperState)&&D.controlled&&p.type==="number"&&Xx(p,"number",p.value)}switch(D=u?kc(u):window,t){case"focusin":(WN(D)||D.contentEditable==="true")&&(jc=D,cw=u,Wd=null);break;case"focusout":Wd=cw=jc=null;break;case"mousedown":uw=!0;break;case"contextmenu":case"mouseup":case"dragend":uw=!1,YN(f,n,d);break;case"selectionchange":if($3)break;case"keydown":case"keyup":YN(f,n,d)}var S;if(Eb)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Sc?_I(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(bI&&n.locale!=="ko"&&(Sc||N!=="onCompositionStart"?N==="onCompositionEnd"&&Sc&&(S=wI()):(Ko=d,wb="value"in Ko?Ko.value:Ko.textContent,Sc=!0)),D=_p(u,N),0<D.length&&(N=new $N(N,t,null,n,d),f.push({event:N,listeners:D}),S?N.data=S:(S=EI(n),S!==null&&(N.data=S)))),(S=k3?T3(t,n):I3(t,n))&&(u=_p(u,"onBeforeInput"),0<u.length&&(d=new $N("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=S))}OI(f,e)})}function ph(t,e,n){return{instance:t,listener:e,currentTarget:n}}function _p(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=lh(t,n),i!=null&&r.unshift(ph(t,i,s)),i=lh(t,e),i!=null&&r.push(ph(t,i,s))),t=t.return}return r}function cc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ZN(t,e,n,r,s){for(var i=e._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=lh(n,i),c!=null&&a.unshift(ph(n,c,l))):s||(c=lh(n,i),c!=null&&a.push(ph(n,c,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var W3=/\r\n?/g,H3=/\u0000|\uFFFD/g;function JN(t){return(typeof t=="string"?t:""+t).replace(W3,`
`).replace(H3,"")}function fm(t,e,n){if(e=JN(e),JN(t)!==e&&n)throw Error(xe(425))}function Ep(){}var dw=null,hw=null;function fw(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var mw=typeof setTimeout=="function"?setTimeout:void 0,q3=typeof clearTimeout=="function"?clearTimeout:void 0,eS=typeof Promise=="function"?Promise:void 0,G3=typeof queueMicrotask=="function"?queueMicrotask:typeof eS<"u"?function(t){return eS.resolve(null).then(t).catch(K3)}:mw;function K3(t){setTimeout(function(){throw t})}function Wy(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),dh(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);dh(e)}function ra(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function tS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ou=Math.random().toString(36).slice(2),hi="__reactFiber$"+Ou,gh="__reactProps$"+Ou,ro="__reactContainer$"+Ou,pw="__reactEvents$"+Ou,Y3="__reactListeners$"+Ou,Q3="__reactHandles$"+Ou;function ul(t){var e=t[hi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ro]||n[hi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=tS(t);t!==null;){if(n=t[hi])return n;t=tS(t)}return e}t=n,n=t.parentNode}return null}function tf(t){return t=t[hi]||t[ro],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function kc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(xe(33))}function Bg(t){return t[gh]||null}var gw=[],Tc=-1;function Fa(t){return{current:t}}function Wt(t){0>Tc||(t.current=gw[Tc],gw[Tc]=null,Tc--)}function Ft(t,e){Tc++,gw[Tc]=t.current,t.current=e}var wa={},dr=Fa(wa),Lr=Fa(!1),Sl=wa;function cu(t,e){var n=t.type.contextTypes;if(!n)return wa;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Fr(t){return t=t.childContextTypes,t!=null}function Np(){Wt(Lr),Wt(dr)}function nS(t,e,n){if(dr.current!==wa)throw Error(xe(168));Ft(dr,e),Ft(Lr,n)}function LI(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(xe(108,D5(t)||"Unknown",s));return Xt({},n,r)}function Sp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||wa,Sl=dr.current,Ft(dr,t),Ft(Lr,Lr.current),!0}function rS(t,e,n){var r=t.stateNode;if(!r)throw Error(xe(169));n?(t=LI(t,e,Sl),r.__reactInternalMemoizedMergedChildContext=t,Wt(Lr),Wt(dr),Ft(dr,t)):Wt(Lr),Ft(Lr,n)}var Hi=null,zg=!1,Hy=!1;function FI(t){Hi===null?Hi=[t]:Hi.push(t)}function X3(t){zg=!0,FI(t)}function Va(){if(!Hy&&Hi!==null){Hy=!0;var t=0,e=Pt;try{var n=Hi;for(Pt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Hi=null,zg=!1}catch(s){throw Hi!==null&&(Hi=Hi.slice(t+1)),cI(gb,Va),s}finally{Pt=e,Hy=!1}}return null}var Ic=[],Rc=0,jp=null,Cp=0,ls=[],cs=0,jl=null,Ki=1,Yi="";function rl(t,e){Ic[Rc++]=Cp,Ic[Rc++]=jp,jp=t,Cp=e}function VI(t,e,n){ls[cs++]=Ki,ls[cs++]=Yi,ls[cs++]=jl,jl=t;var r=Ki;t=Yi;var s=32-Fs(r)-1;r&=~(1<<s),n+=1;var i=32-Fs(e)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Ki=1<<32-Fs(e)+s|n<<s|r,Yi=i+t}else Ki=1<<i|n<<s|r,Yi=t}function Sb(t){t.return!==null&&(rl(t,1),VI(t,1,0))}function jb(t){for(;t===jp;)jp=Ic[--Rc],Ic[Rc]=null,Cp=Ic[--Rc],Ic[Rc]=null;for(;t===jl;)jl=ls[--cs],ls[cs]=null,Yi=ls[--cs],ls[cs]=null,Ki=ls[--cs],ls[cs]=null}var Jr=null,Xr=null,qt=!1,As=null;function $I(t,e){var n=ds(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function sS(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Jr=t,Xr=ra(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Jr=t,Xr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=jl!==null?{id:Ki,overflow:Yi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ds(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Jr=t,Xr=null,!0):!1;default:return!1}}function vw(t){return(t.mode&1)!==0&&(t.flags&128)===0}function yw(t){if(qt){var e=Xr;if(e){var n=e;if(!sS(t,e)){if(vw(t))throw Error(xe(418));e=ra(n.nextSibling);var r=Jr;e&&sS(t,e)?$I(r,n):(t.flags=t.flags&-4097|2,qt=!1,Jr=t)}}else{if(vw(t))throw Error(xe(418));t.flags=t.flags&-4097|2,qt=!1,Jr=t}}}function iS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Jr=t}function mm(t){if(t!==Jr)return!1;if(!qt)return iS(t),qt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!fw(t.type,t.memoizedProps)),e&&(e=Xr)){if(vw(t))throw UI(),Error(xe(418));for(;e;)$I(t,e),e=ra(e.nextSibling)}if(iS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(xe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Xr=ra(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Xr=null}}else Xr=Jr?ra(t.stateNode.nextSibling):null;return!0}function UI(){for(var t=Xr;t;)t=ra(t.nextSibling)}function uu(){Xr=Jr=null,qt=!1}function Cb(t){As===null?As=[t]:As.push(t)}var Z3=go.ReactCurrentBatchConfig;function pd(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(xe(309));var r=n.stateNode}if(!r)throw Error(xe(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(xe(284));if(!n._owner)throw Error(xe(290,t))}return t}function pm(t,e){throw t=Object.prototype.toString.call(e),Error(xe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function oS(t){var e=t._init;return e(t._payload)}function BI(t){function e(b,x){if(t){var y=b.deletions;y===null?(b.deletions=[x],b.flags|=16):y.push(x)}}function n(b,x){if(!t)return null;for(;x!==null;)e(b,x),x=x.sibling;return null}function r(b,x){for(b=new Map;x!==null;)x.key!==null?b.set(x.key,x):b.set(x.index,x),x=x.sibling;return b}function s(b,x){return b=aa(b,x),b.index=0,b.sibling=null,b}function i(b,x,y){return b.index=y,t?(y=b.alternate,y!==null?(y=y.index,y<x?(b.flags|=2,x):y):(b.flags|=2,x)):(b.flags|=1048576,x)}function a(b){return t&&b.alternate===null&&(b.flags|=2),b}function l(b,x,y,j){return x===null||x.tag!==6?(x=Zy(y,b.mode,j),x.return=b,x):(x=s(x,y),x.return=b,x)}function c(b,x,y,j){var P=y.type;return P===Nc?d(b,x,y.props.children,j,y.key):x!==null&&(x.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Do&&oS(P)===x.type)?(j=s(x,y.props),j.ref=pd(b,x,y),j.return=b,j):(j=Ym(y.type,y.key,y.props,null,b.mode,j),j.ref=pd(b,x,y),j.return=b,j)}function u(b,x,y,j){return x===null||x.tag!==4||x.stateNode.containerInfo!==y.containerInfo||x.stateNode.implementation!==y.implementation?(x=Jy(y,b.mode,j),x.return=b,x):(x=s(x,y.children||[]),x.return=b,x)}function d(b,x,y,j,P){return x===null||x.tag!==7?(x=_l(y,b.mode,j,P),x.return=b,x):(x=s(x,y),x.return=b,x)}function f(b,x,y){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Zy(""+x,b.mode,y),x.return=b,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case sm:return y=Ym(x.type,x.key,x.props,null,b.mode,y),y.ref=pd(b,null,x),y.return=b,y;case Ec:return x=Jy(x,b.mode,y),x.return=b,x;case Do:var j=x._init;return f(b,j(x._payload),y)}if(kd(x)||ud(x))return x=_l(x,b.mode,y,null),x.return=b,x;pm(b,x)}return null}function p(b,x,y,j){var P=x!==null?x.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return P!==null?null:l(b,x,""+y,j);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case sm:return y.key===P?c(b,x,y,j):null;case Ec:return y.key===P?u(b,x,y,j):null;case Do:return P=y._init,p(b,x,P(y._payload),j)}if(kd(y)||ud(y))return P!==null?null:d(b,x,y,j,null);pm(b,y)}return null}function g(b,x,y,j,P){if(typeof j=="string"&&j!==""||typeof j=="number")return b=b.get(y)||null,l(x,b,""+j,P);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case sm:return b=b.get(j.key===null?y:j.key)||null,c(x,b,j,P);case Ec:return b=b.get(j.key===null?y:j.key)||null,u(x,b,j,P);case Do:var D=j._init;return g(b,x,y,D(j._payload),P)}if(kd(j)||ud(j))return b=b.get(y)||null,d(x,b,j,P,null);pm(x,j)}return null}function _(b,x,y,j){for(var P=null,D=null,S=x,N=x=0,T=null;S!==null&&N<y.length;N++){S.index>N?(T=S,S=null):T=S.sibling;var C=p(b,S,y[N],j);if(C===null){S===null&&(S=T);break}t&&S&&C.alternate===null&&e(b,S),x=i(C,x,N),D===null?P=C:D.sibling=C,D=C,S=T}if(N===y.length)return n(b,S),qt&&rl(b,N),P;if(S===null){for(;N<y.length;N++)S=f(b,y[N],j),S!==null&&(x=i(S,x,N),D===null?P=S:D.sibling=S,D=S);return qt&&rl(b,N),P}for(S=r(b,S);N<y.length;N++)T=g(S,b,N,y[N],j),T!==null&&(t&&T.alternate!==null&&S.delete(T.key===null?N:T.key),x=i(T,x,N),D===null?P=T:D.sibling=T,D=T);return t&&S.forEach(function(I){return e(b,I)}),qt&&rl(b,N),P}function v(b,x,y,j){var P=ud(y);if(typeof P!="function")throw Error(xe(150));if(y=P.call(y),y==null)throw Error(xe(151));for(var D=P=null,S=x,N=x=0,T=null,C=y.next();S!==null&&!C.done;N++,C=y.next()){S.index>N?(T=S,S=null):T=S.sibling;var I=p(b,S,C.value,j);if(I===null){S===null&&(S=T);break}t&&S&&I.alternate===null&&e(b,S),x=i(I,x,N),D===null?P=I:D.sibling=I,D=I,S=T}if(C.done)return n(b,S),qt&&rl(b,N),P;if(S===null){for(;!C.done;N++,C=y.next())C=f(b,C.value,j),C!==null&&(x=i(C,x,N),D===null?P=C:D.sibling=C,D=C);return qt&&rl(b,N),P}for(S=r(b,S);!C.done;N++,C=y.next())C=g(S,b,N,C.value,j),C!==null&&(t&&C.alternate!==null&&S.delete(C.key===null?N:C.key),x=i(C,x,N),D===null?P=C:D.sibling=C,D=C);return t&&S.forEach(function(A){return e(b,A)}),qt&&rl(b,N),P}function w(b,x,y,j){if(typeof y=="object"&&y!==null&&y.type===Nc&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case sm:e:{for(var P=y.key,D=x;D!==null;){if(D.key===P){if(P=y.type,P===Nc){if(D.tag===7){n(b,D.sibling),x=s(D,y.props.children),x.return=b,b=x;break e}}else if(D.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Do&&oS(P)===D.type){n(b,D.sibling),x=s(D,y.props),x.ref=pd(b,D,y),x.return=b,b=x;break e}n(b,D);break}else e(b,D);D=D.sibling}y.type===Nc?(x=_l(y.props.children,b.mode,j,y.key),x.return=b,b=x):(j=Ym(y.type,y.key,y.props,null,b.mode,j),j.ref=pd(b,x,y),j.return=b,b=j)}return a(b);case Ec:e:{for(D=y.key;x!==null;){if(x.key===D)if(x.tag===4&&x.stateNode.containerInfo===y.containerInfo&&x.stateNode.implementation===y.implementation){n(b,x.sibling),x=s(x,y.children||[]),x.return=b,b=x;break e}else{n(b,x);break}else e(b,x);x=x.sibling}x=Jy(y,b.mode,j),x.return=b,b=x}return a(b);case Do:return D=y._init,w(b,x,D(y._payload),j)}if(kd(y))return _(b,x,y,j);if(ud(y))return v(b,x,y,j);pm(b,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,x!==null&&x.tag===6?(n(b,x.sibling),x=s(x,y),x.return=b,b=x):(n(b,x),x=Zy(y,b.mode,j),x.return=b,b=x),a(b)):n(b,x)}return w}var du=BI(!0),zI=BI(!1),kp=Fa(null),Tp=null,Pc=null,kb=null;function Tb(){kb=Pc=Tp=null}function Ib(t){var e=kp.current;Wt(kp),t._currentValue=e}function xw(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Uc(t,e){Tp=t,kb=Pc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Or=!0),t.firstContext=null)}function ys(t){var e=t._currentValue;if(kb!==t)if(t={context:t,memoizedValue:e,next:null},Pc===null){if(Tp===null)throw Error(xe(308));Pc=t,Tp.dependencies={lanes:0,firstContext:t}}else Pc=Pc.next=t;return e}var dl=null;function Rb(t){dl===null?dl=[t]:dl.push(t)}function WI(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Rb(e)):(n.next=s.next,s.next=n),e.interleaved=n,so(t,r)}function so(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Oo=!1;function Pb(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function HI(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Zi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function sa(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,xt&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,so(t,n)}return s=r.interleaved,s===null?(e.next=e,Rb(r)):(e.next=s.next,s.next=e),r.interleaved=e,so(t,n)}function zm(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,vb(t,n)}}function aS(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ip(t,e,n,r){var s=t.updateQueue;Oo=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;a=0,d=u=c=null,l=i;do{var p=l.lane,g=l.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var _=t,v=l;switch(p=e,g=n,v.tag){case 1:if(_=v.payload,typeof _=="function"){f=_.call(g,f,p);break e}f=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=v.payload,p=typeof _=="function"?_.call(g,f,p):_,p==null)break e;f=Xt({},f,p);break e;case 2:Oo=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else g={eventTime:g,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=g,c=f):d=d.next=g,a|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);kl|=a,t.lanes=a,t.memoizedState=f}}function lS(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(xe(191,s));s.call(r)}}}var nf={},yi=Fa(nf),vh=Fa(nf),yh=Fa(nf);function hl(t){if(t===nf)throw Error(xe(174));return t}function Ab(t,e){switch(Ft(yh,e),Ft(vh,t),Ft(yi,nf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Jx(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Jx(e,t)}Wt(yi),Ft(yi,e)}function hu(){Wt(yi),Wt(vh),Wt(yh)}function qI(t){hl(yh.current);var e=hl(yi.current),n=Jx(e,t.type);e!==n&&(Ft(vh,t),Ft(yi,n))}function Db(t){vh.current===t&&(Wt(yi),Wt(vh))}var Kt=Fa(0);function Rp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var qy=[];function Ob(){for(var t=0;t<qy.length;t++)qy[t]._workInProgressVersionPrimary=null;qy.length=0}var Wm=go.ReactCurrentDispatcher,Gy=go.ReactCurrentBatchConfig,Cl=0,Qt=null,Nn=null,Pn=null,Pp=!1,Hd=!1,xh=0,J3=0;function nr(){throw Error(xe(321))}function Mb(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Bs(t[n],e[n]))return!1;return!0}function Lb(t,e,n,r,s,i){if(Cl=i,Qt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Wm.current=t===null||t.memoizedState===null?r6:s6,t=n(r,s),Hd){i=0;do{if(Hd=!1,xh=0,25<=i)throw Error(xe(301));i+=1,Pn=Nn=null,e.updateQueue=null,Wm.current=i6,t=n(r,s)}while(Hd)}if(Wm.current=Ap,e=Nn!==null&&Nn.next!==null,Cl=0,Pn=Nn=Qt=null,Pp=!1,e)throw Error(xe(300));return t}function Fb(){var t=xh!==0;return xh=0,t}function ai(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pn===null?Qt.memoizedState=Pn=t:Pn=Pn.next=t,Pn}function xs(){if(Nn===null){var t=Qt.alternate;t=t!==null?t.memoizedState:null}else t=Nn.next;var e=Pn===null?Qt.memoizedState:Pn.next;if(e!==null)Pn=e,Nn=t;else{if(t===null)throw Error(xe(310));Nn=t,t={memoizedState:Nn.memoizedState,baseState:Nn.baseState,baseQueue:Nn.baseQueue,queue:Nn.queue,next:null},Pn===null?Qt.memoizedState=Pn=t:Pn=Pn.next=t}return Pn}function wh(t,e){return typeof e=="function"?e(t):e}function Ky(t){var e=xs(),n=e.queue;if(n===null)throw Error(xe(311));n.lastRenderedReducer=t;var r=Nn,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=a=null,c=null,u=i;do{var d=u.lane;if((Cl&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,a=r):c=c.next=f,Qt.lanes|=d,kl|=d}u=u.next}while(u!==null&&u!==i);c===null?a=r:c.next=l,Bs(r,e.memoizedState)||(Or=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Qt.lanes|=i,kl|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Yy(t){var e=xs(),n=e.queue;if(n===null)throw Error(xe(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);Bs(i,e.memoizedState)||(Or=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function GI(){}function KI(t,e){var n=Qt,r=xs(),s=e(),i=!Bs(r.memoizedState,s);if(i&&(r.memoizedState=s,Or=!0),r=r.queue,Vb(XI.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Pn!==null&&Pn.memoizedState.tag&1){if(n.flags|=2048,bh(9,QI.bind(null,n,r,s,e),void 0,null),On===null)throw Error(xe(349));Cl&30||YI(n,e,s)}return s}function YI(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Qt.updateQueue,e===null?(e={lastEffect:null,stores:null},Qt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function QI(t,e,n,r){e.value=n,e.getSnapshot=r,ZI(e)&&JI(t)}function XI(t,e,n){return n(function(){ZI(e)&&JI(t)})}function ZI(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Bs(t,n)}catch{return!0}}function JI(t){var e=so(t,1);e!==null&&Vs(e,t,1,-1)}function cS(t){var e=ai();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wh,lastRenderedState:t},e.queue=t,t=t.dispatch=n6.bind(null,Qt,t),[e.memoizedState,t]}function bh(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Qt.updateQueue,e===null?(e={lastEffect:null,stores:null},Qt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function eR(){return xs().memoizedState}function Hm(t,e,n,r){var s=ai();Qt.flags|=t,s.memoizedState=bh(1|e,n,void 0,r===void 0?null:r)}function Wg(t,e,n,r){var s=xs();r=r===void 0?null:r;var i=void 0;if(Nn!==null){var a=Nn.memoizedState;if(i=a.destroy,r!==null&&Mb(r,a.deps)){s.memoizedState=bh(e,n,i,r);return}}Qt.flags|=t,s.memoizedState=bh(1|e,n,i,r)}function uS(t,e){return Hm(8390656,8,t,e)}function Vb(t,e){return Wg(2048,8,t,e)}function tR(t,e){return Wg(4,2,t,e)}function nR(t,e){return Wg(4,4,t,e)}function rR(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function sR(t,e,n){return n=n!=null?n.concat([t]):null,Wg(4,4,rR.bind(null,e,t),n)}function $b(){}function iR(t,e){var n=xs();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Mb(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function oR(t,e){var n=xs();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Mb(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function aR(t,e,n){return Cl&21?(Bs(n,e)||(n=hI(),Qt.lanes|=n,kl|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Or=!0),t.memoizedState=n)}function e6(t,e){var n=Pt;Pt=n!==0&&4>n?n:4,t(!0);var r=Gy.transition;Gy.transition={};try{t(!1),e()}finally{Pt=n,Gy.transition=r}}function lR(){return xs().memoizedState}function t6(t,e,n){var r=oa(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},cR(t))uR(e,n);else if(n=WI(t,e,n,r),n!==null){var s=xr();Vs(n,t,r,s),dR(n,e,r)}}function n6(t,e,n){var r=oa(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(cR(t))uR(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,l=i(a,n);if(s.hasEagerState=!0,s.eagerState=l,Bs(l,a)){var c=e.interleaved;c===null?(s.next=s,Rb(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=WI(t,e,s,r),n!==null&&(s=xr(),Vs(n,t,r,s),dR(n,e,r))}}function cR(t){var e=t.alternate;return t===Qt||e!==null&&e===Qt}function uR(t,e){Hd=Pp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function dR(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,vb(t,n)}}var Ap={readContext:ys,useCallback:nr,useContext:nr,useEffect:nr,useImperativeHandle:nr,useInsertionEffect:nr,useLayoutEffect:nr,useMemo:nr,useReducer:nr,useRef:nr,useState:nr,useDebugValue:nr,useDeferredValue:nr,useTransition:nr,useMutableSource:nr,useSyncExternalStore:nr,useId:nr,unstable_isNewReconciler:!1},r6={readContext:ys,useCallback:function(t,e){return ai().memoizedState=[t,e===void 0?null:e],t},useContext:ys,useEffect:uS,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Hm(4194308,4,rR.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Hm(4194308,4,t,e)},useInsertionEffect:function(t,e){return Hm(4,2,t,e)},useMemo:function(t,e){var n=ai();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ai();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=t6.bind(null,Qt,t),[r.memoizedState,t]},useRef:function(t){var e=ai();return t={current:t},e.memoizedState=t},useState:cS,useDebugValue:$b,useDeferredValue:function(t){return ai().memoizedState=t},useTransition:function(){var t=cS(!1),e=t[0];return t=e6.bind(null,t[1]),ai().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Qt,s=ai();if(qt){if(n===void 0)throw Error(xe(407));n=n()}else{if(n=e(),On===null)throw Error(xe(349));Cl&30||YI(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,uS(XI.bind(null,r,i,t),[t]),r.flags|=2048,bh(9,QI.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=ai(),e=On.identifierPrefix;if(qt){var n=Yi,r=Ki;n=(r&~(1<<32-Fs(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=xh++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=J3++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},s6={readContext:ys,useCallback:iR,useContext:ys,useEffect:Vb,useImperativeHandle:sR,useInsertionEffect:tR,useLayoutEffect:nR,useMemo:oR,useReducer:Ky,useRef:eR,useState:function(){return Ky(wh)},useDebugValue:$b,useDeferredValue:function(t){var e=xs();return aR(e,Nn.memoizedState,t)},useTransition:function(){var t=Ky(wh)[0],e=xs().memoizedState;return[t,e]},useMutableSource:GI,useSyncExternalStore:KI,useId:lR,unstable_isNewReconciler:!1},i6={readContext:ys,useCallback:iR,useContext:ys,useEffect:Vb,useImperativeHandle:sR,useInsertionEffect:tR,useLayoutEffect:nR,useMemo:oR,useReducer:Yy,useRef:eR,useState:function(){return Yy(wh)},useDebugValue:$b,useDeferredValue:function(t){var e=xs();return Nn===null?e.memoizedState=t:aR(e,Nn.memoizedState,t)},useTransition:function(){var t=Yy(wh)[0],e=xs().memoizedState;return[t,e]},useMutableSource:GI,useSyncExternalStore:KI,useId:lR,unstable_isNewReconciler:!1};function ks(t,e){if(t&&t.defaultProps){e=Xt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ww(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Xt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Hg={isMounted:function(t){return(t=t._reactInternals)?Yl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=xr(),s=oa(t),i=Zi(r,s);i.payload=e,n!=null&&(i.callback=n),e=sa(t,i,s),e!==null&&(Vs(e,t,s,r),zm(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=xr(),s=oa(t),i=Zi(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=sa(t,i,s),e!==null&&(Vs(e,t,s,r),zm(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=xr(),r=oa(t),s=Zi(n,r);s.tag=2,e!=null&&(s.callback=e),e=sa(t,s,r),e!==null&&(Vs(e,t,r,n),zm(e,t,r))}};function dS(t,e,n,r,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!fh(n,r)||!fh(s,i):!0}function hR(t,e,n){var r=!1,s=wa,i=e.contextType;return typeof i=="object"&&i!==null?i=ys(i):(s=Fr(e)?Sl:dr.current,r=e.contextTypes,i=(r=r!=null)?cu(t,s):wa),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Hg,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function hS(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Hg.enqueueReplaceState(e,e.state,null)}function bw(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Pb(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=ys(i):(i=Fr(e)?Sl:dr.current,s.context=cu(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(ww(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Hg.enqueueReplaceState(s,s.state,null),Ip(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function fu(t,e){try{var n="",r=e;do n+=A5(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Qy(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function _w(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var o6=typeof WeakMap=="function"?WeakMap:Map;function fR(t,e,n){n=Zi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Op||(Op=!0,Pw=r),_w(t,e)},n}function mR(t,e,n){n=Zi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){_w(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){_w(t,e),typeof r!="function"&&(ia===null?ia=new Set([this]):ia.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function fS(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new o6;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=w6.bind(null,t,e,n),e.then(t,t))}function mS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function pS(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Zi(-1,1),e.tag=2,sa(n,e,1))),n.lanes|=1),t)}var a6=go.ReactCurrentOwner,Or=!1;function pr(t,e,n,r){e.child=t===null?zI(e,null,n,r):du(e,t.child,n,r)}function gS(t,e,n,r,s){n=n.render;var i=e.ref;return Uc(e,s),r=Lb(t,e,n,r,i,s),n=Fb(),t!==null&&!Or?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,io(t,e,s)):(qt&&n&&Sb(e),e.flags|=1,pr(t,e,r,s),e.child)}function vS(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Kb(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,pR(t,e,i,r,s)):(t=Ym(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:fh,n(a,r)&&t.ref===e.ref)return io(t,e,s)}return e.flags|=1,t=aa(i,r),t.ref=e.ref,t.return=e,e.child=t}function pR(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(fh(i,r)&&t.ref===e.ref)if(Or=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Or=!0);else return e.lanes=t.lanes,io(t,e,s)}return Ew(t,e,n,r,s)}function gR(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ft(Dc,qr),qr|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ft(Dc,qr),qr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ft(Dc,qr),qr|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ft(Dc,qr),qr|=r;return pr(t,e,s,n),e.child}function vR(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ew(t,e,n,r,s){var i=Fr(n)?Sl:dr.current;return i=cu(e,i),Uc(e,s),n=Lb(t,e,n,r,i,s),r=Fb(),t!==null&&!Or?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,io(t,e,s)):(qt&&r&&Sb(e),e.flags|=1,pr(t,e,n,s),e.child)}function yS(t,e,n,r,s){if(Fr(n)){var i=!0;Sp(e)}else i=!1;if(Uc(e,s),e.stateNode===null)qm(t,e),hR(e,n,r),bw(e,n,r,s),r=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=ys(u):(u=Fr(n)?Sl:dr.current,u=cu(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==u)&&hS(e,a,r,u),Oo=!1;var p=e.memoizedState;a.state=p,Ip(e,r,a,s),c=e.memoizedState,l!==r||p!==c||Lr.current||Oo?(typeof d=="function"&&(ww(e,n,d,r),c=e.memoizedState),(l=Oo||dS(e,n,l,r,p,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,HI(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:ks(e.type,l),a.props=u,f=e.pendingProps,p=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=ys(c):(c=Fr(n)?Sl:dr.current,c=cu(e,c));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||p!==c)&&hS(e,a,r,c),Oo=!1,p=e.memoizedState,a.state=p,Ip(e,r,a,s);var _=e.memoizedState;l!==f||p!==_||Lr.current||Oo?(typeof g=="function"&&(ww(e,n,g,r),_=e.memoizedState),(u=Oo||dS(e,n,u,r,p,_,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,_,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,_,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),a.props=r,a.state=_,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Nw(t,e,n,r,i,s)}function Nw(t,e,n,r,s,i){vR(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&rS(e,n,!1),io(t,e,i);r=e.stateNode,a6.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=du(e,t.child,null,i),e.child=du(e,null,l,i)):pr(t,e,l,i),e.memoizedState=r.state,s&&rS(e,n,!0),e.child}function yR(t){var e=t.stateNode;e.pendingContext?nS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&nS(t,e.context,!1),Ab(t,e.containerInfo)}function xS(t,e,n,r,s){return uu(),Cb(s),e.flags|=256,pr(t,e,n,r),e.child}var Sw={dehydrated:null,treeContext:null,retryLane:0};function jw(t){return{baseLanes:t,cachePool:null,transitions:null}}function xR(t,e,n){var r=e.pendingProps,s=Kt.current,i=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ft(Kt,s&1),t===null)return yw(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Kg(a,r,0,null),t=_l(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=jw(n),e.memoizedState=Sw,t):Ub(e,a));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return l6(t,e,a,r,l,s,n);if(i){i=r.fallback,a=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=aa(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=aa(l,i):(i=_l(i,a,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=t.child.memoizedState,a=a===null?jw(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~n,e.memoizedState=Sw,r}return i=t.child,t=i.sibling,r=aa(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ub(t,e){return e=Kg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function gm(t,e,n,r){return r!==null&&Cb(r),du(e,t.child,null,n),t=Ub(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function l6(t,e,n,r,s,i,a){if(n)return e.flags&256?(e.flags&=-257,r=Qy(Error(xe(422))),gm(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Kg({mode:"visible",children:r.children},s,0,null),i=_l(i,s,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&du(e,t.child,null,a),e.child.memoizedState=jw(a),e.memoizedState=Sw,i);if(!(e.mode&1))return gm(t,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(xe(419)),r=Qy(i,r,void 0),gm(t,e,a,r)}if(l=(a&t.childLanes)!==0,Or||l){if(r=On,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,so(t,s),Vs(r,t,s,-1))}return Gb(),r=Qy(Error(xe(421))),gm(t,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=b6.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Xr=ra(s.nextSibling),Jr=e,qt=!0,As=null,t!==null&&(ls[cs++]=Ki,ls[cs++]=Yi,ls[cs++]=jl,Ki=t.id,Yi=t.overflow,jl=e),e=Ub(e,r.children),e.flags|=4096,e)}function wS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),xw(t.return,e,n)}function Xy(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function wR(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(pr(t,e,r.children,n),r=Kt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wS(t,n,e);else if(t.tag===19)wS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ft(Kt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Rp(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Xy(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Rp(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Xy(e,!0,n,null,i);break;case"together":Xy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function qm(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function io(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),kl|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(xe(153));if(e.child!==null){for(t=e.child,n=aa(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=aa(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function c6(t,e,n){switch(e.tag){case 3:yR(e),uu();break;case 5:qI(e);break;case 1:Fr(e.type)&&Sp(e);break;case 4:Ab(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ft(kp,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ft(Kt,Kt.current&1),e.flags|=128,null):n&e.child.childLanes?xR(t,e,n):(Ft(Kt,Kt.current&1),t=io(t,e,n),t!==null?t.sibling:null);Ft(Kt,Kt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return wR(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ft(Kt,Kt.current),r)break;return null;case 22:case 23:return e.lanes=0,gR(t,e,n)}return io(t,e,n)}var bR,Cw,_R,ER;bR=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Cw=function(){};_R=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,hl(yi.current);var i=null;switch(n){case"input":s=Yx(t,s),r=Yx(t,r),i=[];break;case"select":s=Xt({},s,{value:void 0}),r=Xt({},r,{value:void 0}),i=[];break;case"textarea":s=Zx(t,s),r=Zx(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ep)}ew(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(oh.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(oh.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&zt("scroll",t),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};ER=function(t,e,n,r){n!==r&&(e.flags|=4)};function gd(t,e){if(!qt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function rr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function u6(t,e,n){var r=e.pendingProps;switch(jb(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rr(e),null;case 1:return Fr(e.type)&&Np(),rr(e),null;case 3:return r=e.stateNode,hu(),Wt(Lr),Wt(dr),Ob(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(mm(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,As!==null&&(Ow(As),As=null))),Cw(t,e),rr(e),null;case 5:Db(e);var s=hl(yh.current);if(n=e.type,t!==null&&e.stateNode!=null)_R(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(xe(166));return rr(e),null}if(t=hl(yi.current),mm(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[hi]=e,r[gh]=i,t=(e.mode&1)!==0,n){case"dialog":zt("cancel",r),zt("close",r);break;case"iframe":case"object":case"embed":zt("load",r);break;case"video":case"audio":for(s=0;s<Id.length;s++)zt(Id[s],r);break;case"source":zt("error",r);break;case"img":case"image":case"link":zt("error",r),zt("load",r);break;case"details":zt("toggle",r);break;case"input":TN(r,i),zt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},zt("invalid",r);break;case"textarea":RN(r,i),zt("invalid",r)}ew(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&fm(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&fm(r.textContent,l,t),s=["children",""+l]):oh.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&zt("scroll",r)}switch(n){case"input":im(r),IN(r,i,!0);break;case"textarea":im(r),PN(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ep)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=XT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[hi]=e,t[gh]=r,bR(t,e,!1,!1),e.stateNode=t;e:{switch(a=tw(n,r),n){case"dialog":zt("cancel",t),zt("close",t),s=r;break;case"iframe":case"object":case"embed":zt("load",t),s=r;break;case"video":case"audio":for(s=0;s<Id.length;s++)zt(Id[s],t);s=r;break;case"source":zt("error",t),s=r;break;case"img":case"image":case"link":zt("error",t),zt("load",t),s=r;break;case"details":zt("toggle",t),s=r;break;case"input":TN(t,r),s=Yx(t,r),zt("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Xt({},r,{value:void 0}),zt("invalid",t);break;case"textarea":RN(t,r),s=Zx(t,r),zt("invalid",t);break;default:s=r}ew(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?eI(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&ZT(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&ah(t,c):typeof c=="number"&&ah(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(oh.hasOwnProperty(i)?c!=null&&i==="onScroll"&&zt("scroll",t):c!=null&&db(t,i,c,a))}switch(n){case"input":im(t),IN(t,r,!1);break;case"textarea":im(t),PN(t);break;case"option":r.value!=null&&t.setAttribute("value",""+xa(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Lc(t,!!r.multiple,i,!1):r.defaultValue!=null&&Lc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Ep)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return rr(e),null;case 6:if(t&&e.stateNode!=null)ER(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(xe(166));if(n=hl(yh.current),hl(yi.current),mm(e)){if(r=e.stateNode,n=e.memoizedProps,r[hi]=e,(i=r.nodeValue!==n)&&(t=Jr,t!==null))switch(t.tag){case 3:fm(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&fm(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[hi]=e,e.stateNode=r}return rr(e),null;case 13:if(Wt(Kt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(qt&&Xr!==null&&e.mode&1&&!(e.flags&128))UI(),uu(),e.flags|=98560,i=!1;else if(i=mm(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(xe(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(xe(317));i[hi]=e}else uu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;rr(e),i=!1}else As!==null&&(Ow(As),As=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Kt.current&1?jn===0&&(jn=3):Gb())),e.updateQueue!==null&&(e.flags|=4),rr(e),null);case 4:return hu(),Cw(t,e),t===null&&mh(e.stateNode.containerInfo),rr(e),null;case 10:return Ib(e.type._context),rr(e),null;case 17:return Fr(e.type)&&Np(),rr(e),null;case 19:if(Wt(Kt),i=e.memoizedState,i===null)return rr(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)gd(i,!1);else{if(jn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Rp(t),a!==null){for(e.flags|=128,gd(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ft(Kt,Kt.current&1|2),e.child}t=t.sibling}i.tail!==null&&un()>mu&&(e.flags|=128,r=!0,gd(i,!1),e.lanes=4194304)}else{if(!r)if(t=Rp(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),gd(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!qt)return rr(e),null}else 2*un()-i.renderingStartTime>mu&&n!==1073741824&&(e.flags|=128,r=!0,gd(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=un(),e.sibling=null,n=Kt.current,Ft(Kt,r?n&1|2:n&1),e):(rr(e),null);case 22:case 23:return qb(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?qr&1073741824&&(rr(e),e.subtreeFlags&6&&(e.flags|=8192)):rr(e),null;case 24:return null;case 25:return null}throw Error(xe(156,e.tag))}function d6(t,e){switch(jb(e),e.tag){case 1:return Fr(e.type)&&Np(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return hu(),Wt(Lr),Wt(dr),Ob(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Db(e),null;case 13:if(Wt(Kt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(xe(340));uu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Wt(Kt),null;case 4:return hu(),null;case 10:return Ib(e.type._context),null;case 22:case 23:return qb(),null;case 24:return null;default:return null}}var vm=!1,ar=!1,h6=typeof WeakSet=="function"?WeakSet:Set,Me=null;function Ac(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){rn(t,e,r)}else n.current=null}function kw(t,e,n){try{n()}catch(r){rn(t,e,r)}}var bS=!1;function f6(t,e){if(dw=wp,t=kI(),Nb(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,f=t,p=null;t:for(;;){for(var g;f!==n||s!==0&&f.nodeType!==3||(l=a+s),f!==i||r!==0&&f.nodeType!==3||(c=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(g=f.firstChild)!==null;)p=f,f=g;for(;;){if(f===t)break t;if(p===n&&++u===s&&(l=a),p===i&&++d===r&&(c=a),(g=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=g}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(hw={focusedElem:t,selectionRange:n},wp=!1,Me=e;Me!==null;)if(e=Me,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Me=t;else for(;Me!==null;){e=Me;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var v=_.memoizedProps,w=_.memoizedState,b=e.stateNode,x=b.getSnapshotBeforeUpdate(e.elementType===e.type?v:ks(e.type,v),w);b.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(xe(163))}}catch(j){rn(e,e.return,j)}if(t=e.sibling,t!==null){t.return=e.return,Me=t;break}Me=e.return}return _=bS,bS=!1,_}function qd(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&kw(e,n,i)}s=s.next}while(s!==r)}}function qg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Tw(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function NR(t){var e=t.alternate;e!==null&&(t.alternate=null,NR(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[hi],delete e[gh],delete e[pw],delete e[Y3],delete e[Q3])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function SR(t){return t.tag===5||t.tag===3||t.tag===4}function _S(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||SR(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Iw(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ep));else if(r!==4&&(t=t.child,t!==null))for(Iw(t,e,n),t=t.sibling;t!==null;)Iw(t,e,n),t=t.sibling}function Rw(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Rw(t,e,n),t=t.sibling;t!==null;)Rw(t,e,n),t=t.sibling}var $n=null,Ps=!1;function Co(t,e,n){for(n=n.child;n!==null;)jR(t,e,n),n=n.sibling}function jR(t,e,n){if(vi&&typeof vi.onCommitFiberUnmount=="function")try{vi.onCommitFiberUnmount(Fg,n)}catch{}switch(n.tag){case 5:ar||Ac(n,e);case 6:var r=$n,s=Ps;$n=null,Co(t,e,n),$n=r,Ps=s,$n!==null&&(Ps?(t=$n,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):$n.removeChild(n.stateNode));break;case 18:$n!==null&&(Ps?(t=$n,n=n.stateNode,t.nodeType===8?Wy(t.parentNode,n):t.nodeType===1&&Wy(t,n),dh(t)):Wy($n,n.stateNode));break;case 4:r=$n,s=Ps,$n=n.stateNode.containerInfo,Ps=!0,Co(t,e,n),$n=r,Ps=s;break;case 0:case 11:case 14:case 15:if(!ar&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&kw(n,e,a),s=s.next}while(s!==r)}Co(t,e,n);break;case 1:if(!ar&&(Ac(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){rn(n,e,l)}Co(t,e,n);break;case 21:Co(t,e,n);break;case 22:n.mode&1?(ar=(r=ar)||n.memoizedState!==null,Co(t,e,n),ar=r):Co(t,e,n);break;default:Co(t,e,n)}}function ES(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new h6),e.forEach(function(r){var s=_6.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ss(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:$n=l.stateNode,Ps=!1;break e;case 3:$n=l.stateNode.containerInfo,Ps=!0;break e;case 4:$n=l.stateNode.containerInfo,Ps=!0;break e}l=l.return}if($n===null)throw Error(xe(160));jR(i,a,s),$n=null,Ps=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){rn(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)CR(e,t),e=e.sibling}function CR(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ss(e,t),ii(t),r&4){try{qd(3,t,t.return),qg(3,t)}catch(v){rn(t,t.return,v)}try{qd(5,t,t.return)}catch(v){rn(t,t.return,v)}}break;case 1:Ss(e,t),ii(t),r&512&&n!==null&&Ac(n,n.return);break;case 5:if(Ss(e,t),ii(t),r&512&&n!==null&&Ac(n,n.return),t.flags&32){var s=t.stateNode;try{ah(s,"")}catch(v){rn(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&YT(s,i),tw(l,a);var u=tw(l,i);for(a=0;a<c.length;a+=2){var d=c[a],f=c[a+1];d==="style"?eI(s,f):d==="dangerouslySetInnerHTML"?ZT(s,f):d==="children"?ah(s,f):db(s,d,f,u)}switch(l){case"input":Qx(s,i);break;case"textarea":QT(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Lc(s,!!i.multiple,g,!1):p!==!!i.multiple&&(i.defaultValue!=null?Lc(s,!!i.multiple,i.defaultValue,!0):Lc(s,!!i.multiple,i.multiple?[]:"",!1))}s[gh]=i}catch(v){rn(t,t.return,v)}}break;case 6:if(Ss(e,t),ii(t),r&4){if(t.stateNode===null)throw Error(xe(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){rn(t,t.return,v)}}break;case 3:if(Ss(e,t),ii(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{dh(e.containerInfo)}catch(v){rn(t,t.return,v)}break;case 4:Ss(e,t),ii(t);break;case 13:Ss(e,t),ii(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Wb=un())),r&4&&ES(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(ar=(u=ar)||d,Ss(e,t),ar=u):Ss(e,t),ii(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Me=t,d=t.child;d!==null;){for(f=Me=d;Me!==null;){switch(p=Me,g=p.child,p.tag){case 0:case 11:case 14:case 15:qd(4,p,p.return);break;case 1:Ac(p,p.return);var _=p.stateNode;if(typeof _.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(v){rn(r,n,v)}}break;case 5:Ac(p,p.return);break;case 22:if(p.memoizedState!==null){SS(f);continue}}g!==null?(g.return=p,Me=g):SS(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=JT("display",a))}catch(v){rn(t,t.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){rn(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ss(e,t),ii(t),r&4&&ES(t);break;case 21:break;default:Ss(e,t),ii(t)}}function ii(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(SR(n)){var r=n;break e}n=n.return}throw Error(xe(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ah(s,""),r.flags&=-33);var i=_S(t);Rw(t,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=_S(t);Iw(t,l,a);break;default:throw Error(xe(161))}}catch(c){rn(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function m6(t,e,n){Me=t,kR(t)}function kR(t,e,n){for(var r=(t.mode&1)!==0;Me!==null;){var s=Me,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||vm;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||ar;l=vm;var u=ar;if(vm=a,(ar=c)&&!u)for(Me=s;Me!==null;)a=Me,c=a.child,a.tag===22&&a.memoizedState!==null?jS(s):c!==null?(c.return=a,Me=c):jS(s);for(;i!==null;)Me=i,kR(i),i=i.sibling;Me=s,vm=l,ar=u}NS(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Me=i):NS(t)}}function NS(t){for(;Me!==null;){var e=Me;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ar||qg(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ar)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:ks(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&lS(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}lS(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&dh(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(xe(163))}ar||e.flags&512&&Tw(e)}catch(p){rn(e,e.return,p)}}if(e===t){Me=null;break}if(n=e.sibling,n!==null){n.return=e.return,Me=n;break}Me=e.return}}function SS(t){for(;Me!==null;){var e=Me;if(e===t){Me=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Me=n;break}Me=e.return}}function jS(t){for(;Me!==null;){var e=Me;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{qg(4,e)}catch(c){rn(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){rn(e,s,c)}}var i=e.return;try{Tw(e)}catch(c){rn(e,i,c)}break;case 5:var a=e.return;try{Tw(e)}catch(c){rn(e,a,c)}}}catch(c){rn(e,e.return,c)}if(e===t){Me=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Me=l;break}Me=e.return}}var p6=Math.ceil,Dp=go.ReactCurrentDispatcher,Bb=go.ReactCurrentOwner,fs=go.ReactCurrentBatchConfig,xt=0,On=null,pn=null,zn=0,qr=0,Dc=Fa(0),jn=0,_h=null,kl=0,Gg=0,zb=0,Gd=null,Ar=null,Wb=0,mu=1/0,Wi=null,Op=!1,Pw=null,ia=null,ym=!1,Yo=null,Mp=0,Kd=0,Aw=null,Gm=-1,Km=0;function xr(){return xt&6?un():Gm!==-1?Gm:Gm=un()}function oa(t){return t.mode&1?xt&2&&zn!==0?zn&-zn:Z3.transition!==null?(Km===0&&(Km=hI()),Km):(t=Pt,t!==0||(t=window.event,t=t===void 0?16:xI(t.type)),t):1}function Vs(t,e,n,r){if(50<Kd)throw Kd=0,Aw=null,Error(xe(185));Jh(t,n,r),(!(xt&2)||t!==On)&&(t===On&&(!(xt&2)&&(Gg|=n),jn===4&&Fo(t,zn)),Vr(t,r),n===1&&xt===0&&!(e.mode&1)&&(mu=un()+500,zg&&Va()))}function Vr(t,e){var n=t.callbackNode;Z5(t,e);var r=xp(t,t===On?zn:0);if(r===0)n!==null&&ON(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&ON(n),e===1)t.tag===0?X3(CS.bind(null,t)):FI(CS.bind(null,t)),G3(function(){!(xt&6)&&Va()}),n=null;else{switch(fI(r)){case 1:n=gb;break;case 4:n=uI;break;case 16:n=yp;break;case 536870912:n=dI;break;default:n=yp}n=MR(n,TR.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function TR(t,e){if(Gm=-1,Km=0,xt&6)throw Error(xe(327));var n=t.callbackNode;if(Bc()&&t.callbackNode!==n)return null;var r=xp(t,t===On?zn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Lp(t,r);else{e=r;var s=xt;xt|=2;var i=RR();(On!==t||zn!==e)&&(Wi=null,mu=un()+500,bl(t,e));do try{y6();break}catch(l){IR(t,l)}while(!0);Tb(),Dp.current=i,xt=s,pn!==null?e=0:(On=null,zn=0,e=jn)}if(e!==0){if(e===2&&(s=ow(t),s!==0&&(r=s,e=Dw(t,s))),e===1)throw n=_h,bl(t,0),Fo(t,r),Vr(t,un()),n;if(e===6)Fo(t,r);else{if(s=t.current.alternate,!(r&30)&&!g6(s)&&(e=Lp(t,r),e===2&&(i=ow(t),i!==0&&(r=i,e=Dw(t,i))),e===1))throw n=_h,bl(t,0),Fo(t,r),Vr(t,un()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(xe(345));case 2:sl(t,Ar,Wi);break;case 3:if(Fo(t,r),(r&130023424)===r&&(e=Wb+500-un(),10<e)){if(xp(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){xr(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=mw(sl.bind(null,t,Ar,Wi),e);break}sl(t,Ar,Wi);break;case 4:if(Fo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var a=31-Fs(r);i=1<<a,a=e[a],a>s&&(s=a),r&=~i}if(r=s,r=un()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*p6(r/1960))-r,10<r){t.timeoutHandle=mw(sl.bind(null,t,Ar,Wi),r);break}sl(t,Ar,Wi);break;case 5:sl(t,Ar,Wi);break;default:throw Error(xe(329))}}}return Vr(t,un()),t.callbackNode===n?TR.bind(null,t):null}function Dw(t,e){var n=Gd;return t.current.memoizedState.isDehydrated&&(bl(t,e).flags|=256),t=Lp(t,e),t!==2&&(e=Ar,Ar=n,e!==null&&Ow(e)),t}function Ow(t){Ar===null?Ar=t:Ar.push.apply(Ar,t)}function g6(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Bs(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Fo(t,e){for(e&=~zb,e&=~Gg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Fs(e),r=1<<n;t[n]=-1,e&=~r}}function CS(t){if(xt&6)throw Error(xe(327));Bc();var e=xp(t,0);if(!(e&1))return Vr(t,un()),null;var n=Lp(t,e);if(t.tag!==0&&n===2){var r=ow(t);r!==0&&(e=r,n=Dw(t,r))}if(n===1)throw n=_h,bl(t,0),Fo(t,e),Vr(t,un()),n;if(n===6)throw Error(xe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,sl(t,Ar,Wi),Vr(t,un()),null}function Hb(t,e){var n=xt;xt|=1;try{return t(e)}finally{xt=n,xt===0&&(mu=un()+500,zg&&Va())}}function Tl(t){Yo!==null&&Yo.tag===0&&!(xt&6)&&Bc();var e=xt;xt|=1;var n=fs.transition,r=Pt;try{if(fs.transition=null,Pt=1,t)return t()}finally{Pt=r,fs.transition=n,xt=e,!(xt&6)&&Va()}}function qb(){qr=Dc.current,Wt(Dc)}function bl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,q3(n)),pn!==null)for(n=pn.return;n!==null;){var r=n;switch(jb(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Np();break;case 3:hu(),Wt(Lr),Wt(dr),Ob();break;case 5:Db(r);break;case 4:hu();break;case 13:Wt(Kt);break;case 19:Wt(Kt);break;case 10:Ib(r.type._context);break;case 22:case 23:qb()}n=n.return}if(On=t,pn=t=aa(t.current,null),zn=qr=e,jn=0,_h=null,zb=Gg=kl=0,Ar=Gd=null,dl!==null){for(e=0;e<dl.length;e++)if(n=dl[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}dl=null}return t}function IR(t,e){do{var n=pn;try{if(Tb(),Wm.current=Ap,Pp){for(var r=Qt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Pp=!1}if(Cl=0,Pn=Nn=Qt=null,Hd=!1,xh=0,Bb.current=null,n===null||n.return===null){jn=1,_h=e,pn=null;break}e:{var i=t,a=n.return,l=n,c=e;if(e=zn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=mS(a);if(g!==null){g.flags&=-257,pS(g,a,l,i,e),g.mode&1&&fS(i,u,e),e=g,c=u;var _=e.updateQueue;if(_===null){var v=new Set;v.add(c),e.updateQueue=v}else _.add(c);break e}else{if(!(e&1)){fS(i,u,e),Gb();break e}c=Error(xe(426))}}else if(qt&&l.mode&1){var w=mS(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),pS(w,a,l,i,e),Cb(fu(c,l));break e}}i=c=fu(c,l),jn!==4&&(jn=2),Gd===null?Gd=[i]:Gd.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var b=fR(i,c,e);aS(i,b);break e;case 1:l=c;var x=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ia===null||!ia.has(y)))){i.flags|=65536,e&=-e,i.lanes|=e;var j=mR(i,l,e);aS(i,j);break e}}i=i.return}while(i!==null)}AR(n)}catch(P){e=P,pn===n&&n!==null&&(pn=n=n.return);continue}break}while(!0)}function RR(){var t=Dp.current;return Dp.current=Ap,t===null?Ap:t}function Gb(){(jn===0||jn===3||jn===2)&&(jn=4),On===null||!(kl&268435455)&&!(Gg&268435455)||Fo(On,zn)}function Lp(t,e){var n=xt;xt|=2;var r=RR();(On!==t||zn!==e)&&(Wi=null,bl(t,e));do try{v6();break}catch(s){IR(t,s)}while(!0);if(Tb(),xt=n,Dp.current=r,pn!==null)throw Error(xe(261));return On=null,zn=0,jn}function v6(){for(;pn!==null;)PR(pn)}function y6(){for(;pn!==null&&!z5();)PR(pn)}function PR(t){var e=OR(t.alternate,t,qr);t.memoizedProps=t.pendingProps,e===null?AR(t):pn=e,Bb.current=null}function AR(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=d6(n,e),n!==null){n.flags&=32767,pn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{jn=6,pn=null;return}}else if(n=u6(n,e,qr),n!==null){pn=n;return}if(e=e.sibling,e!==null){pn=e;return}pn=e=t}while(e!==null);jn===0&&(jn=5)}function sl(t,e,n){var r=Pt,s=fs.transition;try{fs.transition=null,Pt=1,x6(t,e,n,r)}finally{fs.transition=s,Pt=r}return null}function x6(t,e,n,r){do Bc();while(Yo!==null);if(xt&6)throw Error(xe(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(xe(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(J5(t,i),t===On&&(pn=On=null,zn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ym||(ym=!0,MR(yp,function(){return Bc(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=fs.transition,fs.transition=null;var a=Pt;Pt=1;var l=xt;xt|=4,Bb.current=null,f6(t,n),CR(n,t),V3(hw),wp=!!dw,hw=dw=null,t.current=n,m6(n),W5(),xt=l,Pt=a,fs.transition=i}else t.current=n;if(ym&&(ym=!1,Yo=t,Mp=s),i=t.pendingLanes,i===0&&(ia=null),G5(n.stateNode),Vr(t,un()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Op)throw Op=!1,t=Pw,Pw=null,t;return Mp&1&&t.tag!==0&&Bc(),i=t.pendingLanes,i&1?t===Aw?Kd++:(Kd=0,Aw=t):Kd=0,Va(),null}function Bc(){if(Yo!==null){var t=fI(Mp),e=fs.transition,n=Pt;try{if(fs.transition=null,Pt=16>t?16:t,Yo===null)var r=!1;else{if(t=Yo,Yo=null,Mp=0,xt&6)throw Error(xe(331));var s=xt;for(xt|=4,Me=t.current;Me!==null;){var i=Me,a=i.child;if(Me.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Me=u;Me!==null;){var d=Me;switch(d.tag){case 0:case 11:case 15:qd(8,d,i)}var f=d.child;if(f!==null)f.return=d,Me=f;else for(;Me!==null;){d=Me;var p=d.sibling,g=d.return;if(NR(d),d===u){Me=null;break}if(p!==null){p.return=g,Me=p;break}Me=g}}}var _=i.alternate;if(_!==null){var v=_.child;if(v!==null){_.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}Me=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,Me=a;else e:for(;Me!==null;){if(i=Me,i.flags&2048)switch(i.tag){case 0:case 11:case 15:qd(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,Me=b;break e}Me=i.return}}var x=t.current;for(Me=x;Me!==null;){a=Me;var y=a.child;if(a.subtreeFlags&2064&&y!==null)y.return=a,Me=y;else e:for(a=x;Me!==null;){if(l=Me,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:qg(9,l)}}catch(P){rn(l,l.return,P)}if(l===a){Me=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,Me=j;break e}Me=l.return}}if(xt=s,Va(),vi&&typeof vi.onPostCommitFiberRoot=="function")try{vi.onPostCommitFiberRoot(Fg,t)}catch{}r=!0}return r}finally{Pt=n,fs.transition=e}}return!1}function kS(t,e,n){e=fu(n,e),e=fR(t,e,1),t=sa(t,e,1),e=xr(),t!==null&&(Jh(t,1,e),Vr(t,e))}function rn(t,e,n){if(t.tag===3)kS(t,t,n);else for(;e!==null;){if(e.tag===3){kS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ia===null||!ia.has(r))){t=fu(n,t),t=mR(e,t,1),e=sa(e,t,1),t=xr(),e!==null&&(Jh(e,1,t),Vr(e,t));break}}e=e.return}}function w6(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=xr(),t.pingedLanes|=t.suspendedLanes&n,On===t&&(zn&n)===n&&(jn===4||jn===3&&(zn&130023424)===zn&&500>un()-Wb?bl(t,0):zb|=n),Vr(t,e)}function DR(t,e){e===0&&(t.mode&1?(e=lm,lm<<=1,!(lm&130023424)&&(lm=4194304)):e=1);var n=xr();t=so(t,e),t!==null&&(Jh(t,e,n),Vr(t,n))}function b6(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),DR(t,n)}function _6(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(xe(314))}r!==null&&r.delete(e),DR(t,n)}var OR;OR=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Lr.current)Or=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Or=!1,c6(t,e,n);Or=!!(t.flags&131072)}else Or=!1,qt&&e.flags&1048576&&VI(e,Cp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;qm(t,e),t=e.pendingProps;var s=cu(e,dr.current);Uc(e,n),s=Lb(null,e,r,t,s,n);var i=Fb();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Fr(r)?(i=!0,Sp(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Pb(e),s.updater=Hg,e.stateNode=s,s._reactInternals=e,bw(e,r,t,n),e=Nw(null,e,r,!0,i,n)):(e.tag=0,qt&&i&&Sb(e),pr(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(qm(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=N6(r),t=ks(r,t),s){case 0:e=Ew(null,e,r,t,n);break e;case 1:e=yS(null,e,r,t,n);break e;case 11:e=gS(null,e,r,t,n);break e;case 14:e=vS(null,e,r,ks(r.type,t),n);break e}throw Error(xe(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ks(r,s),Ew(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ks(r,s),yS(t,e,r,s,n);case 3:e:{if(yR(e),t===null)throw Error(xe(387));r=e.pendingProps,i=e.memoizedState,s=i.element,HI(t,e),Ip(e,r,null,n);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=fu(Error(xe(423)),e),e=xS(t,e,r,n,s);break e}else if(r!==s){s=fu(Error(xe(424)),e),e=xS(t,e,r,n,s);break e}else for(Xr=ra(e.stateNode.containerInfo.firstChild),Jr=e,qt=!0,As=null,n=zI(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(uu(),r===s){e=io(t,e,n);break e}pr(t,e,r,n)}e=e.child}return e;case 5:return qI(e),t===null&&yw(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,fw(r,s)?a=null:i!==null&&fw(r,i)&&(e.flags|=32),vR(t,e),pr(t,e,a,n),e.child;case 6:return t===null&&yw(e),null;case 13:return xR(t,e,n);case 4:return Ab(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=du(e,null,r,n):pr(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ks(r,s),gS(t,e,r,s,n);case 7:return pr(t,e,e.pendingProps,n),e.child;case 8:return pr(t,e,e.pendingProps.children,n),e.child;case 12:return pr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,Ft(kp,r._currentValue),r._currentValue=a,i!==null)if(Bs(i.value,a)){if(i.children===s.children&&!Lr.current){e=io(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Zi(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),xw(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(xe(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),xw(a,n,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}pr(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Uc(e,n),s=ys(s),r=r(s),e.flags|=1,pr(t,e,r,n),e.child;case 14:return r=e.type,s=ks(r,e.pendingProps),s=ks(r.type,s),vS(t,e,r,s,n);case 15:return pR(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ks(r,s),qm(t,e),e.tag=1,Fr(r)?(t=!0,Sp(e)):t=!1,Uc(e,n),hR(e,r,s),bw(e,r,s,n),Nw(null,e,r,!0,t,n);case 19:return wR(t,e,n);case 22:return gR(t,e,n)}throw Error(xe(156,e.tag))};function MR(t,e){return cI(t,e)}function E6(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ds(t,e,n,r){return new E6(t,e,n,r)}function Kb(t){return t=t.prototype,!(!t||!t.isReactComponent)}function N6(t){if(typeof t=="function")return Kb(t)?1:0;if(t!=null){if(t=t.$$typeof,t===fb)return 11;if(t===mb)return 14}return 2}function aa(t,e){var n=t.alternate;return n===null?(n=ds(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ym(t,e,n,r,s,i){var a=2;if(r=t,typeof t=="function")Kb(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Nc:return _l(n.children,s,i,e);case hb:a=8,s|=8;break;case Hx:return t=ds(12,n,e,s|2),t.elementType=Hx,t.lanes=i,t;case qx:return t=ds(13,n,e,s),t.elementType=qx,t.lanes=i,t;case Gx:return t=ds(19,n,e,s),t.elementType=Gx,t.lanes=i,t;case qT:return Kg(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case WT:a=10;break e;case HT:a=9;break e;case fb:a=11;break e;case mb:a=14;break e;case Do:a=16,r=null;break e}throw Error(xe(130,t==null?t:typeof t,""))}return e=ds(a,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function _l(t,e,n,r){return t=ds(7,t,r,e),t.lanes=n,t}function Kg(t,e,n,r){return t=ds(22,t,r,e),t.elementType=qT,t.lanes=n,t.stateNode={isHidden:!1},t}function Zy(t,e,n){return t=ds(6,t,null,e),t.lanes=n,t}function Jy(t,e,n){return e=ds(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function S6(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ay(0),this.expirationTimes=Ay(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ay(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Yb(t,e,n,r,s,i,a,l,c){return t=new S6(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=ds(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pb(i),t}function j6(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ec,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function LR(t){if(!t)return wa;t=t._reactInternals;e:{if(Yl(t)!==t||t.tag!==1)throw Error(xe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Fr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(xe(171))}if(t.tag===1){var n=t.type;if(Fr(n))return LI(t,n,e)}return e}function FR(t,e,n,r,s,i,a,l,c){return t=Yb(n,r,!0,t,s,i,a,l,c),t.context=LR(null),n=t.current,r=xr(),s=oa(n),i=Zi(r,s),i.callback=e??null,sa(n,i,s),t.current.lanes=s,Jh(t,s,r),Vr(t,r),t}function Yg(t,e,n,r){var s=e.current,i=xr(),a=oa(s);return n=LR(n),e.context===null?e.context=n:e.pendingContext=n,e=Zi(i,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=sa(s,e,a),t!==null&&(Vs(t,s,a,i),zm(t,s,a)),a}function Fp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function TS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Qb(t,e){TS(t,e),(t=t.alternate)&&TS(t,e)}function C6(){return null}var VR=typeof reportError=="function"?reportError:function(t){console.error(t)};function Xb(t){this._internalRoot=t}Qg.prototype.render=Xb.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(xe(409));Yg(t,e,null,null)};Qg.prototype.unmount=Xb.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Tl(function(){Yg(null,t,null,null)}),e[ro]=null}};function Qg(t){this._internalRoot=t}Qg.prototype.unstable_scheduleHydration=function(t){if(t){var e=gI();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Lo.length&&e!==0&&e<Lo[n].priority;n++);Lo.splice(n,0,t),n===0&&yI(t)}};function Zb(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Xg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function IS(){}function k6(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Fp(a);i.call(u)}}var a=FR(e,r,t,0,null,!1,!1,"",IS);return t._reactRootContainer=a,t[ro]=a.current,mh(t.nodeType===8?t.parentNode:t),Tl(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Fp(c);l.call(u)}}var c=Yb(t,0,!1,null,null,!1,!1,"",IS);return t._reactRootContainer=c,t[ro]=c.current,mh(t.nodeType===8?t.parentNode:t),Tl(function(){Yg(e,c,n,r)}),c}function Zg(t,e,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=Fp(a);l.call(c)}}Yg(e,a,t,s)}else a=k6(n,e,t,s,r);return Fp(a)}mI=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Td(e.pendingLanes);n!==0&&(vb(e,n|1),Vr(e,un()),!(xt&6)&&(mu=un()+500,Va()))}break;case 13:Tl(function(){var r=so(t,1);if(r!==null){var s=xr();Vs(r,t,1,s)}}),Qb(t,1)}};yb=function(t){if(t.tag===13){var e=so(t,134217728);if(e!==null){var n=xr();Vs(e,t,134217728,n)}Qb(t,134217728)}};pI=function(t){if(t.tag===13){var e=oa(t),n=so(t,e);if(n!==null){var r=xr();Vs(n,t,e,r)}Qb(t,e)}};gI=function(){return Pt};vI=function(t,e){var n=Pt;try{return Pt=t,e()}finally{Pt=n}};rw=function(t,e,n){switch(e){case"input":if(Qx(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Bg(r);if(!s)throw Error(xe(90));KT(r),Qx(r,s)}}}break;case"textarea":QT(t,n);break;case"select":e=n.value,e!=null&&Lc(t,!!n.multiple,e,!1)}};rI=Hb;sI=Tl;var T6={usingClientEntryPoint:!1,Events:[tf,kc,Bg,tI,nI,Hb]},vd={findFiberByHostInstance:ul,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},I6={bundleType:vd.bundleType,version:vd.version,rendererPackageName:vd.rendererPackageName,rendererConfig:vd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:go.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=aI(t),t===null?null:t.stateNode},findFiberByHostInstance:vd.findFiberByHostInstance||C6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xm.isDisabled&&xm.supportsFiber)try{Fg=xm.inject(I6),vi=xm}catch{}}ss.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T6;ss.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zb(e))throw Error(xe(200));return j6(t,e,null,n)};ss.createRoot=function(t,e){if(!Zb(t))throw Error(xe(299));var n=!1,r="",s=VR;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Yb(t,1,!1,null,null,n,!1,r,s),t[ro]=e.current,mh(t.nodeType===8?t.parentNode:t),new Xb(e)};ss.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(xe(188)):(t=Object.keys(t).join(","),Error(xe(268,t)));return t=aI(e),t=t===null?null:t.stateNode,t};ss.flushSync=function(t){return Tl(t)};ss.hydrate=function(t,e,n){if(!Xg(e))throw Error(xe(200));return Zg(null,t,e,!0,n)};ss.hydrateRoot=function(t,e,n){if(!Zb(t))throw Error(xe(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=VR;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=FR(e,null,t,1,n??null,s,!1,i,a),t[ro]=e.current,mh(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Qg(e)};ss.render=function(t,e,n){if(!Xg(e))throw Error(xe(200));return Zg(null,t,e,!1,n)};ss.unmountComponentAtNode=function(t){if(!Xg(t))throw Error(xe(40));return t._reactRootContainer?(Tl(function(){Zg(null,null,t,!1,function(){t._reactRootContainer=null,t[ro]=null})}),!0):!1};ss.unstable_batchedUpdates=Hb;ss.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Xg(n))throw Error(xe(200));if(t==null||t._reactInternals===void 0)throw Error(xe(38));return Zg(t,e,n,!1,r)};ss.version="18.3.1-next-f1338f8080-20240426";function $R(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($R)}catch(t){console.error(t)}}$R(),$T.exports=ss;var Ql=$T.exports;const UR=kT(Ql);var BR,RS=Ql;BR=RS.createRoot,RS.hydrateRoot;const R6=1,P6=1e6;let ex=0;function A6(){return ex=(ex+1)%Number.MAX_SAFE_INTEGER,ex.toString()}const tx=new Map,PS=t=>{if(tx.has(t))return;const e=setTimeout(()=>{tx.delete(t),Yd({type:"REMOVE_TOAST",toastId:t})},P6);tx.set(t,e)},D6=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,R6)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?PS(n):t.toasts.forEach(r=>{PS(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Qm=[];let Xm={toasts:[]};function Yd(t){Xm=D6(Xm,t),Qm.forEach(e=>{e(Xm)})}function O6({...t}){const e=A6(),n=s=>Yd({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Yd({type:"DISMISS_TOAST",toastId:e});return Yd({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function M6(){const[t,e]=m.useState(Xm);return m.useEffect(()=>(Qm.push(e),()=>{const n=Qm.indexOf(e);n>-1&&Qm.splice(n,1)}),[t]),{...t,toast:O6,dismiss:n=>Yd({type:"DISMISS_TOAST",toastId:n})}}function be(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function AS(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function oo(...t){return e=>{let n=!1;const r=t.map(s=>{const i=AS(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():AS(t[s],null)}}}}function Ze(...t){return m.useCallback(oo(...t),t)}function L6(t,e){const n=m.createContext(e),r=i=>{const{children:a,...l}=i,c=m.useMemo(()=>l,Object.values(l));return o.jsx(n.Provider,{value:c,children:a})};r.displayName=t+"Provider";function s(i){const a=m.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function er(t,e=[]){let n=[];function r(i,a){const l=m.createContext(a),c=n.length;n=[...n,a];const u=f=>{var b;const{scope:p,children:g,..._}=f,v=((b=p==null?void 0:p[t])==null?void 0:b[c])||l,w=m.useMemo(()=>_,Object.values(_));return o.jsx(v.Provider,{value:w,children:g})};u.displayName=i+"Provider";function d(f,p){var v;const g=((v=p==null?void 0:p[t])==null?void 0:v[c])||l,_=m.useContext(g);if(_)return _;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(a=>m.createContext(a));return function(l){const c=(l==null?void 0:l[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[r,F6(s,...e)]}function F6(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function ba(t){const e=V6(t),n=m.forwardRef((r,s)=>{const{children:i,...a}=r,l=m.Children.toArray(i),c=l.find($6);if(c){const u=c.props.children,d=l.map(f=>f===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:f);return o.jsx(e,{...a,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,d):null})}return o.jsx(e,{...a,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var zR=ba("Slot");function V6(t){const e=m.forwardRef((n,r)=>{const{children:s,...i}=n;if(m.isValidElement(s)){const a=B6(s),l=U6(i,s.props);return s.type!==m.Fragment&&(l.ref=r?oo(r,a):a),m.cloneElement(s,l)}return m.Children.count(s)>1?m.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var WR=Symbol("radix.slottable");function HR(t){const e=({children:n})=>o.jsx(o.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=WR,e}function $6(t){return m.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===WR}function U6(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function B6(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Jg(t){const e=t+"CollectionProvider",[n,r]=er(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=v=>{const{scope:w,children:b}=v,x=te.useRef(null),y=te.useRef(new Map).current;return o.jsx(s,{scope:w,itemMap:y,collectionRef:x,children:b})};a.displayName=e;const l=t+"CollectionSlot",c=ba(l),u=te.forwardRef((v,w)=>{const{scope:b,children:x}=v,y=i(l,b),j=Ze(w,y.collectionRef);return o.jsx(c,{ref:j,children:x})});u.displayName=l;const d=t+"CollectionItemSlot",f="data-radix-collection-item",p=ba(d),g=te.forwardRef((v,w)=>{const{scope:b,children:x,...y}=v,j=te.useRef(null),P=Ze(w,j),D=i(d,b);return te.useEffect(()=>(D.itemMap.set(j,{ref:j,...y}),()=>void D.itemMap.delete(j))),o.jsx(p,{[f]:"",ref:P,children:x})});g.displayName=d;function _(v){const w=i(t+"CollectionConsumer",v);return te.useCallback(()=>{const x=w.collectionRef.current;if(!x)return[];const y=Array.from(x.querySelectorAll(`[${f}]`));return Array.from(w.itemMap.values()).sort((D,S)=>y.indexOf(D.ref.current)-y.indexOf(S.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:a,Slot:u,ItemSlot:g},_,r]}var z6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ie=z6.reduce((t,e)=>{const n=ba(`Primitive.${e}`),r=m.forwardRef((s,i)=>{const{asChild:a,...l}=s,c=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Jb(t,e){t&&Ql.flushSync(()=>t.dispatchEvent(e))}function sn(t){const e=m.useRef(t);return m.useEffect(()=>{e.current=t}),m.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function W6(t,e=globalThis==null?void 0:globalThis.document){const n=sn(t);m.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var H6="DismissableLayer",Mw="dismissableLayer.update",q6="dismissableLayer.pointerDownOutside",G6="dismissableLayer.focusOutside",DS,qR=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Xl=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:l,...c}=t,u=m.useContext(qR),[d,f]=m.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),_=Ze(e,S=>f(S)),v=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=v.indexOf(w),x=d?v.indexOf(d):-1,y=u.layersWithOutsidePointerEventsDisabled.size>0,j=x>=b,P=Y6(S=>{const N=S.target,T=[...u.branches].some(C=>C.contains(N));!j||T||(s==null||s(S),a==null||a(S),S.defaultPrevented||l==null||l())},p),D=Q6(S=>{const N=S.target;[...u.branches].some(C=>C.contains(N))||(i==null||i(S),a==null||a(S),S.defaultPrevented||l==null||l())},p);return W6(S=>{x===u.layers.size-1&&(r==null||r(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},p),m.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(DS=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),OS(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=DS)}},[d,p,n,u]),m.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),OS())},[d,u]),m.useEffect(()=>{const S=()=>g({});return document.addEventListener(Mw,S),()=>document.removeEventListener(Mw,S)},[]),o.jsx(Ie.div,{...c,ref:_,style:{pointerEvents:y?j?"auto":"none":void 0,...t.style},onFocusCapture:be(t.onFocusCapture,D.onFocusCapture),onBlurCapture:be(t.onBlurCapture,D.onBlurCapture),onPointerDownCapture:be(t.onPointerDownCapture,P.onPointerDownCapture)})});Xl.displayName=H6;var K6="DismissableLayerBranch",GR=m.forwardRef((t,e)=>{const n=m.useContext(qR),r=m.useRef(null),s=Ze(e,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),o.jsx(Ie.div,{...t,ref:s})});GR.displayName=K6;function Y6(t,e=globalThis==null?void 0:globalThis.document){const n=sn(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){KR(q6,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Q6(t,e=globalThis==null?void 0:globalThis.document){const n=sn(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&KR(G6,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function OS(){const t=new CustomEvent(Mw);document.dispatchEvent(t)}function KR(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Jb(s,i):s.dispatchEvent(i)}var X6=Xl,Z6=GR,hn=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},J6="Portal",Mu=m.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[s,i]=m.useState(!1);hn(()=>i(!0),[]);const a=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?UR.createPortal(o.jsx(Ie.div,{...r,ref:e}),a):null});Mu.displayName=J6;function e9(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var Fn=t=>{const{present:e,children:n}=t,r=t9(e),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=Ze(r.ref,n9(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:i}):null};Fn.displayName="Presence";function t9(t){const[e,n]=m.useState(),r=m.useRef(null),s=m.useRef(t),i=m.useRef("none"),a=t?"mounted":"unmounted",[l,c]=e9(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=wm(r.current);i.current=l==="mounted"?u:"none"},[l]),hn(()=>{const u=r.current,d=s.current;if(d!==t){const p=i.current,g=wm(u);t?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),hn(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=g=>{const v=wm(r.current).includes(g.animationName);if(g.target===e&&v&&(c("ANIMATION_END"),!s.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},p=g=>{g.target===e&&(i.current=wm(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function wm(t){return(t==null?void 0:t.animationName)||"none"}function n9(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var r9=lb[" useInsertionEffect ".trim().toString()]||hn;function Ci({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,a]=s9({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:s;{const d=m.useRef(t!==void 0);m.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=m.useCallback(d=>{var f;if(l){const p=i9(d)?d(t):d;p!==t&&((f=a.current)==null||f.call(a,p))}else i(d)},[l,t,i,a]);return[c,u]}function s9({defaultProp:t,onChange:e}){const[n,r]=m.useState(t),s=m.useRef(n),i=m.useRef(e);return r9(()=>{i.current=e},[e]),m.useEffect(()=>{var a;s.current!==n&&((a=i.current)==null||a.call(i,n),s.current=n)},[n,s]),[n,r,i]}function i9(t){return typeof t=="function"}var YR=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),o9="VisuallyHidden",ev=m.forwardRef((t,e)=>o.jsx(Ie.span,{...t,ref:e,style:{...YR,...t.style}}));ev.displayName=o9;var a9=ev,e_="ToastProvider",[t_,l9,c9]=Jg("Toast"),[QR,qoe]=er("Toast",[c9]),[u9,tv]=QR(e_),XR=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:a}=t,[l,c]=m.useState(null),[u,d]=m.useState(0),f=m.useRef(!1),p=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${e_}\`. Expected non-empty \`string\`.`),o.jsx(t_.Provider,{scope:e,children:o.jsx(u9,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:m.useCallback(()=>d(g=>g+1),[]),onToastRemove:m.useCallback(()=>d(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:a})})};XR.displayName=e_;var ZR="ToastViewport",d9=["F8"],Lw="toast.viewportPause",Fw="toast.viewportResume",JR=m.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=d9,label:s="Notifications ({hotkey})",...i}=t,a=tv(ZR,n),l=l9(n),c=m.useRef(null),u=m.useRef(null),d=m.useRef(null),f=m.useRef(null),p=Ze(e,f,a.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),_=a.toastCount>0;m.useEffect(()=>{const w=b=>{var y;r.length!==0&&r.every(j=>b[j]||b.code===j)&&((y=f.current)==null||y.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),m.useEffect(()=>{const w=c.current,b=f.current;if(_&&w&&b){const x=()=>{if(!a.isClosePausedRef.current){const D=new CustomEvent(Lw);b.dispatchEvent(D),a.isClosePausedRef.current=!0}},y=()=>{if(a.isClosePausedRef.current){const D=new CustomEvent(Fw);b.dispatchEvent(D),a.isClosePausedRef.current=!1}},j=D=>{!w.contains(D.relatedTarget)&&y()},P=()=>{w.contains(document.activeElement)||y()};return w.addEventListener("focusin",x),w.addEventListener("focusout",j),w.addEventListener("pointermove",x),w.addEventListener("pointerleave",P),window.addEventListener("blur",x),window.addEventListener("focus",y),()=>{w.removeEventListener("focusin",x),w.removeEventListener("focusout",j),w.removeEventListener("pointermove",x),w.removeEventListener("pointerleave",P),window.removeEventListener("blur",x),window.removeEventListener("focus",y)}}},[_,a.isClosePausedRef]);const v=m.useCallback(({tabbingDirection:w})=>{const x=l().map(y=>{const j=y.ref.current,P=[j,...N9(j)];return w==="forwards"?P:P.reverse()});return(w==="forwards"?x.reverse():x).flat()},[l]);return m.useEffect(()=>{const w=f.current;if(w){const b=x=>{var P,D,S;const y=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!y){const N=document.activeElement,T=x.shiftKey;if(x.target===w&&T){(P=u.current)==null||P.focus();return}const A=v({tabbingDirection:T?"backwards":"forwards"}),R=A.findIndex(z=>z===N);nx(A.slice(R+1))?x.preventDefault():T?(D=u.current)==null||D.focus():(S=d.current)==null||S.focus()}};return w.addEventListener("keydown",b),()=>w.removeEventListener("keydown",b)}},[l,v]),o.jsxs(Z6,{ref:c,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:_?void 0:"none"},children:[_&&o.jsx(Vw,{ref:u,onFocusFromOutsideViewport:()=>{const w=v({tabbingDirection:"forwards"});nx(w)}}),o.jsx(t_.Slot,{scope:n,children:o.jsx(Ie.ol,{tabIndex:-1,...i,ref:p})}),_&&o.jsx(Vw,{ref:d,onFocusFromOutsideViewport:()=>{const w=v({tabbingDirection:"backwards"});nx(w)}})]})});JR.displayName=ZR;var eP="ToastFocusProxy",Vw=m.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=tv(eP,n);return o.jsx(ev,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:a=>{var u;const l=a.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&r()}})});Vw.displayName=eP;var rf="Toast",h9="toast.swipeStart",f9="toast.swipeMove",m9="toast.swipeCancel",p9="toast.swipeEnd",tP=m.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...a}=t,[l,c]=Ci({prop:r,defaultProp:s??!0,onChange:i,caller:rf});return o.jsx(Fn,{present:n||l,children:o.jsx(y9,{open:l,...a,ref:e,onClose:()=>c(!1),onPause:sn(t.onPause),onResume:sn(t.onResume),onSwipeStart:be(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:be(t.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:be(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:be(t.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});tP.displayName=rf;var[g9,v9]=QR(rf,{onClose(){}}),y9=m.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:a,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:g,..._}=t,v=tv(rf,n),[w,b]=m.useState(null),x=Ze(e,z=>b(z)),y=m.useRef(null),j=m.useRef(null),P=s||v.duration,D=m.useRef(0),S=m.useRef(P),N=m.useRef(0),{onToastAdd:T,onToastRemove:C}=v,I=sn(()=>{var F;(w==null?void 0:w.contains(document.activeElement))&&((F=v.viewport)==null||F.focus()),a()}),A=m.useCallback(z=>{!z||z===1/0||(window.clearTimeout(N.current),D.current=new Date().getTime(),N.current=window.setTimeout(I,z))},[I]);m.useEffect(()=>{const z=v.viewport;if(z){const F=()=>{A(S.current),u==null||u()},H=()=>{const q=new Date().getTime()-D.current;S.current=S.current-q,window.clearTimeout(N.current),c==null||c()};return z.addEventListener(Lw,H),z.addEventListener(Fw,F),()=>{z.removeEventListener(Lw,H),z.removeEventListener(Fw,F)}}},[v.viewport,P,c,u,A]),m.useEffect(()=>{i&&!v.isClosePausedRef.current&&A(P)},[i,P,v.isClosePausedRef,A]),m.useEffect(()=>(T(),()=>C()),[T,C]);const R=m.useMemo(()=>w?lP(w):null,[w]);return v.viewport?o.jsxs(o.Fragment,{children:[R&&o.jsx(x9,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:R}),o.jsx(g9,{scope:n,onClose:I,children:Ql.createPortal(o.jsx(t_.ItemSlot,{scope:n,children:o.jsx(X6,{asChild:!0,onEscapeKeyDown:be(l,()=>{v.isFocusedToastEscapeKeyDownRef.current||I(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(Ie.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,..._,ref:x,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:be(t.onKeyDown,z=>{z.key==="Escape"&&(l==null||l(z.nativeEvent),z.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:be(t.onPointerDown,z=>{z.button===0&&(y.current={x:z.clientX,y:z.clientY})}),onPointerMove:be(t.onPointerMove,z=>{if(!y.current)return;const F=z.clientX-y.current.x,H=z.clientY-y.current.y,q=!!j.current,L=["left","right"].includes(v.swipeDirection),V=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,ee=L?V(0,F):0,_e=L?0:V(0,H),U=z.pointerType==="touch"?10:2,le={x:ee,y:_e},de={originalEvent:z,delta:le};q?(j.current=le,bm(f9,f,de,{discrete:!1})):MS(le,v.swipeDirection,U)?(j.current=le,bm(h9,d,de,{discrete:!1}),z.target.setPointerCapture(z.pointerId)):(Math.abs(F)>U||Math.abs(H)>U)&&(y.current=null)}),onPointerUp:be(t.onPointerUp,z=>{const F=j.current,H=z.target;if(H.hasPointerCapture(z.pointerId)&&H.releasePointerCapture(z.pointerId),j.current=null,y.current=null,F){const q=z.currentTarget,L={originalEvent:z,delta:F};MS(F,v.swipeDirection,v.swipeThreshold)?bm(p9,g,L,{discrete:!0}):bm(m9,p,L,{discrete:!0}),q.addEventListener("click",V=>V.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),x9=t=>{const{__scopeToast:e,children:n,...r}=t,s=tv(rf,e),[i,a]=m.useState(!1),[l,c]=m.useState(!1);return _9(()=>a(!0)),m.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:o.jsx(Mu,{asChild:!0,children:o.jsx(ev,{...r,children:i&&o.jsxs(o.Fragment,{children:[s.label," ",n]})})})},w9="ToastTitle",nP=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return o.jsx(Ie.div,{...r,ref:e})});nP.displayName=w9;var b9="ToastDescription",rP=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return o.jsx(Ie.div,{...r,ref:e})});rP.displayName=b9;var sP="ToastAction",iP=m.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?o.jsx(aP,{altText:n,asChild:!0,children:o.jsx(n_,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${sP}\`. Expected non-empty \`string\`.`),null)});iP.displayName=sP;var oP="ToastClose",n_=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=v9(oP,n);return o.jsx(aP,{asChild:!0,children:o.jsx(Ie.button,{type:"button",...r,ref:e,onClick:be(t.onClick,s.onClose)})})});n_.displayName=oP;var aP=m.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return o.jsx(Ie.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function lP(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),E9(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const a=r.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...lP(r))}}),e}function bm(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Jb(s,i):s.dispatchEvent(i)}var MS=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function _9(t=()=>{}){const e=sn(t);hn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function E9(t){return t.nodeType===t.ELEMENT_NODE}function N9(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function nx(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var S9=XR,cP=JR,uP=tP,dP=nP,hP=rP,fP=iP,mP=n_;function pP(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=pP(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function gP(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=pP(t))&&(r&&(r+=" "),r+=e);return r}const LS=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,FS=gP,nv=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return FS(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,a=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],f=i==null?void 0:i[u];if(d===null)return null;const p=LS(d)||LS(f);return s[u][p]}),l=n&&Object.entries(n).reduce((u,d)=>{let[f,p]=d;return p===void 0||(u[f]=p),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:p,...g}=d;return Object.entries(g).every(_=>{let[v,w]=_;return Array.isArray(w)?w.includes({...i,...l}[v]):{...i,...l}[v]===w})?[...u,f,p]:u},[]);return FS(t,a,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),vP=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var C9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k9=m.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:a,...l},c)=>m.createElement("svg",{ref:c,...C9,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:vP("lucide",s),...l},[...a.map(([u,d])=>m.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=(t,e)=>{const n=m.forwardRef(({className:r,...s},i)=>m.createElement(k9,{ref:i,iconNode:e,className:vP(`lucide-${j9(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=Oe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T9=Oe("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=Oe("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r_=Oe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=Oe("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $w=Oe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=Oe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sf=Oe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s_=Oe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I9=Oe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xP=Oe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wP=Oe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i_=Oe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zc=Oe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uw=Oe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R9=Oe("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=Oe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P9=Oe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=Oe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bP=Oe("Compass",[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const of=Oe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A9=Oe("Dot",[["circle",{cx:"12.1",cy:"12.1",r:"1",key:"18d7e5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D9=Oe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=Oe("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nl=Oe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _P=Oe("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=Oe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O9=Oe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M9=Oe("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L9=Oe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=Oe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=Oe("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F9=Oe("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V9=Oe("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $9=Oe("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eh=Oe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=Oe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=Oe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o_=Oe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U9=Oe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B9=Oe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z9=Oe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W9=Oe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bw=Oe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Il=Oe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EP=Oe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wc=Oe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H9=Oe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a_=Oe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $S=Oe("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=Oe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NP=Oe("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q9=Oe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=Oe("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G9=Oe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=Oe("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l_=Oe("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zw=Oe("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rl=Oe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c_=Oe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SP=Oe("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jP=Oe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lf=Oe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pl=Oe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u_=Oe("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CP=Oe("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=Oe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),d_="-",K9=t=>{const e=Q9(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const l=a.split(d_);return l[0]===""&&l.length!==1&&l.shift(),kP(l,e)||Y9(a)},getConflictingClassGroupIds:(a,l)=>{const c=n[a]||[];return l&&r[a]?[...c,...r[a]]:c}}},kP=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?kP(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(d_);return(a=e.validators.find(({validator:l})=>l(i)))==null?void 0:a.classGroupId},BS=/^\[(.+)\]$/,Y9=t=>{if(BS.test(t)){const e=BS.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Q9=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return Z9(Object.entries(t.classGroups),n).forEach(([i,a])=>{Ww(a,r,i,e)}),r},Ww=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:zS(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(X9(s)){Ww(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,a])=>{Ww(a,zS(e,i),n,r)})})},zS=(t,e)=>{let n=t;return e.split(d_).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},X9=t=>t.isThemeGetter,Z9=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,l])=>[e+a,l])):i);return[n,s]}):t,J9=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,a)=>{n.set(i,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let a=n.get(i);if(a!==void 0)return a;if((a=r.get(i))!==void 0)return s(i,a),a},set(i,a){n.has(i)?n.set(i,a):s(i,a)}}},TP="!",e$=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,a=l=>{const c=[];let u=0,d=0,f;for(let w=0;w<l.length;w++){let b=l[w];if(u===0){if(b===s&&(r||l.slice(w,w+i)===e)){c.push(l.slice(d,w)),d=w+i;continue}if(b==="/"){f=w;continue}}b==="["?u++:b==="]"&&u--}const p=c.length===0?l:l.substring(d),g=p.startsWith(TP),_=g?p.substring(1):p,v=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:_,maybePostfixModifierPosition:v}};return n?l=>n({className:l,parseClassName:a}):a},t$=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},n$=t=>({cache:J9(t.cacheSize),parseClassName:e$(t),...K9(t)}),r$=/\s+/,s$=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],a=t.trim().split(r$);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:d,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:g}=n(u);let _=!!g,v=r(_?p.substring(0,g):p);if(!v){if(!_){l=u+(l.length>0?" "+l:l);continue}if(v=r(p),!v){l=u+(l.length>0?" "+l:l);continue}_=!1}const w=t$(d).join(":"),b=f?w+TP:w,x=b+v;if(i.includes(x))continue;i.push(x);const y=s(v,_);for(let j=0;j<y.length;++j){const P=y[j];i.push(b+P)}l=u+(l.length>0?" "+l:l)}return l};function i$(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=IP(e))&&(r&&(r+=" "),r+=n);return r}const IP=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=IP(t[r]))&&(n&&(n+=" "),n+=e);return n};function o$(t,...e){let n,r,s,i=a;function a(c){const u=e.reduce((d,f)=>f(d),t());return n=n$(u),r=n.cache.get,s=n.cache.set,i=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=s$(c,n);return s(c,d),d}return function(){return i(i$.apply(null,arguments))}}const Bt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},RP=/^\[(?:([a-z-]+):)?(.+)\]$/i,a$=/^\d+\/\d+$/,l$=new Set(["px","full","screen"]),c$=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,u$=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,d$=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,h$=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,f$=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Vi=t=>Hc(t)||l$.has(t)||a$.test(t),ko=t=>Lu(t,"length",b$),Hc=t=>!!t&&!Number.isNaN(Number(t)),rx=t=>Lu(t,"number",Hc),yd=t=>!!t&&Number.isInteger(Number(t)),m$=t=>t.endsWith("%")&&Hc(t.slice(0,-1)),it=t=>RP.test(t),To=t=>c$.test(t),p$=new Set(["length","size","percentage"]),g$=t=>Lu(t,p$,PP),v$=t=>Lu(t,"position",PP),y$=new Set(["image","url"]),x$=t=>Lu(t,y$,E$),w$=t=>Lu(t,"",_$),xd=()=>!0,Lu=(t,e,n)=>{const r=RP.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},b$=t=>u$.test(t)&&!d$.test(t),PP=()=>!1,_$=t=>h$.test(t),E$=t=>f$.test(t),N$=()=>{const t=Bt("colors"),e=Bt("spacing"),n=Bt("blur"),r=Bt("brightness"),s=Bt("borderColor"),i=Bt("borderRadius"),a=Bt("borderSpacing"),l=Bt("borderWidth"),c=Bt("contrast"),u=Bt("grayscale"),d=Bt("hueRotate"),f=Bt("invert"),p=Bt("gap"),g=Bt("gradientColorStops"),_=Bt("gradientColorStopPositions"),v=Bt("inset"),w=Bt("margin"),b=Bt("opacity"),x=Bt("padding"),y=Bt("saturate"),j=Bt("scale"),P=Bt("sepia"),D=Bt("skew"),S=Bt("space"),N=Bt("translate"),T=()=>["auto","contain","none"],C=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",it,e],A=()=>[it,e],R=()=>["",Vi,ko],z=()=>["auto",Hc,it],F=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],H=()=>["solid","dashed","dotted","double","none"],q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],V=()=>["","0",it],ee=()=>["auto","avoid","all","avoid-page","page","left","right","column"],_e=()=>[Hc,it];return{cacheSize:500,separator:":",theme:{colors:[xd],spacing:[Vi,ko],blur:["none","",To,it],brightness:_e(),borderColor:[t],borderRadius:["none","","full",To,it],borderSpacing:A(),borderWidth:R(),contrast:_e(),grayscale:V(),hueRotate:_e(),invert:V(),gap:A(),gradientColorStops:[t],gradientColorStopPositions:[m$,ko],inset:I(),margin:I(),opacity:_e(),padding:A(),saturate:_e(),scale:_e(),sepia:V(),skew:_e(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",it]}],container:["container"],columns:[{columns:[To]}],"break-after":[{"break-after":ee()}],"break-before":[{"break-before":ee()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...F(),it]}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",yd,it]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",it]}],grow:[{grow:V()}],shrink:[{shrink:V()}],order:[{order:["first","last","none",yd,it]}],"grid-cols":[{"grid-cols":[xd]}],"col-start-end":[{col:["auto",{span:["full",yd,it]},it]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[xd]}],"row-start-end":[{row:["auto",{span:[yd,it]},it]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",it]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",it]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",it,e]}],"min-w":[{"min-w":[it,e,"min","max","fit"]}],"max-w":[{"max-w":[it,e,"none","full","min","max","fit","prose",{screen:[To]},To]}],h:[{h:[it,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[it,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[it,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[it,e,"auto","min","max","fit"]}],"font-size":[{text:["base",To,ko]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",rx]}],"font-family":[{font:[xd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",it]}],"line-clamp":[{"line-clamp":["none",Hc,rx]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Vi,it]}],"list-image":[{"list-image":["none",it]}],"list-style-type":[{list:["none","disc","decimal",it]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...H(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Vi,ko]}],"underline-offset":[{"underline-offset":["auto",Vi,it]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",it]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",it]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...F(),v$]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",g$]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},x$]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[_]}],"gradient-via-pos":[{via:[_]}],"gradient-to-pos":[{to:[_]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...H(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:H()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...H()]}],"outline-offset":[{"outline-offset":[Vi,it]}],"outline-w":[{outline:[Vi,ko]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Vi,ko]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",To,w$]}],"shadow-color":[{shadow:[xd]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":q()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",To,it]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[y]}],sepia:[{sepia:[P]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[P]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",it]}],duration:[{duration:_e()}],ease:[{ease:["linear","in","out","in-out",it]}],delay:[{delay:_e()}],animate:[{animate:["none","spin","ping","pulse","bounce",it]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[yd,it]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[D]}],"skew-y":[{"skew-y":[D]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",it]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",it]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",it]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Vi,ko,rx]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},S$=o$(N$);function Ne(...t){return S$(gP(t))}const j$=S9,AP=m.forwardRef(({className:t,...e},n)=>o.jsx(cP,{ref:n,className:Ne("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));AP.displayName=cP.displayName;const C$=nv("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),DP=m.forwardRef(({className:t,variant:e,...n},r)=>o.jsx(uP,{ref:r,className:Ne(C$({variant:e}),t),...n}));DP.displayName=uP.displayName;const k$=m.forwardRef(({className:t,...e},n)=>o.jsx(fP,{ref:n,className:Ne("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));k$.displayName=fP.displayName;const OP=m.forwardRef(({className:t,...e},n)=>o.jsx(mP,{ref:n,className:Ne("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:o.jsx(Na,{className:"h-4 w-4"})}));OP.displayName=mP.displayName;const MP=m.forwardRef(({className:t,...e},n)=>o.jsx(dP,{ref:n,className:Ne("text-sm font-semibold",t),...e}));MP.displayName=dP.displayName;const LP=m.forwardRef(({className:t,...e},n)=>o.jsx(hP,{ref:n,className:Ne("text-sm opacity-90",t),...e}));LP.displayName=hP.displayName;function T$(){const{toasts:t}=M6();return o.jsxs(j$,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return o.jsxs(DP,{...i,children:[o.jsxs("div",{className:"grid gap-1",children:[n&&o.jsx(MP,{children:n}),r&&o.jsx(LP,{children:r})]}),s,o.jsx(OP,{})]},e)}),o.jsx(AP,{})]})}var Vp=["light","dark"],h_="(prefers-color-scheme: dark)",I$=typeof window>"u",f_=m.createContext(void 0),R$={setTheme:t=>{},themes:[]},FP=()=>{var t;return(t=m.useContext(f_))!=null?t:R$},P$=t=>m.useContext(f_)?t.children:m.createElement(D$,{...t}),A$=["light","dark"],D$=({forcedTheme:t,disableTransitionOnChange:e=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:s="theme",themes:i=A$,defaultTheme:a=n?"system":"light",attribute:l="data-theme",value:c,children:u,nonce:d})=>{let[f,p]=m.useState(()=>WS(s,a)),[g,_]=m.useState(()=>WS(s)),v=c?Object.values(c):i,w=m.useCallback(j=>{let P=j;if(!P)return;j==="system"&&n&&(P=HS());let D=c?c[P]:P,S=e?M$():null,N=document.documentElement;if(l==="class"?(N.classList.remove(...v),D&&N.classList.add(D)):D?N.setAttribute(l,D):N.removeAttribute(l),r){let T=Vp.includes(a)?a:null,C=Vp.includes(P)?P:T;N.style.colorScheme=C}S==null||S()},[]),b=m.useCallback(j=>{let P=typeof j=="function"?j(j):j;p(P);try{localStorage.setItem(s,P)}catch{}},[t]),x=m.useCallback(j=>{let P=HS(j);_(P),f==="system"&&n&&!t&&w("system")},[f,t]);m.useEffect(()=>{let j=window.matchMedia(h_);return j.addListener(x),x(j),()=>j.removeListener(x)},[x]),m.useEffect(()=>{let j=P=>{if(P.key!==s)return;let D=P.newValue||a;b(D)};return window.addEventListener("storage",j),()=>window.removeEventListener("storage",j)},[b]),m.useEffect(()=>{w(t??f)},[t,f]);let y=m.useMemo(()=>({theme:f,setTheme:b,forcedTheme:t,resolvedTheme:f==="system"?g:f,themes:n?[...i,"system"]:i,systemTheme:n?g:void 0}),[f,b,t,g,n,i]);return m.createElement(f_.Provider,{value:y},m.createElement(O$,{forcedTheme:t,disableTransitionOnChange:e,enableSystem:n,enableColorScheme:r,storageKey:s,themes:i,defaultTheme:a,attribute:l,value:c,children:u,attrs:v,nonce:d}),u)},O$=m.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:a,attrs:l,nonce:c})=>{let u=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(_=>`'${_}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?Vp.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(_,v=!1,w=!0)=>{let b=a?a[_]:_,x=v?_+"|| ''":`'${b}'`,y="";return s&&w&&!v&&Vp.includes(_)&&(y+=`d.style.colorScheme = '${_}';`),n==="class"?v||b?y+=`c.add(${x})`:y+="null":b&&(y+=`d[s](n,${x})`),y},g=t?`!function(){${d}${p(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${h_}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${p(a?"x[e]":"e",!0)}}${u?"":"else{"+p(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${p(a?"x[e]":"e",!0)}}else{${p(i,!1,!1)};}${f}}catch(t){}}();`;return m.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:g}})}),WS=(t,e)=>{if(I$)return;let n;try{n=localStorage.getItem(t)||void 0}catch{}return n||e},M$=()=>{let t=document.createElement("style");return t.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},HS=t=>(t||(t=window.matchMedia(h_)),t.matches?"dark":"light"),L$=t=>{switch(t){case"success":return $$;case"info":return B$;case"warning":return U$;case"error":return z$;default:return null}},F$=Array(12).fill(0),V$=({visible:t,className:e})=>te.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},te.createElement("div",{className:"sonner-spinner"},F$.map((n,r)=>te.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),$$=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),U$=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),B$=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),z$=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),W$=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},te.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),te.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),H$=()=>{let[t,e]=te.useState(document.hidden);return te.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Hw=1,q$=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Hw++,a=this.toasts.find(c=>c.id===i),l=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),a?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...e,id:i,title:r}),{...c,...e,id:i,dismissible:l,title:r}):c):this.addToast({title:r,...s,dismissible:l,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0,a,l=s.then(async u=>{if(a=["resolve",u],te.isValidElement(u))i=!1,this.create({id:r,type:"default",message:u});else if(K$(u)&&!u.ok){i=!1;let d=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,f=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description;this.create({id:r,type:"error",message:d,description:f})}else if(n.success!==void 0){i=!1;let d=typeof n.success=="function"?await n.success(u):n.success,f=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"success",message:d,description:f})}}).catch(async u=>{if(a=["reject",u],n.error!==void 0){i=!1;let d=typeof n.error=="function"?await n.error(u):n.error,f=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"error",message:d,description:f})}}).finally(()=>{var u;i&&(this.dismiss(r),r=void 0),(u=n.finally)==null||u.call(n)}),c=()=>new Promise((u,d)=>l.then(()=>a[0]==="reject"?d(a[1]):u(a[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||Hw++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Rr=new q$,G$=(t,e)=>{let n=(e==null?void 0:e.id)||Hw++;return Rr.addToast({title:t,...e,id:n}),n},K$=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Y$=G$,Q$=()=>Rr.toasts,X$=()=>Rr.getActiveToasts(),B=Object.assign(Y$,{success:Rr.success,info:Rr.info,warning:Rr.warning,error:Rr.error,custom:Rr.custom,message:Rr.message,promise:Rr.promise,dismiss:Rr.dismiss,loading:Rr.loading},{getHistory:Q$,getToasts:X$});function Z$(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}Z$(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function _m(t){return t.label!==void 0}var J$=3,eU="32px",tU="16px",qS=4e3,nU=356,rU=14,sU=20,iU=200;function js(...t){return t.filter(Boolean).join(" ")}function oU(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var aU=t=>{var e,n,r,s,i,a,l,c,u,d,f;let{invert:p,toast:g,unstyled:_,interacting:v,setHeights:w,visibleToasts:b,heights:x,index:y,toasts:j,expanded:P,removeToast:D,defaultRichColors:S,closeButton:N,style:T,cancelButtonStyle:C,actionButtonStyle:I,className:A="",descriptionClassName:R="",duration:z,position:F,gap:H,loadingIcon:q,expandByDefault:L,classNames:V,icons:ee,closeButtonAriaLabel:_e="Close toast",pauseWhenPageIsHidden:U}=t,[le,de]=te.useState(null),[fe,ke]=te.useState(null),[J,K]=te.useState(!1),[ne,Z]=te.useState(!1),[ge,Re]=te.useState(!1),[mt,Pe]=te.useState(!1),[Ue,ht]=te.useState(!1),[X,Q]=te.useState(0),[ue,M]=te.useState(0),$=te.useRef(g.duration||z||qS),G=te.useRef(null),me=te.useRef(null),pe=y===0,oe=y+1<=b,we=g.type,We=g.dismissible!==!1,ft=g.className||"",xn=g.descriptionClassName||"",Br=te.useMemo(()=>x.findIndex(He=>He.toastId===g.id)||0,[x,g.id]),fr=te.useMemo(()=>{var He;return(He=g.closeButton)!=null?He:N},[g.closeButton,N]),Li=te.useMemo(()=>g.duration||z||qS,[g.duration,z]),on=te.useRef(0),kn=te.useRef(0),ti=te.useRef(0),Vn=te.useRef(null),[oc,Fi]=F.split("-"),Zu=te.useMemo(()=>x.reduce((He,jt,Ot)=>Ot>=Br?He:He+jt.height,0),[x,Br]),wo=H$(),qf=g.invert||p,wn=we==="loading";kn.current=te.useMemo(()=>Br*H+Zu,[Br,Zu]),te.useEffect(()=>{$.current=Li},[Li]),te.useEffect(()=>{K(!0)},[]),te.useEffect(()=>{let He=me.current;if(He){let jt=He.getBoundingClientRect().height;return M(jt),w(Ot=>[{toastId:g.id,height:jt,position:g.position},...Ot]),()=>w(Ot=>Ot.filter(Tn=>Tn.toastId!==g.id))}},[w,g.id]),te.useLayoutEffect(()=>{if(!J)return;let He=me.current,jt=He.style.height;He.style.height="auto";let Ot=He.getBoundingClientRect().height;He.style.height=jt,M(Ot),w(Tn=>Tn.find(zr=>zr.toastId===g.id)?Tn.map(zr=>zr.toastId===g.id?{...zr,height:Ot}:zr):[{toastId:g.id,height:Ot,position:g.position},...Tn])},[J,g.title,g.description,w,g.id]);let Es=te.useCallback(()=>{Z(!0),Q(kn.current),w(He=>He.filter(jt=>jt.toastId!==g.id)),setTimeout(()=>{D(g)},iU)},[g,D,w,kn]);te.useEffect(()=>{if(g.promise&&we==="loading"||g.duration===1/0||g.type==="loading")return;let He;return P||v||U&&wo?(()=>{if(ti.current<on.current){let jt=new Date().getTime()-on.current;$.current=$.current-jt}ti.current=new Date().getTime()})():$.current!==1/0&&(on.current=new Date().getTime(),He=setTimeout(()=>{var jt;(jt=g.onAutoClose)==null||jt.call(g,g),Es()},$.current)),()=>clearTimeout(He)},[P,v,g,we,U,wo,Es]),te.useEffect(()=>{g.delete&&Es()},[Es,g.delete]);function Qa(){var He,jt,Ot;return ee!=null&&ee.loading?te.createElement("div",{className:js(V==null?void 0:V.loader,(He=g==null?void 0:g.classNames)==null?void 0:He.loader,"sonner-loader"),"data-visible":we==="loading"},ee.loading):q?te.createElement("div",{className:js(V==null?void 0:V.loader,(jt=g==null?void 0:g.classNames)==null?void 0:jt.loader,"sonner-loader"),"data-visible":we==="loading"},q):te.createElement(V$,{className:js(V==null?void 0:V.loader,(Ot=g==null?void 0:g.classNames)==null?void 0:Ot.loader),visible:we==="loading"})}return te.createElement("li",{tabIndex:0,ref:me,className:js(A,ft,V==null?void 0:V.toast,(e=g==null?void 0:g.classNames)==null?void 0:e.toast,V==null?void 0:V.default,V==null?void 0:V[we],(n=g==null?void 0:g.classNames)==null?void 0:n[we]),"data-sonner-toast":"","data-rich-colors":(r=g.richColors)!=null?r:S,"data-styled":!(g.jsx||g.unstyled||_),"data-mounted":J,"data-promise":!!g.promise,"data-swiped":Ue,"data-removed":ne,"data-visible":oe,"data-y-position":oc,"data-x-position":Fi,"data-index":y,"data-front":pe,"data-swiping":ge,"data-dismissible":We,"data-type":we,"data-invert":qf,"data-swipe-out":mt,"data-swipe-direction":fe,"data-expanded":!!(P||L&&J),style:{"--index":y,"--toasts-before":y,"--z-index":j.length-y,"--offset":`${ne?X:kn.current}px`,"--initial-height":L?"auto":`${ue}px`,...T,...g.style},onDragEnd:()=>{Re(!1),de(null),Vn.current=null},onPointerDown:He=>{wn||!We||(G.current=new Date,Q(kn.current),He.target.setPointerCapture(He.pointerId),He.target.tagName!=="BUTTON"&&(Re(!0),Vn.current={x:He.clientX,y:He.clientY}))},onPointerUp:()=>{var He,jt,Ot,Tn;if(mt||!We)return;Vn.current=null;let zr=Number(((He=me.current)==null?void 0:He.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ni=Number(((jt=me.current)==null?void 0:jt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),os=new Date().getTime()-((Ot=G.current)==null?void 0:Ot.getTime()),Sr=le==="x"?zr:ni,Ns=Math.abs(Sr)/os;if(Math.abs(Sr)>=sU||Ns>.11){Q(kn.current),(Tn=g.onDismiss)==null||Tn.call(g,g),ke(le==="x"?zr>0?"right":"left":ni>0?"down":"up"),Es(),Pe(!0),ht(!1);return}Re(!1),de(null)},onPointerMove:He=>{var jt,Ot,Tn,zr;if(!Vn.current||!We||((jt=window.getSelection())==null?void 0:jt.toString().length)>0)return;let ni=He.clientY-Vn.current.y,os=He.clientX-Vn.current.x,Sr=(Ot=t.swipeDirections)!=null?Ot:oU(F);!le&&(Math.abs(os)>1||Math.abs(ni)>1)&&de(Math.abs(os)>Math.abs(ni)?"x":"y");let Ns={x:0,y:0};le==="y"?(Sr.includes("top")||Sr.includes("bottom"))&&(Sr.includes("top")&&ni<0||Sr.includes("bottom")&&ni>0)&&(Ns.y=ni):le==="x"&&(Sr.includes("left")||Sr.includes("right"))&&(Sr.includes("left")&&os<0||Sr.includes("right")&&os>0)&&(Ns.x=os),(Math.abs(Ns.x)>0||Math.abs(Ns.y)>0)&&ht(!0),(Tn=me.current)==null||Tn.style.setProperty("--swipe-amount-x",`${Ns.x}px`),(zr=me.current)==null||zr.style.setProperty("--swipe-amount-y",`${Ns.y}px`)}},fr&&!g.jsx?te.createElement("button",{"aria-label":_e,"data-disabled":wn,"data-close-button":!0,onClick:wn||!We?()=>{}:()=>{var He;Es(),(He=g.onDismiss)==null||He.call(g,g)},className:js(V==null?void 0:V.closeButton,(s=g==null?void 0:g.classNames)==null?void 0:s.closeButton)},(i=ee==null?void 0:ee.close)!=null?i:W$):null,g.jsx||m.isValidElement(g.title)?g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title:te.createElement(te.Fragment,null,we||g.icon||g.promise?te.createElement("div",{"data-icon":"",className:js(V==null?void 0:V.icon,(a=g==null?void 0:g.classNames)==null?void 0:a.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||Qa():null,g.type!=="loading"?g.icon||(ee==null?void 0:ee[we])||L$(we):null):null,te.createElement("div",{"data-content":"",className:js(V==null?void 0:V.content,(l=g==null?void 0:g.classNames)==null?void 0:l.content)},te.createElement("div",{"data-title":"",className:js(V==null?void 0:V.title,(c=g==null?void 0:g.classNames)==null?void 0:c.title)},typeof g.title=="function"?g.title():g.title),g.description?te.createElement("div",{"data-description":"",className:js(R,xn,V==null?void 0:V.description,(u=g==null?void 0:g.classNames)==null?void 0:u.description)},typeof g.description=="function"?g.description():g.description):null),m.isValidElement(g.cancel)?g.cancel:g.cancel&&_m(g.cancel)?te.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||C,onClick:He=>{var jt,Ot;_m(g.cancel)&&We&&((Ot=(jt=g.cancel).onClick)==null||Ot.call(jt,He),Es())},className:js(V==null?void 0:V.cancelButton,(d=g==null?void 0:g.classNames)==null?void 0:d.cancelButton)},g.cancel.label):null,m.isValidElement(g.action)?g.action:g.action&&_m(g.action)?te.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||I,onClick:He=>{var jt,Ot;_m(g.action)&&((Ot=(jt=g.action).onClick)==null||Ot.call(jt,He),!He.defaultPrevented&&Es())},className:js(V==null?void 0:V.actionButton,(f=g==null?void 0:g.classNames)==null?void 0:f.actionButton)},g.action.label):null))};function GS(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function lU(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,a=i?"--mobile-offset":"--offset",l=i?tU:eU;function c(u){["top","right","bottom","left"].forEach(d=>{n[`${a}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${a}-${u}`]=l:n[`${a}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(l)}),n}var cU=m.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:a,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:p,style:g,visibleToasts:_=J$,toastOptions:v,dir:w=GS(),gap:b=rU,loadingIcon:x,icons:y,containerAriaLabel:j="Notifications",pauseWhenPageIsHidden:P}=t,[D,S]=te.useState([]),N=te.useMemo(()=>Array.from(new Set([r].concat(D.filter(U=>U.position).map(U=>U.position)))),[D,r]),[T,C]=te.useState([]),[I,A]=te.useState(!1),[R,z]=te.useState(!1),[F,H]=te.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),q=te.useRef(null),L=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),V=te.useRef(null),ee=te.useRef(!1),_e=te.useCallback(U=>{S(le=>{var de;return(de=le.find(fe=>fe.id===U.id))!=null&&de.delete||Rr.dismiss(U.id),le.filter(({id:fe})=>fe!==U.id)})},[]);return te.useEffect(()=>Rr.subscribe(U=>{if(U.dismiss){S(le=>le.map(de=>de.id===U.id?{...de,delete:!0}:de));return}setTimeout(()=>{UR.flushSync(()=>{S(le=>{let de=le.findIndex(fe=>fe.id===U.id);return de!==-1?[...le.slice(0,de),{...le[de],...U},...le.slice(de+1)]:[U,...le]})})})}),[]),te.useEffect(()=>{if(d!=="system"){H(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?H("dark"):H("light")),typeof window>"u")return;let U=window.matchMedia("(prefers-color-scheme: dark)");try{U.addEventListener("change",({matches:le})=>{H(le?"dark":"light")})}catch{U.addListener(({matches:de})=>{try{H(de?"dark":"light")}catch(fe){console.error(fe)}})}},[d]),te.useEffect(()=>{D.length<=1&&A(!1)},[D]),te.useEffect(()=>{let U=le=>{var de,fe;s.every(ke=>le[ke]||le.code===ke)&&(A(!0),(de=q.current)==null||de.focus()),le.code==="Escape"&&(document.activeElement===q.current||(fe=q.current)!=null&&fe.contains(document.activeElement))&&A(!1)};return document.addEventListener("keydown",U),()=>document.removeEventListener("keydown",U)},[s]),te.useEffect(()=>{if(q.current)return()=>{V.current&&(V.current.focus({preventScroll:!0}),V.current=null,ee.current=!1)}},[q.current]),te.createElement("section",{ref:e,"aria-label":`${j} ${L}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},N.map((U,le)=>{var de;let[fe,ke]=U.split("-");return D.length?te.createElement("ol",{key:U,dir:w==="auto"?GS():w,tabIndex:-1,ref:q,className:l,"data-sonner-toaster":!0,"data-theme":F,"data-y-position":fe,"data-lifted":I&&D.length>1&&!i,"data-x-position":ke,style:{"--front-toast-height":`${((de=T[0])==null?void 0:de.height)||0}px`,"--width":`${nU}px`,"--gap":`${b}px`,...g,...lU(c,u)},onBlur:J=>{ee.current&&!J.currentTarget.contains(J.relatedTarget)&&(ee.current=!1,V.current&&(V.current.focus({preventScroll:!0}),V.current=null))},onFocus:J=>{J.target instanceof HTMLElement&&J.target.dataset.dismissible==="false"||ee.current||(ee.current=!0,V.current=J.relatedTarget)},onMouseEnter:()=>A(!0),onMouseMove:()=>A(!0),onMouseLeave:()=>{R||A(!1)},onDragEnd:()=>A(!1),onPointerDown:J=>{J.target instanceof HTMLElement&&J.target.dataset.dismissible==="false"||z(!0)},onPointerUp:()=>z(!1)},D.filter(J=>!J.position&&le===0||J.position===U).map((J,K)=>{var ne,Z;return te.createElement(aU,{key:J.id,icons:y,index:K,toast:J,defaultRichColors:f,duration:(ne=v==null?void 0:v.duration)!=null?ne:p,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:n,visibleToasts:_,closeButton:(Z=v==null?void 0:v.closeButton)!=null?Z:a,interacting:R,position:U,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:_e,toasts:D.filter(ge=>ge.position==J.position),heights:T.filter(ge=>ge.position==J.position),setHeights:C,expandByDefault:i,gap:b,loadingIcon:x,expanded:I,pauseWhenPageIsHidden:P,swipeDirections:t.swipeDirections})})):null}))});const uU=({...t})=>{const{theme:e="system"}=FP();return o.jsx(cU,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var dU=lb[" useId ".trim().toString()]||(()=>{}),hU=0;function Wn(t){const[e,n]=m.useState(dU());return hn(()=>{t||n(r=>r??String(hU++))},[t]),t||(e?`radix-${e}`:"")}const fU=["top","right","bottom","left"],Sa=Math.min,Kr=Math.max,$p=Math.round,Em=Math.floor,xi=t=>({x:t,y:t}),mU={left:"right",right:"left",bottom:"top",top:"bottom"},pU={start:"end",end:"start"};function qw(t,e,n){return Kr(t,Sa(e,n))}function ao(t,e){return typeof t=="function"?t(e):t}function lo(t){return t.split("-")[0]}function Fu(t){return t.split("-")[1]}function m_(t){return t==="x"?"y":"x"}function p_(t){return t==="y"?"height":"width"}const gU=new Set(["top","bottom"]);function mi(t){return gU.has(lo(t))?"y":"x"}function g_(t){return m_(mi(t))}function vU(t,e,n){n===void 0&&(n=!1);const r=Fu(t),s=g_(t),i=p_(s);let a=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(a=Up(a)),[a,Up(a)]}function yU(t){const e=Up(t);return[Gw(t),e,Gw(e)]}function Gw(t){return t.replace(/start|end/g,e=>pU[e])}const KS=["left","right"],YS=["right","left"],xU=["top","bottom"],wU=["bottom","top"];function bU(t,e,n){switch(t){case"top":case"bottom":return n?e?YS:KS:e?KS:YS;case"left":case"right":return e?xU:wU;default:return[]}}function _U(t,e,n,r){const s=Fu(t);let i=bU(lo(t),n==="start",r);return s&&(i=i.map(a=>a+"-"+s),e&&(i=i.concat(i.map(Gw)))),i}function Up(t){return t.replace(/left|right|bottom|top/g,e=>mU[e])}function EU(t){return{top:0,right:0,bottom:0,left:0,...t}}function VP(t){return typeof t!="number"?EU(t):{top:t,right:t,bottom:t,left:t}}function Bp(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function QS(t,e,n){let{reference:r,floating:s}=t;const i=mi(e),a=g_(e),l=p_(a),c=lo(e),u=i==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,p=r[l]/2-s[l]/2;let g;switch(c){case"top":g={x:d,y:r.y-s.height};break;case"bottom":g={x:d,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:f};break;case"left":g={x:r.x-s.width,y:f};break;default:g={x:r.x,y:r.y}}switch(Fu(e)){case"start":g[a]-=p*(n&&u?-1:1);break;case"end":g[a]+=p*(n&&u?-1:1);break}return g}const NU=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:a}=n,l=i.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(e));let u=await a.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:f}=QS(u,r,c),p=r,g={},_=0;for(let v=0;v<l.length;v++){const{name:w,fn:b}=l[v],{x,y,data:j,reset:P}=await b({x:d,y:f,initialPlacement:r,placement:p,strategy:s,middlewareData:g,rects:u,platform:a,elements:{reference:t,floating:e}});d=x??d,f=y??f,g={...g,[w]:{...g[w],...j}},P&&_<=50&&(_++,typeof P=="object"&&(P.placement&&(p=P.placement),P.rects&&(u=P.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:s}):P.rects),{x:d,y:f}=QS(u,p,c)),v=-1)}return{x:d,y:f,placement:p,strategy:s,middlewareData:g}};async function Nh(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:a,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:g=0}=ao(e,t),_=VP(g),w=l[p?f==="floating"?"reference":"floating":f],b=Bp(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(w)))==null||n?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),x=f==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,y=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),j=await(i.isElement==null?void 0:i.isElement(y))?await(i.getScale==null?void 0:i.getScale(y))||{x:1,y:1}:{x:1,y:1},P=Bp(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:y,strategy:c}):x);return{top:(b.top-P.top+_.top)/j.y,bottom:(P.bottom-b.bottom+_.bottom)/j.y,left:(b.left-P.left+_.left)/j.x,right:(P.right-b.right+_.right)/j.x}}const SU=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:a,elements:l,middlewareData:c}=e,{element:u,padding:d=0}=ao(t,e)||{};if(u==null)return{};const f=VP(d),p={x:n,y:r},g=g_(s),_=p_(g),v=await a.getDimensions(u),w=g==="y",b=w?"top":"left",x=w?"bottom":"right",y=w?"clientHeight":"clientWidth",j=i.reference[_]+i.reference[g]-p[g]-i.floating[_],P=p[g]-i.reference[g],D=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let S=D?D[y]:0;(!S||!await(a.isElement==null?void 0:a.isElement(D)))&&(S=l.floating[y]||i.floating[_]);const N=j/2-P/2,T=S/2-v[_]/2-1,C=Sa(f[b],T),I=Sa(f[x],T),A=C,R=S-v[_]-I,z=S/2-v[_]/2+N,F=qw(A,z,R),H=!c.arrow&&Fu(s)!=null&&z!==F&&i.reference[_]/2-(z<A?C:I)-v[_]/2<0,q=H?z<A?z-A:z-R:0;return{[g]:p[g]+q,data:{[g]:F,centerOffset:z-F-q,...H&&{alignmentOffset:q}},reset:H}}}),jU=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:a,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:v=!0,...w}=ao(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const b=lo(s),x=mi(l),y=lo(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),P=p||(y||!v?[Up(l)]:yU(l)),D=_!=="none";!p&&D&&P.push(..._U(l,v,_,j));const S=[l,...P],N=await Nh(e,w),T=[];let C=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&T.push(N[b]),f){const z=vU(s,a,j);T.push(N[z[0]],N[z[1]])}if(C=[...C,{placement:s,overflows:T}],!T.every(z=>z<=0)){var I,A;const z=(((I=i.flip)==null?void 0:I.index)||0)+1,F=S[z];if(F&&(!(f==="alignment"?x!==mi(F):!1)||C.every(L=>L.overflows[0]>0&&mi(L.placement)===x)))return{data:{index:z,overflows:C},reset:{placement:F}};let H=(A=C.filter(q=>q.overflows[0]<=0).sort((q,L)=>q.overflows[1]-L.overflows[1])[0])==null?void 0:A.placement;if(!H)switch(g){case"bestFit":{var R;const q=(R=C.filter(L=>{if(D){const V=mi(L.placement);return V===x||V==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(V=>V>0).reduce((V,ee)=>V+ee,0)]).sort((L,V)=>L[1]-V[1])[0])==null?void 0:R[0];q&&(H=q);break}case"initialPlacement":H=l;break}if(s!==H)return{reset:{placement:H}}}return{}}}};function XS(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function ZS(t){return fU.some(e=>t[e]>=0)}const CU=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=ao(t,e);switch(r){case"referenceHidden":{const i=await Nh(e,{...s,elementContext:"reference"}),a=XS(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:ZS(a)}}}case"escaped":{const i=await Nh(e,{...s,altBoundary:!0}),a=XS(i,n.floating);return{data:{escapedOffsets:a,escaped:ZS(a)}}}default:return{}}}}},$P=new Set(["left","top"]);async function kU(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=lo(n),l=Fu(n),c=mi(n)==="y",u=$P.has(a)?-1:1,d=i&&c?-1:1,f=ao(e,t);let{mainAxis:p,crossAxis:g,alignmentAxis:_}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof _=="number"&&(g=l==="end"?_*-1:_),c?{x:g*d,y:p*u}:{x:p*u,y:g*d}}const TU=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:a,middlewareData:l}=e,c=await kU(e,t);return a===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:a}}}}},IU=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:a=!1,limiter:l={fn:w=>{let{x:b,y:x}=w;return{x:b,y:x}}},...c}=ao(t,e),u={x:n,y:r},d=await Nh(e,c),f=mi(lo(s)),p=m_(f);let g=u[p],_=u[f];if(i){const w=p==="y"?"top":"left",b=p==="y"?"bottom":"right",x=g+d[w],y=g-d[b];g=qw(x,g,y)}if(a){const w=f==="y"?"top":"left",b=f==="y"?"bottom":"right",x=_+d[w],y=_-d[b];_=qw(x,_,y)}const v=l.fn({...e,[p]:g,[f]:_});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[p]:i,[f]:a}}}}}},RU=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:a}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=ao(t,e),d={x:n,y:r},f=mi(s),p=m_(f);let g=d[p],_=d[f];const v=ao(l,e),w=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const y=p==="y"?"height":"width",j=i.reference[p]-i.floating[y]+w.mainAxis,P=i.reference[p]+i.reference[y]-w.mainAxis;g<j?g=j:g>P&&(g=P)}if(u){var b,x;const y=p==="y"?"width":"height",j=$P.has(lo(s)),P=i.reference[f]-i.floating[y]+(j&&((b=a.offset)==null?void 0:b[f])||0)+(j?0:w.crossAxis),D=i.reference[f]+i.reference[y]+(j?0:((x=a.offset)==null?void 0:x[f])||0)-(j?w.crossAxis:0);_<P?_=P:_>D&&(_=D)}return{[p]:g,[f]:_}}}},PU=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:a,elements:l}=e,{apply:c=()=>{},...u}=ao(t,e),d=await Nh(e,u),f=lo(s),p=Fu(s),g=mi(s)==="y",{width:_,height:v}=i.floating;let w,b;f==="top"||f==="bottom"?(w=f,b=p===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(b=f,w=p==="end"?"top":"bottom");const x=v-d.top-d.bottom,y=_-d.left-d.right,j=Sa(v-d[w],x),P=Sa(_-d[b],y),D=!e.middlewareData.shift;let S=j,N=P;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(N=y),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(S=x),D&&!p){const C=Kr(d.left,0),I=Kr(d.right,0),A=Kr(d.top,0),R=Kr(d.bottom,0);g?N=_-2*(C!==0||I!==0?C+I:Kr(d.left,d.right)):S=v-2*(A!==0||R!==0?A+R:Kr(d.top,d.bottom))}await c({...e,availableWidth:N,availableHeight:S});const T=await a.getDimensions(l.floating);return _!==T.width||v!==T.height?{reset:{rects:!0}}:{}}}};function sv(){return typeof window<"u"}function Vu(t){return UP(t)?(t.nodeName||"").toLowerCase():"#document"}function es(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ai(t){var e;return(e=(UP(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function UP(t){return sv()?t instanceof Node||t instanceof es(t).Node:!1}function Ws(t){return sv()?t instanceof Element||t instanceof es(t).Element:!1}function ki(t){return sv()?t instanceof HTMLElement||t instanceof es(t).HTMLElement:!1}function JS(t){return!sv()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof es(t).ShadowRoot}const AU=new Set(["inline","contents"]);function cf(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Hs(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!AU.has(s)}const DU=new Set(["table","td","th"]);function OU(t){return DU.has(Vu(t))}const MU=[":popover-open",":modal"];function iv(t){return MU.some(e=>{try{return t.matches(e)}catch{return!1}})}const LU=["transform","translate","scale","rotate","perspective"],FU=["transform","translate","scale","rotate","perspective","filter"],VU=["paint","layout","strict","content"];function v_(t){const e=y_(),n=Ws(t)?Hs(t):t;return LU.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||FU.some(r=>(n.willChange||"").includes(r))||VU.some(r=>(n.contain||"").includes(r))}function $U(t){let e=ja(t);for(;ki(e)&&!gu(e);){if(v_(e))return e;if(iv(e))return null;e=ja(e)}return null}function y_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const UU=new Set(["html","body","#document"]);function gu(t){return UU.has(Vu(t))}function Hs(t){return es(t).getComputedStyle(t)}function ov(t){return Ws(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ja(t){if(Vu(t)==="html")return t;const e=t.assignedSlot||t.parentNode||JS(t)&&t.host||Ai(t);return JS(e)?e.host:e}function BP(t){const e=ja(t);return gu(e)?t.ownerDocument?t.ownerDocument.body:t.body:ki(e)&&cf(e)?e:BP(e)}function Sh(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=BP(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),a=es(s);if(i){const l=Kw(a);return e.concat(a,a.visualViewport||[],cf(s)?s:[],l&&n?Sh(l):[])}return e.concat(s,Sh(s,[],n))}function Kw(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function zP(t){const e=Hs(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=ki(t),i=s?t.offsetWidth:n,a=s?t.offsetHeight:r,l=$p(n)!==i||$p(r)!==a;return l&&(n=i,r=a),{width:n,height:r,$:l}}function x_(t){return Ws(t)?t:t.contextElement}function qc(t){const e=x_(t);if(!ki(e))return xi(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=zP(e);let a=(i?$p(n.width):n.width)/r,l=(i?$p(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const BU=xi(0);function WP(t){const e=es(t);return!y_()||!e.visualViewport?BU:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function zU(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==es(t)?!1:e}function Al(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=x_(t);let a=xi(1);e&&(r?Ws(r)&&(a=qc(r)):a=qc(t));const l=zU(i,n,r)?WP(i):xi(0);let c=(s.left+l.x)/a.x,u=(s.top+l.y)/a.y,d=s.width/a.x,f=s.height/a.y;if(i){const p=es(i),g=r&&Ws(r)?es(r):r;let _=p,v=Kw(_);for(;v&&r&&g!==_;){const w=qc(v),b=v.getBoundingClientRect(),x=Hs(v),y=b.left+(v.clientLeft+parseFloat(x.paddingLeft))*w.x,j=b.top+(v.clientTop+parseFloat(x.paddingTop))*w.y;c*=w.x,u*=w.y,d*=w.x,f*=w.y,c+=y,u+=j,_=es(v),v=Kw(_)}}return Bp({width:d,height:f,x:c,y:u})}function w_(t,e){const n=ov(t).scrollLeft;return e?e.left+n:Al(Ai(t)).left+n}function HP(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:w_(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function WU(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",a=Ai(r),l=e?iv(e.floating):!1;if(r===a||l&&i)return n;let c={scrollLeft:0,scrollTop:0},u=xi(1);const d=xi(0),f=ki(r);if((f||!f&&!i)&&((Vu(r)!=="body"||cf(a))&&(c=ov(r)),ki(r))){const g=Al(r);u=qc(r),d.x=g.x+r.clientLeft,d.y=g.y+r.clientTop}const p=a&&!f&&!i?HP(a,c,!0):xi(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+p.x,y:n.y*u.y-c.scrollTop*u.y+d.y+p.y}}function HU(t){return Array.from(t.getClientRects())}function qU(t){const e=Ai(t),n=ov(t),r=t.ownerDocument.body,s=Kr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Kr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+w_(t);const l=-n.scrollTop;return Hs(r).direction==="rtl"&&(a+=Kr(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:a,y:l}}function GU(t,e){const n=es(t),r=Ai(t),s=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,l=0,c=0;if(s){i=s.width,a=s.height;const u=y_();(!u||u&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:a,x:l,y:c}}const KU=new Set(["absolute","fixed"]);function YU(t,e){const n=Al(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=ki(t)?qc(t):xi(1),a=t.clientWidth*i.x,l=t.clientHeight*i.y,c=s*i.x,u=r*i.y;return{width:a,height:l,x:c,y:u}}function ej(t,e,n){let r;if(e==="viewport")r=GU(t,n);else if(e==="document")r=qU(Ai(t));else if(Ws(e))r=YU(e,n);else{const s=WP(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Bp(r)}function qP(t,e){const n=ja(t);return n===e||!Ws(n)||gu(n)?!1:Hs(n).position==="fixed"||qP(n,e)}function QU(t,e){const n=e.get(t);if(n)return n;let r=Sh(t,[],!1).filter(l=>Ws(l)&&Vu(l)!=="body"),s=null;const i=Hs(t).position==="fixed";let a=i?ja(t):t;for(;Ws(a)&&!gu(a);){const l=Hs(a),c=v_(a);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&KU.has(s.position)||cf(a)&&!c&&qP(t,a))?r=r.filter(d=>d!==a):s=l,a=ja(a)}return e.set(t,r),r}function XU(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const a=[...n==="clippingAncestors"?iv(e)?[]:QU(e,this._c):[].concat(n),r],l=a[0],c=a.reduce((u,d)=>{const f=ej(e,d,s);return u.top=Kr(f.top,u.top),u.right=Sa(f.right,u.right),u.bottom=Sa(f.bottom,u.bottom),u.left=Kr(f.left,u.left),u},ej(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function ZU(t){const{width:e,height:n}=zP(t);return{width:e,height:n}}function JU(t,e,n){const r=ki(e),s=Ai(e),i=n==="fixed",a=Al(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const c=xi(0);function u(){c.x=w_(s)}if(r||!r&&!i)if((Vu(e)!=="body"||cf(s))&&(l=ov(e)),r){const g=Al(e,!0,i,e);c.x=g.x+e.clientLeft,c.y=g.y+e.clientTop}else s&&u();i&&!r&&s&&u();const d=s&&!r&&!i?HP(s,l):xi(0),f=a.left+l.scrollLeft-c.x-d.x,p=a.top+l.scrollTop-c.y-d.y;return{x:f,y:p,width:a.width,height:a.height}}function sx(t){return Hs(t).position==="static"}function tj(t,e){if(!ki(t)||Hs(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Ai(t)===n&&(n=n.ownerDocument.body),n}function GP(t,e){const n=es(t);if(iv(t))return n;if(!ki(t)){let s=ja(t);for(;s&&!gu(s);){if(Ws(s)&&!sx(s))return s;s=ja(s)}return n}let r=tj(t,e);for(;r&&OU(r)&&sx(r);)r=tj(r,e);return r&&gu(r)&&sx(r)&&!v_(r)?n:r||$U(t)||n}const eB=async function(t){const e=this.getOffsetParent||GP,n=this.getDimensions,r=await n(t.floating);return{reference:JU(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function tB(t){return Hs(t).direction==="rtl"}const nB={convertOffsetParentRelativeRectToViewportRelativeRect:WU,getDocumentElement:Ai,getClippingRect:XU,getOffsetParent:GP,getElementRects:eB,getClientRects:HU,getDimensions:ZU,getScale:qc,isElement:Ws,isRTL:tB};function KP(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function rB(t,e){let n=null,r;const s=Ai(t);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=t.getBoundingClientRect(),{left:d,top:f,width:p,height:g}=u;if(l||e(),!p||!g)return;const _=Em(f),v=Em(s.clientWidth-(d+p)),w=Em(s.clientHeight-(f+g)),b=Em(d),y={rootMargin:-_+"px "+-v+"px "+-w+"px "+-b+"px",threshold:Kr(0,Sa(1,c))||1};let j=!0;function P(D){const S=D[0].intersectionRatio;if(S!==c){if(!j)return a();S?a(!1,S):r=setTimeout(()=>{a(!1,1e-7)},1e3)}S===1&&!KP(u,t.getBoundingClientRect())&&a(),j=!1}try{n=new IntersectionObserver(P,{...y,root:s.ownerDocument})}catch{n=new IntersectionObserver(P,y)}n.observe(t)}return a(!0),i}function sB(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=x_(t),d=s||i?[...u?Sh(u):[],...Sh(e)]:[];d.forEach(b=>{s&&b.addEventListener("scroll",n,{passive:!0}),i&&b.addEventListener("resize",n)});const f=u&&l?rB(u,n):null;let p=-1,g=null;a&&(g=new ResizeObserver(b=>{let[x]=b;x&&x.target===u&&g&&(g.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var y;(y=g)==null||y.observe(e)})),n()}),u&&!c&&g.observe(u),g.observe(e));let _,v=c?Al(t):null;c&&w();function w(){const b=Al(t);v&&!KP(v,b)&&n(),v=b,_=requestAnimationFrame(w)}return n(),()=>{var b;d.forEach(x=>{s&&x.removeEventListener("scroll",n),i&&x.removeEventListener("resize",n)}),f==null||f(),(b=g)==null||b.disconnect(),g=null,c&&cancelAnimationFrame(_)}}const iB=TU,oB=IU,aB=jU,lB=PU,cB=CU,nj=SU,uB=RU,dB=(t,e,n)=>{const r=new Map,s={platform:nB,...n},i={...s.platform,_c:r};return NU(t,e,{...s,platform:i})};var hB=typeof document<"u",fB=function(){},Zm=hB?m.useLayoutEffect:fB;function zp(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!zp(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!zp(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function YP(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function rj(t,e){const n=YP(t);return Math.round(e*n)/n}function ix(t){const e=m.useRef(t);return Zm(()=>{e.current=t}),e}function mB(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[d,f]=m.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,g]=m.useState(r);zp(p,r)||g(r);const[_,v]=m.useState(null),[w,b]=m.useState(null),x=m.useCallback(L=>{L!==D.current&&(D.current=L,v(L))},[]),y=m.useCallback(L=>{L!==S.current&&(S.current=L,b(L))},[]),j=i||_,P=a||w,D=m.useRef(null),S=m.useRef(null),N=m.useRef(d),T=c!=null,C=ix(c),I=ix(s),A=ix(u),R=m.useCallback(()=>{if(!D.current||!S.current)return;const L={placement:e,strategy:n,middleware:p};I.current&&(L.platform=I.current),dB(D.current,S.current,L).then(V=>{const ee={...V,isPositioned:A.current!==!1};z.current&&!zp(N.current,ee)&&(N.current=ee,Ql.flushSync(()=>{f(ee)}))})},[p,e,n,I,A]);Zm(()=>{u===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,f(L=>({...L,isPositioned:!1})))},[u]);const z=m.useRef(!1);Zm(()=>(z.current=!0,()=>{z.current=!1}),[]),Zm(()=>{if(j&&(D.current=j),P&&(S.current=P),j&&P){if(C.current)return C.current(j,P,R);R()}},[j,P,R,C,T]);const F=m.useMemo(()=>({reference:D,floating:S,setReference:x,setFloating:y}),[x,y]),H=m.useMemo(()=>({reference:j,floating:P}),[j,P]),q=m.useMemo(()=>{const L={position:n,left:0,top:0};if(!H.floating)return L;const V=rj(H.floating,d.x),ee=rj(H.floating,d.y);return l?{...L,transform:"translate("+V+"px, "+ee+"px)",...YP(H.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:V,top:ee}},[n,l,H.floating,d.x,d.y]);return m.useMemo(()=>({...d,update:R,refs:F,elements:H,floatingStyles:q}),[d,R,F,H,q])}const pB=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?nj({element:r.current,padding:s}).fn(n):{}:r?nj({element:r,padding:s}).fn(n):{}}}},gB=(t,e)=>({...iB(t),options:[t,e]}),vB=(t,e)=>({...oB(t),options:[t,e]}),yB=(t,e)=>({...uB(t),options:[t,e]}),xB=(t,e)=>({...aB(t),options:[t,e]}),wB=(t,e)=>({...lB(t),options:[t,e]}),bB=(t,e)=>({...cB(t),options:[t,e]}),_B=(t,e)=>({...pB(t),options:[t,e]});var EB="Arrow",QP=m.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return o.jsx(Ie.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});QP.displayName=EB;var NB=QP;function b_(t){const[e,n]=m.useState(void 0);return hn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,l=u.blockSize}else a=t.offsetWidth,l=t.offsetHeight;n({width:a,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var __="Popper",[XP,$a]=er(__),[SB,ZP]=XP(__),JP=t=>{const{__scopePopper:e,children:n}=t,[r,s]=m.useState(null);return o.jsx(SB,{scope:e,anchor:r,onAnchorChange:s,children:n})};JP.displayName=__;var eA="PopperAnchor",tA=m.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=ZP(eA,n),a=m.useRef(null),l=Ze(e,a);return m.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:o.jsx(Ie.div,{...s,ref:l})});tA.displayName=eA;var E_="PopperContent",[jB,CB]=XP(E_),nA=m.forwardRef((t,e)=>{var J,K,ne,Z,ge,Re;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:g="optimized",onPlaced:_,...v}=t,w=ZP(E_,n),[b,x]=m.useState(null),y=Ze(e,mt=>x(mt)),[j,P]=m.useState(null),D=b_(j),S=(D==null?void 0:D.width)??0,N=(D==null?void 0:D.height)??0,T=r+(i!=="center"?"-"+i:""),C=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},I=Array.isArray(u)?u:[u],A=I.length>0,R={padding:C,boundary:I.filter(TB),altBoundary:A},{refs:z,floatingStyles:F,placement:H,isPositioned:q,middlewareData:L}=mB({strategy:"fixed",placement:T,whileElementsMounted:(...mt)=>sB(...mt,{animationFrame:g==="always"}),elements:{reference:w.anchor},middleware:[gB({mainAxis:s+N,alignmentAxis:a}),c&&vB({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?yB():void 0,...R}),c&&xB({...R}),wB({...R,apply:({elements:mt,rects:Pe,availableWidth:Ue,availableHeight:ht})=>{const{width:X,height:Q}=Pe.reference,ue=mt.floating.style;ue.setProperty("--radix-popper-available-width",`${Ue}px`),ue.setProperty("--radix-popper-available-height",`${ht}px`),ue.setProperty("--radix-popper-anchor-width",`${X}px`),ue.setProperty("--radix-popper-anchor-height",`${Q}px`)}}),j&&_B({element:j,padding:l}),IB({arrowWidth:S,arrowHeight:N}),p&&bB({strategy:"referenceHidden",...R})]}),[V,ee]=iA(H),_e=sn(_);hn(()=>{q&&(_e==null||_e())},[q,_e]);const U=(J=L.arrow)==null?void 0:J.x,le=(K=L.arrow)==null?void 0:K.y,de=((ne=L.arrow)==null?void 0:ne.centerOffset)!==0,[fe,ke]=m.useState();return hn(()=>{b&&ke(window.getComputedStyle(b).zIndex)},[b]),o.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...F,transform:q?F.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:fe,"--radix-popper-transform-origin":[(Z=L.transformOrigin)==null?void 0:Z.x,(ge=L.transformOrigin)==null?void 0:ge.y].join(" "),...((Re=L.hide)==null?void 0:Re.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:o.jsx(jB,{scope:n,placedSide:V,onArrowChange:P,arrowX:U,arrowY:le,shouldHideArrow:de,children:o.jsx(Ie.div,{"data-side":V,"data-align":ee,...v,ref:y,style:{...v.style,animation:q?void 0:"none"}})})})});nA.displayName=E_;var rA="PopperArrow",kB={top:"bottom",right:"left",bottom:"top",left:"right"},sA=m.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=CB(rA,r),a=kB[i.placedSide];return o.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:o.jsx(NB,{...s,ref:n,style:{...s.style,display:"block"}})})});sA.displayName=rA;function TB(t){return t!==null}var IB=t=>({name:"transformOrigin",options:t,fn(e){var w,b,x;const{placement:n,rects:r,middlewareData:s}=e,a=((w=s.arrow)==null?void 0:w.centerOffset)!==0,l=a?0:t.arrowWidth,c=a?0:t.arrowHeight,[u,d]=iA(n),f={start:"0%",center:"50%",end:"100%"}[d],p=(((b=s.arrow)==null?void 0:b.x)??0)+l/2,g=(((x=s.arrow)==null?void 0:x.y)??0)+c/2;let _="",v="";return u==="bottom"?(_=a?f:`${p}px`,v=`${-c}px`):u==="top"?(_=a?f:`${p}px`,v=`${r.floating.height+c}px`):u==="right"?(_=`${-c}px`,v=a?f:`${g}px`):u==="left"&&(_=`${r.floating.width+c}px`,v=a?f:`${g}px`),{data:{x:_,y:v}}}});function iA(t){const[e,n="center"]=t.split("-");return[e,n]}var N_=JP,uf=tA,av=nA,lv=sA,[cv,Koe]=er("Tooltip",[$a]),S_=$a(),oA="TooltipProvider",RB=700,sj="tooltip.open",[PB,aA]=cv(oA),lA=t=>{const{__scopeTooltip:e,delayDuration:n=RB,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,a=m.useRef(!0),l=m.useRef(!1),c=m.useRef(0);return m.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),o.jsx(PB,{scope:e,isOpenDelayedRef:a,delayDuration:n,onOpen:m.useCallback(()=>{window.clearTimeout(c.current),a.current=!1},[]),onClose:m.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:m.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:i})};lA.displayName=oA;var cA="Tooltip",[Yoe,uv]=cv(cA),Yw="TooltipTrigger",AB=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=uv(Yw,n),i=aA(Yw,n),a=S_(n),l=m.useRef(null),c=Ze(e,l,s.onTriggerChange),u=m.useRef(!1),d=m.useRef(!1),f=m.useCallback(()=>u.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),o.jsx(uf,{asChild:!0,...a,children:o.jsx(Ie.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:be(t.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:be(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:be(t.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:be(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:be(t.onBlur,s.onClose),onClick:be(t.onClick,s.onClose)})})});AB.displayName=Yw;var DB="TooltipPortal",[Qoe,OB]=cv(DB,{forceMount:void 0}),vu="TooltipContent",uA=m.forwardRef((t,e)=>{const n=OB(vu,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,a=uv(vu,t.__scopeTooltip);return o.jsx(Fn,{present:r||a.open,children:a.disableHoverableContent?o.jsx(dA,{side:s,...i,ref:e}):o.jsx(MB,{side:s,...i,ref:e})})}),MB=m.forwardRef((t,e)=>{const n=uv(vu,t.__scopeTooltip),r=aA(vu,t.__scopeTooltip),s=m.useRef(null),i=Ze(e,s),[a,l]=m.useState(null),{trigger:c,onClose:u}=n,d=s.current,{onPointerInTransitChange:f}=r,p=m.useCallback(()=>{l(null),f(!1)},[f]),g=m.useCallback((_,v)=>{const w=_.currentTarget,b={x:_.clientX,y:_.clientY},x=UB(b,w.getBoundingClientRect()),y=BB(b,x),j=zB(v.getBoundingClientRect()),P=HB([...y,...j]);l(P),f(!0)},[f]);return m.useEffect(()=>()=>p(),[p]),m.useEffect(()=>{if(c&&d){const _=w=>g(w,d),v=w=>g(w,c);return c.addEventListener("pointerleave",_),d.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",_),d.removeEventListener("pointerleave",v)}}},[c,d,g,p]),m.useEffect(()=>{if(a){const _=v=>{const w=v.target,b={x:v.clientX,y:v.clientY},x=(c==null?void 0:c.contains(w))||(d==null?void 0:d.contains(w)),y=!WB(b,a);x?p():y&&(p(),u())};return document.addEventListener("pointermove",_),()=>document.removeEventListener("pointermove",_)}},[c,d,a,u,p]),o.jsx(dA,{...t,ref:i})}),[LB,FB]=cv(cA,{isInside:!1}),VB=HR("TooltipContent"),dA=m.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:a,...l}=t,c=uv(vu,n),u=S_(n),{onClose:d}=c;return m.useEffect(()=>(document.addEventListener(sj,d),()=>document.removeEventListener(sj,d)),[d]),m.useEffect(()=>{if(c.trigger){const f=p=>{const g=p.target;g!=null&&g.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),o.jsx(Xl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:o.jsxs(av,{"data-state":c.stateAttribute,...u,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(VB,{children:r}),o.jsx(LB,{scope:n,isInside:!0,children:o.jsx(a9,{id:c.contentId,role:"tooltip",children:s||r})})]})})});uA.displayName=vu;var hA="TooltipArrow",$B=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=S_(n);return FB(hA,n).isInside?null:o.jsx(lv,{...s,...r,ref:e})});$B.displayName=hA;function UB(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function BB(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function zB(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function WB(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,a=e.length-1;i<e.length;a=i++){const l=e[i],c=e[a],u=l.x,d=l.y,f=c.x,p=c.y;d>r!=p>r&&n<(f-u)*(r-d)/(p-d)+u&&(s=!s)}return s}function HB(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),qB(e)}function qB(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],a=e[e.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],a=n[n.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var GB=lA,fA=uA;const KB=GB,YB=m.forwardRef(({className:t,sideOffset:e=4,...n},r)=>o.jsx(fA,{ref:r,sideOffset:e,className:Ne("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));YB.displayName=fA.displayName;var dv=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},hv=typeof window>"u"||"Deno"in globalThis;function Ts(){}function QB(t,e){return typeof t=="function"?t(e):t}function XB(t){return typeof t=="number"&&t>=0&&t!==1/0}function ZB(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Qw(t,e){return typeof t=="function"?t(e):t}function JB(t,e){return typeof t=="function"?t(e):t}function ij(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:a,stale:l}=t;if(a){if(r){if(e.queryHash!==j_(a,e.options))return!1}else if(!Ch(e.queryKey,a))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||i&&!i(e))}function oj(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(jh(e.options.mutationKey)!==jh(i))return!1}else if(!Ch(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function j_(t,e){return((e==null?void 0:e.queryKeyHashFn)||jh)(t)}function jh(t){return JSON.stringify(t,(e,n)=>Xw(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Ch(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Ch(t[n],e[n])):!1}function mA(t,e){if(t===e)return t;const n=aj(t)&&aj(e);if(n||Xw(t)&&Xw(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),a=i.length,l=n?[]:{},c=new Set(r);let u=0;for(let d=0;d<a;d++){const f=n?d:i[d];(!n&&c.has(f)||n)&&t[f]===void 0&&e[f]===void 0?(l[f]=void 0,u++):(l[f]=mA(t[f],e[f]),l[f]===t[f]&&t[f]!==void 0&&u++)}return s===a&&u===s?t:l}return e}function aj(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Xw(t){if(!lj(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!lj(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function lj(t){return Object.prototype.toString.call(t)==="[object Object]"}function e8(t){return new Promise(e=>{setTimeout(e,t)})}function t8(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?mA(t,e):e}function n8(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function r8(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var C_=Symbol();function pA(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===C_?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var pl,zo,eu,wT,s8=(wT=class extends dv{constructor(){super();_t(this,pl);_t(this,zo);_t(this,eu);rt(this,eu,e=>{if(!hv&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){se(this,zo)||this.setEventListener(se(this,eu))}onUnsubscribe(){var e;this.hasListeners()||((e=se(this,zo))==null||e.call(this),rt(this,zo,void 0))}setEventListener(e){var n;rt(this,eu,e),(n=se(this,zo))==null||n.call(this),rt(this,zo,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){se(this,pl)!==e&&(rt(this,pl,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof se(this,pl)=="boolean"?se(this,pl):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},pl=new WeakMap,zo=new WeakMap,eu=new WeakMap,wT),gA=new s8,tu,Wo,nu,bT,i8=(bT=class extends dv{constructor(){super();_t(this,tu,!0);_t(this,Wo);_t(this,nu);rt(this,nu,e=>{if(!hv&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){se(this,Wo)||this.setEventListener(se(this,nu))}onUnsubscribe(){var e;this.hasListeners()||((e=se(this,Wo))==null||e.call(this),rt(this,Wo,void 0))}setEventListener(e){var n;rt(this,nu,e),(n=se(this,Wo))==null||n.call(this),rt(this,Wo,e(this.setOnline.bind(this)))}setOnline(e){se(this,tu)!==e&&(rt(this,tu,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return se(this,tu)}},tu=new WeakMap,Wo=new WeakMap,nu=new WeakMap,bT),Wp=new i8;function o8(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function a8(t){return Math.min(1e3*2**t,3e4)}function vA(t){return(t??"online")==="online"?Wp.isOnline():!0}var yA=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function ox(t){return t instanceof yA}function xA(t){let e=!1,n=0,r=!1,s;const i=o8(),a=v=>{var w;r||(p(new yA(v)),(w=t.abort)==null||w.call(t))},l=()=>{e=!0},c=()=>{e=!1},u=()=>gA.isFocused()&&(t.networkMode==="always"||Wp.isOnline())&&t.canRun(),d=()=>vA(t.networkMode)&&t.canRun(),f=v=>{var w;r||(r=!0,(w=t.onSuccess)==null||w.call(t,v),s==null||s(),i.resolve(v))},p=v=>{var w;r||(r=!0,(w=t.onError)==null||w.call(t,v),s==null||s(),i.reject(v))},g=()=>new Promise(v=>{var w;s=b=>{(r||u())&&v(b)},(w=t.onPause)==null||w.call(t)}).then(()=>{var v;s=void 0,r||(v=t.onContinue)==null||v.call(t)}),_=()=>{if(r)return;let v;const w=n===0?t.initialPromise:void 0;try{v=w??t.fn()}catch(b){v=Promise.reject(b)}Promise.resolve(v).then(f).catch(b=>{var D;if(r)return;const x=t.retry??(hv?0:3),y=t.retryDelay??a8,j=typeof y=="function"?y(n,b):y,P=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,b);if(e||!P){p(b);return}n++,(D=t.onFail)==null||D.call(t,n,b),e8(j).then(()=>u()?void 0:g()).then(()=>{e?p(b):_()})})};return{promise:i,cancel:a,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?_():g().then(_),i)}}var l8=t=>setTimeout(t,0);function c8(){let t=[],e=0,n=l=>{l()},r=l=>{l()},s=l8;const i=l=>{e?t.push(l):s(()=>{n(l)})},a=()=>{const l=t;t=[],l.length&&s(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||a()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var yr=c8(),gl,_T,wA=(_T=class{constructor(){_t(this,gl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),XB(this.gcTime)&&rt(this,gl,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(hv?1/0:5*60*1e3))}clearGcTimeout(){se(this,gl)&&(clearTimeout(se(this,gl)),rt(this,gl,void 0))}},gl=new WeakMap,_T),ru,vl,as,yl,ir,Qh,xl,Is,Bi,ET,u8=(ET=class extends wA{constructor(n){super();_t(this,Is);_t(this,ru);_t(this,vl);_t(this,as);_t(this,yl);_t(this,ir);_t(this,Qh);_t(this,xl);rt(this,xl,!1),rt(this,Qh,n.defaultOptions),this.setOptions(n.options),this.observers=[],rt(this,yl,n.client),rt(this,as,se(this,yl).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,rt(this,ru,h8(this.options)),this.state=n.state??se(this,ru),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=se(this,ir))==null?void 0:n.promise}setOptions(n){this.options={...se(this,Qh),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&se(this,as).remove(this)}setData(n,r){const s=t8(this.state.data,n,this.options);return tr(this,Is,Bi).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){tr(this,Is,Bi).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=se(this,ir))==null?void 0:s.promise;return(i=se(this,ir))==null||i.cancel(n),r?r.then(Ts).catch(Ts):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(se(this,ru))}isActive(){return this.observers.some(n=>JB(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===C_||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>Qw(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!ZB(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=se(this,ir))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=se(this,ir))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),se(this,as).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(se(this,ir)&&(se(this,xl)?se(this,ir).cancel({revert:!0}):se(this,ir).cancelRetry()),this.scheduleGc()),se(this,as).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||tr(this,Is,Bi).call(this,{type:"invalidate"})}fetch(n,r){var d,f,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(se(this,ir))return se(this,ir).continueRetry(),se(this,ir).promise}if(n&&this.setOptions(n),!this.options.queryFn){const g=this.observers.find(_=>_.options.queryFn);g&&this.setOptions(g.options)}const s=new AbortController,i=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(rt(this,xl,!0),s.signal)})},a=()=>{const g=pA(this.options,r),v=(()=>{const w={client:se(this,yl),queryKey:this.queryKey,meta:this.meta};return i(w),w})();return rt(this,xl,!1),this.options.persister?this.options.persister(g,v,this):g(v)},c=(()=>{const g={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:se(this,yl),state:this.state,fetchFn:a};return i(g),g})();(d=this.options.behavior)==null||d.onFetch(c,this),rt(this,vl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=c.fetchOptions)==null?void 0:f.meta))&&tr(this,Is,Bi).call(this,{type:"fetch",meta:(p=c.fetchOptions)==null?void 0:p.meta});const u=g=>{var _,v,w,b;ox(g)&&g.silent||tr(this,Is,Bi).call(this,{type:"error",error:g}),ox(g)||((v=(_=se(this,as).config).onError)==null||v.call(_,g,this),(b=(w=se(this,as).config).onSettled)==null||b.call(w,this.state.data,g,this)),this.scheduleGc()};return rt(this,ir,xA({initialPromise:r==null?void 0:r.initialPromise,fn:c.fetchFn,abort:s.abort.bind(s),onSuccess:g=>{var _,v,w,b;if(g===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(g)}catch(x){u(x);return}(v=(_=se(this,as).config).onSuccess)==null||v.call(_,g,this),(b=(w=se(this,as).config).onSettled)==null||b.call(w,g,this.state.error,this),this.scheduleGc()},onError:u,onFail:(g,_)=>{tr(this,Is,Bi).call(this,{type:"failed",failureCount:g,error:_})},onPause:()=>{tr(this,Is,Bi).call(this,{type:"pause"})},onContinue:()=>{tr(this,Is,Bi).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),se(this,ir).start()}},ru=new WeakMap,vl=new WeakMap,as=new WeakMap,yl=new WeakMap,ir=new WeakMap,Qh=new WeakMap,xl=new WeakMap,Is=new WeakSet,Bi=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...d8(s.data,this.options),fetchMeta:n.meta??null};case"success":return rt(this,vl,void 0),{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return ox(i)&&i.revert&&se(this,vl)?{...se(this,vl),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),yr.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),se(this,as).notify({query:this,type:"updated",action:n})})},ET);function d8(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:vA(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function h8(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ci,NT,f8=(NT=class extends dv{constructor(e={}){super();_t(this,ci);this.config=e,rt(this,ci,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??j_(s,n);let a=this.get(i);return a||(a=new u8({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(a)),a}add(e){se(this,ci).has(e.queryHash)||(se(this,ci).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=se(this,ci).get(e.queryHash);n&&(e.destroy(),n===e&&se(this,ci).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){yr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return se(this,ci).get(e)}getAll(){return[...se(this,ci).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>ij(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>ij(e,r)):n}notify(e){yr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){yr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){yr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ci=new WeakMap,NT),ui,mr,wl,di,Po,ST,m8=(ST=class extends wA{constructor(n){super();_t(this,di);_t(this,ui);_t(this,mr);_t(this,wl);this.mutationId=n.mutationId,rt(this,mr,n.mutationCache),rt(this,ui,[]),this.state=n.state||p8(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){se(this,ui).includes(n)||(se(this,ui).push(n),this.clearGcTimeout(),se(this,mr).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){rt(this,ui,se(this,ui).filter(r=>r!==n)),this.scheduleGc(),se(this,mr).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){se(this,ui).length||(this.state.status==="pending"?this.scheduleGc():se(this,mr).remove(this))}continue(){var n;return((n=se(this,wl))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var a,l,c,u,d,f,p,g,_,v,w,b,x,y,j,P,D,S,N,T;const r=()=>{tr(this,di,Po).call(this,{type:"continue"})};rt(this,wl,xA({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(C,I)=>{tr(this,di,Po).call(this,{type:"failed",failureCount:C,error:I})},onPause:()=>{tr(this,di,Po).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>se(this,mr).canRun(this)}));const s=this.state.status==="pending",i=!se(this,wl).canStart();try{if(s)r();else{tr(this,di,Po).call(this,{type:"pending",variables:n,isPaused:i}),await((l=(a=se(this,mr).config).onMutate)==null?void 0:l.call(a,n,this));const I=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,n));I!==this.state.context&&tr(this,di,Po).call(this,{type:"pending",context:I,variables:n,isPaused:i})}const C=await se(this,wl).start();return await((f=(d=se(this,mr).config).onSuccess)==null?void 0:f.call(d,C,n,this.state.context,this)),await((g=(p=this.options).onSuccess)==null?void 0:g.call(p,C,n,this.state.context)),await((v=(_=se(this,mr).config).onSettled)==null?void 0:v.call(_,C,null,this.state.variables,this.state.context,this)),await((b=(w=this.options).onSettled)==null?void 0:b.call(w,C,null,n,this.state.context)),tr(this,di,Po).call(this,{type:"success",data:C}),C}catch(C){try{throw await((y=(x=se(this,mr).config).onError)==null?void 0:y.call(x,C,n,this.state.context,this)),await((P=(j=this.options).onError)==null?void 0:P.call(j,C,n,this.state.context)),await((S=(D=se(this,mr).config).onSettled)==null?void 0:S.call(D,void 0,C,this.state.variables,this.state.context,this)),await((T=(N=this.options).onSettled)==null?void 0:T.call(N,void 0,C,n,this.state.context)),C}finally{tr(this,di,Po).call(this,{type:"error",error:C})}}finally{se(this,mr).runNext(this)}}},ui=new WeakMap,mr=new WeakMap,wl=new WeakMap,di=new WeakSet,Po=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),yr.batch(()=>{se(this,ui).forEach(s=>{s.onMutationUpdate(n)}),se(this,mr).notify({mutation:this,type:"updated",action:n})})},ST);function p8(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var qi,Rs,Xh,jT,g8=(jT=class extends dv{constructor(e={}){super();_t(this,qi);_t(this,Rs);_t(this,Xh);this.config=e,rt(this,qi,new Set),rt(this,Rs,new Map),rt(this,Xh,0)}build(e,n,r){const s=new m8({mutationCache:this,mutationId:++nm(this,Xh)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){se(this,qi).add(e);const n=Nm(e);if(typeof n=="string"){const r=se(this,Rs).get(n);r?r.push(e):se(this,Rs).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(se(this,qi).delete(e)){const n=Nm(e);if(typeof n=="string"){const r=se(this,Rs).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&se(this,Rs).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Nm(e);if(typeof n=="string"){const r=se(this,Rs).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=Nm(e);if(typeof n=="string"){const s=(r=se(this,Rs).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){yr.batch(()=>{se(this,qi).forEach(e=>{this.notify({type:"removed",mutation:e})}),se(this,qi).clear(),se(this,Rs).clear()})}getAll(){return Array.from(se(this,qi))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>oj(n,r))}findAll(e={}){return this.getAll().filter(n=>oj(e,n))}notify(e){yr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return yr.batch(()=>Promise.all(e.map(n=>n.continue().catch(Ts))))}},qi=new WeakMap,Rs=new WeakMap,Xh=new WeakMap,jT);function Nm(t){var e;return(e=t.options.scope)==null?void 0:e.id}function cj(t){return{onFetch:(e,n)=>{var d,f,p,g,_;const r=e.options,s=(p=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:p.direction,i=((g=e.state.data)==null?void 0:g.pages)||[],a=((_=e.state.data)==null?void 0:_.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let v=!1;const w=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},b=pA(e.options,e.fetchOptions),x=async(y,j,P)=>{if(v)return Promise.reject();if(j==null&&y.pages.length)return Promise.resolve(y);const S=(()=>{const I={client:e.client,queryKey:e.queryKey,pageParam:j,direction:P?"backward":"forward",meta:e.options.meta};return w(I),I})(),N=await b(S),{maxPages:T}=e.options,C=P?r8:n8;return{pages:C(y.pages,N,T),pageParams:C(y.pageParams,j,T)}};if(s&&i.length){const y=s==="backward",j=y?v8:uj,P={pages:i,pageParams:a},D=j(r,P);l=await x(P,D,y)}else{const y=t??i.length;do{const j=c===0?a[0]??r.initialPageParam:uj(r,l);if(c>0&&j==null)break;l=await x(l,j),c++}while(c<y)}return l};e.options.persister?e.fetchFn=()=>{var v,w;return(w=(v=e.options).persister)==null?void 0:w.call(v,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function uj(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function v8(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var tn,Ho,qo,su,iu,Go,ou,au,CT,y8=(CT=class{constructor(t={}){_t(this,tn);_t(this,Ho);_t(this,qo);_t(this,su);_t(this,iu);_t(this,Go);_t(this,ou);_t(this,au);rt(this,tn,t.queryCache||new f8),rt(this,Ho,t.mutationCache||new g8),rt(this,qo,t.defaultOptions||{}),rt(this,su,new Map),rt(this,iu,new Map),rt(this,Go,0)}mount(){nm(this,Go)._++,se(this,Go)===1&&(rt(this,ou,gA.subscribe(async t=>{t&&(await this.resumePausedMutations(),se(this,tn).onFocus())})),rt(this,au,Wp.subscribe(async t=>{t&&(await this.resumePausedMutations(),se(this,tn).onOnline())})))}unmount(){var t,e;nm(this,Go)._--,se(this,Go)===0&&((t=se(this,ou))==null||t.call(this),rt(this,ou,void 0),(e=se(this,au))==null||e.call(this),rt(this,au,void 0))}isFetching(t){return se(this,tn).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return se(this,Ho).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=se(this,tn).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=se(this,tn).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Qw(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return se(this,tn).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=se(this,tn).get(r.queryHash),i=s==null?void 0:s.state.data,a=QB(e,i);if(a!==void 0)return se(this,tn).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return yr.batch(()=>se(this,tn).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=se(this,tn).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=se(this,tn);yr.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=se(this,tn);return yr.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=yr.batch(()=>se(this,tn).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Ts).catch(Ts)}invalidateQueries(t,e={}){return yr.batch(()=>(se(this,tn).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=yr.batch(()=>se(this,tn).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Ts)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Ts)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=se(this,tn).build(this,e);return n.isStaleByTime(Qw(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Ts).catch(Ts)}fetchInfiniteQuery(t){return t.behavior=cj(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Ts).catch(Ts)}ensureInfiniteQueryData(t){return t.behavior=cj(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Wp.isOnline()?se(this,Ho).resumePausedMutations():Promise.resolve()}getQueryCache(){return se(this,tn)}getMutationCache(){return se(this,Ho)}getDefaultOptions(){return se(this,qo)}setDefaultOptions(t){rt(this,qo,t)}setQueryDefaults(t,e){se(this,su).set(jh(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...se(this,su).values()],n={};return e.forEach(r=>{Ch(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){se(this,iu).set(jh(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...se(this,iu).values()],n={};return e.forEach(r=>{Ch(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...se(this,qo).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=j_(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===C_&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...se(this,qo).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){se(this,tn).clear(),se(this,Ho).clear()}},tn=new WeakMap,Ho=new WeakMap,qo=new WeakMap,su=new WeakMap,iu=new WeakMap,Go=new WeakMap,ou=new WeakMap,au=new WeakMap,CT),x8=m.createContext(void 0),w8=({client:t,children:e})=>(m.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),o.jsx(x8.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kh(){return kh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kh.apply(this,arguments)}var Qo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Qo||(Qo={}));const dj="popstate";function b8(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:a,hash:l}=r.location;return Zw("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Hp(s)}return E8(e,n,null,t)}function yn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function bA(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _8(){return Math.random().toString(36).substr(2,8)}function hj(t,e){return{usr:t.state,key:t.key,idx:e}}function Zw(t,e,n,r){return n===void 0&&(n=null),kh({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?$u(e):e,{state:n,key:e&&e.key||r||_8()})}function Hp(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function $u(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function E8(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,l=Qo.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(kh({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function f(){l=Qo.Pop;let w=d(),b=w==null?null:w-u;u=w,c&&c({action:l,location:v.location,delta:b})}function p(w,b){l=Qo.Push;let x=Zw(v.location,w,b);u=d()+1;let y=hj(x,u),j=v.createHref(x);try{a.pushState(y,"",j)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;s.location.assign(j)}i&&c&&c({action:l,location:v.location,delta:1})}function g(w,b){l=Qo.Replace;let x=Zw(v.location,w,b);u=d();let y=hj(x,u),j=v.createHref(x);a.replaceState(y,"",j),i&&c&&c({action:l,location:v.location,delta:0})}function _(w){let b=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof w=="string"?w:Hp(w);return x=x.replace(/ $/,"%20"),yn(b,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,b)}let v={get action(){return l},get location(){return t(s,a)},listen(w){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(dj,f),c=w,()=>{s.removeEventListener(dj,f),c=null}},createHref(w){return e(s,w)},createURL:_,encodeLocation(w){let b=_(w);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:p,replace:g,go(w){return a.go(w)}};return v}var fj;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(fj||(fj={}));function N8(t,e,n){return n===void 0&&(n="/"),S8(t,e,n,!1)}function S8(t,e,n,r){let s=typeof e=="string"?$u(e):e,i=k_(s.pathname||"/",n);if(i==null)return null;let a=_A(t);j8(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=L8(i);l=O8(a[c],u,r)}return l}function _A(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(yn(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=ua([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(yn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),_A(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:A8(u,i.index),routesMeta:d})};return t.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let c of EA(i.path))s(i,a,c)}),e}function EA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=EA(r.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function j8(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:D8(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const C8=/^:[\w-]+$/,k8=3,T8=2,I8=1,R8=10,P8=-2,mj=t=>t==="*";function A8(t,e){let n=t.split("/"),r=n.length;return n.some(mj)&&(r+=P8),e&&(r+=T8),n.filter(s=>!mj(s)).reduce((s,i)=>s+(C8.test(i)?k8:i===""?I8:R8),r)}function D8(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function O8(t,e,n){let{routesMeta:r}=t,s={},i="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",f=pj({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),p=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=pj({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),a.push({params:s,pathname:ua([i,f.pathname]),pathnameBase:U8(ua([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=ua([i,f.pathnameBase]))}return a}function pj(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=M8(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:p,isOptional:g}=d;if(p==="*"){let v=l[f]||"";a=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const _=l[f];return g&&!_?u[p]=void 0:u[p]=(_||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:t}}function M8(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),bA(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function L8(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return bA(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function k_(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function F8(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?$u(t):t;return{pathname:n?n.startsWith("/")?n:V8(n,e):e,search:B8(r),hash:z8(s)}}function V8(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function ax(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function $8(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function NA(t,e){let n=$8(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function SA(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=$u(t):(s=kh({},t),yn(!s.pathname||!s.pathname.includes("?"),ax("?","pathname","search",s)),yn(!s.pathname||!s.pathname.includes("#"),ax("#","pathname","hash",s)),yn(!s.search||!s.search.includes("#"),ax("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}l=f>=0?e[f]:"/"}let c=F8(s,l),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const ua=t=>t.join("/").replace(/\/\/+/g,"/"),U8=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),B8=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,z8=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function W8(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const jA=["post","put","patch","delete"];new Set(jA);const H8=["get",...jA];new Set(H8);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Th(){return Th=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Th.apply(this,arguments)}const T_=m.createContext(null),q8=m.createContext(null),Zl=m.createContext(null),fv=m.createContext(null),Ua=m.createContext({outlet:null,matches:[],isDataRoute:!1}),CA=m.createContext(null);function G8(t,e){let{relative:n}=e===void 0?{}:e;df()||yn(!1);let{basename:r,navigator:s}=m.useContext(Zl),{hash:i,pathname:a,search:l}=TA(t,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:ua([r,a])),s.createHref({pathname:c,search:l,hash:i})}function df(){return m.useContext(fv)!=null}function Ba(){return df()||yn(!1),m.useContext(fv).location}function kA(t){m.useContext(Zl).static||m.useLayoutEffect(t)}function gt(){let{isDataRoute:t}=m.useContext(Ua);return t?a7():K8()}function K8(){df()||yn(!1);let t=m.useContext(T_),{basename:e,future:n,navigator:r}=m.useContext(Zl),{matches:s}=m.useContext(Ua),{pathname:i}=Ba(),a=JSON.stringify(NA(s,n.v7_relativeSplatPath)),l=m.useRef(!1);return kA(()=>{l.current=!0}),m.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let f=SA(u,JSON.parse(a),i,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:ua([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,a,i,t])}function Y8(){let{matches:t}=m.useContext(Ua),e=t[t.length-1];return e?e.params:{}}function TA(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=m.useContext(Zl),{matches:s}=m.useContext(Ua),{pathname:i}=Ba(),a=JSON.stringify(NA(s,r.v7_relativeSplatPath));return m.useMemo(()=>SA(t,JSON.parse(a),i,n==="path"),[t,a,i,n])}function Q8(t,e){return X8(t,e)}function X8(t,e,n,r){df()||yn(!1);let{navigator:s}=m.useContext(Zl),{matches:i}=m.useContext(Ua),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=Ba(),d;if(e){var f;let w=typeof e=="string"?$u(e):e;c==="/"||(f=w.pathname)!=null&&f.startsWith(c)||yn(!1),d=w}else d=u;let p=d.pathname||"/",g=p;if(c!=="/"){let w=c.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(w.length).join("/")}let _=N8(t,{pathname:g}),v=n7(_&&_.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:ua([c,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:ua([c,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,n,r);return e&&v?m.createElement(fv.Provider,{value:{location:Th({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Qo.Pop}},v):v}function Z8(){let t=o7(),e=W8(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},e),n?m.createElement("pre",{style:s},n):null,null)}const J8=m.createElement(Z8,null);class e7 extends m.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?m.createElement(Ua.Provider,{value:this.props.routeContext},m.createElement(CA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function t7(t){let{routeContext:e,match:n,children:r}=t,s=m.useContext(T_);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(Ua.Provider,{value:e},r)}function n7(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=a.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||yn(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:p,errors:g}=n,_=f.route.loader&&p[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||_){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,f,p)=>{let g,_=!1,v=null,w=null;n&&(g=l&&f.route.id?l[f.route.id]:void 0,v=f.route.errorElement||J8,c&&(u<0&&p===0?(_=!0,w=null):u===p&&(_=!0,w=f.route.hydrateFallbackElement||null)));let b=e.concat(a.slice(0,p+1)),x=()=>{let y;return g?y=v:_?y=w:f.route.Component?y=m.createElement(f.route.Component,null):f.route.element?y=f.route.element:y=d,m.createElement(t7,{match:f,routeContext:{outlet:d,matches:b,isDataRoute:n!=null},children:y})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?m.createElement(e7,{location:n.location,revalidation:n.revalidation,component:v,error:g,children:x(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):x()},null)}var IA=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(IA||{}),qp=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(qp||{});function r7(t){let e=m.useContext(T_);return e||yn(!1),e}function s7(t){let e=m.useContext(q8);return e||yn(!1),e}function i7(t){let e=m.useContext(Ua);return e||yn(!1),e}function RA(t){let e=i7(),n=e.matches[e.matches.length-1];return n.route.id||yn(!1),n.route.id}function o7(){var t;let e=m.useContext(CA),n=s7(qp.UseRouteError),r=RA(qp.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function a7(){let{router:t}=r7(IA.UseNavigateStable),e=RA(qp.UseNavigateStable),n=m.useRef(!1);return kA(()=>{n.current=!0}),m.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Th({fromRouteId:e},i)))},[t,e])}function l7(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Et(t){yn(!1)}function c7(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Qo.Pop,navigator:i,static:a=!1,future:l}=t;df()&&yn(!1);let c=e.replace(/^\/*/,"/"),u=m.useMemo(()=>({basename:c,navigator:i,static:a,future:Th({v7_relativeSplatPath:!1},l)}),[c,l,i,a]);typeof r=="string"&&(r=$u(r));let{pathname:d="/",search:f="",hash:p="",state:g=null,key:_="default"}=r,v=m.useMemo(()=>{let w=k_(d,c);return w==null?null:{location:{pathname:w,search:f,hash:p,state:g,key:_},navigationType:s}},[c,d,f,p,g,_,s]);return v==null?null:m.createElement(Zl.Provider,{value:u},m.createElement(fv.Provider,{children:n,value:v}))}function u7(t){let{children:e,location:n}=t;return Q8(Jw(e),n)}new Promise(()=>{});function Jw(t,e){e===void 0&&(e=[]);let n=[];return m.Children.forEach(t,(r,s)=>{if(!m.isValidElement(r))return;let i=[...e,s];if(r.type===m.Fragment){n.push.apply(n,Jw(r.props.children,i));return}r.type!==Et&&yn(!1),!r.props.index||!r.props.children||yn(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Jw(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function e0(){return e0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},e0.apply(this,arguments)}function d7(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function h7(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function f7(t,e){return t.button===0&&(!e||e==="_self")&&!h7(t)}function t0(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function m7(t,e){let n=t0(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(i=>{n.append(s,i)})}),n}const p7=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],g7="6";try{window.__reactRouterVersion=g7}catch{}const v7="startTransition",gj=lb[v7];function y7(t){let{basename:e,children:n,future:r,window:s}=t,i=m.useRef();i.current==null&&(i.current=b8({window:s,v5Compat:!0}));let a=i.current,[l,c]=m.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=m.useCallback(f=>{u&&gj?gj(()=>c(f)):c(f)},[c,u]);return m.useLayoutEffect(()=>a.listen(d),[a,d]),m.useEffect(()=>l7(r),[r]),m.createElement(c7,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}const x7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",w7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cr=m.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=e,p=d7(e,p7),{basename:g}=m.useContext(Zl),_,v=!1;if(typeof u=="string"&&w7.test(u)&&(_=u,x7))try{let y=new URL(window.location.href),j=u.startsWith("//")?new URL(y.protocol+u):new URL(u),P=k_(j.pathname,g);j.origin===y.origin&&P!=null?u=P+j.search+j.hash:v=!0}catch{}let w=G8(u,{relative:s}),b=b7(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function x(y){r&&r(y),y.defaultPrevented||b(y)}return m.createElement("a",e0({},p,{href:_||w,onClick:v||i?r:x,ref:n,target:c}))});var vj;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(vj||(vj={}));var yj;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(yj||(yj={}));function b7(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:a,viewTransition:l}=e===void 0?{}:e,c=gt(),u=Ba(),d=TA(t,{relative:a});return m.useCallback(f=>{if(f7(f,n)){f.preventDefault();let p=r!==void 0?r:Hp(u)===Hp(d);c(t,{replace:p,state:s,preventScrollReset:i,relative:a,viewTransition:l})}},[u,c,d,r,s,n,t,i,a,l])}function hf(t){let e=m.useRef(t0(t)),n=m.useRef(!1),r=Ba(),s=m.useMemo(()=>m7(r.search,n.current?null:e.current),[r.search]),i=gt(),a=m.useCallback((l,c)=>{const u=t0(typeof l=="function"?l(s):l);n.current=!0,i("?"+u,c)},[i,s]);return[s,a]}const _7=()=>{};var xj={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},E7=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],a=t[n++],l=t[n++],c=((s&7)<<18|(i&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],a=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return e.join("")},AA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],a=s+1<t.length,l=a?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,d=i>>2,f=(i&3)<<4|l>>4;let p=(l&15)<<2|u>>6,g=u&63;c||(g=64,a||(p=64)),r.push(n[d],n[f],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(PA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):E7(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||u==null||f==null)throw new N7;const p=i<<2|l>>4;if(r.push(p),u!==64){const g=l<<4&240|u>>2;if(r.push(g),f!==64){const _=u<<6&192|f;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class N7 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const S7=function(t){const e=PA(t);return AA.encodeByteArray(e,!0)},Gp=function(t){return S7(t).replace(/\./g,"")},DA=function(t){try{return AA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j7(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C7=()=>j7().__FIREBASE_DEFAULTS__,k7=()=>{if(typeof process>"u"||typeof xj>"u")return;const t=xj.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},T7=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&DA(t[1]);return e&&JSON.parse(e)},mv=()=>{try{return _7()||C7()||k7()||T7()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},OA=t=>{var e,n;return(n=(e=mv())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},MA=t=>{const e=OA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},LA=()=>{var t;return(t=mv())==null?void 0:t.config},FA=t=>{var e;return(e=mv())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I7{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function I_(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Gp(JSON.stringify(n)),Gp(JSON.stringify(a)),""].join(".")}const Qd={};function R7(){const t={prod:[],emulator:[]};for(const e of Object.keys(Qd))Qd[e]?t.emulator.push(e):t.prod.push(e);return t}function P7(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let wj=!1;function R_(t,e){if(typeof window>"u"||typeof document>"u"||!Jl(window.location.host)||Qd[t]===e||Qd[t]||wj)return;Qd[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",i=R7().prod.length>0;function a(){const p=document.getElementById(r);p&&p.remove()}function l(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function c(p,g){p.setAttribute("width","24"),p.setAttribute("id",g),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function u(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{wj=!0,a()},p}function d(p,g){p.setAttribute("id",g),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=P7(r),g=n("text"),_=document.getElementById(g)||document.createElement("span"),v=n("learnmore"),w=document.getElementById(v)||document.createElement("a"),b=n("preprendIcon"),x=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const y=p.element;l(y),d(w,v);const j=u();c(x,b),y.append(x,_,w,j),document.body.appendChild(y)}i?(_.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function A7(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hr())}function D7(){var e;const t=(e=mv())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function O7(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function M7(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function L7(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function F7(){const t=hr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function V7(){return!D7()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $7(){try{return typeof indexedDB=="object"}catch{return!1}}function U7(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B7="FirebaseError";class Di extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=B7,Object.setPrototypeOf(this,Di.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ff.prototype.create)}}class ff{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],a=i?z7(i,r):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new Di(s,l,r)}}function z7(t,e){return t.replace(W7,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const W7=/\{\$([^}]+)}/g;function H7(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Dl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],a=e[s];if(bj(i)&&bj(a)){if(!Dl(i,a))return!1}else if(i!==a)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function bj(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Rd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Pd(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function q7(t,e){const n=new G7(t,e);return n.subscribe.bind(n)}class G7{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");K7(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=lx),s.error===void 0&&(s.error=lx),s.complete===void 0&&(s.complete=lx);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function K7(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function lx(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(t){return t&&t._delegate?t._delegate:t}let Ca=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const il="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y7{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new I7;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(X7(e))try{this.getOrInitializeService({instanceIdentifier:il})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=il){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=il){return this.instances.has(e)}getOptions(e=il){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&a.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Q7(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=il){return this.component?this.component.multipleInstances?e:il:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Q7(t){return t===il?void 0:t}function X7(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z7{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Y7(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ct||(ct={}));const J7={debug:ct.DEBUG,verbose:ct.VERBOSE,info:ct.INFO,warn:ct.WARN,error:ct.ERROR,silent:ct.SILENT},ez=ct.INFO,tz={[ct.DEBUG]:"log",[ct.VERBOSE]:"log",[ct.INFO]:"info",[ct.WARN]:"warn",[ct.ERROR]:"error"},nz=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=tz[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class P_{constructor(e){this.name=e,this._logLevel=ez,this._logHandler=nz,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ct))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?J7[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ct.DEBUG,...e),this._logHandler(this,ct.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ct.VERBOSE,...e),this._logHandler(this,ct.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ct.INFO,...e),this._logHandler(this,ct.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ct.WARN,...e),this._logHandler(this,ct.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ct.ERROR,...e),this._logHandler(this,ct.ERROR,...e)}}const rz=(t,e)=>e.some(n=>t instanceof n);let _j,Ej;function sz(){return _j||(_j=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iz(){return Ej||(Ej=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $A=new WeakMap,n0=new WeakMap,UA=new WeakMap,cx=new WeakMap,A_=new WeakMap;function oz(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",a)},i=()=>{n(da(t.result)),s()},a=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&$A.set(n,t)}).catch(()=>{}),A_.set(e,t),e}function az(t){if(n0.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",a),t.removeEventListener("abort",a)},i=()=>{n(),s()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",a),t.addEventListener("abort",a)});n0.set(t,e)}let r0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return n0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||UA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return da(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function lz(t){r0=t(r0)}function cz(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ux(this),e,...n);return UA.set(r,e.sort?e.sort():[e]),da(r)}:iz().includes(t)?function(...e){return t.apply(ux(this),e),da($A.get(this))}:function(...e){return da(t.apply(ux(this),e))}}function uz(t){return typeof t=="function"?cz(t):(t instanceof IDBTransaction&&az(t),rz(t,sz())?new Proxy(t,r0):t)}function da(t){if(t instanceof IDBRequest)return oz(t);if(cx.has(t))return cx.get(t);const e=uz(t);return e!==t&&(cx.set(t,e),A_.set(e,t)),e}const ux=t=>A_.get(t);function dz(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const a=indexedDB.open(t,e),l=da(a);return r&&a.addEventListener("upgradeneeded",c=>{r(da(a.result),c.oldVersion,c.newVersion,da(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const hz=["get","getKey","getAll","getAllKeys","count"],fz=["put","add","delete","clear"],dx=new Map;function Nj(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(dx.get(e))return dx.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=fz.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||hz.includes(n)))return;const i=async function(a,...l){const c=this.transaction(a,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),s&&c.done]))[0]};return dx.set(e,i),i}lz(t=>({...t,get:(e,n,r)=>Nj(e,n)||t.get(e,n,r),has:(e,n)=>!!Nj(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mz{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(pz(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function pz(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const s0="@firebase/app",Sj="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co=new P_("@firebase/app"),gz="@firebase/app-compat",vz="@firebase/analytics-compat",yz="@firebase/analytics",xz="@firebase/app-check-compat",wz="@firebase/app-check",bz="@firebase/auth",_z="@firebase/auth-compat",Ez="@firebase/database",Nz="@firebase/data-connect",Sz="@firebase/database-compat",jz="@firebase/functions",Cz="@firebase/functions-compat",kz="@firebase/installations",Tz="@firebase/installations-compat",Iz="@firebase/messaging",Rz="@firebase/messaging-compat",Pz="@firebase/performance",Az="@firebase/performance-compat",Dz="@firebase/remote-config",Oz="@firebase/remote-config-compat",Mz="@firebase/storage",Lz="@firebase/storage-compat",Fz="@firebase/firestore",Vz="@firebase/ai",$z="@firebase/firestore-compat",Uz="firebase",Bz="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0="[DEFAULT]",zz={[s0]:"fire-core",[gz]:"fire-core-compat",[yz]:"fire-analytics",[vz]:"fire-analytics-compat",[wz]:"fire-app-check",[xz]:"fire-app-check-compat",[bz]:"fire-auth",[_z]:"fire-auth-compat",[Ez]:"fire-rtdb",[Nz]:"fire-data-connect",[Sz]:"fire-rtdb-compat",[jz]:"fire-fn",[Cz]:"fire-fn-compat",[kz]:"fire-iid",[Tz]:"fire-iid-compat",[Iz]:"fire-fcm",[Rz]:"fire-fcm-compat",[Pz]:"fire-perf",[Az]:"fire-perf-compat",[Dz]:"fire-rc",[Oz]:"fire-rc-compat",[Mz]:"fire-gcs",[Lz]:"fire-gcs-compat",[Fz]:"fire-fst",[$z]:"fire-fst-compat",[Vz]:"fire-vertex","fire-js":"fire-js",[Uz]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp=new Map,Wz=new Map,o0=new Map;function jj(t,e){try{t.container.addComponent(e)}catch(n){co.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ol(t){const e=t.name;if(o0.has(e))return co.debug(`There were multiple attempts to register component ${e}.`),!1;o0.set(e,t);for(const n of Kp.values())jj(n,t);for(const n of Wz.values())jj(n,t);return!0}function pv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Yr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hz={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ha=new ff("app","Firebase",Hz);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qz{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ca("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ha.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ec=Bz;function BA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:i0,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw ha.create("bad-app-name",{appName:String(s)});if(n||(n=LA()),!n)throw ha.create("no-options");const i=Kp.get(s);if(i){if(Dl(n,i.options)&&Dl(r,i.config))return i;throw ha.create("duplicate-app",{appName:s})}const a=new Z7(s);for(const c of o0.values())a.addComponent(c);const l=new qz(n,r,a);return Kp.set(s,l),l}function D_(t=i0){const e=Kp.get(t);if(!e&&t===i0&&LA())return BA();if(!e)throw ha.create("no-app",{appName:t});return e}function wi(t,e,n){let r=zz[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&a.push("and"),i&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),co.warn(a.join(" "));return}Ol(new Ca(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gz="firebase-heartbeat-database",Kz=1,Ih="firebase-heartbeat-store";let hx=null;function zA(){return hx||(hx=dz(Gz,Kz,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ih)}catch(n){console.warn(n)}}}}).catch(t=>{throw ha.create("idb-open",{originalErrorMessage:t.message})})),hx}async function Yz(t){try{const n=(await zA()).transaction(Ih),r=await n.objectStore(Ih).get(WA(t));return await n.done,r}catch(e){if(e instanceof Di)co.warn(e.message);else{const n=ha.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});co.warn(n.message)}}}async function Cj(t,e){try{const r=(await zA()).transaction(Ih,"readwrite");await r.objectStore(Ih).put(e,WA(t)),await r.done}catch(n){if(n instanceof Di)co.warn(n.message);else{const r=ha.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});co.warn(r.message)}}}function WA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qz=1024,Xz=30;class Zz{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new eW(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=kj();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>Xz){const a=tW(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){co.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=kj(),{heartbeatsToSend:r,unsentEntries:s}=Jz(this._heartbeatsCache.heartbeats),i=Gp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return co.warn(n),""}}}function kj(){return new Date().toISOString().substring(0,10)}function Jz(t,e=Qz){const n=[];let r=t.slice();for(const s of t){const i=n.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),Tj(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Tj(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class eW{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $7()?U7().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Yz(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Cj(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Cj(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Tj(t){return Gp(JSON.stringify({version:2,heartbeats:t})).length}function tW(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nW(t){Ol(new Ca("platform-logger",e=>new mz(e),"PRIVATE")),Ol(new Ca("heartbeat",e=>new Zz(e),"PRIVATE")),wi(s0,Sj,t),wi(s0,Sj,"esm2020"),wi("fire-js","")}nW("");function HA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rW=HA,qA=new ff("auth","Firebase",HA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yp=new P_("@firebase/auth");function sW(t,...e){Yp.logLevel<=ct.WARN&&Yp.warn(`Auth (${ec}): ${t}`,...e)}function Jm(t,...e){Yp.logLevel<=ct.ERROR&&Yp.error(`Auth (${ec}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qs(t,...e){throw O_(t,...e)}function bi(t,...e){return O_(t,...e)}function GA(t,e,n){const r={...rW(),[e]:n};return new ff("auth","Firebase",r).create(e,{appName:t.name})}function Ji(t){return GA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function O_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return qA.create(t,...e)}function Ge(t,e,...n){if(!t)throw O_(e,...n)}function Qi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Jm(e),new Error(e)}function uo(t,e){t||Qi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a0(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function iW(){return Ij()==="http:"||Ij()==="https:"}function Ij(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oW(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(iW()||M7()||"connection"in navigator)?navigator.onLine:!0}function aW(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,n){this.shortDelay=e,this.longDelay=n,uo(n>e,"Short delay should be less than long delay!"),this.isMobile=A7()||L7()}get(){return oW()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M_(t,e){uo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lW={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cW=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],uW=new pf(3e4,6e4);function Qs(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Xs(t,e,n,r,s={}){return YA(t,s,async()=>{let i={},a={};r&&(e==="GET"?a=r:i={body:JSON.stringify(r)});const l=mf({key:t.config.apiKey,...a}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:c,...i};return O7()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Jl(t.emulatorConfig.host)&&(u.credentials="include"),KA.fetch()(await QA(t,t.config.apiHost,n,l),u)})}async function YA(t,e,n){t._canInitEmulator=!1;const r={...lW,...e};try{const s=new hW(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw Sm(t,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const l=i.ok?a.errorMessage:a.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sm(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw Sm(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw Sm(t,"user-disabled",a);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw GA(t,d,u);qs(t,d)}}catch(s){if(s instanceof Di)throw s;qs(t,"network-request-failed",{message:String(s)})}}async function gf(t,e,n,r,s={}){const i=await Xs(t,e,n,r,s);return"mfaPendingCredential"in i&&qs(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function QA(t,e,n,r){const s=`${e}${n}?${r}`,i=t,a=i.config.emulator?M_(t.config,s):`${t.config.apiScheme}://${s}`;return cW.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(a).toString():a}function dW(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class hW{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(bi(this.auth,"network-request-failed")),uW.get())})}}function Sm(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=bi(t,e,r);return s.customData._tokenResponse=n,s}function Rj(t){return t!==void 0&&t.enterprise!==void 0}class fW{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return dW(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function mW(t,e){return Xs(t,"GET","/v2/recaptchaConfig",Qs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pW(t,e){return Xs(t,"POST","/v1/accounts:delete",e)}async function Qp(t,e){return Xs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function gW(t,e=!1){const n=Zt(t),r=await n.getIdToken(e),s=L_(r);Ge(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,a=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Xd(fx(s.auth_time)),issuedAtTime:Xd(fx(s.iat)),expirationTime:Xd(fx(s.exp)),signInProvider:a||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function fx(t){return Number(t)*1e3}function L_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Jm("JWT malformed, contained fewer than 3 sections"),null;try{const s=DA(n);return s?JSON.parse(s):(Jm("Failed to decode base64 JWT payload"),null)}catch(s){return Jm("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Pj(t){const e=L_(t);return Ge(e,"internal-error"),Ge(typeof e.exp<"u","internal-error"),Ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Di&&vW(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function vW({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yW{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xd(this.lastLoginAt),this.creationTime=Xd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xp(t){var f;const e=t.auth,n=await t.getIdToken(),r=await Rh(t,Qp(e,{idToken:n}));Ge(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(f=s.providerUserInfo)!=null&&f.length?XA(s.providerUserInfo):[],a=wW(t.providerData,i),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new l0(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function xW(t){const e=Zt(t);await Xp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function wW(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function XA(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bW(t,e){const n=await YA(t,{},async()=>{const r=mf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,a=await QA(t,s,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&Jl(t.emulatorConfig.host)&&(c.credentials="include"),KA.fetch()(a,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function _W(t,e){return Xs(t,"POST","/v2/accounts:revokeToken",Qs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ge(e.idToken,"internal-error"),Ge(typeof e.idToken<"u","internal-error"),Ge(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Pj(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ge(e.length!==0,"internal-error");const n=Pj(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await bW(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,a=new Gc;return r&&(Ge(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),s&&(Ge(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),i&&(Ge(typeof i=="number","internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Gc,this.toJSON())}_performRefresh(){return Qi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Io(t,e){Ge(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ms{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new yW(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new l0(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Rh(this,this.stsTokenManager.getToken(this.auth,e));return Ge(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return gW(this,e)}reload(){return xW(this)}_assign(e){this!==e&&(Ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ms({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Xp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yr(this.auth.app))return Promise.reject(Ji(this.auth));const e=await this.getIdToken();return await Rh(this,pW(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,a=n.photoURL??void 0,l=n.tenantId??void 0,c=n._redirectEventId??void 0,u=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:f,emailVerified:p,isAnonymous:g,providerData:_,stsTokenManager:v}=n;Ge(f&&v,e,"internal-error");const w=Gc.fromJSON(this.name,v);Ge(typeof f=="string",e,"internal-error"),Io(r,e.name),Io(s,e.name),Ge(typeof p=="boolean",e,"internal-error"),Ge(typeof g=="boolean",e,"internal-error"),Io(i,e.name),Io(a,e.name),Io(l,e.name),Io(c,e.name),Io(u,e.name),Io(d,e.name);const b=new Ms({uid:f,auth:e,email:s,emailVerified:p,displayName:r,isAnonymous:g,photoURL:a,phoneNumber:i,tenantId:l,stsTokenManager:w,createdAt:u,lastLoginAt:d});return _&&Array.isArray(_)&&(b.providerData=_.map(x=>({...x}))),c&&(b._redirectEventId=c),b}static async _fromIdTokenResponse(e,n,r=!1){const s=new Gc;s.updateFromServerResponse(n);const i=new Ms({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Xp(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Ge(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?XA(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),l=new Gc;l.updateFromIdToken(r);const c=new Ms({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:a}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new l0(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aj=new Map;function Xi(t){uo(t instanceof Function,"Expected a class definition");let e=Aj.get(t);return e?(uo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Aj.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ZA.type="NONE";const Dj=ZA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ep(t,e,n){return`firebase:${t}:${e}:${n}`}class Kc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=ep(this.userKey,s.apiKey,i),this.fullPersistenceKey=ep("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Qp(this.auth,{idToken:e}).catch(()=>{});return n?Ms._fromGetAccountInfoResponse(this.auth,n,e):null}return Ms._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Kc(Xi(Dj),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||Xi(Dj);const a=ep(r,e.config.apiKey,e.name);let l=null;for(const u of n)try{const d=await u._get(a);if(d){let f;if(typeof d=="string"){const p=await Qp(e,{idToken:d}).catch(()=>{});if(!p)break;f=await Ms._fromGetAccountInfoResponse(e,p,d)}else f=Ms._fromJSON(e,d);u!==i&&(l=f),i=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Kc(i,e,r):(i=c[0],l&&await i._set(a,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(a)}catch{}})),new Kc(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oj(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(n2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(JA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(s2(e))return"Blackberry";if(i2(e))return"Webos";if(e2(e))return"Safari";if((e.includes("chrome/")||t2(e))&&!e.includes("edge/"))return"Chrome";if(r2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function JA(t=hr()){return/firefox\//i.test(t)}function e2(t=hr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function t2(t=hr()){return/crios\//i.test(t)}function n2(t=hr()){return/iemobile/i.test(t)}function r2(t=hr()){return/android/i.test(t)}function s2(t=hr()){return/blackberry/i.test(t)}function i2(t=hr()){return/webos/i.test(t)}function F_(t=hr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function EW(t=hr()){var e;return F_(t)&&!!((e=window.navigator)!=null&&e.standalone)}function NW(){return F7()&&document.documentMode===10}function o2(t=hr()){return F_(t)||r2(t)||i2(t)||s2(t)||/windows phone/i.test(t)||n2(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(t,e=[]){let n;switch(t){case"Browser":n=Oj(hr());break;case"Worker":n=`${Oj(hr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ec}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SW{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((a,l)=>{try{const c=e(i);a(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jW(t,e={}){return Xs(t,"GET","/v2/passwordPolicy",Qs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CW=6;class kW{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??CW,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TW{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mj(this),this.idTokenSubscription=new Mj(this),this.beforeStateQueue=new SW(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Xi(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Kc.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Qp(this,{idToken:e}),r=await Ms._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Yr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(i=this.redirectUser)==null?void 0:i._redirectEventId,l=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===l)&&(c!=null&&c.user)&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Xp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=aW()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Yr(this.app))return Promise.reject(Ji(this));const n=e?Zt(e):null;return n&&Ge(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Yr(this.app)?Promise.reject(Ji(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Yr(this.app)?Promise.reject(Ji(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await jW(this),n=new kW(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ff("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await _W(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Xi(e)||this._popupRedirectResolver;Ge(n,this,"argument-error"),this.redirectPersistenceManager=await Kc.create(this,[Xi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ge(l,this,"internal-error"),l.then(()=>{a||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=a2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Yr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&sW(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function za(t){return Zt(t)}class Mj{constructor(e){this.auth=e,this.observer=null,this.addObserver=q7(n=>this.observer=n)}get next(){return Ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function IW(t){gv=t}function l2(t){return gv.loadJS(t)}function RW(){return gv.recaptchaEnterpriseScript}function PW(){return gv.gapiScript}function AW(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class DW{constructor(){this.enterprise=new OW}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class OW{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const MW="recaptcha-enterprise",c2="NO_RECAPTCHA";class LW{constructor(e){this.type=MW,this.auth=za(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(a,l)=>{mW(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new fW(c);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,a(u.siteKey)}}).catch(c=>{l(c)})})}function s(i,a,l){const c=window.grecaptcha;Rj(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(u=>{a(u)}).catch(()=>{a(c2)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new DW().execute("siteKey",{action:"verify"}):new Promise((i,a)=>{r(this.auth).then(l=>{if(!n&&Rj(window.grecaptcha))s(l,i,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=RW();c.length!==0&&(c+=l),l2(c).then(()=>{s(l,i,a)}).catch(u=>{a(u)})}}).catch(l=>{a(l)})})}}async function Lj(t,e,n,r=!1,s=!1){const i=new LW(t);let a;if(s)a=c2;else try{a=await i.verify(n)}catch{a=await i.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,u=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Zp(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Lj(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Lj(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FW(t,e){const n=pv(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Dl(i,e??{}))return s;qs(s,"already-initialized")}return n.initialize({options:e})}function VW(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Xi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function $W(t,e,n){const r=za(t);Ge(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=u2(e),{host:a,port:l}=UW(e),c=l===null?"":`:${l}`,u={url:`${i}//${a}${c}/`},d=Object.freeze({host:a,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ge(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ge(Dl(u,r.config.emulator)&&Dl(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Jl(a)?(I_(`${i}//${a}${c}`),R_("Auth",!0)):BW()}function u2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function UW(t){const e=u2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Fj(r.substr(i.length+1))}}else{const[i,a]=r.split(":");return{host:i,port:Fj(a)}}}function Fj(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function BW(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Qi("not implemented")}_getIdTokenResponse(e){return Qi("not implemented")}_linkToIdToken(e,n){return Qi("not implemented")}_getReauthenticationResolver(e){return Qi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zW(t,e){return Xs(t,"POST","/v1/accounts:resetPassword",Qs(t,e))}async function WW(t,e){return Xs(t,"POST","/v1/accounts:signUp",e)}async function HW(t,e){return Xs(t,"POST","/v1/accounts:update",Qs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qW(t,e){return gf(t,"POST","/v1/accounts:signInWithPassword",Qs(t,e))}async function d2(t,e){return Xs(t,"POST","/v1/accounts:sendOobCode",Qs(t,e))}async function GW(t,e){return d2(t,e)}async function KW(t,e){return d2(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YW(t,e){return gf(t,"POST","/v1/accounts:signInWithEmailLink",Qs(t,e))}async function QW(t,e){return gf(t,"POST","/v1/accounts:signInWithEmailLink",Qs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph extends V_{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Ph(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ph(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zp(e,n,"signInWithPassword",qW);case"emailLink":return YW(e,{email:this._email,oobCode:this._password});default:qs(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zp(e,r,"signUpPassword",WW);case"emailLink":return QW(e,{idToken:n,email:this._email,oobCode:this._password});default:qs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yc(t,e){return gf(t,"POST","/v1/accounts:signInWithIdp",Qs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XW="http://localhost";class Ml extends V_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ml(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):qs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const a=new Ml(r,s);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Yc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Yc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Yc(e,n)}buildRequest(){const e={requestUri:XW,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=mf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZW(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function JW(t){const e=Rd(Pd(t)).link,n=e?Rd(Pd(e)).deep_link_id:null,r=Rd(Pd(t)).deep_link_id;return(r?Rd(Pd(r)).link:null)||r||n||e||t}class $_{constructor(e){const n=Rd(Pd(e)),r=n.apiKey??null,s=n.oobCode??null,i=ZW(n.mode??null);Ge(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=JW(e);try{return new $_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(){this.providerId=Uu.PROVIDER_ID}static credential(e,n){return Ph._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=$_.parseLink(n);return Ge(r,"argument-error"),Ph._fromEmailAndCode(e,r.code,r.tenantId)}}Uu.PROVIDER_ID="password";Uu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Uu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf extends h2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo extends vf{constructor(){super("facebook.com")}static credential(e){return Ml._fromParams({providerId:Vo.PROVIDER_ID,signInMethod:Vo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vo.credentialFromTaggedObject(e)}static credentialFromError(e){return Vo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vo.credential(e.oauthAccessToken)}catch{return null}}}Vo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Vo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o extends vf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ml._fromParams({providerId:$o.PROVIDER_ID,signInMethod:$o.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return $o.credentialFromTaggedObject(e)}static credentialFromError(e){return $o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return $o.credential(n,r)}catch{return null}}}$o.GOOGLE_SIGN_IN_METHOD="google.com";$o.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo extends vf{constructor(){super("github.com")}static credential(e){return Ml._fromParams({providerId:Uo.PROVIDER_ID,signInMethod:Uo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Uo.credentialFromTaggedObject(e)}static credentialFromError(e){return Uo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Uo.credential(e.oauthAccessToken)}catch{return null}}}Uo.GITHUB_SIGN_IN_METHOD="github.com";Uo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo extends vf{constructor(){super("twitter.com")}static credential(e,n){return Ml._fromParams({providerId:Bo.PROVIDER_ID,signInMethod:Bo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Bo.credentialFromTaggedObject(e)}static credentialFromError(e){return Bo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Bo.credential(n,r)}catch{return null}}}Bo.TWITTER_SIGN_IN_METHOD="twitter.com";Bo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eH(t,e){return gf(t,"POST","/v1/accounts:signUp",Qs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Ms._fromIdTokenResponse(e,r,s),a=Vj(r);return new Ll({user:i,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Vj(r);return new Ll({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Vj(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp extends Di{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Jp.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Jp(e,n,r,s)}}function f2(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Jp._fromErrorAndOperation(t,i,e,r):i})}async function tH(t,e,n=!1){const r=await Rh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ll._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nH(t,e,n=!1){const{auth:r}=t;if(Yr(r.app))return Promise.reject(Ji(r));const s="reauthenticate";try{const i=await Rh(t,f2(r,s,e,t),n);Ge(i.idToken,r,"internal-error");const a=L_(i.idToken);Ge(a,r,"internal-error");const{sub:l}=a;return Ge(t.uid===l,r,"user-mismatch"),Ll._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&qs(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m2(t,e,n=!1){if(Yr(t.app))return Promise.reject(Ji(t));const r="signIn",s=await f2(t,r,e),i=await Ll._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function rH(t,e){return m2(za(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U_(t){const e=za(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function sH(t,e,n){const r=za(t);await Zp(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",KW)}async function iH(t,e,n){await zW(Zt(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&U_(t),r})}async function oH(t,e){await HW(Zt(t),{oobCode:e})}async function aH(t,e,n){if(Yr(t.app))return Promise.reject(Ji(t));const r=za(t),a=await Zp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",eH).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&U_(t),c}),l=await Ll._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(l.user),l}function $j(t,e,n){return Yr(t.app)?Promise.reject(Ji(t)):rH(Zt(t),Uu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&U_(t),r})}async function lH(t,e){const n=Zt(t),s={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:i}=await GW(n.auth,s);i!==t.email&&await t.reload()}function cH(t,e,n,r){return Zt(t).onIdTokenChanged(e,n,r)}function uH(t,e,n){return Zt(t).beforeAuthStateChanged(e,n)}function dH(t,e,n,r){return Zt(t).onAuthStateChanged(e,n,r)}function wd(t){return Zt(t).signOut()}const eg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(eg,"1"),this.storage.removeItem(eg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hH=1e3,fH=10;class g2 extends p2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=o2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},i=this.storage.getItem(r);NW()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,fH):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},hH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}g2.type="LOCAL";const mH=g2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2 extends p2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}v2.type="SESSION";const y2=v2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pH(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new vv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(a).map(async u=>u(n.origin,i)),c=await pH(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gH{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,a;return new Promise((l,c)=>{const u=B_("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(p.data.response);break;default:clearTimeout(d),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(){return window}function vH(t){_i().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(){return typeof _i().WorkerGlobalScope<"u"&&typeof _i().importScripts=="function"}async function yH(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xH(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function wH(){return x2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2="firebaseLocalStorageDb",bH=1,tg="firebaseLocalStorage",b2="fbase_key";class yf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function yv(t,e){return t.transaction([tg],e?"readwrite":"readonly").objectStore(tg)}function _H(){const t=indexedDB.deleteDatabase(w2);return new yf(t).toPromise()}function c0(){const t=indexedDB.open(w2,bH);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(tg,{keyPath:b2})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(tg)?e(r):(r.close(),await _H(),e(await c0()))})})}async function Uj(t,e,n){const r=yv(t,!0).put({[b2]:e,value:n});return new yf(r).toPromise()}async function EH(t,e){const n=yv(t,!1).get(e),r=await new yf(n).toPromise();return r===void 0?null:r.value}function Bj(t,e){const n=yv(t,!0).delete(e);return new yf(n).toPromise()}const NH=800,SH=3;class _2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await c0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>SH)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return x2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vv._getInstance(wH()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await yH(),!this.activeServiceWorker)return;this.sender=new gH(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||xH()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await c0();return await Uj(e,eg,"1"),await Bj(e,eg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Uj(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>EH(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Bj(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=yv(s,!1).getAll();return new yf(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),NH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_2.type="LOCAL";const jH=_2;new pf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CH(t,e){return e?Xi(e):(Ge(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_ extends V_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Yc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Yc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Yc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function kH(t){return m2(t.auth,new z_(t),t.bypassAuthState)}function TH(t){const{auth:e,user:n}=t;return Ge(n,e,"internal-error"),nH(n,new z_(t),t.bypassAuthState)}async function IH(t){const{auth:e,user:n}=t;return Ge(n,e,"internal-error"),tH(n,new z_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:a,type:l}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kH;case"linkViaPopup":case"linkViaRedirect":return IH;case"reauthViaPopup":case"reauthViaRedirect":return TH;default:qs(this.auth,"internal-error")}}resolve(e){uo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){uo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RH=new pf(2e3,1e4);class Oc extends E2{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Oc.currentPopupAction&&Oc.currentPopupAction.cancel(),Oc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ge(e,this.auth,"internal-error"),e}async onExecution(){uo(this.filter.length===1,"Popup operations only handle one event");const e=B_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Oc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,RH.get())};e()}}Oc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PH="pendingRedirect",tp=new Map;class AH extends E2{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=tp.get(this.auth._key());if(!e){try{const r=await DH(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}tp.set(this.auth._key(),e)}return this.bypassAuthState||tp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function DH(t,e){const n=LH(e),r=MH(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function OH(t,e){tp.set(t._key(),e)}function MH(t){return Xi(t._redirectPersistence)}function LH(t){return ep(PH,t.config.apiKey,t.name)}async function FH(t,e,n=!1){if(Yr(t.app))return Promise.reject(Ji(t));const r=za(t),s=CH(r,e),a=await new AH(r,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VH=10*60*1e3;class $H{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!UH(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!N2(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(bi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=VH&&this.cachedEventUids.clear(),this.cachedEventUids.has(zj(e))}saveEventToCache(e){this.cachedEventUids.add(zj(e)),this.lastProcessedEventTime=Date.now()}}function zj(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function N2({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function UH(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return N2(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BH(t,e={}){return Xs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WH=/^https?/;async function HH(t){if(t.config.emulator)return;const{authorizedDomains:e}=await BH(t);for(const n of e)try{if(qH(n))return}catch{}qs(t,"unauthorized-domain")}function qH(t){const e=a0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!WH.test(n))return!1;if(zH.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GH=new pf(3e4,6e4);function Wj(){const t=_i().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function KH(t){return new Promise((e,n)=>{var s,i,a;function r(){Wj(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Wj(),n(bi(t,"network-request-failed"))},timeout:GH.get()})}if((i=(s=_i().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((a=_i().gapi)!=null&&a.load)r();else{const l=AW("iframefcb");return _i()[l]=()=>{gapi.load?r():n(bi(t,"network-request-failed"))},l2(`${PW()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw np=null,e})}let np=null;function YH(t){return np=np||KH(t),np}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QH=new pf(5e3,15e3),XH="__/auth/iframe",ZH="emulator/auth/iframe",JH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eq=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tq(t){const e=t.config;Ge(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?M_(e,ZH):`https://${t.config.authDomain}/${XH}`,r={apiKey:e.apiKey,appName:t.name,v:ec},s=eq.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${mf(r).slice(1)}`}async function nq(t){const e=await YH(t),n=_i().gapi;return Ge(n,t,"internal-error"),e.open({where:document.body,url:tq(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:JH,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const a=bi(t,"network-request-failed"),l=_i().setTimeout(()=>{i(a)},QH.get());function c(){_i().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{i(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rq={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sq=500,iq=600,oq="_blank",aq="http://localhost";class Hj{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lq(t,e,n,r=sq,s=iq){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c={...rq,width:r.toString(),height:s.toString(),top:i,left:a},u=hr().toLowerCase();n&&(l=t2(u)?oq:n),JA(u)&&(e=e||aq,c.scrollbars="yes");const d=Object.entries(c).reduce((p,[g,_])=>`${p}${g}=${_},`,"");if(EW(u)&&l!=="_self")return cq(e||"",l),new Hj(null);const f=window.open(e||"",l,d);Ge(f,t,"popup-blocked");try{f.focus()}catch{}return new Hj(f)}function cq(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uq="__/auth/handler",dq="emulator/auth/handler",hq=encodeURIComponent("fac");async function qj(t,e,n,r,s,i){Ge(t.config.authDomain,t,"auth-domain-config-required"),Ge(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ec,eventId:s};if(e instanceof h2){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",H7(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))a[d]=f}if(e instanceof vf){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(a.scopes=d.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await t._getAppCheckToken(),u=c?`#${hq}=${encodeURIComponent(c)}`:"";return`${fq(t)}?${mf(l).slice(1)}${u}`}function fq({config:t}){return t.emulator?M_(t,dq):`https://${t.authDomain}/${uq}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx="webStorageSupport";class mq{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=y2,this._completeRedirectFn=FH,this._overrideRedirectResult=OH}async _openPopup(e,n,r,s){var a;uo((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const i=await qj(e,n,r,a0(),s);return lq(e,i,B_())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await qj(e,n,r,a0(),s);return vH(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(uo(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await nq(e),r=new $H(e);return n.register("authEvent",s=>(Ge(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(mx,{type:mx},s=>{var a;const i=(a=s==null?void 0:s[0])==null?void 0:a[mx];i!==void 0&&n(!!i),qs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=HH(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return o2()||e2()||F_()}}const pq=mq;var Gj="@firebase/auth",Kj="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gq{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vq(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function yq(t){Ol(new Ca("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=r.options;Ge(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:a2(t)},u=new TW(r,s,i,c);return VW(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ol(new Ca("auth-internal",e=>{const n=za(e.getProvider("auth").getImmediate());return(r=>new gq(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),wi(Gj,Kj,vq(t)),wi(Gj,Kj,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xq=5*60,wq=FA("authIdTokenMaxAge")||xq;let Yj=null;const bq=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>wq)return;const s=n==null?void 0:n.token;Yj!==s&&(Yj=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function _q(t=D_()){const e=pv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=FW(t,{popupRedirectResolver:pq,persistence:[jH,mH,y2]}),r=FA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const a=bq(i.toString());uH(n,a,()=>a(n.currentUser)),cH(n,l=>a(l))}}const s=OA("auth");return s&&$W(n,`http://${s}`),n}function Eq(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}IW({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=bi("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",Eq().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});yq("Browser");var Qj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fa,S2;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,N){function T(){}T.prototype=N.prototype,S.F=N.prototype,S.prototype=new T,S.prototype.constructor=S,S.D=function(C,I,A){for(var R=Array(arguments.length-2),z=2;z<arguments.length;z++)R[z-2]=arguments[z];return N.prototype[I].apply(C,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(S,N,T){T||(T=0);const C=Array(16);if(typeof N=="string")for(var I=0;I<16;++I)C[I]=N.charCodeAt(T++)|N.charCodeAt(T++)<<8|N.charCodeAt(T++)<<16|N.charCodeAt(T++)<<24;else for(I=0;I<16;++I)C[I]=N[T++]|N[T++]<<8|N[T++]<<16|N[T++]<<24;N=S.g[0],T=S.g[1],I=S.g[2];let A=S.g[3],R;R=N+(A^T&(I^A))+C[0]+3614090360&4294967295,N=T+(R<<7&4294967295|R>>>25),R=A+(I^N&(T^I))+C[1]+3905402710&4294967295,A=N+(R<<12&4294967295|R>>>20),R=I+(T^A&(N^T))+C[2]+606105819&4294967295,I=A+(R<<17&4294967295|R>>>15),R=T+(N^I&(A^N))+C[3]+3250441966&4294967295,T=I+(R<<22&4294967295|R>>>10),R=N+(A^T&(I^A))+C[4]+4118548399&4294967295,N=T+(R<<7&4294967295|R>>>25),R=A+(I^N&(T^I))+C[5]+1200080426&4294967295,A=N+(R<<12&4294967295|R>>>20),R=I+(T^A&(N^T))+C[6]+2821735955&4294967295,I=A+(R<<17&4294967295|R>>>15),R=T+(N^I&(A^N))+C[7]+4249261313&4294967295,T=I+(R<<22&4294967295|R>>>10),R=N+(A^T&(I^A))+C[8]+1770035416&4294967295,N=T+(R<<7&4294967295|R>>>25),R=A+(I^N&(T^I))+C[9]+2336552879&4294967295,A=N+(R<<12&4294967295|R>>>20),R=I+(T^A&(N^T))+C[10]+4294925233&4294967295,I=A+(R<<17&4294967295|R>>>15),R=T+(N^I&(A^N))+C[11]+2304563134&4294967295,T=I+(R<<22&4294967295|R>>>10),R=N+(A^T&(I^A))+C[12]+1804603682&4294967295,N=T+(R<<7&4294967295|R>>>25),R=A+(I^N&(T^I))+C[13]+4254626195&4294967295,A=N+(R<<12&4294967295|R>>>20),R=I+(T^A&(N^T))+C[14]+2792965006&4294967295,I=A+(R<<17&4294967295|R>>>15),R=T+(N^I&(A^N))+C[15]+1236535329&4294967295,T=I+(R<<22&4294967295|R>>>10),R=N+(I^A&(T^I))+C[1]+4129170786&4294967295,N=T+(R<<5&4294967295|R>>>27),R=A+(T^I&(N^T))+C[6]+3225465664&4294967295,A=N+(R<<9&4294967295|R>>>23),R=I+(N^T&(A^N))+C[11]+643717713&4294967295,I=A+(R<<14&4294967295|R>>>18),R=T+(A^N&(I^A))+C[0]+3921069994&4294967295,T=I+(R<<20&4294967295|R>>>12),R=N+(I^A&(T^I))+C[5]+3593408605&4294967295,N=T+(R<<5&4294967295|R>>>27),R=A+(T^I&(N^T))+C[10]+38016083&4294967295,A=N+(R<<9&4294967295|R>>>23),R=I+(N^T&(A^N))+C[15]+3634488961&4294967295,I=A+(R<<14&4294967295|R>>>18),R=T+(A^N&(I^A))+C[4]+3889429448&4294967295,T=I+(R<<20&4294967295|R>>>12),R=N+(I^A&(T^I))+C[9]+568446438&4294967295,N=T+(R<<5&4294967295|R>>>27),R=A+(T^I&(N^T))+C[14]+3275163606&4294967295,A=N+(R<<9&4294967295|R>>>23),R=I+(N^T&(A^N))+C[3]+4107603335&4294967295,I=A+(R<<14&4294967295|R>>>18),R=T+(A^N&(I^A))+C[8]+1163531501&4294967295,T=I+(R<<20&4294967295|R>>>12),R=N+(I^A&(T^I))+C[13]+2850285829&4294967295,N=T+(R<<5&4294967295|R>>>27),R=A+(T^I&(N^T))+C[2]+4243563512&4294967295,A=N+(R<<9&4294967295|R>>>23),R=I+(N^T&(A^N))+C[7]+1735328473&4294967295,I=A+(R<<14&4294967295|R>>>18),R=T+(A^N&(I^A))+C[12]+2368359562&4294967295,T=I+(R<<20&4294967295|R>>>12),R=N+(T^I^A)+C[5]+4294588738&4294967295,N=T+(R<<4&4294967295|R>>>28),R=A+(N^T^I)+C[8]+2272392833&4294967295,A=N+(R<<11&4294967295|R>>>21),R=I+(A^N^T)+C[11]+1839030562&4294967295,I=A+(R<<16&4294967295|R>>>16),R=T+(I^A^N)+C[14]+4259657740&4294967295,T=I+(R<<23&4294967295|R>>>9),R=N+(T^I^A)+C[1]+2763975236&4294967295,N=T+(R<<4&4294967295|R>>>28),R=A+(N^T^I)+C[4]+1272893353&4294967295,A=N+(R<<11&4294967295|R>>>21),R=I+(A^N^T)+C[7]+4139469664&4294967295,I=A+(R<<16&4294967295|R>>>16),R=T+(I^A^N)+C[10]+3200236656&4294967295,T=I+(R<<23&4294967295|R>>>9),R=N+(T^I^A)+C[13]+681279174&4294967295,N=T+(R<<4&4294967295|R>>>28),R=A+(N^T^I)+C[0]+3936430074&4294967295,A=N+(R<<11&4294967295|R>>>21),R=I+(A^N^T)+C[3]+3572445317&4294967295,I=A+(R<<16&4294967295|R>>>16),R=T+(I^A^N)+C[6]+76029189&4294967295,T=I+(R<<23&4294967295|R>>>9),R=N+(T^I^A)+C[9]+3654602809&4294967295,N=T+(R<<4&4294967295|R>>>28),R=A+(N^T^I)+C[12]+3873151461&4294967295,A=N+(R<<11&4294967295|R>>>21),R=I+(A^N^T)+C[15]+530742520&4294967295,I=A+(R<<16&4294967295|R>>>16),R=T+(I^A^N)+C[2]+3299628645&4294967295,T=I+(R<<23&4294967295|R>>>9),R=N+(I^(T|~A))+C[0]+4096336452&4294967295,N=T+(R<<6&4294967295|R>>>26),R=A+(T^(N|~I))+C[7]+1126891415&4294967295,A=N+(R<<10&4294967295|R>>>22),R=I+(N^(A|~T))+C[14]+2878612391&4294967295,I=A+(R<<15&4294967295|R>>>17),R=T+(A^(I|~N))+C[5]+4237533241&4294967295,T=I+(R<<21&4294967295|R>>>11),R=N+(I^(T|~A))+C[12]+1700485571&4294967295,N=T+(R<<6&4294967295|R>>>26),R=A+(T^(N|~I))+C[3]+2399980690&4294967295,A=N+(R<<10&4294967295|R>>>22),R=I+(N^(A|~T))+C[10]+4293915773&4294967295,I=A+(R<<15&4294967295|R>>>17),R=T+(A^(I|~N))+C[1]+2240044497&4294967295,T=I+(R<<21&4294967295|R>>>11),R=N+(I^(T|~A))+C[8]+1873313359&4294967295,N=T+(R<<6&4294967295|R>>>26),R=A+(T^(N|~I))+C[15]+4264355552&4294967295,A=N+(R<<10&4294967295|R>>>22),R=I+(N^(A|~T))+C[6]+2734768916&4294967295,I=A+(R<<15&4294967295|R>>>17),R=T+(A^(I|~N))+C[13]+1309151649&4294967295,T=I+(R<<21&4294967295|R>>>11),R=N+(I^(T|~A))+C[4]+4149444226&4294967295,N=T+(R<<6&4294967295|R>>>26),R=A+(T^(N|~I))+C[11]+3174756917&4294967295,A=N+(R<<10&4294967295|R>>>22),R=I+(N^(A|~T))+C[2]+718787259&4294967295,I=A+(R<<15&4294967295|R>>>17),R=T+(A^(I|~N))+C[9]+3951481745&4294967295,S.g[0]=S.g[0]+N&4294967295,S.g[1]=S.g[1]+(I+(R<<21&4294967295|R>>>11))&4294967295,S.g[2]=S.g[2]+I&4294967295,S.g[3]=S.g[3]+A&4294967295}r.prototype.v=function(S,N){N===void 0&&(N=S.length);const T=N-this.blockSize,C=this.C;let I=this.h,A=0;for(;A<N;){if(I==0)for(;A<=T;)s(this,S,A),A+=this.blockSize;if(typeof S=="string"){for(;A<N;)if(C[I++]=S.charCodeAt(A++),I==this.blockSize){s(this,C),I=0;break}}else for(;A<N;)if(C[I++]=S[A++],I==this.blockSize){s(this,C),I=0;break}}this.h=I,this.o+=N},r.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var N=1;N<S.length-8;++N)S[N]=0;N=this.o*8;for(var T=S.length-8;T<S.length;++T)S[T]=N&255,N/=256;for(this.v(S),S=Array(16),N=0,T=0;T<4;++T)for(let C=0;C<32;C+=8)S[N++]=this.g[T]>>>C&255;return S};function i(S,N){var T=l;return Object.prototype.hasOwnProperty.call(T,S)?T[S]:T[S]=N(S)}function a(S,N){this.h=N;const T=[];let C=!0;for(let I=S.length-1;I>=0;I--){const A=S[I]|0;C&&A==N||(T[I]=A,C=!1)}this.g=T}var l={};function c(S){return-128<=S&&S<128?i(S,function(N){return new a([N|0],N<0?-1:0)}):new a([S|0],S<0?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return f;if(S<0)return w(u(-S));const N=[];let T=1;for(let C=0;S>=T;C++)N[C]=S/T|0,T*=4294967296;return new a(N,0)}function d(S,N){if(S.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(S.charAt(0)=="-")return w(d(S.substring(1),N));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const T=u(Math.pow(N,8));let C=f;for(let A=0;A<S.length;A+=8){var I=Math.min(8,S.length-A);const R=parseInt(S.substring(A,A+I),N);I<8?(I=u(Math.pow(N,I)),C=C.j(I).add(u(R))):(C=C.j(T),C=C.add(u(R)))}return C}var f=c(0),p=c(1),g=c(16777216);t=a.prototype,t.m=function(){if(v(this))return-w(this).m();let S=0,N=1;for(let T=0;T<this.g.length;T++){const C=this.i(T);S+=(C>=0?C:4294967296+C)*N,N*=4294967296}return S},t.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(_(this))return"0";if(v(this))return"-"+w(this).toString(S);const N=u(Math.pow(S,6));var T=this;let C="";for(;;){const I=j(T,N).g;T=b(T,I.j(N));let A=((T.g.length>0?T.g[0]:T.h)>>>0).toString(S);if(T=I,_(T))return A+C;for(;A.length<6;)A="0"+A;C=A+C}},t.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function _(S){if(S.h!=0)return!1;for(let N=0;N<S.g.length;N++)if(S.g[N]!=0)return!1;return!0}function v(S){return S.h==-1}t.l=function(S){return S=b(this,S),v(S)?-1:_(S)?0:1};function w(S){const N=S.g.length,T=[];for(let C=0;C<N;C++)T[C]=~S.g[C];return new a(T,~S.h).add(p)}t.abs=function(){return v(this)?w(this):this},t.add=function(S){const N=Math.max(this.g.length,S.g.length),T=[];let C=0;for(let I=0;I<=N;I++){let A=C+(this.i(I)&65535)+(S.i(I)&65535),R=(A>>>16)+(this.i(I)>>>16)+(S.i(I)>>>16);C=R>>>16,A&=65535,R&=65535,T[I]=R<<16|A}return new a(T,T[T.length-1]&-2147483648?-1:0)};function b(S,N){return S.add(w(N))}t.j=function(S){if(_(this)||_(S))return f;if(v(this))return v(S)?w(this).j(w(S)):w(w(this).j(S));if(v(S))return w(this.j(w(S)));if(this.l(g)<0&&S.l(g)<0)return u(this.m()*S.m());const N=this.g.length+S.g.length,T=[];for(var C=0;C<2*N;C++)T[C]=0;for(C=0;C<this.g.length;C++)for(let I=0;I<S.g.length;I++){const A=this.i(C)>>>16,R=this.i(C)&65535,z=S.i(I)>>>16,F=S.i(I)&65535;T[2*C+2*I]+=R*F,x(T,2*C+2*I),T[2*C+2*I+1]+=A*F,x(T,2*C+2*I+1),T[2*C+2*I+1]+=R*z,x(T,2*C+2*I+1),T[2*C+2*I+2]+=A*z,x(T,2*C+2*I+2)}for(S=0;S<N;S++)T[S]=T[2*S+1]<<16|T[2*S];for(S=N;S<2*N;S++)T[S]=0;return new a(T,0)};function x(S,N){for(;(S[N]&65535)!=S[N];)S[N+1]+=S[N]>>>16,S[N]&=65535,N++}function y(S,N){this.g=S,this.h=N}function j(S,N){if(_(N))throw Error("division by zero");if(_(S))return new y(f,f);if(v(S))return N=j(w(S),N),new y(w(N.g),w(N.h));if(v(N))return N=j(S,w(N)),new y(w(N.g),N.h);if(S.g.length>30){if(v(S)||v(N))throw Error("slowDivide_ only works with positive integers.");for(var T=p,C=N;C.l(S)<=0;)T=P(T),C=P(C);var I=D(T,1),A=D(C,1);for(C=D(C,2),T=D(T,2);!_(C);){var R=A.add(C);R.l(S)<=0&&(I=I.add(T),A=R),C=D(C,1),T=D(T,1)}return N=b(S,I.j(N)),new y(I,N)}for(I=f;S.l(N)>=0;){for(T=Math.max(1,Math.floor(S.m()/N.m())),C=Math.ceil(Math.log(T)/Math.LN2),C=C<=48?1:Math.pow(2,C-48),A=u(T),R=A.j(N);v(R)||R.l(S)>0;)T-=C,A=u(T),R=A.j(N);_(A)&&(A=p),I=I.add(A),S=b(S,R)}return new y(I,S)}t.B=function(S){return j(this,S).h},t.and=function(S){const N=Math.max(this.g.length,S.g.length),T=[];for(let C=0;C<N;C++)T[C]=this.i(C)&S.i(C);return new a(T,this.h&S.h)},t.or=function(S){const N=Math.max(this.g.length,S.g.length),T=[];for(let C=0;C<N;C++)T[C]=this.i(C)|S.i(C);return new a(T,this.h|S.h)},t.xor=function(S){const N=Math.max(this.g.length,S.g.length),T=[];for(let C=0;C<N;C++)T[C]=this.i(C)^S.i(C);return new a(T,this.h^S.h)};function P(S){const N=S.g.length+1,T=[];for(let C=0;C<N;C++)T[C]=S.i(C)<<1|S.i(C-1)>>>31;return new a(T,S.h)}function D(S,N){const T=N>>5;N%=32;const C=S.g.length-T,I=[];for(let A=0;A<C;A++)I[A]=N>0?S.i(A+T)>>>N|S.i(A+T+1)<<32-N:S.i(A+T);return new a(I,S.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,S2=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=d,fa=a}).apply(typeof Qj<"u"?Qj:typeof self<"u"?self:typeof window<"u"?window:{});var jm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var j2,Ad,C2,rp,u0,k2,T2,I2;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof jm=="object"&&jm];for(var E=0;E<h.length;++E){var k=h[E];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var r=n(this);function s(h,E){if(E)e:{var k=r;h=h.split(".");for(var O=0;O<h.length-1;O++){var W=h[O];if(!(W in k))break e;k=k[W]}h=h[h.length-1],O=k[h],E=E(O),E!=O&&E!=null&&e(k,h,{configurable:!0,writable:!0,value:E})}}s("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(h){return h||function(E){var k=[],O;for(O in E)Object.prototype.hasOwnProperty.call(E,O)&&k.push([O,E[O]]);return k}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},a=this||self;function l(h){var E=typeof h;return E=="object"&&h!=null||E=="function"}function c(h,E,k){return h.call.apply(h.bind,arguments)}function u(h,E,k){return u=c,u.apply(null,arguments)}function d(h,E){var k=Array.prototype.slice.call(arguments,1);return function(){var O=k.slice();return O.push.apply(O,arguments),h.apply(this,O)}}function f(h,E){function k(){}k.prototype=E.prototype,h.Z=E.prototype,h.prototype=new k,h.prototype.constructor=h,h.Ob=function(O,W,Y){for(var je=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)je[ot-2]=arguments[ot];return E.prototype[W].apply(O,je)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function g(h){const E=h.length;if(E>0){const k=Array(E);for(let O=0;O<E;O++)k[O]=h[O];return k}return[]}function _(h,E){for(let O=1;O<arguments.length;O++){const W=arguments[O];var k=typeof W;if(k=k!="object"?k:W?Array.isArray(W)?"array":k:"null",k=="array"||k=="object"&&typeof W.length=="number"){k=h.length||0;const Y=W.length||0;h.length=k+Y;for(let je=0;je<Y;je++)h[k+je]=W[je]}else h.push(W)}}class v{constructor(E,k){this.i=E,this.j=k,this.h=0,this.g=null}get(){let E;return this.h>0?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function w(h){a.setTimeout(()=>{throw h},0)}function b(){var h=S;let E=null;return h.g&&(E=h.g,h.g=h.g.next,h.g||(h.h=null),E.next=null),E}class x{constructor(){this.h=this.g=null}add(E,k){const O=y.get();O.set(E,k),this.h?this.h.next=O:this.g=O,this.h=O}}var y=new v(()=>new j,h=>h.reset());class j{constructor(){this.next=this.g=this.h=null}set(E,k){this.h=E,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let P,D=!1,S=new x,N=()=>{const h=Promise.resolve(void 0);P=()=>{h.then(T)}};function T(){for(var h;h=b();){try{h.h.call(h.g)}catch(k){w(k)}var E=y;E.j(h),E.h<100&&(E.h++,h.next=E.g,E.g=h)}D=!1}function C(){this.u=this.u,this.C=this.C}C.prototype.u=!1,C.prototype.dispose=function(){this.u||(this.u=!0,this.N())},C.prototype[Symbol.dispose]=function(){this.dispose()},C.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(h,E){this.type=h,this.g=this.target=E,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var A=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var h=!1,E=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const k=()=>{};a.addEventListener("test",k,E),a.removeEventListener("test",k,E)}catch{}return h}();function R(h){return/^[\s\xa0]*$/.test(h)}function z(h,E){I.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,E)}f(z,I),z.prototype.init=function(h,E){const k=this.type=h.type,O=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=E,E=h.relatedTarget,E||(k=="mouseover"?E=h.fromElement:k=="mouseout"&&(E=h.toElement)),this.relatedTarget=E,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&z.Z.h.call(this)},z.prototype.h=function(){z.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var F="closure_listenable_"+(Math.random()*1e6|0),H=0;function q(h,E,k,O,W){this.listener=h,this.proxy=null,this.src=E,this.type=k,this.capture=!!O,this.ha=W,this.key=++H,this.da=this.fa=!1}function L(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function V(h,E,k){for(const O in h)E.call(k,h[O],O,h)}function ee(h,E){for(const k in h)E.call(void 0,h[k],k,h)}function _e(h){const E={};for(const k in h)E[k]=h[k];return E}const U="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(h,E){let k,O;for(let W=1;W<arguments.length;W++){O=arguments[W];for(k in O)h[k]=O[k];for(let Y=0;Y<U.length;Y++)k=U[Y],Object.prototype.hasOwnProperty.call(O,k)&&(h[k]=O[k])}}function de(h){this.src=h,this.g={},this.h=0}de.prototype.add=function(h,E,k,O,W){const Y=h.toString();h=this.g[Y],h||(h=this.g[Y]=[],this.h++);const je=ke(h,E,O,W);return je>-1?(E=h[je],k||(E.fa=!1)):(E=new q(E,this.src,Y,!!O,W),E.fa=k,h.push(E)),E};function fe(h,E){const k=E.type;if(k in h.g){var O=h.g[k],W=Array.prototype.indexOf.call(O,E,void 0),Y;(Y=W>=0)&&Array.prototype.splice.call(O,W,1),Y&&(L(E),h.g[k].length==0&&(delete h.g[k],h.h--))}}function ke(h,E,k,O){for(let W=0;W<h.length;++W){const Y=h[W];if(!Y.da&&Y.listener==E&&Y.capture==!!k&&Y.ha==O)return W}return-1}var J="closure_lm_"+(Math.random()*1e6|0),K={};function ne(h,E,k,O,W){if(Array.isArray(E)){for(let Y=0;Y<E.length;Y++)ne(h,E[Y],k,O,W);return null}return k=Q(k),h&&h[F]?h.J(E,k,l(O)?!!O.capture:!!O,W):Z(h,E,k,!1,O,W)}function Z(h,E,k,O,W,Y){if(!E)throw Error("Invalid event type");const je=l(W)?!!W.capture:!!W;let ot=ht(h);if(ot||(h[J]=ot=new de(h)),k=ot.add(E,k,O,je,Y),k.proxy)return k;if(O=ge(),k.proxy=O,O.src=h,O.listener=k,h.addEventListener)A||(W=je),W===void 0&&(W=!1),h.addEventListener(E.toString(),O,W);else if(h.attachEvent)h.attachEvent(Pe(E.toString()),O);else if(h.addListener&&h.removeListener)h.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return k}function ge(){function h(k){return E.call(h.src,h.listener,k)}const E=Ue;return h}function Re(h,E,k,O,W){if(Array.isArray(E))for(var Y=0;Y<E.length;Y++)Re(h,E[Y],k,O,W);else O=l(O)?!!O.capture:!!O,k=Q(k),h&&h[F]?(h=h.i,Y=String(E).toString(),Y in h.g&&(E=h.g[Y],k=ke(E,k,O,W),k>-1&&(L(E[k]),Array.prototype.splice.call(E,k,1),E.length==0&&(delete h.g[Y],h.h--)))):h&&(h=ht(h))&&(E=h.g[E.toString()],h=-1,E&&(h=ke(E,k,O,W)),(k=h>-1?E[h]:null)&&mt(k))}function mt(h){if(typeof h!="number"&&h&&!h.da){var E=h.src;if(E&&E[F])fe(E.i,h);else{var k=h.type,O=h.proxy;E.removeEventListener?E.removeEventListener(k,O,h.capture):E.detachEvent?E.detachEvent(Pe(k),O):E.addListener&&E.removeListener&&E.removeListener(O),(k=ht(E))?(fe(k,h),k.h==0&&(k.src=null,E[J]=null)):L(h)}}}function Pe(h){return h in K?K[h]:K[h]="on"+h}function Ue(h,E){if(h.da)h=!0;else{E=new z(E,this);const k=h.listener,O=h.ha||h.src;h.fa&&mt(h),h=k.call(O,E)}return h}function ht(h){return h=h[J],h instanceof de?h:null}var X="__closure_events_fn_"+(Math.random()*1e9>>>0);function Q(h){return typeof h=="function"?h:(h[X]||(h[X]=function(E){return h.handleEvent(E)}),h[X])}function ue(){C.call(this),this.i=new de(this),this.M=this,this.G=null}f(ue,C),ue.prototype[F]=!0,ue.prototype.removeEventListener=function(h,E,k,O){Re(this,h,E,k,O)};function M(h,E){var k,O=h.G;if(O)for(k=[];O;O=O.G)k.push(O);if(h=h.M,O=E.type||E,typeof E=="string")E=new I(E,h);else if(E instanceof I)E.target=E.target||h;else{var W=E;E=new I(O,h),le(E,W)}W=!0;let Y,je;if(k)for(je=k.length-1;je>=0;je--)Y=E.g=k[je],W=$(Y,O,!0,E)&&W;if(Y=E.g=h,W=$(Y,O,!0,E)&&W,W=$(Y,O,!1,E)&&W,k)for(je=0;je<k.length;je++)Y=E.g=k[je],W=$(Y,O,!1,E)&&W}ue.prototype.N=function(){if(ue.Z.N.call(this),this.i){var h=this.i;for(const E in h.g){const k=h.g[E];for(let O=0;O<k.length;O++)L(k[O]);delete h.g[E],h.h--}}this.G=null},ue.prototype.J=function(h,E,k,O){return this.i.add(String(h),E,!1,k,O)},ue.prototype.K=function(h,E,k,O){return this.i.add(String(h),E,!0,k,O)};function $(h,E,k,O){if(E=h.i.g[String(E)],!E)return!0;E=E.concat();let W=!0;for(let Y=0;Y<E.length;++Y){const je=E[Y];if(je&&!je.da&&je.capture==k){const ot=je.listener,bn=je.ha||je.src;je.fa&&fe(h.i,je),W=ot.call(bn,O)!==!1&&W}}return W&&!O.defaultPrevented}function G(h,E){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=u(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(E)>2147483647?-1:a.setTimeout(h,E||0)}function me(h){h.g=G(()=>{h.g=null,h.i&&(h.i=!1,me(h))},h.l);const E=h.h;h.h=null,h.m.apply(null,E)}class pe extends C{constructor(E,k){super(),this.m=E,this.l=k,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:me(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function oe(h){C.call(this),this.h=h,this.g={}}f(oe,C);var we=[];function We(h){V(h.g,function(E,k){this.g.hasOwnProperty(k)&&mt(E)},h),h.g={}}oe.prototype.N=function(){oe.Z.N.call(this),We(this)},oe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ft=a.JSON.stringify,xn=a.JSON.parse,Br=class{stringify(h){return a.JSON.stringify(h,void 0)}parse(h){return a.JSON.parse(h,void 0)}};function fr(){}function Li(){}var on={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function kn(){I.call(this,"d")}f(kn,I);function ti(){I.call(this,"c")}f(ti,I);var Vn={},oc=null;function Fi(){return oc=oc||new ue}Vn.Ia="serverreachability";function Zu(h){I.call(this,Vn.Ia,h)}f(Zu,I);function wo(h){const E=Fi();M(E,new Zu(E))}Vn.STAT_EVENT="statevent";function qf(h,E){I.call(this,Vn.STAT_EVENT,h),this.stat=E}f(qf,I);function wn(h){const E=Fi();M(E,new qf(E,h))}Vn.Ja="timingevent";function Es(h,E){I.call(this,Vn.Ja,h),this.size=E}f(Es,I);function Qa(h,E){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){h()},E)}function He(){this.g=!0}He.prototype.ua=function(){this.g=!1};function jt(h,E,k,O,W,Y){h.info(function(){if(h.g)if(Y){var je="",ot=Y.split("&");for(let At=0;At<ot.length;At++){var bn=ot[At].split("=");if(bn.length>1){const In=bn[0];bn=bn[1];const si=In.split("_");je=si.length>=2&&si[1]=="type"?je+(In+"="+bn+"&"):je+(In+"=redacted&")}}}else je=null;else je=Y;return"XMLHTTP REQ ("+O+") [attempt "+W+"]: "+E+`
`+k+`
`+je})}function Ot(h,E,k,O,W,Y,je){h.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+W+"]: "+E+`
`+k+`
`+Y+" "+je})}function Tn(h,E,k,O){h.info(function(){return"XMLHTTP TEXT ("+E+"): "+ni(h,k)+(O?" "+O:"")})}function zr(h,E){h.info(function(){return"TIMEOUT: "+E})}He.prototype.info=function(){};function ni(h,E){if(!h.g)return E;if(!E)return null;try{const Y=JSON.parse(E);if(Y){for(h=0;h<Y.length;h++)if(Array.isArray(Y[h])){var k=Y[h];if(!(k.length<2)){var O=k[1];if(Array.isArray(O)&&!(O.length<1)){var W=O[0];if(W!="noop"&&W!="stop"&&W!="close")for(let je=1;je<O.length;je++)O[je]=""}}}}return ft(Y)}catch{return E}}var os={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Sr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ns;function fy(){}f(fy,fr),fy.prototype.g=function(){return new XMLHttpRequest},Ns=new fy;function Ju(h){return encodeURIComponent(String(h))}function UV(h){var E=1;h=h.split(":");const k=[];for(;E>0&&h.length;)k.push(h.shift()),E--;return h.length&&k.push(h.join(":")),k}function bo(h,E,k,O){this.j=h,this.i=E,this.l=k,this.S=O||1,this.V=new oe(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new VE}function VE(){this.i=null,this.g="",this.h=!1}var $E={},my={};function py(h,E,k){h.M=1,h.A=Kf(ri(E)),h.u=k,h.R=!0,UE(h,null)}function UE(h,E){h.F=Date.now(),Gf(h),h.B=ri(h.A);var k=h.B,O=h.S;Array.isArray(O)||(O=[String(O)]),eN(k.i,"t",O),h.C=0,k=h.j.L,h.h=new VE,h.g=yN(h.j,k?E:null,!h.u),h.P>0&&(h.O=new pe(u(h.Y,h,h.g),h.P)),E=h.V,k=h.g,O=h.ba;var W="readystatechange";Array.isArray(W)||(W&&(we[0]=W.toString()),W=we);for(let Y=0;Y<W.length;Y++){const je=ne(k,W[Y],O||E.handleEvent,!1,E.h||E);if(!je)break;E.g[je.key]=je}E=h.J?_e(h.J):{},h.u?(h.v||(h.v="POST"),E["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,E)):(h.v="GET",h.g.ea(h.B,h.v,null,E)),wo(),jt(h.i,h.v,h.B,h.l,h.S,h.u)}bo.prototype.ba=function(h){h=h.target;const E=this.O;E&&No(h)==3?E.j():this.Y(h)},bo.prototype.Y=function(h){try{if(h==this.g)e:{const ot=No(this.g),bn=this.g.ya(),At=this.g.ca();if(!(ot<3)&&(ot!=3||this.g&&(this.h.h||this.g.la()||aN(this.g)))){this.K||ot!=4||bn==7||(bn==8||At<=0?wo(3):wo(2)),gy(this);var E=this.g.ca();this.X=E;var k=BV(this);if(this.o=E==200,Ot(this.i,this.v,this.B,this.l,this.S,ot,E),this.o){if(this.U&&!this.L){t:{if(this.g){var O,W=this.g;if((O=W.g?W.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(O)){var Y=O;break t}}Y=null}if(h=Y)Tn(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,vy(this,h);else{this.o=!1,this.m=3,wn(12),Xa(this),ed(this);break e}}if(this.R){h=!0;let In;for(;!this.K&&this.C<k.length;)if(In=zV(this,k),In==my){ot==4&&(this.m=4,wn(14),h=!1),Tn(this.i,this.l,null,"[Incomplete Response]");break}else if(In==$E){this.m=4,wn(15),Tn(this.i,this.l,k,"[Invalid Chunk]"),h=!1;break}else Tn(this.i,this.l,In,null),vy(this,In);if(BE(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ot!=4||k.length!=0||this.h.h||(this.m=1,wn(16),h=!1),this.o=this.o&&h,!h)Tn(this.i,this.l,k,"[Invalid Chunked Response]"),Xa(this),ed(this);else if(k.length>0&&!this.W){this.W=!0;var je=this.j;je.g==this&&je.aa&&!je.P&&(je.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),Sy(je),je.P=!0,wn(11))}}else Tn(this.i,this.l,k,null),vy(this,k);ot==4&&Xa(this),this.o&&!this.K&&(ot==4?mN(this.j,this):(this.o=!1,Gf(this)))}else r5(this.g),E==400&&k.indexOf("Unknown SID")>0?(this.m=3,wn(12)):(this.m=0,wn(13)),Xa(this),ed(this)}}}catch{}finally{}};function BV(h){if(!BE(h))return h.g.la();const E=aN(h.g);if(E==="")return"";let k="";const O=E.length,W=No(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Xa(h),ed(h),"";h.h.i=new a.TextDecoder}for(let Y=0;Y<O;Y++)h.h.h=!0,k+=h.h.i.decode(E[Y],{stream:!(W&&Y==O-1)});return E.length=0,h.h.g+=k,h.C=0,h.h.g}function BE(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function zV(h,E){var k=h.C,O=E.indexOf(`
`,k);return O==-1?my:(k=Number(E.substring(k,O)),isNaN(k)?$E:(O+=1,O+k>E.length?my:(E=E.slice(O,O+k),h.C=O+k,E)))}bo.prototype.cancel=function(){this.K=!0,Xa(this)};function Gf(h){h.T=Date.now()+h.H,zE(h,h.H)}function zE(h,E){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Qa(u(h.aa,h),E)}function gy(h){h.D&&(a.clearTimeout(h.D),h.D=null)}bo.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(zr(this.i,this.B),this.M!=2&&(wo(),wn(17)),Xa(this),this.m=2,ed(this)):zE(this,this.T-h)};function ed(h){h.j.I==0||h.K||mN(h.j,h)}function Xa(h){gy(h);var E=h.O;E&&typeof E.dispose=="function"&&E.dispose(),h.O=null,We(h.V),h.g&&(E=h.g,h.g=null,E.abort(),E.dispose())}function vy(h,E){try{var k=h.j;if(k.I!=0&&(k.g==h||yy(k.h,h))){if(!h.L&&yy(k.h,h)&&k.I==3){try{var O=k.Ba.g.parse(E)}catch{O=null}if(Array.isArray(O)&&O.length==3){var W=O;if(W[0]==0){e:if(!k.v){if(k.g)if(k.g.F+3e3<h.F)Jf(k),Xf(k);else break e;Ny(k),wn(18)}}else k.xa=W[1],0<k.xa-k.K&&W[2]<37500&&k.F&&k.A==0&&!k.C&&(k.C=Qa(u(k.Va,k),6e3));qE(k.h)<=1&&k.ta&&(k.ta=void 0)}else Ja(k,11)}else if((h.L||k.g==h)&&Jf(k),!R(E))for(W=k.Ba.g.parse(E),E=0;E<W.length;E++){let At=W[E];const In=At[0];if(!(In<=k.K))if(k.K=In,At=At[1],k.I==2)if(At[0]=="c"){k.M=At[1],k.ba=At[2];const si=At[3];si!=null&&(k.ka=si,k.j.info("VER="+k.ka));const el=At[4];el!=null&&(k.za=el,k.j.info("SVER="+k.za));const So=At[5];So!=null&&typeof So=="number"&&So>0&&(O=1.5*So,k.O=O,k.j.info("backChannelRequestTimeoutMs_="+O)),O=k;const jo=h.g;if(jo){const tm=jo.g?jo.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(tm){var Y=O.h;Y.g||tm.indexOf("spdy")==-1&&tm.indexOf("quic")==-1&&tm.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(xy(Y,Y.h),Y.h=null))}if(O.G){const jy=jo.g?jo.g.getResponseHeader("X-HTTP-Session-Id"):null;jy&&(O.wa=jy,Ut(O.J,O.G,jy))}}k.I=3,k.l&&k.l.ra(),k.aa&&(k.T=Date.now()-h.F,k.j.info("Handshake RTT: "+k.T+"ms")),O=k;var je=h;if(O.na=vN(O,O.L?O.ba:null,O.W),je.L){GE(O.h,je);var ot=je,bn=O.O;bn&&(ot.H=bn),ot.D&&(gy(ot),Gf(ot)),O.g=je}else hN(O);k.i.length>0&&Zf(k)}else At[0]!="stop"&&At[0]!="close"||Ja(k,7);else k.I==3&&(At[0]=="stop"||At[0]=="close"?At[0]=="stop"?Ja(k,7):Ey(k):At[0]!="noop"&&k.l&&k.l.qa(At),k.A=0)}}wo(4)}catch{}}var WV=class{constructor(h,E){this.g=h,this.map=E}};function WE(h){this.l=h||10,a.PerformanceNavigationTiming?(h=a.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function HE(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function qE(h){return h.h?1:h.g?h.g.size:0}function yy(h,E){return h.h?h.h==E:h.g?h.g.has(E):!1}function xy(h,E){h.g?h.g.add(E):h.h=E}function GE(h,E){h.h&&h.h==E?h.h=null:h.g&&h.g.has(E)&&h.g.delete(E)}WE.prototype.cancel=function(){if(this.i=KE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function KE(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let E=h.i;for(const k of h.g.values())E=E.concat(k.G);return E}return g(h.i)}var YE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function HV(h,E){if(h){h=h.split("&");for(let k=0;k<h.length;k++){const O=h[k].indexOf("=");let W,Y=null;O>=0?(W=h[k].substring(0,O),Y=h[k].substring(O+1)):W=h[k],E(W,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function _o(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let E;h instanceof _o?(this.l=h.l,td(this,h.j),this.o=h.o,this.g=h.g,nd(this,h.u),this.h=h.h,wy(this,tN(h.i)),this.m=h.m):h&&(E=String(h).match(YE))?(this.l=!1,td(this,E[1]||"",!0),this.o=rd(E[2]||""),this.g=rd(E[3]||"",!0),nd(this,E[4]),this.h=rd(E[5]||"",!0),wy(this,E[6]||"",!0),this.m=rd(E[7]||"")):(this.l=!1,this.i=new id(null,this.l))}_o.prototype.toString=function(){const h=[];var E=this.j;E&&h.push(sd(E,QE,!0),":");var k=this.g;return(k||E=="file")&&(h.push("//"),(E=this.o)&&h.push(sd(E,QE,!0),"@"),h.push(Ju(k).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.u,k!=null&&h.push(":",String(k))),(k=this.h)&&(this.g&&k.charAt(0)!="/"&&h.push("/"),h.push(sd(k,k.charAt(0)=="/"?KV:GV,!0))),(k=this.i.toString())&&h.push("?",k),(k=this.m)&&h.push("#",sd(k,QV)),h.join("")},_o.prototype.resolve=function(h){const E=ri(this);let k=!!h.j;k?td(E,h.j):k=!!h.o,k?E.o=h.o:k=!!h.g,k?E.g=h.g:k=h.u!=null;var O=h.h;if(k)nd(E,h.u);else if(k=!!h.h){if(O.charAt(0)!="/")if(this.g&&!this.h)O="/"+O;else{var W=E.h.lastIndexOf("/");W!=-1&&(O=E.h.slice(0,W+1)+O)}if(W=O,W==".."||W==".")O="";else if(W.indexOf("./")!=-1||W.indexOf("/.")!=-1){O=W.lastIndexOf("/",0)==0,W=W.split("/");const Y=[];for(let je=0;je<W.length;){const ot=W[je++];ot=="."?O&&je==W.length&&Y.push(""):ot==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),O&&je==W.length&&Y.push("")):(Y.push(ot),O=!0)}O=Y.join("/")}else O=W}return k?E.h=O:k=h.i.toString()!=="",k?wy(E,tN(h.i)):k=!!h.m,k&&(E.m=h.m),E};function ri(h){return new _o(h)}function td(h,E,k){h.j=k?rd(E,!0):E,h.j&&(h.j=h.j.replace(/:$/,""))}function nd(h,E){if(E){if(E=Number(E),isNaN(E)||E<0)throw Error("Bad port number "+E);h.u=E}else h.u=null}function wy(h,E,k){E instanceof id?(h.i=E,XV(h.i,h.l)):(k||(E=sd(E,YV)),h.i=new id(E,h.l))}function Ut(h,E,k){h.i.set(E,k)}function Kf(h){return Ut(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function rd(h,E){return h?E?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function sd(h,E,k){return typeof h=="string"?(h=encodeURI(h).replace(E,qV),k&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function qV(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var QE=/[#\/\?@]/g,GV=/[#\?:]/g,KV=/[#\?]/g,YV=/[#\?@]/g,QV=/#/g;function id(h,E){this.h=this.g=null,this.i=h||null,this.j=!!E}function Za(h){h.g||(h.g=new Map,h.h=0,h.i&&HV(h.i,function(E,k){h.add(decodeURIComponent(E.replace(/\+/g," ")),k)}))}t=id.prototype,t.add=function(h,E){Za(this),this.i=null,h=ac(this,h);let k=this.g.get(h);return k||this.g.set(h,k=[]),k.push(E),this.h+=1,this};function XE(h,E){Za(h),E=ac(h,E),h.g.has(E)&&(h.i=null,h.h-=h.g.get(E).length,h.g.delete(E))}function ZE(h,E){return Za(h),E=ac(h,E),h.g.has(E)}t.forEach=function(h,E){Za(this),this.g.forEach(function(k,O){k.forEach(function(W){h.call(E,W,O,this)},this)},this)};function JE(h,E){Za(h);let k=[];if(typeof E=="string")ZE(h,E)&&(k=k.concat(h.g.get(ac(h,E))));else for(h=Array.from(h.g.values()),E=0;E<h.length;E++)k=k.concat(h[E]);return k}t.set=function(h,E){return Za(this),this.i=null,h=ac(this,h),ZE(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[E]),this.h+=1,this},t.get=function(h,E){return h?(h=JE(this,h),h.length>0?String(h[0]):E):E};function eN(h,E,k){XE(h,E),k.length>0&&(h.i=null,h.g.set(ac(h,E),g(k)),h.h+=k.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],E=Array.from(this.g.keys());for(let O=0;O<E.length;O++){var k=E[O];const W=Ju(k);k=JE(this,k);for(let Y=0;Y<k.length;Y++){let je=W;k[Y]!==""&&(je+="="+Ju(k[Y])),h.push(je)}}return this.i=h.join("&")};function tN(h){const E=new id;return E.i=h.i,h.g&&(E.g=new Map(h.g),E.h=h.h),E}function ac(h,E){return E=String(E),h.j&&(E=E.toLowerCase()),E}function XV(h,E){E&&!h.j&&(Za(h),h.i=null,h.g.forEach(function(k,O){const W=O.toLowerCase();O!=W&&(XE(this,O),eN(this,W,k))},h)),h.j=E}function ZV(h,E){const k=new He;if(a.Image){const O=new Image;O.onload=d(Eo,k,"TestLoadImage: loaded",!0,E,O),O.onerror=d(Eo,k,"TestLoadImage: error",!1,E,O),O.onabort=d(Eo,k,"TestLoadImage: abort",!1,E,O),O.ontimeout=d(Eo,k,"TestLoadImage: timeout",!1,E,O),a.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=h}else E(!1)}function JV(h,E){const k=new He,O=new AbortController,W=setTimeout(()=>{O.abort(),Eo(k,"TestPingServer: timeout",!1,E)},1e4);fetch(h,{signal:O.signal}).then(Y=>{clearTimeout(W),Y.ok?Eo(k,"TestPingServer: ok",!0,E):Eo(k,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(W),Eo(k,"TestPingServer: error",!1,E)})}function Eo(h,E,k,O,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),O(k)}catch{}}function e5(){this.g=new Br}function by(h){this.i=h.Sb||null,this.h=h.ab||!1}f(by,fr),by.prototype.g=function(){return new Yf(this.i,this.h)};function Yf(h,E){ue.call(this),this.H=h,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(Yf,ue),t=Yf.prototype,t.open=function(h,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=E,this.readyState=1,ad(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const E={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(E.body=h),(this.H||a).fetch(new Request(this.D,E)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,od(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ad(this)),this.g&&(this.readyState=3,ad(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;nN(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function nN(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var E=h.value?h.value:new Uint8Array(0);(E=this.B.decode(E,{stream:!h.done}))&&(this.response=this.responseText+=E)}h.done?od(this):ad(this),this.readyState==3&&nN(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,od(this))},t.Na=function(h){this.g&&(this.response=h,od(this))},t.ga=function(){this.g&&od(this)};function od(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ad(h)}t.setRequestHeader=function(h,E){this.A.append(h,E)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],E=this.h.entries();for(var k=E.next();!k.done;)k=k.value,h.push(k[0]+": "+k[1]),k=E.next();return h.join(`\r
`)};function ad(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Yf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function rN(h){let E="";return V(h,function(k,O){E+=O,E+=":",E+=k,E+=`\r
`}),E}function _y(h,E,k){e:{for(O in k){var O=!1;break e}O=!0}O||(k=rN(k),typeof h=="string"?k!=null&&Ju(k):Ut(h,E,k))}function en(h){ue.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(en,ue);var t5=/^https?$/i,n5=["POST","PUT"];t=en.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,E,k,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);E=E?E.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ns.g(),this.g.onreadystatechange=p(u(this.Ca,this));try{this.B=!0,this.g.open(E,String(h),!0),this.B=!1}catch(Y){sN(this,Y);return}if(h=k||"",k=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var W in O)k.set(W,O[W]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const Y of O.keys())k.set(Y,O.get(Y));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(k.keys()).find(Y=>Y.toLowerCase()=="content-type"),W=a.FormData&&h instanceof a.FormData,!(Array.prototype.indexOf.call(n5,E,void 0)>=0)||O||W||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,je]of k)this.g.setRequestHeader(Y,je);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Y){sN(this,Y)}};function sN(h,E){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=E,h.o=5,iN(h),Qf(h)}function iN(h){h.A||(h.A=!0,M(h,"complete"),M(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,M(this,"complete"),M(this,"abort"),Qf(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qf(this,!0)),en.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?oN(this):this.Xa())},t.Xa=function(){oN(this)};function oN(h){if(h.h&&typeof i<"u"){if(h.v&&No(h)==4)setTimeout(h.Ca.bind(h),0);else if(M(h,"readystatechange"),No(h)==4){h.h=!1;try{const Y=h.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var k;if(!(k=E)){var O;if(O=Y===0){let je=String(h.D).match(YE)[1]||null;!je&&a.self&&a.self.location&&(je=a.self.location.protocol.slice(0,-1)),O=!t5.test(je?je.toLowerCase():"")}k=O}if(k)M(h,"complete"),M(h,"success");else{h.o=6;try{var W=No(h)>2?h.g.statusText:""}catch{W=""}h.l=W+" ["+h.ca()+"]",iN(h)}}finally{Qf(h)}}}}function Qf(h,E){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const k=h.g;h.g=null,E||M(h,"ready");try{k.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function No(h){return h.g?h.g.readyState:0}t.ca=function(){try{return No(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var E=this.g.responseText;return h&&E.indexOf(h)==0&&(E=E.substring(h.length)),xn(E)}};function aN(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function r5(h){const E={};h=(h.g&&No(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<h.length;O++){if(R(h[O]))continue;var k=UV(h[O]);const W=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const Y=E[W]||[];E[W]=Y,Y.push(k)}ee(E,function(O){return O.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ld(h,E,k){return k&&k.internalChannelParams&&k.internalChannelParams[h]||E}function lN(h){this.za=0,this.i=[],this.j=new He,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ld("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ld("baseRetryDelayMs",5e3,h),this.Za=ld("retryDelaySeedMs",1e4,h),this.Ta=ld("forwardChannelMaxRetries",2,h),this.va=ld("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new WE(h&&h.concurrentRequestLimit),this.Ba=new e5,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=lN.prototype,t.ka=8,t.I=1,t.connect=function(h,E,k,O){wn(0),this.W=h,this.H=E||{},k&&O!==void 0&&(this.H.OSID=k,this.H.OAID=O),this.F=this.X,this.J=vN(this,null,this.W),Zf(this)};function Ey(h){if(cN(h),h.I==3){var E=h.V++,k=ri(h.J);if(Ut(k,"SID",h.M),Ut(k,"RID",E),Ut(k,"TYPE","terminate"),cd(h,k),E=new bo(h,h.j,E),E.M=2,E.A=Kf(ri(k)),k=!1,a.navigator&&a.navigator.sendBeacon)try{k=a.navigator.sendBeacon(E.A.toString(),"")}catch{}!k&&a.Image&&(new Image().src=E.A,k=!0),k||(E.g=yN(E.j,null),E.g.ea(E.A)),E.F=Date.now(),Gf(E)}gN(h)}function Xf(h){h.g&&(Sy(h),h.g.cancel(),h.g=null)}function cN(h){Xf(h),h.v&&(a.clearTimeout(h.v),h.v=null),Jf(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&a.clearTimeout(h.m),h.m=null)}function Zf(h){if(!HE(h.h)&&!h.m){h.m=!0;var E=h.Ea;P||N(),D||(P(),D=!0),S.add(E,h),h.D=0}}function s5(h,E){return qE(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=E.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Qa(u(h.Ea,h,E),pN(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const W=new bo(this,this.j,h);let Y=this.o;if(this.U&&(Y?(Y=_e(Y),le(Y,this.U)):Y=this.U),this.u!==null||this.R||(W.J=Y,Y=null),this.S)e:{for(var E=0,k=0;k<this.i.length;k++){t:{var O=this.i[k];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(E+=O,E>4096){E=k;break e}if(E===4096||k===this.i.length-1){E=k+1;break e}}E=1e3}else E=1e3;E=dN(this,W,E),k=ri(this.J),Ut(k,"RID",h),Ut(k,"CVER",22),this.G&&Ut(k,"X-HTTP-Session-Id",this.G),cd(this,k),Y&&(this.R?E="headers="+Ju(rN(Y))+"&"+E:this.u&&_y(k,this.u,Y)),xy(this.h,W),this.Ra&&Ut(k,"TYPE","init"),this.S?(Ut(k,"$req",E),Ut(k,"SID","null"),W.U=!0,py(W,k,null)):py(W,k,E),this.I=2}}else this.I==3&&(h?uN(this,h):this.i.length==0||HE(this.h)||uN(this))};function uN(h,E){var k;E?k=E.l:k=h.V++;const O=ri(h.J);Ut(O,"SID",h.M),Ut(O,"RID",k),Ut(O,"AID",h.K),cd(h,O),h.u&&h.o&&_y(O,h.u,h.o),k=new bo(h,h.j,k,h.D+1),h.u===null&&(k.J=h.o),E&&(h.i=E.G.concat(h.i)),E=dN(h,k,1e3),k.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),xy(h.h,k),py(k,O,E)}function cd(h,E){h.H&&V(h.H,function(k,O){Ut(E,O,k)}),h.l&&V({},function(k,O){Ut(E,O,k)})}function dN(h,E,k){k=Math.min(h.i.length,k);const O=h.l?u(h.l.Ka,h.l,h):null;e:{var W=h.i;let ot=-1;for(;;){const bn=["count="+k];ot==-1?k>0?(ot=W[0].g,bn.push("ofs="+ot)):ot=0:bn.push("ofs="+ot);let At=!0;for(let In=0;In<k;In++){var Y=W[In].g;const si=W[In].map;if(Y-=ot,Y<0)ot=Math.max(0,W[In].g-100),At=!1;else try{Y="req"+Y+"_"||"";try{var je=si instanceof Map?si:Object.entries(si);for(const[el,So]of je){let jo=So;l(So)&&(jo=ft(So)),bn.push(Y+el+"="+encodeURIComponent(jo))}}catch(el){throw bn.push(Y+"type="+encodeURIComponent("_badmap")),el}}catch{O&&O(si)}}if(At){je=bn.join("&");break e}}je=void 0}return h=h.i.splice(0,k),E.G=h,je}function hN(h){if(!h.g&&!h.v){h.Y=1;var E=h.Da;P||N(),D||(P(),D=!0),S.add(E,h),h.A=0}}function Ny(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Qa(u(h.Da,h),pN(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,fN(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Qa(u(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,wn(10),Xf(this),fN(this))};function Sy(h){h.B!=null&&(a.clearTimeout(h.B),h.B=null)}function fN(h){h.g=new bo(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var E=ri(h.na);Ut(E,"RID","rpc"),Ut(E,"SID",h.M),Ut(E,"AID",h.K),Ut(E,"CI",h.F?"0":"1"),!h.F&&h.ia&&Ut(E,"TO",h.ia),Ut(E,"TYPE","xmlhttp"),cd(h,E),h.u&&h.o&&_y(E,h.u,h.o),h.O&&(h.g.H=h.O);var k=h.g;h=h.ba,k.M=1,k.A=Kf(ri(E)),k.u=null,k.R=!0,UE(k,h)}t.Va=function(){this.C!=null&&(this.C=null,Xf(this),Ny(this),wn(19))};function Jf(h){h.C!=null&&(a.clearTimeout(h.C),h.C=null)}function mN(h,E){var k=null;if(h.g==E){Jf(h),Sy(h),h.g=null;var O=2}else if(yy(h.h,E))k=E.G,GE(h.h,E),O=1;else return;if(h.I!=0){if(E.o)if(O==1){k=E.u?E.u.length:0,E=Date.now()-E.F;var W=h.D;O=Fi(),M(O,new Es(O,k)),Zf(h)}else hN(h);else if(W=E.m,W==3||W==0&&E.X>0||!(O==1&&s5(h,E)||O==2&&Ny(h)))switch(k&&k.length>0&&(E=h.h,E.i=E.i.concat(k)),W){case 1:Ja(h,5);break;case 4:Ja(h,10);break;case 3:Ja(h,6);break;default:Ja(h,2)}}}function pN(h,E){let k=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(k*=2),k*E}function Ja(h,E){if(h.j.info("Error code "+E),E==2){var k=u(h.bb,h),O=h.Ua;const W=!O;O=new _o(O||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||td(O,"https"),Kf(O),W?ZV(O.toString(),k):JV(O.toString(),k)}else wn(2);h.I=0,h.l&&h.l.pa(E),gN(h),cN(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),wn(2)):(this.j.info("Failed to ping google.com"),wn(1))};function gN(h){if(h.I=0,h.ja=[],h.l){const E=KE(h.h);(E.length!=0||h.i.length!=0)&&(_(h.ja,E),_(h.ja,h.i),h.h.i.length=0,g(h.i),h.i.length=0),h.l.oa()}}function vN(h,E,k){var O=k instanceof _o?ri(k):new _o(k);if(O.g!="")E&&(O.g=E+"."+O.g),nd(O,O.u);else{var W=a.location;O=W.protocol,E=E?E+"."+W.hostname:W.hostname,W=+W.port;const Y=new _o(null);O&&td(Y,O),E&&(Y.g=E),W&&nd(Y,W),k&&(Y.h=k),O=Y}return k=h.G,E=h.wa,k&&E&&Ut(O,k,E),Ut(O,"VER",h.ka),cd(h,O),O}function yN(h,E,k){if(E&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return E=h.Aa&&!h.ma?new en(new by({ab:k})):new en(h.ma),E.Fa(h.L),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function xN(){}t=xN.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function em(){}em.prototype.g=function(h,E){return new Wr(h,E)};function Wr(h,E){ue.call(this),this.g=new lN(E),this.l=h,this.h=E&&E.messageUrlParams||null,h=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(h?h["X-WebChannel-Content-Type"]=E.messageContentType:h={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.sa&&(h?h["X-WebChannel-Client-Profile"]=E.sa:h={"X-WebChannel-Client-Profile":E.sa}),this.g.U=h,(h=E&&E.Qb)&&!R(h)&&(this.g.u=h),this.A=E&&E.supportsCrossDomainXhr||!1,this.v=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!R(E)&&(this.g.G=E,h=this.h,h!==null&&E in h&&(h=this.h,E in h&&delete h[E])),this.j=new lc(this)}f(Wr,ue),Wr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Wr.prototype.close=function(){Ey(this.g)},Wr.prototype.o=function(h){var E=this.g;if(typeof h=="string"){var k={};k.__data__=h,h=k}else this.v&&(k={},k.__data__=ft(h),h=k);E.i.push(new WV(E.Ya++,h)),E.I==3&&Zf(E)},Wr.prototype.N=function(){this.g.l=null,delete this.j,Ey(this.g),delete this.g,Wr.Z.N.call(this)};function wN(h){kn.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var E=h.__sm__;if(E){e:{for(const k in E){h=k;break e}h=void 0}(this.i=h)&&(h=this.i,E=E!==null&&h in E?E[h]:void 0),this.data=E}else this.data=h}f(wN,kn);function bN(){ti.call(this),this.status=1}f(bN,ti);function lc(h){this.g=h}f(lc,xN),lc.prototype.ra=function(){M(this.g,"a")},lc.prototype.qa=function(h){M(this.g,new wN(h))},lc.prototype.pa=function(h){M(this.g,new bN)},lc.prototype.oa=function(){M(this.g,"b")},em.prototype.createWebChannel=em.prototype.g,Wr.prototype.send=Wr.prototype.o,Wr.prototype.open=Wr.prototype.m,Wr.prototype.close=Wr.prototype.close,I2=function(){return new em},T2=function(){return Fi()},k2=Vn,u0={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},os.NO_ERROR=0,os.TIMEOUT=8,os.HTTP_ERROR=6,rp=os,Sr.COMPLETE="complete",C2=Sr,Li.EventType=on,on.OPEN="a",on.CLOSE="b",on.ERROR="c",on.MESSAGE="d",ue.prototype.listen=ue.prototype.J,Ad=Li,en.prototype.listenOnce=en.prototype.K,en.prototype.getLastError=en.prototype.Ha,en.prototype.getLastErrorCode=en.prototype.ya,en.prototype.getStatus=en.prototype.ca,en.prototype.getResponseJson=en.prototype.La,en.prototype.getResponseText=en.prototype.la,en.prototype.send=en.prototype.ea,en.prototype.setWithCredentials=en.prototype.Fa,j2=en}).apply(typeof jm<"u"?jm:typeof self<"u"?self:typeof window<"u"?window:{});const Xj="@firebase/firestore",Zj="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}or.UNAUTHENTICATED=new or(null),or.GOOGLE_CREDENTIALS=new or("google-credentials-uid"),or.FIRST_PARTY=new or("first-party-uid"),or.MOCK_USER=new or("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bu="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fl=new P_("@firebase/firestore");function pc(){return Fl.logLevel}function De(t,...e){if(Fl.logLevel<=ct.DEBUG){const n=e.map(W_);Fl.debug(`Firestore (${Bu}): ${t}`,...n)}}function ho(t,...e){if(Fl.logLevel<=ct.ERROR){const n=e.map(W_);Fl.error(`Firestore (${Bu}): ${t}`,...n)}}function Vl(t,...e){if(Fl.logLevel<=ct.WARN){const n=e.map(W_);Fl.warn(`Firestore (${Bu}): ${t}`,...n)}}function W_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,R2(t,r,n)}function R2(t,e,n){let r=`FIRESTORE (${Bu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ho(r),new Error(r)}function kt(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||R2(e,s,r)}function nt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends Di{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class A2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(or.UNAUTHENTICATED))}shutdown(){}}class Nq{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Sq{constructor(e){this.t=e,this.currentUser=or.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){kt(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new eo;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new eo,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{De("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(De("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new eo)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(De("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(kt(typeof r.accessToken=="string",31837,{l:r}),new P2(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return kt(e===null||typeof e=="string",2055,{h:e}),new or(e)}}class jq{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=or.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Cq{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new jq(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(or.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Jj{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kq{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){kt(this.o===void 0,3512);const r=i=>{i.error!=null&&De("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.m;return this.m=i.token,De("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{De("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):De("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Jj(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(kt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Jj(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tq(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=Tq(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function ut(t,e){return t<e?-1:t>e?1:0}function d0(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return px(s)===px(i)?ut(s,i):px(s)?1:-1}return ut(t.length,e.length)}const Iq=55296,Rq=57343;function px(t){const e=t.charCodeAt(0);return e>=Iq&&e<=Rq}function yu(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC="__name__";class li{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ke(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ke(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return li.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof li?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=li.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return ut(e.length,n.length)}static compareSegments(e,n){const r=li.isNumericId(e),s=li.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?li.extractNumericId(e).compare(li.extractNumericId(n)):d0(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fa.fromString(e.substring(4,e.length-2))}}class Mt extends li{construct(e,n,r){return new Mt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Te(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Mt(n)}static emptyPath(){return new Mt([])}}const Pq=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dn extends li{construct(e,n,r){return new Dn(e,n,r)}static isValidIdentifier(e){return Pq.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===eC}static keyField(){return new Dn([eC])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Te(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new Te(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Te(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(a=!a,s++):l!=="."||a?(r+=l,s++):(i(),s++)}if(i(),a)throw new Te(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Dn(n)}static emptyPath(){return new Dn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.path=e}static fromPath(e){return new Be(Mt.fromString(e))}static fromName(e){return new Be(Mt.fromString(e).popFirst(5))}static empty(){return new Be(Mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Mt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Be(new Mt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(t,e,n){if(!n)throw new Te(re.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function O2(t,e,n,r){if(e===!0&&r===!0)throw new Te(re.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function tC(t){if(!Be.isDocumentKey(t))throw new Te(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function nC(t){if(Be.isDocumentKey(t))throw new Te(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function M2(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function wv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ke(12329,{type:typeof t})}function wr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Te(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wv(t);throw new Te(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(t,e){const n={typeString:t};return e&&(n.value=e),n}function xf(t,e){if(!M2(t))throw new Te(re.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(s&&typeof a!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&a!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new Te(re.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC=-62135596800,sC=1e6;class Lt{static now(){return Lt.fromMillis(Date.now())}static fromDate(e){return Lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*sC);return new Lt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Te(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Te(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<rC)throw new Te(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/sC}_compareTo(e){return this.seconds===e.seconds?ut(this.nanoseconds,e.nanoseconds):ut(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Lt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(xf(e,Lt._jsonSchema))return new Lt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-rC;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Lt._jsonSchemaVersion="firestore/timestamp/1.0",Lt._jsonSchema={type:vn("string",Lt._jsonSchemaVersion),seconds:vn("number"),nanoseconds:vn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{static fromTimestamp(e){return new Xe(e)}static min(){return new Xe(new Lt(0,0))}static max(){return new Xe(new Lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah=-1;function Aq(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Xe.fromTimestamp(r===1e9?new Lt(n+1,0):new Lt(n,r));return new ka(s,Be.empty(),e)}function Dq(t){return new ka(t.readTime,t.key,Ah)}class ka{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ka(Xe.min(),Be.empty(),Ah)}static max(){return new ka(Xe.max(),Be.empty(),Ah)}}function Oq(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Be.comparator(t.documentKey,e.documentKey),n!==0?n:ut(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Lq{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zu(t){if(t.code!==re.FAILED_PRECONDITION||t.message!==Mq)throw t;De("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ke(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ae((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ae?n:ae.resolve(n)}catch(n){return ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ae.reject(n)}static resolve(e){return new ae((n,r)=>{n(e)})}static reject(e){return new ae((n,r)=>{r(e)})}static waitFor(e){return new ae((n,r)=>{let s=0,i=0,a=!1;e.forEach(l=>{++s,l.next(()=>{++i,a&&i===s&&n()},c=>r(c))}),a=!0,i===s&&n()})}static or(e){let n=ae.resolve(!1);for(const r of e)n=n.next(s=>s?ae.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new ae((r,s)=>{const i=e.length,a=new Array(i);let l=0;for(let c=0;c<i;c++){const u=c;n(e[u]).next(d=>{a[u]=d,++l,l===i&&r(a)},d=>s(d))}})}static doWhile(e,n){return new ae((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function Fq(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Wu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}bv.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_=-1;function _v(t){return t==null}function ng(t){return t===0&&1/t==-1/0}function Vq(t){return typeof t=="number"&&Number.isInteger(t)&&!ng(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2="";function $q(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=iC(e)),e=Uq(t.get(n),e);return iC(e)}function Uq(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case L2:n+="";break;default:n+=i}}return n}function iC(t){return t+L2+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Wa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function F2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,n){this.comparator=e,this.root=n||Un.EMPTY}insert(e,n){return new Jt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Un.BLACK,null,null))}remove(e){return new Jt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Un.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cm(this.root,e,this.comparator,!0)}}class Cm{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Un{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Un.RED,this.left=s??Un.EMPTY,this.right=i??Un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Un(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Un.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ke(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ke(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ke(27949);return e+(this.isRed()?0:1)}}Un.EMPTY=null,Un.RED=!0,Un.BLACK=!1;Un.EMPTY=new class{constructor(){this.size=0}get key(){throw Ke(57766)}get value(){throw Ke(16141)}get color(){throw Ke(16727)}get left(){throw Ke(29726)}get right(){throw Ke(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new Un(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.comparator=e,this.data=new Jt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new aC(this.data.getIterator())}getIteratorFrom(e){return new aC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Cn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Cn(this.comparator);return n.data=e,n}}class aC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e){this.fields=e,e.sort(Dn.comparator)}static empty(){return new Zr([])}unionWith(e){let n=new Cn(Dn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Zr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return yu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new V2("Invalid base64 string: "+i):i}}(e);return new Ln(n)}static fromUint8Array(e){const n=function(s){let i="";for(let a=0;a<s.length;++a)i+=String.fromCharCode(s[a]);return i}(e);return new Ln(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ut(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ln.EMPTY_BYTE_STRING=new Ln("");const Bq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ta(t){if(kt(!!t,39018),typeof t=="string"){let e=0;const n=Bq.exec(t);if(kt(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ln(t.seconds),nanos:ln(t.nanos)}}function ln(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ia(t){return typeof t=="string"?Ln.fromBase64String(t):Ln.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2="server_timestamp",U2="__type__",B2="__previous_value__",z2="__local_write_time__";function q_(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[U2])==null?void 0:r.stringValue)===$2}function Ev(t){const e=t.mapValue.fields[B2];return q_(e)?Ev(e):e}function Dh(t){const e=Ta(t.mapValue.fields[z2].timestampValue);return new Lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zq{constructor(e,n,r,s,i,a,l,c,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}}const rg="(default)";class xu{constructor(e,n){this.projectId=e,this.database=n||rg}static empty(){return new xu("","")}get isDefaultDatabase(){return this.database===rg}isEqual(e){return e instanceof xu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2="__type__",H2="__max__",km={mapValue:{fields:{__type__:{stringValue:H2}}}},q2="__vector__",sg="value";function Ra(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?q_(t)?4:Hq(t)?9007199254740991:Wq(t)?10:11:Ke(28295,{value:t})}function Ti(t,e){if(t===e)return!0;const n=Ra(t);if(n!==Ra(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Dh(t).isEqual(Dh(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const a=Ta(s.timestampValue),l=Ta(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Ia(s.bytesValue).isEqual(Ia(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return ln(s.geoPointValue.latitude)===ln(i.geoPointValue.latitude)&&ln(s.geoPointValue.longitude)===ln(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return ln(s.integerValue)===ln(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const a=ln(s.doubleValue),l=ln(i.doubleValue);return a===l?ng(a)===ng(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return yu(t.arrayValue.values||[],e.arrayValue.values||[],Ti);case 10:case 11:return function(s,i){const a=s.mapValue.fields||{},l=i.mapValue.fields||{};if(oC(a)!==oC(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!Ti(a[c],l[c])))return!1;return!0}(t,e);default:return Ke(52216,{left:t})}}function Oh(t,e){return(t.values||[]).find(n=>Ti(n,e))!==void 0}function wu(t,e){if(t===e)return 0;const n=Ra(t),r=Ra(e);if(n!==r)return ut(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ut(t.booleanValue,e.booleanValue);case 2:return function(i,a){const l=ln(i.integerValue||i.doubleValue),c=ln(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return lC(t.timestampValue,e.timestampValue);case 4:return lC(Dh(t),Dh(e));case 5:return d0(t.stringValue,e.stringValue);case 6:return function(i,a){const l=Ia(i),c=Ia(a);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,a){const l=i.split("/"),c=a.split("/");for(let u=0;u<l.length&&u<c.length;u++){const d=ut(l[u],c[u]);if(d!==0)return d}return ut(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,a){const l=ut(ln(i.latitude),ln(a.latitude));return l!==0?l:ut(ln(i.longitude),ln(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return cC(t.arrayValue,e.arrayValue);case 10:return function(i,a){var p,g,_,v;const l=i.fields||{},c=a.fields||{},u=(p=l[sg])==null?void 0:p.arrayValue,d=(g=c[sg])==null?void 0:g.arrayValue,f=ut(((_=u==null?void 0:u.values)==null?void 0:_.length)||0,((v=d==null?void 0:d.values)==null?void 0:v.length)||0);return f!==0?f:cC(u,d)}(t.mapValue,e.mapValue);case 11:return function(i,a){if(i===km.mapValue&&a===km.mapValue)return 0;if(i===km.mapValue)return 1;if(a===km.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),u=a.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){const p=d0(c[f],d[f]);if(p!==0)return p;const g=wu(l[c[f]],u[d[f]]);if(g!==0)return g}return ut(c.length,d.length)}(t.mapValue,e.mapValue);default:throw Ke(23264,{he:n})}}function lC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ut(t,e);const n=Ta(t),r=Ta(e),s=ut(n.seconds,r.seconds);return s!==0?s:ut(n.nanos,r.nanos)}function cC(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=wu(n[s],r[s]);if(i)return i}return ut(n.length,r.length)}function bu(t){return h0(t)}function h0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ta(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ia(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Be.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=h0(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const a of r)i?i=!1:s+=",",s+=`${a}:${h0(n.fields[a])}`;return s+"}"}(t.mapValue):Ke(61005,{value:t})}function sp(t){switch(Ra(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ev(t);return e?16+sp(e):16;case 5:return 2*t.stringValue.length;case 6:return Ia(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+sp(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Wa(r.fields,(i,a)=>{s+=i.length+sp(a)}),s}(t.mapValue);default:throw Ke(13486,{value:t})}}function uC(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function f0(t){return!!t&&"integerValue"in t}function G_(t){return!!t&&"arrayValue"in t}function dC(t){return!!t&&"nullValue"in t}function hC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ip(t){return!!t&&"mapValue"in t}function Wq(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[W2])==null?void 0:r.stringValue)===q2}function Zd(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Wa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Zd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Zd(t.arrayValue.values[n]);return e}return{...t}}function Hq(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===H2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e){this.value=e}static empty(){return new Dr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ip(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zd(n)}setAll(e){let n=Dn.emptyPath(),r={},s=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}a?r[l.lastSegment()]=Zd(a):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());ip(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ti(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];ip(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Wa(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Dr(Zd(this.value))}}function G2(t){const e=[];return Wa(t.fields,(n,r)=>{const s=new Dn([n]);if(ip(r)){const i=G2(r.mapValue).fields;if(i.length===0)e.push(s);else for(const a of i)e.push(s.child(a))}else e.push(s)}),new Zr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e,n,r,s,i,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=a,this.documentState=l}static newInvalidDocument(e){return new lr(e,0,Xe.min(),Xe.min(),Xe.min(),Dr.empty(),0)}static newFoundDocument(e,n,r,s){return new lr(e,1,n,Xe.min(),r,s,0)}static newNoDocument(e,n){return new lr(e,2,n,Xe.min(),Xe.min(),Dr.empty(),0)}static newUnknownDocument(e,n){return new lr(e,3,n,Xe.min(),Xe.min(),Dr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof lr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new lr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,n){this.position=e,this.inclusive=n}}function fC(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],a=t.position[s];if(i.field.isKeyField()?r=Be.comparator(Be.fromName(a.referenceValue),n.key):r=wu(a,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function mC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ti(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,n="asc"){this.field=e,this.dir=n}}function qq(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{}class gn extends K2{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Kq(e,n,r):n==="array-contains"?new Xq(e,r):n==="in"?new Zq(e,r):n==="not-in"?new Jq(e,r):n==="array-contains-any"?new eG(e,r):new gn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Yq(e,r):new Qq(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(wu(n,this.value)):n!==null&&Ra(this.value)===Ra(n)&&this.matchesComparison(wu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ke(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gs extends K2{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Gs(e,n)}matches(e){return Y2(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Y2(t){return t.op==="and"}function Q2(t){return Gq(t)&&Y2(t)}function Gq(t){for(const e of t.filters)if(e instanceof Gs)return!1;return!0}function m0(t){if(t instanceof gn)return t.field.canonicalString()+t.op.toString()+bu(t.value);if(Q2(t))return t.filters.map(e=>m0(e)).join(",");{const e=t.filters.map(n=>m0(n)).join(",");return`${t.op}(${e})`}}function X2(t,e){return t instanceof gn?function(r,s){return s instanceof gn&&r.op===s.op&&r.field.isEqual(s.field)&&Ti(r.value,s.value)}(t,e):t instanceof Gs?function(r,s){return s instanceof Gs&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,a,l)=>i&&X2(a,s.filters[l]),!0):!1}(t,e):void Ke(19439)}function Z2(t){return t instanceof gn?function(n){return`${n.field.canonicalString()} ${n.op} ${bu(n.value)}`}(t):t instanceof Gs?function(n){return n.op.toString()+" {"+n.getFilters().map(Z2).join(" ,")+"}"}(t):"Filter"}class Kq extends gn{constructor(e,n,r){super(e,n,r),this.key=Be.fromName(r.referenceValue)}matches(e){const n=Be.comparator(e.key,this.key);return this.matchesComparison(n)}}class Yq extends gn{constructor(e,n){super(e,"in",n),this.keys=J2("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Qq extends gn{constructor(e,n){super(e,"not-in",n),this.keys=J2("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function J2(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>Be.fromName(r.referenceValue))}class Xq extends gn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return G_(n)&&Oh(n.arrayValue,this.value)}}class Zq extends gn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Oh(this.value.arrayValue,n)}}class Jq extends gn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Oh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Oh(this.value.arrayValue,n)}}class eG extends gn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!G_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Oh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tG{constructor(e,n=null,r=[],s=[],i=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=a,this.endAt=l,this.Te=null}}function pC(t,e=null,n=[],r=[],s=null,i=null,a=null){return new tG(t,e,n,r,s,i,a)}function K_(t){const e=nt(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>m0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),_v(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>bu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>bu(r)).join(",")),e.Te=n}return e.Te}function Y_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!qq(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!X2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!mC(t.startAt,e.startAt)&&mC(t.endAt,e.endAt)}function p0(t){return Be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e,n=null,r=[],s=[],i=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=a,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function nG(t,e,n,r,s,i,a,l){return new Hu(t,e,n,r,s,i,a,l)}function Nv(t){return new Hu(t)}function gC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function eD(t){return t.collectionGroup!==null}function Jd(t){const e=nt(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new Cn(Dn.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Mh(i,r))}),n.has(Dn.keyField().canonicalString())||e.Ie.push(new Mh(Dn.keyField(),r))}return e.Ie}function Ei(t){const e=nt(t);return e.Ee||(e.Ee=rG(e,Jd(t))),e.Ee}function rG(t,e){if(t.limitType==="F")return pC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Mh(s.field,i)});const n=t.endAt?new ig(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ig(t.startAt.position,t.startAt.inclusive):null;return pC(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function g0(t,e){const n=t.filters.concat([e]);return new Hu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function v0(t,e,n){return new Hu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Sv(t,e){return Y_(Ei(t),Ei(e))&&t.limitType===e.limitType}function tD(t){return`${K_(Ei(t))}|lt:${t.limitType}`}function gc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>Z2(s)).join(", ")}]`),_v(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>bu(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>bu(s)).join(",")),`Target(${r})`}(Ei(t))}; limitType=${t.limitType})`}function jv(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Be.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Jd(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(a,l,c){const u=fC(a,l,c);return a.inclusive?u<=0:u<0}(r.startAt,Jd(r),s)||r.endAt&&!function(a,l,c){const u=fC(a,l,c);return a.inclusive?u>=0:u>0}(r.endAt,Jd(r),s))}(t,e)}function sG(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function nD(t){return(e,n)=>{let r=!1;for(const s of Jd(t)){const i=iG(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function iG(t,e,n){const r=t.field.isKeyField()?Be.comparator(e.key,n.key):function(i,a,l){const c=a.data.field(i),u=l.data.field(i);return c!==null&&u!==null?wu(c,u):Ke(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ke(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Wa(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return F2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oG=new Jt(Be.comparator);function fo(){return oG}const rD=new Jt(Be.comparator);function Dd(...t){let e=rD;for(const n of t)e=e.insert(n.key,n);return e}function sD(t){let e=rD;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function fl(){return eh()}function iD(){return eh()}function eh(){return new tc(t=>t.toString(),(t,e)=>t.isEqual(e))}const aG=new Jt(Be.comparator),lG=new Cn(Be.comparator);function dt(...t){let e=lG;for(const n of t)e=e.add(n);return e}const cG=new Cn(ut);function uG(){return cG}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ng(e)?"-0":e}}function oD(t){return{integerValue:""+t}}function dG(t,e){return Vq(e)?oD(e):Q_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(){this._=void 0}}function hG(t,e,n){return t instanceof Lh?function(s,i){const a={fields:{[U2]:{stringValue:$2},[z2]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&q_(i)&&(i=Ev(i)),i&&(a.fields[B2]=i),{mapValue:a}}(n,e):t instanceof Fh?lD(t,e):t instanceof Vh?cD(t,e):function(s,i){const a=aD(s,i),l=vC(a)+vC(s.Ae);return f0(a)&&f0(s.Ae)?oD(l):Q_(s.serializer,l)}(t,e)}function fG(t,e,n){return t instanceof Fh?lD(t,e):t instanceof Vh?cD(t,e):n}function aD(t,e){return t instanceof og?function(r){return f0(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Lh extends Cv{}class Fh extends Cv{constructor(e){super(),this.elements=e}}function lD(t,e){const n=uD(e);for(const r of t.elements)n.some(s=>Ti(s,r))||n.push(r);return{arrayValue:{values:n}}}class Vh extends Cv{constructor(e){super(),this.elements=e}}function cD(t,e){let n=uD(e);for(const r of t.elements)n=n.filter(s=>!Ti(s,r));return{arrayValue:{values:n}}}class og extends Cv{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function vC(t){return ln(t.integerValue||t.doubleValue)}function uD(t){return G_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mG{constructor(e,n){this.field=e,this.transform=n}}function pG(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Fh&&s instanceof Fh||r instanceof Vh&&s instanceof Vh?yu(r.elements,s.elements,Ti):r instanceof og&&s instanceof og?Ti(r.Ae,s.Ae):r instanceof Lh&&s instanceof Lh}(t.transform,e.transform)}class gG{constructor(e,n){this.version=e,this.transformResults=n}}class ms{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ms}static exists(e){return new ms(void 0,e)}static updateTime(e){return new ms(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function op(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class kv{}function dD(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new X_(t.key,ms.none()):new wf(t.key,t.data,ms.none());{const n=t.data,r=Dr.empty();let s=new Cn(Dn.comparator);for(let i of e.fields)if(!s.has(i)){let a=n.field(i);a===null&&i.length>1&&(i=i.popLast(),a=n.field(i)),a===null?r.delete(i):r.set(i,a),s=s.add(i)}return new Ha(t.key,r,new Zr(s.toArray()),ms.none())}}function vG(t,e,n){t instanceof wf?function(s,i,a){const l=s.value.clone(),c=xC(s.fieldTransforms,i,a.transformResults);l.setAll(c),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Ha?function(s,i,a){if(!op(s.precondition,i))return void i.convertToUnknownDocument(a.version);const l=xC(s.fieldTransforms,i,a.transformResults),c=i.data;c.setAll(hD(s)),c.setAll(l),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function th(t,e,n,r){return t instanceof wf?function(i,a,l,c){if(!op(i.precondition,a))return l;const u=i.value.clone(),d=wC(i.fieldTransforms,c,a);return u.setAll(d),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ha?function(i,a,l,c){if(!op(i.precondition,a))return l;const u=wC(i.fieldTransforms,c,a),d=a.data;return d.setAll(hD(i)),d.setAll(u),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,a,l){return op(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function yG(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=aD(r.transform,s||null);i!=null&&(n===null&&(n=Dr.empty()),n.set(r.field,i))}return n||null}function yC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&yu(r,s,(i,a)=>pG(i,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class wf extends kv{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ha extends kv{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function hD(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function xC(t,e,n){const r=new Map;kt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],a=i.transform,l=e.data.field(i.field);r.set(i.field,fG(a,l,n[s]))}return r}function wC(t,e,n){const r=new Map;for(const s of t){const i=s.transform,a=n.data.field(s.field);r.set(s.field,hG(i,a,e))}return r}class X_ extends kv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xG extends kv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wG{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&vG(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=th(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=th(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=iD();return this.mutations.forEach(s=>{const i=e.get(s.key),a=i.overlayedDocument;let l=this.applyToLocalView(a,i.mutatedFields);l=n.has(s.key)?null:l;const c=dD(a,l);c!==null&&r.set(s.key,c),a.isValidDocument()||a.convertToNoDocument(Xe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),dt())}isEqual(e){return this.batchId===e.batchId&&yu(this.mutations,e.mutations,(n,r)=>yC(n,r))&&yu(this.baseMutations,e.baseMutations,(n,r)=>yC(n,r))}}class Z_{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){kt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return aG}();const i=e.mutations;for(let a=0;a<i.length;a++)s=s.insert(i[a].key,r[a].version);return new Z_(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bG=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _G{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mn,pt;function EG(t){switch(t){case re.OK:return Ke(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Ke(15467,{code:t})}}function fD(t){if(t===void 0)return ho("GRPC error has no .code"),re.UNKNOWN;switch(t){case mn.OK:return re.OK;case mn.CANCELLED:return re.CANCELLED;case mn.UNKNOWN:return re.UNKNOWN;case mn.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case mn.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case mn.INTERNAL:return re.INTERNAL;case mn.UNAVAILABLE:return re.UNAVAILABLE;case mn.UNAUTHENTICATED:return re.UNAUTHENTICATED;case mn.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case mn.NOT_FOUND:return re.NOT_FOUND;case mn.ALREADY_EXISTS:return re.ALREADY_EXISTS;case mn.PERMISSION_DENIED:return re.PERMISSION_DENIED;case mn.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case mn.ABORTED:return re.ABORTED;case mn.OUT_OF_RANGE:return re.OUT_OF_RANGE;case mn.UNIMPLEMENTED:return re.UNIMPLEMENTED;case mn.DATA_LOSS:return re.DATA_LOSS;default:return Ke(39323,{code:t})}}(pt=mn||(mn={}))[pt.OK=0]="OK",pt[pt.CANCELLED=1]="CANCELLED",pt[pt.UNKNOWN=2]="UNKNOWN",pt[pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pt[pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pt[pt.NOT_FOUND=5]="NOT_FOUND",pt[pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",pt[pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",pt[pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",pt[pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pt[pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pt[pt.ABORTED=10]="ABORTED",pt[pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",pt[pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",pt[pt.INTERNAL=13]="INTERNAL",pt[pt.UNAVAILABLE=14]="UNAVAILABLE",pt[pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NG(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SG=new fa([4294967295,4294967295],0);function bC(t){const e=NG().encode(t),n=new S2;return n.update(e),new Uint8Array(n.digest())}function _C(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new fa([n,r],0),new fa([s,i],0)]}class J_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Od(`Invalid padding: ${n}`);if(r<0)throw new Od(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Od(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Od(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=fa.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(fa.fromNumber(r)));return s.compare(SG)===1&&(s=new fa([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=bC(e),[r,s]=_C(n);for(let i=0;i<this.hashCount;i++){const a=this.ye(r,s,i);if(!this.we(a))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new J_(i,s,n);return r.forEach(l=>a.insert(l)),a}insert(e){if(this.ge===0)return;const n=bC(e),[r,s]=_C(n);for(let i=0;i<this.hashCount;i++){const a=this.ye(r,s,i);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Od extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,bf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Tv(Xe.min(),s,new Jt(ut),fo(),dt())}}class bf{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new bf(r,n,dt(),dt(),dt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class mD{constructor(e,n){this.targetId=e,this.Ce=n}}class pD{constructor(e,n,r=Ln.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class EC{constructor(){this.ve=0,this.Fe=NC(),this.Me=Ln.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=dt(),n=dt(),r=dt();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Ke(38017,{changeType:i})}}),new bf(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=NC()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,kt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class jG{constructor(e){this.Ge=e,this.ze=new Map,this.je=fo(),this.Je=Tm(),this.He=Tm(),this.Ye=new Jt(ut)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ke(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(p0(i))if(r===0){const a=new Be(i.path);this.et(n,a,lr.newNoDocument(a,Xe.min()))}else kt(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const l=this.ut(e),c=l?this.ct(l,e,a):1;if(c!==0){this.it(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let a,l;try{a=Ia(r).toUint8Array()}catch(c){if(c instanceof V2)return Vl("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new J_(a,s,i)}catch(c){return Vl(c instanceof Od?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const a=this.Ge.ht(),l=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,a)=>{const l=this.ot(a);if(l){if(i.current&&p0(l.target)){const c=new Be(l.target.path);this.It(c).has(a)||this.Et(a,c)||this.et(a,c,lr.newNoDocument(c,e))}i.Be&&(n.set(a,i.ke()),i.qe())}});let r=dt();this.He.forEach((i,a)=>{let l=!0;a.forEachWhile(c=>{const u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.je.forEach((i,a)=>a.setReadTime(e));const s=new Tv(e,n,this.Ye,this.je,r);return this.je=fo(),this.Je=Tm(),this.He=Tm(),this.Ye=new Jt(ut),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new EC,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Cn(ut),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Cn(ut),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||De("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new EC),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Tm(){return new Jt(Be.comparator)}function NC(){return new Jt(Be.comparator)}const CG={asc:"ASCENDING",desc:"DESCENDING"},kG={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},TG={and:"AND",or:"OR"};class IG{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function y0(t,e){return t.useProto3Json||_v(e)?e:{value:e}}function ag(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gD(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function RG(t,e){return ag(t,e.toTimestamp())}function Ni(t){return kt(!!t,49232),Xe.fromTimestamp(function(n){const r=Ta(n);return new Lt(r.seconds,r.nanos)}(t))}function e1(t,e){return x0(t,e).canonicalString()}function x0(t,e){const n=function(s){return new Mt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function vD(t){const e=Mt.fromString(t);return kt(_D(e),10190,{key:e.toString()}),e}function w0(t,e){return e1(t.databaseId,e.path)}function gx(t,e){const n=vD(e);if(n.get(1)!==t.databaseId.projectId)throw new Te(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Te(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Be(xD(n))}function yD(t,e){return e1(t.databaseId,e)}function PG(t){const e=vD(t);return e.length===4?Mt.emptyPath():xD(e)}function b0(t){return new Mt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function xD(t){return kt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function SC(t,e,n){return{name:w0(t,e),fields:n.value.mapValue.fields}}function AG(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Ke(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?(kt(d===void 0||typeof d=="string",58123),Ln.fromBase64String(d||"")):(kt(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Ln.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(u){const d=u.code===void 0?re.UNKNOWN:fD(u.code);return new Te(d,u.message||"")}(a);n=new pD(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=gx(t,r.document.name),i=Ni(r.document.updateTime),a=r.document.createTime?Ni(r.document.createTime):Xe.min(),l=new Dr({mapValue:{fields:r.document.fields}}),c=lr.newFoundDocument(s,i,a,l),u=r.targetIds||[],d=r.removedTargetIds||[];n=new ap(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=gx(t,r.document),i=r.readTime?Ni(r.readTime):Xe.min(),a=lr.newNoDocument(s,i),l=r.removedTargetIds||[];n=new ap([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=gx(t,r.document),i=r.removedTargetIds||[];n=new ap([],i,s,null)}else{if(!("filter"in e))return Ke(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,a=new _G(s,i),l=r.targetId;n=new mD(l,a)}}return n}function DG(t,e){let n;if(e instanceof wf)n={update:SC(t,e.key,e.value)};else if(e instanceof X_)n={delete:w0(t,e.key)};else if(e instanceof Ha)n={update:SC(t,e.key,e.data),updateMask:zG(e.fieldMask)};else{if(!(e instanceof xG))return Ke(16599,{Vt:e.type});n={verify:w0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const l=a.transform;if(l instanceof Lh)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Fh)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Vh)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof og)return{fieldPath:a.field.canonicalString(),increment:l.Ae};throw Ke(20930,{transform:a.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:RG(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Ke(27497)}(t,e.precondition)),n}function OG(t,e){return t&&t.length>0?(kt(e!==void 0,14353),t.map(n=>function(s,i){let a=s.updateTime?Ni(s.updateTime):Ni(i);return a.isEqual(Xe.min())&&(a=Ni(i)),new gG(a,s.transformResults||[])}(n,e))):[]}function MG(t,e){return{documents:[yD(t,e.path)]}}function LG(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=yD(t,s);const i=function(u){if(u.length!==0)return bD(Gs.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const a=function(u){if(u.length!==0)return u.map(d=>function(p){return{field:vc(p.field),direction:$G(p.dir)}}(d))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=y0(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:s}}function FG(t){let e=PG(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){kt(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(f){const p=wD(f);return p instanceof Gs&&Q2(p)?p.getFilters():[p]}(n.where));let a=[];n.orderBy&&(a=function(f){return f.map(p=>function(_){return new Mh(yc(_.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(p))}(n.orderBy));let l=null;n.limit&&(l=function(f){let p;return p=typeof f=="object"?f.value:f,_v(p)?null:p}(n.limit));let c=null;n.startAt&&(c=function(f){const p=!!f.before,g=f.values||[];return new ig(g,p)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const p=!f.before,g=f.values||[];return new ig(g,p)}(n.endAt)),nG(e,s,a,i,l,"F",c,u)}function VG(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ke(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function wD(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=yc(n.unaryFilter.field);return gn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=yc(n.unaryFilter.field);return gn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=yc(n.unaryFilter.field);return gn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=yc(n.unaryFilter.field);return gn.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ke(61313);default:return Ke(60726)}}(t):t.fieldFilter!==void 0?function(n){return gn.create(yc(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ke(58110);default:return Ke(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Gs.create(n.compositeFilter.filters.map(r=>wD(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ke(1026)}}(n.compositeFilter.op))}(t):Ke(30097,{filter:t})}function $G(t){return CG[t]}function UG(t){return kG[t]}function BG(t){return TG[t]}function vc(t){return{fieldPath:t.canonicalString()}}function yc(t){return Dn.fromServerFormat(t.fieldPath)}function bD(t){return t instanceof gn?function(n){if(n.op==="=="){if(hC(n.value))return{unaryFilter:{field:vc(n.field),op:"IS_NAN"}};if(dC(n.value))return{unaryFilter:{field:vc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(hC(n.value))return{unaryFilter:{field:vc(n.field),op:"IS_NOT_NAN"}};if(dC(n.value))return{unaryFilter:{field:vc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vc(n.field),op:UG(n.op),value:n.value}}}(t):t instanceof Gs?function(n){const r=n.getFilters().map(s=>bD(s));return r.length===1?r[0]:{compositeFilter:{op:BG(n.op),filters:r}}}(t):Ke(54877,{filter:t})}function zG(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function _D(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e,n,r,s,i=Xe.min(),a=Xe.min(),l=Ln.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Xo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Xo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WG{constructor(e){this.yt=e}}function HG(t){const e=FG({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?v0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qG{constructor(){this.Cn=new GG}addToCollectionParentIndex(e,n){return this.Cn.add(n),ae.resolve()}getCollectionParents(e,n){return ae.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ae.resolve()}deleteFieldIndex(e,n){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,n){return ae.resolve()}getDocumentsMatchingTarget(e,n){return ae.resolve(null)}getIndexType(e,n){return ae.resolve(0)}getFieldIndexes(e,n){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,n){return ae.resolve(ka.min())}getMinOffsetFromCollectionGroup(e,n){return ae.resolve(ka.min())}updateCollectionGroup(e,n,r){return ae.resolve()}updateIndexEntries(e,n){return ae.resolve()}}class GG{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Cn(Mt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Cn(Mt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ED=41943040;class Pr{static withCacheSize(e){return new Pr(e,Pr.DEFAULT_COLLECTION_PERCENTILE,Pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pr.DEFAULT_COLLECTION_PERCENTILE=10,Pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pr.DEFAULT=new Pr(ED,Pr.DEFAULT_COLLECTION_PERCENTILE,Pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pr.DISABLED=new Pr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new _u(0)}static cr(){return new _u(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC="LruGarbageCollector",KG=1048576;function kC([t,e],[n,r]){const s=ut(t,n);return s===0?ut(e,r):s}class YG{constructor(e){this.Ir=e,this.buffer=new Cn(kC),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();kC(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class QG{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){De(CC,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Wu(n)?De(CC,"Ignoring IndexedDB error during garbage collection: ",n):await zu(n)}await this.Vr(3e5)})}}class XG{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ae.resolve(bv.ce);const r=new YG(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(De("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(jC)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(De("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jC):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,a,l,c,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(De("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,a=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,l=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),pc()<=ct.DEBUG&&De("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${s} in `+(l-a)+`ms
	Removed ${i} targets in `+(c-l)+`ms
	Removed ${f} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function ZG(t,e){return new XG(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JG{constructor(){this.changes=new tc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,lr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ae.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eK{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tK{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&th(r.mutation,s,Zr.empty(),Lt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,dt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=dt()){const s=fl();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let a=Dd();return i.forEach((l,c)=>{a=a.insert(l,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=fl();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,dt()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,r,s){let i=fo();const a=eh(),l=function(){return eh()}();return n.forEach((c,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof Ha)?i=i.insert(u.key,u):d!==void 0?(a.set(u.key,d.mutation.getFieldMask()),th(d.mutation,u,d.mutation.getFieldMask(),Lt.now())):a.set(u.key,Zr.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((u,d)=>a.set(u,d)),n.forEach((u,d)=>l.set(u,new eK(d,a.get(u)??null))),l))}recalculateAndSaveOverlays(e,n){const r=eh();let s=new Jt((a,l)=>a-l),i=dt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let d=r.get(c)||Zr.empty();d=l.applyToLocalView(u,d),r.set(c,d);const f=(s.get(l.batchId)||dt()).add(c);s=s.insert(l.batchId,f)})}).next(()=>{const a=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,d=c.value,f=iD();d.forEach(p=>{if(!i.has(p)){const g=dD(n.get(p),r.get(p));g!==null&&f.set(p,g),i=i.add(p)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,f))}return ae.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(a){return Be.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):eD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const a=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):ae.resolve(fl());let l=Ah,c=i;return a.next(u=>ae.forEach(u,(d,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),i.get(d)?ae.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{c=c.insert(d,p)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,c,u,dt())).next(d=>({batchId:l,changes:sD(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Be(n)).next(r=>{let s=Dd();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let a=Dd();return this.indexManager.getCollectionParents(e,i).next(l=>ae.forEach(l,c=>{const u=function(f,p){return new Hu(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((f,p)=>{a=a.insert(f,p)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(a=>{i.forEach((c,u)=>{const d=u.getKey();a.get(d)===null&&(a=a.insert(d,lr.newInvalidDocument(d)))});let l=Dd();return a.forEach((c,u)=>{const d=i.get(c);d!==void 0&&th(d.mutation,u,Zr.empty(),Lt.now()),jv(n,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nK{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ae.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Ni(s.createTime)}}(n)),ae.resolve()}getNamedQuery(e,n){return ae.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:HG(s.bundledQuery),readTime:Ni(s.readTime)}}(n)),ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rK{constructor(){this.overlays=new Jt(Be.comparator),this.qr=new Map}getOverlay(e,n){return ae.resolve(this.overlays.get(n))}getOverlays(e,n){const r=fl();return ae.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),ae.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),ae.resolve()}getOverlaysForCollection(e,n,r){const s=fl(),i=n.length+1,a=new Be(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return ae.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Jt((u,d)=>u-d);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=i.get(u.largestBatchId);d===null&&(d=fl(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const l=fl(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>l.set(u,d)),!(l.size()>=s)););return ae.resolve(l)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const a=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new bG(n,r));let i=this.qr.get(n);i===void 0&&(i=dt(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sK{constructor(){this.sessionToken=Ln.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(){this.Qr=new Cn(Rn.$r),this.Ur=new Cn(Rn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Rn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Rn(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new Be(new Mt([])),r=new Rn(n,e),s=new Rn(n,e+1),i=[];return this.Ur.forEachInRange([r,s],a=>{this.Gr(a),i.push(a.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Be(new Mt([])),r=new Rn(n,e),s=new Rn(n,e+1);let i=dt();return this.Ur.forEachInRange([r,s],a=>{i=i.add(a.key)}),i}containsKey(e){const n=new Rn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Rn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Be.comparator(e.key,n.key)||ut(e.Yr,n.Yr)}static Kr(e,n){return ut(e.Yr,n.Yr)||Be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iK{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Cn(Rn.$r)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new wG(i,n,r,s);this.mutationQueue.push(a);for(const l of s)this.Zr=this.Zr.add(new Rn(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return ae.resolve(a)}lookupMutationBatch(e,n){return ae.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return ae.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?H_:this.tr-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Rn(n,0),s=new Rn(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],a=>{const l=this.Xr(a.Yr);i.push(l)}),ae.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Cn(ut);return n.forEach(s=>{const i=new Rn(s,0),a=new Rn(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,a],l=>{r=r.add(l.Yr)})}),ae.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Be.isDocumentKey(i)||(i=i.child(""));const a=new Rn(new Be(i),0);let l=new Cn(ut);return this.Zr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(l=l.add(c.Yr)),!0)},a),ae.resolve(this.ti(l))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){kt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ae.forEach(n.mutations,s=>{const i=new Rn(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Rn(n,0),s=this.Zr.firstAfterOrEqual(r);return ae.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oK{constructor(e){this.ri=e,this.docs=function(){return new Jt(Be.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,a=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ae.resolve(r?r.document.mutableCopy():lr.newInvalidDocument(n))}getEntries(e,n){let r=fo();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():lr.newInvalidDocument(s))}),ae.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=fo();const a=n.path,l=new Be(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||Oq(Dq(d),r)<=0||(s.has(d.key)||jv(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return ae.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Ke(9500)}ii(e,n){return ae.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new aK(this)}getSize(e){return ae.resolve(this.size)}}class aK extends JG{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),ae.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lK{constructor(e){this.persistence=e,this.si=new tc(n=>K_(n),Y_),this.lastRemoteSnapshotVersion=Xe.min(),this.highestTargetId=0,this.oi=0,this._i=new t1,this.targetCount=0,this.ai=_u.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ae.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new _u(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ae.resolve()}updateTargetData(e,n){return this.Pr(n),ae.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.si.delete(a),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),ae.waitFor(i).next(()=>s)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ae.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ae.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(a=>{i.push(s.markPotentiallyOrphaned(e,a))}),ae.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ae.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ae.resolve(r)}containsKey(e,n){return ae.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e,n){this.ui={},this.overlays={},this.ci=new bv(0),this.li=!1,this.li=!0,this.hi=new sK,this.referenceDelegate=e(this),this.Pi=new lK(this),this.indexManager=new qG,this.remoteDocumentCache=function(s){return new oK(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new WG(n),this.Ii=new nK(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new rK,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new iK(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){De("MemoryPersistence","Starting transaction:",e);const s=new cK(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return ae.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class cK extends Lq{constructor(e){super(),this.currentSequenceNumber=e}}class n1{constructor(e){this.persistence=e,this.Ri=new t1,this.Vi=null}static mi(e){return new n1(e)}get fi(){if(this.Vi)return this.Vi;throw Ke(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ae.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ae.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ae.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.fi,r=>{const s=Be.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,Xe.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return ae.or([()=>ae.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class lg{constructor(e,n){this.persistence=e,this.pi=new tc(r=>$q(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=ZG(this,n)}static mi(e,n){return new lg(e,n)}Ei(){}di(e){return ae.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return ae.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?ae.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,a=>this.br(e,a,n).next(l=>{l||(r++,i.removeEntry(a,Xe.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ae.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ae.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ae.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=sp(e.data.value)),n}br(e,n,r){return ae.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return ae.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=dt(),s=dt();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new r1(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uK{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dK{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return V7()?8:Fq(hr())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(a=>{i.result=a}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(a=>{i.result=a})}).next(()=>{if(i.result)return;const a=new uK;return this.Ss(e,n,a).next(l=>{if(i.result=l,this.Vs)return this.bs(e,n,a,l.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(pc()<=ct.DEBUG&&De("QueryEngine","SDK will not create cache indexes for query:",gc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ae.resolve()):(pc()<=ct.DEBUG&&De("QueryEngine","Query:",gc(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(pc()<=ct.DEBUG&&De("QueryEngine","The SDK decides to create cache indexes for query:",gc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ei(n))):ae.resolve())}ys(e,n){if(gC(n))return ae.resolve(null);let r=Ei(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=v0(n,null,"F"),r=Ei(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const a=dt(...i);return this.ps.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.Ds(n,l);return this.Cs(n,u,a,c.readTime)?this.ys(e,v0(n,null,"F")):this.vs(e,u,n,c)}))})))}ws(e,n,r,s){return gC(n)||s.isEqual(Xe.min())?ae.resolve(null):this.ps.getDocuments(e,r).next(i=>{const a=this.Ds(n,i);return this.Cs(n,a,r,s)?ae.resolve(null):(pc()<=ct.DEBUG&&De("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),gc(n)),this.vs(e,a,n,Aq(s,Ah)).next(l=>l))})}Ds(e,n){let r=new Cn(nD(e));return n.forEach((s,i)=>{jv(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return pc()<=ct.DEBUG&&De("QueryEngine","Using full collection scan to execute query:",gc(n)),this.ps.getDocumentsMatchingQuery(e,n,ka.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(a=>{i=i.insert(a.key,a)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1="LocalStore",hK=3e8;class fK{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Jt(ut),this.xs=new tc(i=>K_(i),Y_),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tK(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function mK(t,e,n,r){return new fK(t,e,n,r)}async function SD(t,e){const n=nt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const a=[],l=[];let c=dt();for(const u of s){a.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of i){l.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(u=>({Ls:u,removedBatchIds:a,addedBatchIds:l}))})})}function pK(t,e){const n=nt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(l,c,u,d){const f=u.batch,p=f.keys();let g=ae.resolve();return p.forEach(_=>{g=g.next(()=>d.getEntry(c,_)).next(v=>{const w=u.docVersions.get(_);kt(w!==null,48541),v.version.compareTo(w)<0&&(f.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),d.addEntry(v)))})}),g.next(()=>l.mutationQueue.removeMutationBatch(c,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=dt();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function jD(t){const e=nt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function gK(t,e){const n=nt(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const l=[];e.targetChanges.forEach((d,f)=>{const p=s.get(f);if(!p)return;l.push(n.Pi.removeMatchingKeys(i,d.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(i,d.addedDocuments,f)));let g=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(Ln.EMPTY_BYTE_STRING,Xe.min()).withLastLimboFreeSnapshotVersion(Xe.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),s=s.insert(f,g),function(v,w,b){return v.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=hK?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(p,g,d)&&l.push(n.Pi.updateTargetData(i,g))});let c=fo(),u=dt();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),l.push(vK(i,a,e.documentUpdates).next(d=>{c=d.ks,u=d.qs})),!r.isEqual(Xe.min())){const d=n.Pi.getLastRemoteSnapshotVersion(i).next(f=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(d)}return ae.waitFor(l).next(()=>a.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,u)).next(()=>c)}).then(i=>(n.Ms=s,i))}function vK(t,e,n){let r=dt(),s=dt();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let a=fo();return n.forEach((l,c)=>{const u=i.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(Xe.min())?(e.removeEntry(l,c.readTime),a=a.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),a=a.insert(l,c)):De(s1,"Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{ks:a,qs:s}})}function yK(t,e){const n=nt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=H_),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function xK(t,e){const n=nt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,ae.resolve(s)):n.Pi.allocateTargetId(r).next(a=>(s=new Xo(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function _0(t,e,n){const r=nt(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,a=>r.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!Wu(a))throw a;De(s1,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function TC(t,e,n){const r=nt(t);let s=Xe.min(),i=dt();return r.persistence.runTransaction("Execute query","readwrite",a=>function(c,u,d){const f=nt(c),p=f.xs.get(d);return p!==void 0?ae.resolve(f.Ms.get(p)):f.Pi.getTargetData(u,d)}(r,a,Ei(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(a,l.targetId).next(c=>{i=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(a,e,n?s:Xe.min(),n?i:dt())).next(l=>(wK(r,sG(e),l),{documents:l,Qs:i})))}function wK(t,e,n){let r=t.Os.get(e)||Xe.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class IC{constructor(){this.activeTargetIds=uG()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bK{constructor(){this.Mo=new IC,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new IC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _K{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC="ConnectivityMonitor";class PC{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){De(RC,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){De(RC,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Im=null;function E0(){return Im===null?Im=function(){return 268435456+Math.round(2147483648*Math.random())}():Im++,"0x"+Im.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx="RestConnection",EK={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class NK{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===rg?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const a=E0(),l=this.zo(e,n.toUriEncodedString());De(vx,`Sending RPC '${e}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,i);const{host:u}=new URL(l),d=Jl(u);return this.Jo(e,l,c,r,d).then(f=>(De(vx,`Received RPC '${e}' ${a}: `,f),f),f=>{throw Vl(vx,`RPC '${e}' ${a} failed with error: `,f,"url: ",l,"request:",r),f})}Ho(e,n,r,s,i,a){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Bu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=EK[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SK{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr="WebChannelConnection";class jK extends NK{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const a=E0();return new Promise((l,c)=>{const u=new j2;u.setWithCredentials(!0),u.listenOnce(C2.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case rp.NO_ERROR:const f=u.getResponseJson();De(sr,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(f)),l(f);break;case rp.TIMEOUT:De(sr,`RPC '${e}' ${a} timed out`),c(new Te(re.DEADLINE_EXCEEDED,"Request time out"));break;case rp.HTTP_ERROR:const p=u.getStatus();if(De(sr,`RPC '${e}' ${a} failed with status:`,p,"response text:",u.getResponseText()),p>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const _=g==null?void 0:g.error;if(_&&_.status&&_.message){const v=function(b){const x=b.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(x)>=0?x:re.UNKNOWN}(_.status);c(new Te(v,_.message))}else c(new Te(re.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new Te(re.UNAVAILABLE,"Connection failed."));break;default:Ke(9055,{l_:e,streamId:a,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{De(sr,`RPC '${e}' ${a} completed.`)}});const d=JSON.stringify(s);De(sr,`RPC '${e}' ${a} sending request:`,s),u.send(n,"POST",d,r,15)})}T_(e,n,r){const s=E0(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=I2(),l=T2(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=i.join("");De(sr,`Creating RPC '${e}' stream ${s}: ${d}`,c);const f=a.createWebChannel(d,c);this.I_(f);let p=!1,g=!1;const _=new SK({Yo:w=>{g?De(sr,`Not sending because RPC '${e}' stream ${s} is closed:`,w):(p||(De(sr,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),De(sr,`RPC '${e}' stream ${s} sending:`,w),f.send(w))},Zo:()=>f.close()}),v=(w,b,x)=>{w.listen(b,y=>{try{x(y)}catch(j){setTimeout(()=>{throw j},0)}})};return v(f,Ad.EventType.OPEN,()=>{g||(De(sr,`RPC '${e}' stream ${s} transport opened.`),_.o_())}),v(f,Ad.EventType.CLOSE,()=>{g||(g=!0,De(sr,`RPC '${e}' stream ${s} transport closed`),_.a_(),this.E_(f))}),v(f,Ad.EventType.ERROR,w=>{g||(g=!0,Vl(sr,`RPC '${e}' stream ${s} transport errored. Name:`,w.name,"Message:",w.message),_.a_(new Te(re.UNAVAILABLE,"The operation could not be completed")))}),v(f,Ad.EventType.MESSAGE,w=>{var b;if(!g){const x=w.data[0];kt(!!x,16349);const y=x,j=(y==null?void 0:y.error)||((b=y[0])==null?void 0:b.error);if(j){De(sr,`RPC '${e}' stream ${s} received error:`,j);const P=j.status;let D=function(T){const C=mn[T];if(C!==void 0)return fD(C)}(P),S=j.message;D===void 0&&(D=re.INTERNAL,S="Unknown error status: "+P+" with message "+j.message),g=!0,_.a_(new Te(D,S)),f.close()}else De(sr,`RPC '${e}' stream ${s} received:`,x),_.u_(x)}}),v(l,k2.STAT_EVENT,w=>{w.stat===u0.PROXY?De(sr,`RPC '${e}' stream ${s} detected buffering proxy`):w.stat===u0.NOPROXY&&De(sr,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{_.__()},0),_}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function yx(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(t){return new IG(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&De("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC="PersistentStream";class kD{constructor(e,n,r,s,i,a,l,c){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new CD(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(ho(n.toString()),ho("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new Te(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return De(AC,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(De(AC,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class CK extends kD{constructor(e,n,r,s,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=AG(this.serializer,e),r=function(i){if(!("targetChange"in i))return Xe.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?Xe.min():a.readTime?Ni(a.readTime):Xe.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=b0(this.serializer),n.addTarget=function(i,a){let l;const c=a.target;if(l=p0(c)?{documents:MG(i,c)}:{query:LG(i,c).ft},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=gD(i,a.resumeToken);const u=y0(i,a.expectedCount);u!==null&&(l.expectedCount=u)}else if(a.snapshotVersion.compareTo(Xe.min())>0){l.readTime=ag(i,a.snapshotVersion.toTimestamp());const u=y0(i,a.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const r=VG(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=b0(this.serializer),n.removeTarget=e,this.q_(n)}}class kK extends kD{constructor(e,n,r,s,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return kt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,kt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){kt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=OG(e.writeResults,e.commitTime),r=Ni(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=b0(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>DG(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TK{}class IK extends TK{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Te(re.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Go(e,x0(n,r),s,i,a)).catch(i=>{throw i.name==="FirebaseError"?(i.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Te(re.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Ho(e,x0(n,r),s,a,l,i)).catch(a=>{throw a.name==="FirebaseError"?(a.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Te(re.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class RK{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ho(n),this.aa=!1):De("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $l="RemoteStore";class PK{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(a=>{r.enqueueAndForget(async()=>{nc(this)&&(De($l,"Restarting streams for network reachability change."),await async function(c){const u=nt(c);u.Ea.add(4),await _f(u),u.Ra.set("Unknown"),u.Ea.delete(4),await Rv(u)}(this))})}),this.Ra=new RK(r,s)}}async function Rv(t){if(nc(t))for(const e of t.da)await e(!0)}async function _f(t){for(const e of t.da)await e(!1)}function TD(t,e){const n=nt(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),l1(n)?a1(n):qu(n).O_()&&o1(n,e))}function i1(t,e){const n=nt(t),r=qu(n);n.Ia.delete(e),r.O_()&&ID(n,e),n.Ia.size===0&&(r.O_()?r.L_():nc(n)&&n.Ra.set("Unknown"))}function o1(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Xe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}qu(t).Y_(e)}function ID(t,e){t.Va.Ue(e),qu(t).Z_(e)}function a1(t){t.Va=new jG({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),qu(t).start(),t.Ra.ua()}function l1(t){return nc(t)&&!qu(t).x_()&&t.Ia.size>0}function nc(t){return nt(t).Ea.size===0}function RD(t){t.Va=void 0}async function AK(t){t.Ra.set("Online")}async function DK(t){t.Ia.forEach((e,n)=>{o1(t,e)})}async function OK(t,e){RD(t),l1(t)?(t.Ra.ha(e),a1(t)):t.Ra.set("Unknown")}async function MK(t,e,n){if(t.Ra.set("Online"),e instanceof pD&&e.state===2&&e.cause)try{await async function(s,i){const a=i.cause;for(const l of i.targetIds)s.Ia.has(l)&&(await s.remoteSyncer.rejectListen(l,a),s.Ia.delete(l),s.Va.removeTarget(l))}(t,e)}catch(r){De($l,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await cg(t,r)}else if(e instanceof ap?t.Va.Ze(e):e instanceof mD?t.Va.st(e):t.Va.tt(e),!n.isEqual(Xe.min()))try{const r=await jD(t.localStore);n.compareTo(r)>=0&&await function(i,a){const l=i.Va.Tt(a);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=i.Ia.get(u);d&&i.Ia.set(u,d.withResumeToken(c.resumeToken,a))}}),l.targetMismatches.forEach((c,u)=>{const d=i.Ia.get(c);if(!d)return;i.Ia.set(c,d.withResumeToken(Ln.EMPTY_BYTE_STRING,d.snapshotVersion)),ID(i,c);const f=new Xo(d.target,c,u,d.sequenceNumber);o1(i,f)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){De($l,"Failed to raise snapshot:",r),await cg(t,r)}}async function cg(t,e,n){if(!Wu(e))throw e;t.Ea.add(1),await _f(t),t.Ra.set("Offline"),n||(n=()=>jD(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{De($l,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Rv(t)})}function PD(t,e){return e().catch(n=>cg(t,n,e))}async function Pv(t){const e=nt(t),n=Pa(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:H_;for(;LK(e);)try{const s=await yK(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,FK(e,s)}catch(s){await cg(e,s)}AD(e)&&DD(e)}function LK(t){return nc(t)&&t.Ta.length<10}function FK(t,e){t.Ta.push(e);const n=Pa(t);n.O_()&&n.X_&&n.ea(e.mutations)}function AD(t){return nc(t)&&!Pa(t).x_()&&t.Ta.length>0}function DD(t){Pa(t).start()}async function VK(t){Pa(t).ra()}async function $K(t){const e=Pa(t);for(const n of t.Ta)e.ea(n.mutations)}async function UK(t,e,n){const r=t.Ta.shift(),s=Z_.from(r,e,n);await PD(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Pv(t)}async function BK(t,e){e&&Pa(t).X_&&await async function(r,s){if(function(a){return EG(a)&&a!==re.ABORTED}(s.code)){const i=r.Ta.shift();Pa(r).B_(),await PD(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Pv(r)}}(t,e),AD(t)&&DD(t)}async function DC(t,e){const n=nt(t);n.asyncQueue.verifyOperationInProgress(),De($l,"RemoteStore received new credentials");const r=nc(n);n.Ea.add(3),await _f(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Rv(n)}async function zK(t,e){const n=nt(t);e?(n.Ea.delete(2),await Rv(n)):e||(n.Ea.add(2),await _f(n),n.Ra.set("Unknown"))}function qu(t){return t.ma||(t.ma=function(n,r,s){const i=nt(n);return i.sa(),new CK(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:AK.bind(null,t),t_:DK.bind(null,t),r_:OK.bind(null,t),H_:MK.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),l1(t)?a1(t):t.Ra.set("Unknown")):(await t.ma.stop(),RD(t))})),t.ma}function Pa(t){return t.fa||(t.fa=function(n,r,s){const i=nt(n);return i.sa(),new kK(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:VK.bind(null,t),r_:BK.bind(null,t),ta:$K.bind(null,t),na:UK.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Pv(t)):(await t.fa.stop(),t.Ta.length>0&&(De($l,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new eo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const a=Date.now()+r,l=new c1(e,n,a,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Te(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function u1(t,e){if(ho("AsyncQueue",`${e}: ${t}`),Wu(t))return new Te(re.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{static emptySet(e){return new Qc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Be.comparator(n.key,r.key):(n,r)=>Be.comparator(n.key,r.key),this.keyedMap=Dd(),this.sortedSet=new Jt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Qc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Qc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(){this.ga=new Jt(Be.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ke(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Eu{constructor(e,n,r,s,i,a,l,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new Eu(e,n,Qc.emptySet(n),a,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WK{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class HK{constructor(){this.queries=MC(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=nt(n),i=s.queries;s.queries=MC(),i.forEach((a,l)=>{for(const c of l.Sa)c.onError(r)})})(this,new Te(re.ABORTED,"Firestore shutting down"))}}function MC(){return new tc(t=>tD(t),Sv)}async function d1(t,e){const n=nt(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new WK,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const l=u1(a,`Initialization of query '${gc(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&f1(n)}async function h1(t,e){const n=nt(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const a=i.Sa.indexOf(e);a>=0&&(i.Sa.splice(a,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function qK(t,e){const n=nt(t);let r=!1;for(const s of e){const i=s.query,a=n.queries.get(i);if(a){for(const l of a.Sa)l.Fa(s)&&(r=!0);a.wa=s}}r&&f1(n)}function GK(t,e,n){const r=nt(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function f1(t){t.Ca.forEach(e=>{e.next()})}var N0,LC;(LC=N0||(N0={})).Ma="default",LC.Cache="cache";class m1{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Eu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Eu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==N0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e){this.key=e}}class MD{constructor(e){this.key=e}}class KK{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=dt(),this.mutatedKeys=dt(),this.eu=nD(e),this.tu=new Qc(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new OC,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,a=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,f)=>{const p=s.get(d),g=jv(this.query,f)?f:null,_=!!p&&this.mutatedKeys.has(p.key),v=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let w=!1;p&&g?p.data.isEqual(g.data)?_!==v&&(r.track({type:3,doc:g}),w=!0):this.su(p,g)||(r.track({type:2,doc:g}),w=!0,(c&&this.eu(g,c)>0||u&&this.eu(g,u)<0)&&(l=!0)):!p&&g?(r.track({type:0,doc:g}),w=!0):p&&!g&&(r.track({type:1,doc:p}),w=!0,(c||u)&&(l=!0)),w&&(g?(a=a.add(g),i=v?i.add(d):i.delete(d)):(a=a.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{tu:a,iu:r,Cs:l,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((d,f)=>function(g,_){const v=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ke(20277,{Rt:w})}};return v(g)-v(_)}(d.type,f.type)||this.eu(d.doc,f.doc)),this.ou(r),s=s??!1;const l=n&&!s?this._u():[],c=this.Xa.size===0&&this.current&&!s?1:0,u=c!==this.Za;return this.Za=c,a.length!==0||u?{snapshot:new Eu(this.query,e.tu,i,a,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new OC,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=dt(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new MD(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new OD(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=dt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Eu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const p1="SyncEngine";class YK{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class QK{constructor(e){this.key=e,this.hu=!1}}class XK{constructor(e,n,r,s,i,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new tc(l=>tD(l),Sv),this.Iu=new Map,this.Eu=new Set,this.du=new Jt(Be.comparator),this.Au=new Map,this.Ru=new t1,this.Vu={},this.mu=new Map,this.fu=_u.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ZK(t,e,n=!0){const r=BD(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await LD(r,e,n,!0),s}async function JK(t,e){const n=BD(t);await LD(n,e,!0,!1)}async function LD(t,e,n,r){const s=await xK(t.localStore,Ei(e)),i=s.targetId,a=t.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await eY(t,e,i,a==="current",s.resumeToken)),t.isPrimaryClient&&n&&TD(t.remoteStore,s),l}async function eY(t,e,n,r,s){t.pu=(f,p,g)=>async function(v,w,b,x){let y=w.view.ru(b);y.Cs&&(y=await TC(v.localStore,w.query,!1).then(({documents:S})=>w.view.ru(S,y)));const j=x&&x.targetChanges.get(w.targetId),P=x&&x.targetMismatches.get(w.targetId)!=null,D=w.view.applyChanges(y,v.isPrimaryClient,j,P);return VC(v,w.targetId,D.au),D.snapshot}(t,f,p,g);const i=await TC(t.localStore,e,!0),a=new KK(e,i.Qs),l=a.ru(i.documents),c=bf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=a.applyChanges(l,t.isPrimaryClient,c);VC(t,n,u.au);const d=new YK(e,n,a);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function tY(t,e,n){const r=nt(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(a=>!Sv(a,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await _0(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&i1(r.remoteStore,s.targetId),S0(r,s.targetId)}).catch(zu)):(S0(r,s.targetId),await _0(r.localStore,s.targetId,!0))}async function nY(t,e){const n=nt(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),i1(n.remoteStore,r.targetId))}async function rY(t,e,n){const r=uY(t);try{const s=await function(a,l){const c=nt(a),u=Lt.now(),d=l.reduce((g,_)=>g.add(_.key),dt());let f,p;return c.persistence.runTransaction("Locally write mutations","readwrite",g=>{let _=fo(),v=dt();return c.Ns.getEntries(g,d).next(w=>{_=w,_.forEach((b,x)=>{x.isValidDocument()||(v=v.add(b))})}).next(()=>c.localDocuments.getOverlayedDocuments(g,_)).next(w=>{f=w;const b=[];for(const x of l){const y=yG(x,f.get(x.key).overlayedDocument);y!=null&&b.push(new Ha(x.key,y,G2(y.value.mapValue),ms.exists(!0)))}return c.mutationQueue.addMutationBatch(g,u,b,l)}).next(w=>{p=w;const b=w.applyToLocalDocumentSet(f,v);return c.documentOverlayCache.saveOverlays(g,w.batchId,b)})}).then(()=>({batchId:p.batchId,changes:sD(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(a,l,c){let u=a.Vu[a.currentUser.toKey()];u||(u=new Jt(ut)),u=u.insert(l,c),a.Vu[a.currentUser.toKey()]=u}(r,s.batchId,n),await Ef(r,s.changes),await Pv(r.remoteStore)}catch(s){const i=u1(s,"Failed to persist write");n.reject(i)}}async function FD(t,e){const n=nt(t);try{const r=await gK(n.localStore,e);e.targetChanges.forEach((s,i)=>{const a=n.Au.get(i);a&&(kt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?a.hu=!0:s.modifiedDocuments.size>0?kt(a.hu,14607):s.removedDocuments.size>0&&(kt(a.hu,42227),a.hu=!1))}),await Ef(n,r,e)}catch(r){await zu(r)}}function FC(t,e,n){const r=nt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,a)=>{const l=a.view.va(e);l.snapshot&&s.push(l.snapshot)}),function(a,l){const c=nt(a);c.onlineState=l;let u=!1;c.queries.forEach((d,f)=>{for(const p of f.Sa)p.va(l)&&(u=!0)}),u&&f1(c)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function sY(t,e,n){const r=nt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let a=new Jt(Be.comparator);a=a.insert(i,lr.newNoDocument(i,Xe.min()));const l=dt().add(i),c=new Tv(Xe.min(),new Map,new Jt(ut),a,l);await FD(r,c),r.du=r.du.remove(i),r.Au.delete(e),g1(r)}else await _0(r.localStore,e,!1).then(()=>S0(r,e,n)).catch(zu)}async function iY(t,e){const n=nt(t),r=e.batch.batchId;try{const s=await pK(n.localStore,e);$D(n,r,null),VD(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ef(n,s)}catch(s){await zu(s)}}async function oY(t,e,n){const r=nt(t);try{const s=await function(a,l){const c=nt(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,l).next(f=>(kt(f!==null,37113),d=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);$D(r,e,n),VD(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ef(r,s)}catch(s){await zu(s)}}function VD(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function $D(t,e,n){const r=nt(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function S0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||UD(t,r)})}function UD(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(i1(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),g1(t))}function VC(t,e,n){for(const r of n)r instanceof OD?(t.Ru.addReference(r.key,e),aY(t,r)):r instanceof MD?(De(p1,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||UD(t,r.key)):Ke(19791,{wu:r})}function aY(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(De(p1,"New document in limbo: "+n),t.Eu.add(r),g1(t))}function g1(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Be(Mt.fromString(e)),r=t.fu.next();t.Au.set(r,new QK(n)),t.du=t.du.insert(n,r),TD(t.remoteStore,new Xo(Ei(Nv(n.path)),r,"TargetPurposeLimboResolution",bv.ce))}}async function Ef(t,e,n){const r=nt(t),s=[],i=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach((l,c)=>{a.push(r.pu(c,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){s.push(u);const f=r1.As(c.targetId,u);i.push(f)}}))}),await Promise.all(a),r.Pu.H_(s),await async function(c,u){const d=nt(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>ae.forEach(u,p=>ae.forEach(p.Es,g=>d.persistence.referenceDelegate.addReference(f,p.targetId,g)).next(()=>ae.forEach(p.ds,g=>d.persistence.referenceDelegate.removeReference(f,p.targetId,g)))))}catch(f){if(!Wu(f))throw f;De(s1,"Failed to update sequence numbers: "+f)}for(const f of u){const p=f.targetId;if(!f.fromCache){const g=d.Ms.get(p),_=g.snapshotVersion,v=g.withLastLimboFreeSnapshotVersion(_);d.Ms=d.Ms.insert(p,v)}}}(r.localStore,i))}async function lY(t,e){const n=nt(t);if(!n.currentUser.isEqual(e)){De(p1,"User change. New user:",e.toKey());const r=await SD(n.localStore,e);n.currentUser=e,function(i,a){i.mu.forEach(l=>{l.forEach(c=>{c.reject(new Te(re.CANCELLED,a))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ef(n,r.Ls)}}function cY(t,e){const n=nt(t),r=n.Au.get(e);if(r&&r.hu)return dt().add(r.key);{let s=dt();const i=n.Iu.get(e);if(!i)return s;for(const a of i){const l=n.Tu.get(a);s=s.unionWith(l.view.nu)}return s}}function BD(t){const e=nt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=FD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cY.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sY.bind(null,e),e.Pu.H_=qK.bind(null,e.eventManager),e.Pu.yu=GK.bind(null,e.eventManager),e}function uY(t){const e=nt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=iY.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=oY.bind(null,e),e}class ug{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Iv(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return mK(this.persistence,new dK,e.initialUser,this.serializer)}Cu(e){return new ND(n1.mi,this.serializer)}Du(e){return new bK}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ug.provider={build:()=>new ug};class dY extends ug{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){kt(this.persistence.referenceDelegate instanceof lg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new QG(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Pr.withCacheSize(this.cacheSizeBytes):Pr.DEFAULT;return new ND(r=>lg.mi(r,n),this.serializer)}}class j0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>FC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=lY.bind(null,this.syncEngine),await zK(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new HK}()}createDatastore(e){const n=Iv(e.databaseInfo.databaseId),r=function(i){return new jK(i)}(e.databaseInfo);return function(i,a,l,c){return new IK(i,a,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,a,l){return new PK(r,s,i,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>FC(this.syncEngine,n,0),function(){return PC.v()?new PC:new _K}())}createSyncEngine(e,n){return function(s,i,a,l,c,u,d){const f=new XK(s,i,a,l,c,u);return d&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=nt(s);De($l,"RemoteStore shutting down."),i.Ea.add(5),await _f(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}j0.provider={build:()=>new j0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ho("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa="FirestoreClient";class hY{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=or.UNAUTHENTICATED,this.clientId=xv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async a=>{De(Aa,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(De(Aa,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new eo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=u1(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function xx(t,e){t.asyncQueue.verifyOperationInProgress(),De(Aa,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await SD(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function $C(t,e){t.asyncQueue.verifyOperationInProgress();const n=await fY(t);De(Aa,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>DC(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>DC(e.remoteStore,s)),t._onlineComponents=e}async function fY(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){De(Aa,"Using user provided OfflineComponentProvider");try{await xx(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===re.FAILED_PRECONDITION||s.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Vl("Error using user provided cache. Falling back to memory cache: "+n),await xx(t,new ug)}}else De(Aa,"Using default OfflineComponentProvider"),await xx(t,new dY(void 0));return t._offlineComponents}async function zD(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(De(Aa,"Using user provided OnlineComponentProvider"),await $C(t,t._uninitializedComponentsProvider._online)):(De(Aa,"Using default OnlineComponentProvider"),await $C(t,new j0))),t._onlineComponents}function mY(t){return zD(t).then(e=>e.syncEngine)}async function dg(t){const e=await zD(t),n=e.eventManager;return n.onListen=ZK.bind(null,e.syncEngine),n.onUnlisten=tY.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=JK.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=nY.bind(null,e.syncEngine),n}function pY(t,e,n={}){const r=new eo;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,l,c,u){const d=new v1({next:p=>{d.Nu(),a.enqueueAndForget(()=>h1(i,f));const g=p.docs.has(l);!g&&p.fromCache?u.reject(new Te(re.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&c&&c.source==="server"?u.reject(new Te(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),f=new m1(Nv(l.path),d,{includeMetadataChanges:!0,qa:!0});return d1(i,f)}(await dg(t),t.asyncQueue,e,n,r)),r.promise}function gY(t,e,n={}){const r=new eo;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,l,c,u){const d=new v1({next:p=>{d.Nu(),a.enqueueAndForget(()=>h1(i,f)),p.fromCache&&c.source==="server"?u.reject(new Te(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),f=new m1(l,d,{includeMetadataChanges:!0,qa:!0});return d1(i,f)}(await dg(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD="firestore.googleapis.com",BC=!0;class zC{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Te(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=HD,this.ssl=BC}else this.host=e.host,this.ssl=e.ssl??BC;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ED;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<KG)throw new Te(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}O2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=WD(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Te(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Te(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Te(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Av{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zC({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Te(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Te(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zC(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new A2;switch(r.type){case"firstParty":return new Cq(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Te(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=UC.get(n);r&&(De("ComponentProvider","Removing Datastore"),UC.delete(n),r.terminate())}(this),Promise.resolve()}}function qD(t,e,n,r={}){var u;t=wr(t,Av);const s=Jl(e),i=t._getSettings(),a={...i,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;s&&(I_(`https://${l}`),R_("Firestore",!0)),i.host!==HD&&i.host!==l&&Vl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...i,host:l,ssl:s,emulatorOptions:r};if(!Dl(c,a)&&(t._setSettings(c),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=or.MOCK_USER;else{d=VA(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Te(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new or(p)}t._authCredentials=new Nq(new P2(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new vo(this.firestore,e,this._query)}}class Yt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new to(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yt(this.firestore,e,this._key)}toJSON(){return{type:Yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(xf(n,Yt._jsonSchema))return new Yt(e,r||null,new Be(Mt.fromString(n.referencePath)))}}Yt._jsonSchemaVersion="firestore/documentReference/1.0",Yt._jsonSchema={type:vn("string",Yt._jsonSchemaVersion),referencePath:vn("string")};class to extends vo{constructor(e,n,r){super(e,n,Nv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yt(this.firestore,null,new Be(e))}withConverter(e){return new to(this.firestore,e,this._path)}}function et(t,e,...n){if(t=Zt(t),D2("collection","path",e),t instanceof Av){const r=Mt.fromString(e,...n);return nC(r),new to(t,null,r)}{if(!(t instanceof Yt||t instanceof to))throw new Te(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Mt.fromString(e,...n));return nC(r),new to(t.firestore,null,r)}}function $e(t,e,...n){if(t=Zt(t),arguments.length===1&&(e=xv.newId()),D2("doc","path",e),t instanceof Av){const r=Mt.fromString(e,...n);return tC(r),new Yt(t,null,new Be(r))}{if(!(t instanceof Yt||t instanceof to))throw new Te(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Mt.fromString(e,...n));return tC(r),new Yt(t.firestore,t instanceof to?t.converter:null,new Be(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC="AsyncQueue";class HC{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new CD(this,"async_queue_retry"),this._c=()=>{const r=yx();r&&De(WC,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=yx();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=yx();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new eo;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Wu(e))throw e;De(WC,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,ho("INTERNAL UNHANDLED ERROR: ",qC(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=c1.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&Ke(47125,{Pc:qC(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function qC(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Ii extends Av{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new HC,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new HC(e),this._firestoreClient=void 0,await e}}}function GD(t,e){const n=typeof t=="object"?t:D_(),r=typeof t=="string"?t:rg,s=pv(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=MA("firestore");i&&qD(s,...i)}return s}function Nf(t){if(t._terminated)throw new Te(re.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||vY(t),t._firestoreClient}function vY(t){var r,s,i;const e=t._freezeSettings(),n=function(l,c,u,d){return new zq(l,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,WD(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new hY(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qr(Ln.fromBase64String(e))}catch(n){throw new Te(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Qr(Ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Qr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(xf(e,Qr._jsonSchema))return Qr.fromBase64String(e.bytes)}}Qr._jsonSchemaVersion="firestore/bytes/1.0",Qr._jsonSchema={type:vn("string",Qr._jsonSchemaVersion),bytes:vn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Te(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Te(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Te(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ut(this._lat,e._lat)||ut(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:$s._jsonSchemaVersion}}static fromJSON(e){if(xf(e,$s._jsonSchema))return new $s(e.latitude,e.longitude)}}$s._jsonSchemaVersion="firestore/geoPoint/1.0",$s._jsonSchema={type:vn("string",$s._jsonSchemaVersion),latitude:vn("number"),longitude:vn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Us._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(xf(e,Us._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Us(e.vectorValues);throw new Te(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Us._jsonSchemaVersion="firestore/vectorValue/1.0",Us._jsonSchema={type:vn("string",Us._jsonSchemaVersion),vectorValues:vn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yY=/^__.*__$/;class xY{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ha(e,this.data,this.fieldMask,n,this.fieldTransforms):new wf(e,this.data,n,this.fieldTransforms)}}class KD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ha(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function YD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ke(40011,{Ac:t})}}class y1{constructor(e,n,r,s,i,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new y1({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return hg(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(YD(this.Ac)&&yY.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class wY{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Iv(e)}Cc(e,n,r,s=!1){return new y1({Ac:e,methodName:n,Dc:r,path:Dn.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Dv(t){const e=t._freezeSettings(),n=Iv(t._databaseId);return new wY(t._databaseId,!!e.ignoreUndefinedProperties,n)}function QD(t,e,n,r,s,i={}){const a=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);w1("Data must be an object, but it was:",a,r);const l=XD(r,a);let c,u;if(i.merge)c=new Zr(a.fieldMask),u=a.fieldTransforms;else if(i.mergeFields){const d=[];for(const f of i.mergeFields){const p=C0(e,f,n);if(!a.contains(p))throw new Te(re.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);JD(d,p)||d.push(p)}c=new Zr(d),u=a.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=a.fieldTransforms;return new xY(new Dr(l),c,u)}class Ov extends jf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ov}}class x1 extends jf{_toFieldTransform(e){return new mG(e.path,new Lh)}isEqual(e){return e instanceof x1}}function bY(t,e,n,r){const s=t.Cc(1,e,n);w1("Data must be an object, but it was:",s,r);const i=[],a=Dr.empty();Wa(r,(c,u)=>{const d=b1(e,c,n);u=Zt(u);const f=s.yc(d);if(u instanceof Ov)i.push(d);else{const p=Cf(u,f);p!=null&&(i.push(d),a.set(d,p))}});const l=new Zr(i);return new KD(a,l,s.fieldTransforms)}function _Y(t,e,n,r,s,i){const a=t.Cc(1,e,n),l=[C0(e,r,n)],c=[s];if(i.length%2!=0)throw new Te(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)l.push(C0(e,i[p])),c.push(i[p+1]);const u=[],d=Dr.empty();for(let p=l.length-1;p>=0;--p)if(!JD(u,l[p])){const g=l[p];let _=c[p];_=Zt(_);const v=a.yc(g);if(_ instanceof Ov)u.push(g);else{const w=Cf(_,v);w!=null&&(u.push(g),d.set(g,w))}}const f=new Zr(u);return new KD(d,f,a.fieldTransforms)}function EY(t,e,n,r=!1){return Cf(n,t.Cc(r?4:3,e))}function Cf(t,e){if(ZD(t=Zt(t)))return w1("Unsupported field value:",e,t),XD(t,e);if(t instanceof jf)return function(r,s){if(!YD(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let a=0;for(const l of r){let c=Cf(l,s.wc(a));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),a++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Zt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return dG(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Lt.fromDate(r);return{timestampValue:ag(s.serializer,i)}}if(r instanceof Lt){const i=new Lt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ag(s.serializer,i)}}if(r instanceof $s)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Qr)return{bytesValue:gD(s.serializer,r._byteString)};if(r instanceof Yt){const i=s.databaseId,a=r.firestore._databaseId;if(!a.isEqual(i))throw s.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:e1(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Us)return function(a,l){return{mapValue:{fields:{[W2]:{stringValue:q2},[sg]:{arrayValue:{values:a.toArray().map(u=>{if(typeof u!="number")throw l.Sc("VectorValues must only contain numeric values.");return Q_(l.serializer,u)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${wv(r)}`)}(t,e)}function XD(t,e){const n={};return F2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wa(t,(r,s)=>{const i=Cf(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function ZD(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Lt||t instanceof $s||t instanceof Qr||t instanceof Yt||t instanceof jf||t instanceof Us)}function w1(t,e,n){if(!ZD(n)||!M2(n)){const r=wv(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function C0(t,e,n){if((e=Zt(e))instanceof Sf)return e._internalPath;if(typeof e=="string")return b1(t,e);throw hg("Field path arguments must be of type string or ",t,!1,void 0,n)}const NY=new RegExp("[~\\*/\\[\\]]");function b1(t,e,n){if(e.search(NY)>=0)throw hg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Sf(...e.split("."))._internalPath}catch{throw hg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function hg(t,e,n,r,s){const i=r&&!r.isEmpty(),a=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||a)&&(c+=" (found",i&&(c+=` in field ${r}`),a&&(c+=` in document ${s}`),c+=")"),new Te(re.INVALID_ARGUMENT,l+t+c)}function JD(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new SY(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Mv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class SY extends eO{data(){return super.data()}}function Mv(t,e){return typeof e=="string"?b1(t,e):e instanceof Sf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Te(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _1{}class E1 extends _1{}function vt(t,e,...n){let r=[];e instanceof _1&&r.push(e),r=r.concat(n),function(i){const a=i.filter(c=>c instanceof Lv).length,l=i.filter(c=>c instanceof kf).length;if(a>1||a>0&&l>0)throw new Te(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class kf extends E1{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new kf(e,n,r)}_apply(e){const n=this._parse(e);return nO(e._query,n),new vo(e.firestore,e.converter,g0(e._query,n))}_parse(e){const n=Dv(e.firestore);return function(i,a,l,c,u,d,f){let p;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Te(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){YC(f,d);const _=[];for(const v of f)_.push(KC(c,i,v));p={arrayValue:{values:_}}}else p=KC(c,i,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||YC(f,d),p=EY(l,a,f,d==="in"||d==="not-in");return gn.create(u,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function yt(t,e,n){const r=e,s=Mv("where",t);return kf._create(s,r,n)}class Lv extends _1{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Lv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Gs.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let a=s;const l=i.getFlattenedFilters();for(const c of l)nO(a,c),a=g0(a,c)}(e._query,n),new vo(e.firestore,e.converter,g0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Fv extends E1{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Fv(e,n)}_apply(e){const n=function(s,i,a){if(s.startAt!==null)throw new Te(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Te(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Mh(i,a)}(e._query,this._field,this._direction);return new vo(e.firestore,e.converter,function(s,i){const a=s.explicitOrderBy.concat([i]);return new Hu(s.path,s.collectionGroup,a,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function us(t,e="asc"){const n=e,r=Mv("orderBy",t);return Fv._create(r,n)}function KC(t,e,n){if(typeof(n=Zt(n))=="string"){if(n==="")throw new Te(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eD(e)&&n.indexOf("/")!==-1)throw new Te(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Mt.fromString(n));if(!Be.isDocumentKey(r))throw new Te(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return uC(t,new Be(r))}if(n instanceof Yt)return uC(t,n._key);throw new Te(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wv(n)}.`)}function YC(t,e){if(!Array.isArray(t)||t.length===0)throw new Te(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function nO(t,e){const n=function(s,i){for(const a of s)for(const l of a.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Te(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Te(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class rO{convertValue(e,n="none"){switch(Ra(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ln(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ia(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ke(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Wa(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[sg].arrayValue)==null?void 0:s.values)==null?void 0:i.map(a=>ln(a.doubleValue));return new Us(n)}convertGeoPoint(e){return new $s(ln(e.latitude),ln(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ev(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Dh(e));default:return null}}convertTimestamp(e){const n=Ta(e);return new Lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Mt.fromString(e);kt(_D(r),9688,{name:e});const s=new xu(r.get(1),r.get(3)),i=new Be(r.popFirst(5));return s.isEqual(n)||ho(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sO(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Mc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ma extends eO{constructor(e,n,r,s,i,a){super(e,n,r,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new nh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Mv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Te(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ma._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ma._jsonSchemaVersion="firestore/documentSnapshot/1.0",ma._jsonSchema={type:vn("string",ma._jsonSchemaVersion),bundleSource:vn("string","DocumentSnapshot"),bundleName:vn("string"),bundle:vn("string")};class nh extends ma{data(e={}){return super.data(e)}}class pa{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Mc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new nh(this._firestore,this._userDataWriter,r.key,r,new Mc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Te(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(l=>{const c=new nh(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Mc(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new nh(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Mc(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return l.type!==0&&(u=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),d=a.indexOf(l.doc.key)),{type:jY(l.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Te(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=pa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=xv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function jY(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ke(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(t){t=wr(t,Yt);const e=wr(t.firestore,Ii);return pY(Nf(e),t._key).then(n=>iO(e,t,n))}pa._jsonSchemaVersion="firestore/querySnapshot/1.0",pa._jsonSchema={type:vn("string",pa._jsonSchemaVersion),bundleSource:vn("string","QuerySnapshot"),bundleName:vn("string"),bundle:vn("string")};class N1 extends rO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Yt(this.firestore,null,n)}}function Gt(t){t=wr(t,vo);const e=wr(t.firestore,Ii),n=Nf(e),r=new N1(e);return tO(t._query),gY(n,t._query).then(s=>new pa(e,r,t,s))}function fg(t,e,n){t=wr(t,Yt);const r=wr(t.firestore,Ii),s=sO(t.converter,e,n);return Tf(r,[QD(Dv(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,ms.none())])}function Mn(t,e,n,...r){t=wr(t,Yt);const s=wr(t.firestore,Ii),i=Dv(s);let a;return a=typeof(e=Zt(e))=="string"||e instanceof Sf?_Y(i,"updateDoc",t._key,e,n,r):bY(i,"updateDoc",t._key,e),Tf(s,[a.toMutation(t._key,ms.exists(!0))])}function Ul(t){return Tf(wr(t.firestore,Ii),[new X_(t._key,ms.none())])}function Gu(t,e){const n=wr(t.firestore,Ii),r=$e(t),s=sO(t.converter,e);return Tf(n,[QD(Dv(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,ms.exists(!1))]).then(()=>r)}function ps(t,...e){var c,u,d;t=Zt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||GC(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(GC(e[r])){const f=e[r];e[r]=(c=f.next)==null?void 0:c.bind(f),e[r+1]=(u=f.error)==null?void 0:u.bind(f),e[r+2]=(d=f.complete)==null?void 0:d.bind(f)}let i,a,l;if(t instanceof Yt)a=wr(t.firestore,Ii),l=Nv(t._key.path),i={next:f=>{e[r]&&e[r](iO(a,t,f))},error:e[r+1],complete:e[r+2]};else{const f=wr(t,vo);a=wr(f.firestore,Ii),l=f._query;const p=new N1(a);i={next:g=>{e[r]&&e[r](new pa(a,p,f,g))},error:e[r+1],complete:e[r+2]},tO(t._query)}return function(p,g,_,v){const w=new v1(v),b=new m1(g,w,_);return p.asyncQueue.enqueueAndForget(async()=>d1(await dg(p),b)),()=>{w.Nu(),p.asyncQueue.enqueueAndForget(async()=>h1(await dg(p),b))}}(Nf(a),l,s,i)}function Tf(t,e){return function(r,s){const i=new eo;return r.asyncQueue.enqueueAndForget(async()=>rY(await mY(r),s,i)),i.promise}(Nf(t),e)}function iO(t,e,n){const r=n.docs.get(e._key),s=new N1(t);return new ma(t,s,e._key,r,new Mc(n.hasPendingWrites,n.fromCache),e.converter)}function k0(){return new x1("serverTimestamp")}(function(e,n=!0){(function(s){Bu=s})(ec),Ol(new Ca("firestore",(r,{instanceIdentifier:s,options:i})=>{const a=r.getProvider("app").getImmediate(),l=new Ii(new Sq(r.getProvider("auth-internal")),new kq(a,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Te(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xu(u.options.projectId,d)}(a,s),a);return i={useFetchStreams:n,...i},l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),wi(Xj,Zj,e),wi(Xj,Zj,"esm2020")})();const T0=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:rO,Bytes:Qr,CollectionReference:to,DocumentReference:Yt,DocumentSnapshot:ma,FieldPath:Sf,FieldValue:jf,Firestore:Ii,FirestoreError:Te,GeoPoint:$s,Query:vo,QueryCompositeFilterConstraint:Lv,QueryConstraint:E1,QueryDocumentSnapshot:nh,QueryFieldFilterConstraint:kf,QueryOrderByConstraint:Fv,QuerySnapshot:pa,SnapshotMetadata:Mc,Timestamp:Lt,VectorValue:Us,_AutoId:xv,_ByteString:Ln,_DatabaseId:xu,_DocumentKey:Be,_EmptyAuthCredentialsProvider:A2,_FieldPath:Dn,_cast:wr,_logWarn:Vl,_validateIsNotUsedTogether:O2,addDoc:Gu,collection:et,connectFirestoreEmulator:qD,deleteDoc:Ul,doc:$e,ensureFirestoreConfigured:Nf,executeWrite:Tf,getDoc:St,getDocs:Gt,getFirestore:GD,onSnapshot:ps,orderBy:us,query:vt,serverTimestamp:k0,setDoc:fg,updateDoc:Mn,where:yt},Symbol.toStringTag,{value:"Module"}));var CY="firebase",kY="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wi(CY,kY,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO="firebasestorage.googleapis.com",TY="storageBucket",IY=2*60*1e3,RY=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends Di{constructor(e,n,r=0){super(wx(e),`Firebase Storage: ${n} (${wx(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Oi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return wx(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ri;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ri||(Ri={}));function wx(t){return"storage/"+t}function PY(){const t="An unknown error occurred, please check the error payload for server response.";return new Oi(Ri.UNKNOWN,t)}function AY(){return new Oi(Ri.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function DY(){return new Oi(Ri.CANCELED,"User canceled the upload/download.")}function OY(t){return new Oi(Ri.INVALID_URL,"Invalid URL '"+t+"'.")}function MY(t){return new Oi(Ri.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function QC(t){return new Oi(Ri.INVALID_ARGUMENT,t)}function aO(){return new Oi(Ri.APP_DELETED,"The Firebase app was deleted.")}function LY(t){return new Oi(Ri.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ls.makeFromUrl(e,n)}catch{return new Ls(e,"")}if(r.path==="")return r;throw MY(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(j){j.path.charAt(j.path.length-1)==="/"&&(j.path_=j.path_.slice(0,-1))}const a="(/(.*))?$",l=new RegExp("^gs://"+s+a,"i"),c={bucket:1,path:3};function u(j){j.path_=decodeURIComponent(j.path)}const d="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",g=new RegExp(`^https?://${f}/${d}/b/${s}/o${p}`,"i"),_={bucket:1,path:3},v=n===oO?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",b=new RegExp(`^https?://${v}/${s}/${w}`,"i"),y=[{regex:l,indices:c,postModify:i},{regex:g,indices:_,postModify:u},{regex:b,indices:{bucket:1,path:2},postModify:u}];for(let j=0;j<y.length;j++){const P=y[j],D=P.regex.exec(e);if(D){const S=D[P.indices.bucket];let N=D[P.indices.path];N||(N=""),r=new Ls(S,N),P.postModify(r);break}}if(r==null)throw OY(e);return r}}class FY{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VY(t,e,n){let r=1,s=null,i=null,a=!1,l=0;function c(){return l===2}let u=!1;function d(...w){u||(u=!0,e.apply(null,w))}function f(w){s=setTimeout(()=>{s=null,t(g,c())},w)}function p(){i&&clearTimeout(i)}function g(w,...b){if(u){p();return}if(w){p(),d.call(null,w,...b);return}if(c()||a){p(),d.call(null,w,...b);return}r<64&&(r*=2);let y;l===1?(l=2,y=0):y=(r+Math.random())*1e3,f(y)}let _=!1;function v(w){_||(_=!0,p(),!u&&(s!==null?(w||(l=2),clearTimeout(s),f(0)):w||(l=1)))}return f(0),i=setTimeout(()=>{a=!0,v(!0)},n),v}function $Y(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UY(t){return t!==void 0}function XC(t,e,n,r){if(r<e)throw QC(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw QC(`Invalid value for '${t}'. Expected ${n} or less.`)}function BY(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var mg;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(mg||(mg={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zY(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WY{constructor(e,n,r,s,i,a,l,c,u,d,f,p=!0,g=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=a,this.callback_=l,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=f,this.retry=p,this.isUsingEmulator=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((_,v)=>{this.resolve_=_,this.reject_=v,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Rm(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const a=l=>{const c=l.loaded,u=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&i.addUploadProgressListener(a),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(a),this.pendingConnection_=null;const l=i.getErrorCode()===mg.NO_ERROR,c=i.getStatus();if(!l||zY(c,this.additionalRetryCodes_)&&this.retry){const d=i.getErrorCode()===mg.ABORT;r(!1,new Rm(!1,null,d));return}const u=this.successCodes_.indexOf(c)!==-1;r(!0,new Rm(u,i))})},n=(r,s)=>{const i=this.resolve_,a=this.reject_,l=s.connection;if(s.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());UY(c)?i(c):i()}catch(c){a(c)}else if(l!==null){const c=PY();c.serverResponse=l.getErrorText(),this.errorCallback_?a(this.errorCallback_(l,c)):a(c)}else if(s.canceled){const c=this.appDelete_?aO():DY();a(c)}else{const c=AY();a(c)}};this.canceled_?n(!1,new Rm(!1,null,!0)):this.backoffId_=VY(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&$Y(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Rm{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function HY(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function qY(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function GY(t,e){e&&(t["X-Firebase-GMPID"]=e)}function KY(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function YY(t,e,n,r,s,i,a=!0,l=!1){const c=BY(t.urlParams),u=t.url+c,d=Object.assign({},t.headers);return GY(d,e),HY(d,n),qY(d,i),KY(d,r),new WY(u,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,a,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QY(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function XY(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e,n){this._service=e,n instanceof Ls?this._location=n:this._location=Ls.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new pg(e,n)}get root(){const e=new Ls(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return XY(this._location.path)}get storage(){return this._service}get parent(){const e=QY(this._location.path);if(e===null)return null;const n=new Ls(this._location.bucket,e);return new pg(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw LY(e)}}function ZC(t,e){const n=e==null?void 0:e[TY];return n==null?null:Ls.makeFromBucketSpec(n,t)}function ZY(t,e,n,r={}){t.host=`${e}:${n}`;const s=Jl(e);s&&(I_(`https://${t.host}/b`),R_("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:VA(i,t.app.options.projectId))}class JY{constructor(e,n,r,s,i,a=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=a,this._bucket=null,this._host=oO,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=IY,this._maxUploadRetryTime=RY,this._requests=new Set,s!=null?this._bucket=Ls.makeFromBucketSpec(s,this._host):this._bucket=ZC(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ls.makeFromBucketSpec(this._url,e):this._bucket=ZC(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){XC("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){XC("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Yr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new pg(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new FY(aO());{const a=YY(e,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const JC="@firebase/storage",ek="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO="storage";function eQ(t=D_(),e){t=Zt(t);const r=pv(t,lO).getImmediate({identifier:e}),s=MA("storage");return s&&tQ(r,...s),r}function tQ(t,e,n,r={}){ZY(t,e,n,r)}function nQ(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new JY(n,r,s,e,ec)}function rQ(){Ol(new Ca(lO,nQ,"PUBLIC").setMultipleInstances(!0)),wi(JC,ek,""),wi(JC,ek,"esm2020")}rQ();const sQ={apiKey:"AIzaSyDF4DmAxHAQm-1xjXnH89Ri9eOK6uN4oPk",authDomain:"it-305-project-be233.firebaseapp.com",projectId:"it-305-project-be233",storageBucket:"it-305-project-be233.appspot.com",messagingSenderId:"560170769739",appId:"1:560170769739:web:e8968ed81fa8ad75c0dcce",measurementId:"G-BCDZ671DXD"},S1=BA(sQ),_n=_q(S1),he=GD(S1);eQ(S1);const I0=Object.freeze(Object.defineProperty({__proto__:null,auth:_n,db:he},Symbol.toStringTag,{value:"Module"}));class If{constructor(e=0,n="Network Error"){this.status=e,this.text=n}}const iQ=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,e)=>Promise.resolve(localStorage.setItem(t,e)),remove:t=>Promise.resolve(localStorage.removeItem(t))}},Bn={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:iQ()},j1=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{},oQ=(t,e="https://api.emailjs.com")=>{if(!t)return;const n=j1(t);Bn.publicKey=n.publicKey,Bn.blockHeadless=n.blockHeadless,Bn.storageProvider=n.storageProvider,Bn.blockList=n.blockList,Bn.limitRate=n.limitRate,Bn.origin=n.origin||e},cO=async(t,e,n={})=>{const r=await fetch(Bn.origin+t,{method:"POST",headers:n,body:e}),s=await r.text(),i=new If(r.status,s);if(r.ok)return i;throw i},uO=(t,e,n)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},aQ=t=>{if(t&&t.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},dO=t=>t.webdriver||!t.languages||t.languages.length===0,hO=()=>new If(451,"Unavailable For Headless Browser"),lQ=(t,e)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},cQ=t=>{var e;return!((e=t.list)!=null&&e.length)||!t.watchVariable},uQ=(t,e)=>t instanceof FormData?t.get(e):t[e],fO=(t,e)=>{if(cQ(t))return!1;lQ(t.list,t.watchVariable);const n=uQ(e,t.watchVariable);return typeof n!="string"?!1:t.list.includes(n)},mO=()=>new If(403,"Forbidden"),dQ=(t,e)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},hQ=async(t,e,n)=>{const r=Number(await n.get(t)||0);return e-Date.now()+r},pO=async(t,e,n)=>{if(!e.throttle||!n)return!1;dQ(e.throttle,e.id);const r=e.id||t;return await hQ(r,e.throttle,n)>0?!0:(await n.set(r,Date.now().toString()),!1)},gO=()=>new If(429,"Too Many Requests"),fQ=async(t,e,n,r)=>{const s=j1(r),i=s.publicKey||Bn.publicKey,a=s.blockHeadless||Bn.blockHeadless,l=s.storageProvider||Bn.storageProvider,c={...Bn.blockList,...s.blockList},u={...Bn.limitRate,...s.limitRate};return a&&dO(navigator)?Promise.reject(hO()):(uO(i,t,e),aQ(n),n&&fO(c,n)?Promise.reject(mO()):await pO(location.pathname,u,l)?Promise.reject(gO()):cO("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:i,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"}))},mQ=t=>{if(!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},pQ=t=>typeof t=="string"?document.querySelector(t):t,gQ=async(t,e,n,r)=>{const s=j1(r),i=s.publicKey||Bn.publicKey,a=s.blockHeadless||Bn.blockHeadless,l=Bn.storageProvider||s.storageProvider,c={...Bn.blockList,...s.blockList},u={...Bn.limitRate,...s.limitRate};if(a&&dO(navigator))return Promise.reject(hO());const d=pQ(n);uO(i,t,e),mQ(d);const f=new FormData(d);return fO(c,f)?Promise.reject(mO()):await pO(location.pathname,u,l)?Promise.reject(gO()):(f.append("lib_version","4.4.1"),f.append("service_id",t),f.append("template_id",e),f.append("user_id",i),cO("/api/v1.0/email/send-form",f))},C1={init:oQ,send:fQ,sendForm:gQ,EmailJSResponseStatus:If},vQ="",Qe=t=>`${vQ}${t.toLocaleString("en-PH",{minimumFractionDigits:2,maximumFractionDigits:2})}`,vO="SMPXEQCEwjjG-Dkmp",gg="service_s9xxqfy",tk="template_l48yeel";C1.init(vO);const bx=async(t,e,n,r)=>{try{const s={to_email:t,to_name:e,user_role:r.charAt(0).toUpperCase()+r.slice(1),otp_code:n,verification_link:`${window.location.origin}/verify-otp`,platform_name:"Mojo Dojo Casa House",support_email:"johnpatrickrobles143@gmail.com",year:new Date().getFullYear().toString(),logo_url:"https://mojo-dojo-casa-house-f31a5.web.app/logo.png",logo_alt:"Mojo Dojo Casa House Logo"};console.log(" Attempting to send OTP email via EmailJS...");const i=await C1.send(gg,tk,s);return console.log(" OTP verification email sent successfully to:",t),console.log(" EmailJS response:",i),!0}catch(s){return console.error(" Failed to send OTP email:",s),console.error(" EmailJS error details:",{message:(s==null?void 0:s.text)||(s==null?void 0:s.message),status:s==null?void 0:s.status,publicKey:"Set",serviceId:"Set",templateId:"Set"}),!1}},nk="template_7tisn25",yQ=async(t,e,n,r,s,i,a,l,c)=>{try{const u=new Date(s).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),d=new Date(i).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),f={to_email:t,to_name:e,listing_title:n,listing_location:r,check_in:u,check_out:d,guests:a===1?"1 guest":`${a} guests`,total_price:Qe(l),booking_id:c,booking_link:`${window.location.origin}/guest/dashboard`,platform_name:"Mojo Dojo Casa House",support_email:"johnpatrickrobles143@gmail.com",year:new Date().getFullYear().toString()};return await C1.send(gg,nk,f),console.log(" Booking confirmation email sent successfully to:",t),!0}catch(u){return console.error(" Failed to send booking confirmation email:",u),!1}},yO=async t=>{const e={...t,status:t.status||"pending",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};console.log("Creating listing with data:",{status:e.status,hostId:e.hostId,title:e.title});const n=await Gu(et(he,"listing"),e);return console.log("Listing created with ID:",n.id,"Status:",e.status),n.id},R0=async(t,e)=>{await Mn($e(he,"listing",t),{...e,updatedAt:new Date().toISOString()})},xO=async t=>{await Ul($e(he,"listing",t))},wO=async t=>{const e=await St($e(he,"listing",t));return e.exists()?{id:e.id,...e.data()}:null},Rf=async t=>{try{console.log("getListings called with filters:",JSON.stringify(t));let e=vt(et(he,"listing"));const n=[];t!=null&&t.category&&t.category.trim()!==""&&t.category!=="all"&&(e=vt(e,yt("category","==",t.category)),n.push(`category == "${t.category}"`)),t!=null&&t.status&&t.status.trim()!==""&&(e=vt(e,yt("status","==",t.status)),n.push(`status == "${t.status}"`)),t!=null&&t.hostId&&t.hostId.trim()!==""&&(e=vt(e,yt("hostId","==",t.hostId)),n.push(`hostId == "${t.hostId}"`)),console.log(`getListings: Applied filters: [${n.join(", ")}]`),console.log("getListings: Executing Firestore query...");const r=await Gt(e);console.log(`getListings: Query successful, found ${r.docs.length} raw documents`);const s=r.docs.map(i=>{const a=i.data(),l=a.status,c=typeof l;return console.log(`getListings: Processing document ${i.id}:`,{hostId:a.hostId,status:l,statusType:c,category:a.category}),!a.hostId||a.hostId.trim()===""||!a.status||a.status.trim()===""||!a.category||a.category.trim()===""?(console.warn(`getListings: Skipping listing ${i.id} - missing required fields:`,{hostId:a.hostId,status:a.status,statusType:typeof a.status,category:a.category}),null):t!=null&&t.status&&t.status.trim()!==""&&a.status!==t.status?(console.warn(`getListings: Skipping listing ${i.id} - status mismatch: expected "${t.status}", got "${a.status}"`),null):(a.createdAt||(a.createdAt=new Date().toISOString()),{id:i.id,...a})}).filter(i=>i!==null);return s.sort((i,a)=>{const l=new Date(i.createdAt).getTime();return new Date(a.createdAt).getTime()-l}),console.log(`getListings: Successfully processed ${s.length} valid listings out of ${r.docs.length} raw documents`),t!=null&&t.status&&console.log(`getListings: Filtered by status "${t.status}" - found ${s.length} listings`),s}catch(e){throw console.error("Error loading listings:",e),console.error("Error details:",{message:e.message,code:e.code,stack:e.stack,filters:t}),e}},bO=async t=>{if(!t.hostId)throw new Error("Booking must have a hostId");if(!t.guestId)throw new Error("Booking must have a guestId");if(!t.listingId)throw new Error("Booking must have a listingId");const e={...t,hostId:String(t.hostId),guestId:String(t.guestId),listingId:String(t.listingId),createdAt:new Date().toISOString(),status:t.status||"pending"};console.log(" Creating booking in Firestore:",{hostId:e.hostId,guestId:e.guestId,listingId:e.listingId,status:e.status,createdAt:e.createdAt});const n=await Gu(et(he,"bookings"),e);return console.log(" Booking created in Firestore:",{id:n.id,hostId:e.hostId}),n.id},Vv=async(t,e)=>{await Mn($e(he,"bookings",t),e)},yo=async t=>{try{let e;t!=null&&t.hostId&&(t!=null&&t.status)?e=vt(et(he,"bookings"),yt("hostId","==",t.hostId),yt("status","==",t.status),us("createdAt","desc")):t!=null&&t.hostId?e=vt(et(he,"bookings"),yt("hostId","==",t.hostId),us("createdAt","desc")):t!=null&&t.guestId&&(t!=null&&t.status)?e=vt(et(he,"bookings"),yt("guestId","==",t.guestId),yt("status","==",t.status),us("createdAt","desc")):t!=null&&t.guestId?e=vt(et(he,"bookings"),yt("guestId","==",t.guestId),us("createdAt","desc")):t!=null&&t.status?e=vt(et(he,"bookings"),yt("status","==",t.status),us("createdAt","desc")):e=vt(et(he,"bookings"),us("createdAt","desc"));const r=(await Gt(e)).docs.map(s=>({id:s.id,...s.data()}));return console.log(" getBookings query result:",{filters:t,count:r.length,bookings:r.map(s=>({id:s.id,hostId:s.hostId,guestId:s.guestId,status:s.status}))}),r}catch(e){if(console.error(" Error in getBookings:",e),e.code==="failed-precondition"){console.warn(" Falling back to query without orderBy");let n=vt(et(he,"bookings"));t!=null&&t.guestId&&(n=vt(n,yt("guestId","==",t.guestId))),t!=null&&t.hostId&&(n=vt(n,yt("hostId","==",t.hostId))),t!=null&&t.status&&(n=vt(n,yt("status","==",t.status)));const s=(await Gt(n)).docs.map(i=>({id:i.id,...i.data()}));return s.sort((i,a)=>new Date(a.createdAt).getTime()-new Date(i.createdAt).getTime()),s}throw e}},k1=async t=>{const e=vt(et(he,"reviews"),yt("listingId","==",t),us("createdAt","desc"));return(await Gt(e)).docs.map(r=>({id:r.id,...r.data()}))},_O=async t=>{try{const e=await k1(t);if(e.length===0)return{averageRating:0,reviewCount:0};const r=e.reduce((s,i)=>s+i.rating,0)/e.length;return{averageRating:Math.round(r*10)/10,reviewCount:e.length}}catch(e){return console.error("Error getting listing rating:",e),{averageRating:0,reviewCount:0}}},T1=async t=>{const e=new Map;if(t.length===0)return e;try{const n=et(he,"reviews"),i=(await Gt(n)).docs.map(l=>({id:l.id,...l.data()})).filter(l=>t.includes(l.listingId)),a=new Map;i.forEach(l=>{const c=a.get(l.listingId)||[];c.push(l),a.set(l.listingId,c)}),t.forEach(l=>{const c=a.get(l)||[];if(c.length===0)e.set(l,{averageRating:0,reviewCount:0});else{const u=c.reduce((f,p)=>f+p.rating,0),d=Math.round(u/c.length*10)/10;e.set(l,{averageRating:d,reviewCount:c.length})}})}catch(n){console.error("Error getting listings ratings:",n),t.forEach(r=>{e.set(r,{averageRating:0,reviewCount:0})})}return e},EO=async t=>(await Gu(et(he,"messages"),{...t,read:!1,createdAt:new Date().toISOString()})).id,NO=async t=>{try{const e=await St($e(he,"users",t));return e.exists()?e.data():null}catch(e){return console.error("Error fetching user profile:",e),null}},SO=(t,e)=>{const n=vt(et(he,"messages"),yt("receiverId","==",t),us("createdAt","desc")),r=vt(et(he,"messages"),yt("senderId","==",t),us("createdAt","desc"));let s=[],i=[];const a=ps(n,u=>{s=u.docs.map(d=>({id:d.id,...d.data()})),c()}),l=ps(r,u=>{i=u.docs.map(d=>({id:d.id,...d.data()})),c()}),c=()=>{const u=[...s,...i],f=Array.from(new Map(u.map(p=>[p.id,p])).values()).sort((p,g)=>new Date(g.createdAt).getTime()-new Date(p.createdAt).getTime());e(f)};return()=>{a(),l()}},Ku=async t=>(await Gu(et(he,"transactions"),{...t,status:t.status||"pending",createdAt:new Date().toISOString()})).id,I1=async t=>{const e=vt(et(he,"transactions"),yt("userId","==",t),us("createdAt","desc"));return(await Gt(e)).docs.map(r=>({id:r.id,...r.data()}))},Pf=async(t,e,n)=>{const r=n.includes(e)?n.filter(s=>s!==e):[...n,e];return await Mn($e(he,"users",t),{favorites:r}),r},$v=async(t,e,n)=>{const r=n.includes(e)?n.filter(s=>s!==e):[...n,e];return await Mn($e(he,"users",t),{wishlist:r}),r},xQ=()=>Math.floor(1e5+Math.random()*9e5).toString(),lp=async(t,e)=>{const n=xQ(),r=new Date;r.setMinutes(r.getMinutes()+10);const s={userId:t,email:e,otp:n,expiresAt:r.toISOString(),createdAt:new Date().toISOString(),verified:!1};await Gu(et(he,"otps"),s);const i=vt(et(he,"otps"),yt("userId","==",t),yt("verified","==",!1));return(await Gt(i)).forEach(async l=>{const c=l.data();new Date(c.expiresAt)<new Date&&await Ul($e(he,"otps",l.id))}),n},jO=async(t,e)=>{try{const n=vt(et(he,"otps"),yt("userId","==",t),yt("otp","==",e),yt("verified","==",!1)),r=await Gt(n);if(r.empty)return!1;const s=r.docs[0],i=s.data();return new Date(i.expiresAt)<new Date?(await Ul($e(he,"otps",s.id)),!1):(await Mn($e(he,"otps",s.id),{verified:!0,verifiedAt:new Date().toISOString()}),setTimeout(()=>{Ul($e(he,"otps",s.id)).catch(console.error)},5e3),!0)}catch(n){return console.error("Error verifying OTP:",n),!1}},Si=Object.freeze(Object.defineProperty({__proto__:null,createBooking:bO,createListing:yO,createOTP:lp,createTransaction:Ku,deleteListing:xO,getBookings:yo,getListing:wO,getListingRating:_O,getListingReviews:k1,getListings:Rf,getListingsRatings:T1,getUserProfile:NO,getUserTransactions:I1,sendMessage:EO,subscribeToMessages:SO,toggleFavorite:Pf,toggleWishlist:$v,updateBooking:Vv,updateListing:R0,verifyOTP:jO},Symbol.toStringTag,{value:"Module"})),CO=m.createContext(void 0),Dt=()=>{const t=m.useContext(CO);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},wQ=({children:t})=>{const[e,n]=m.useState(null),[r,s]=m.useState(null),[i,a]=m.useState(null),[l,c]=m.useState(!0);m.useEffect(()=>dH(_n,async j=>{if(n(j),j){const P=await St($e(he,"users",j.uid));if(P.exists()){const D=P.data();s(D.role),a(D)}}else s(null),a(null);c(!1)}),[]);const u=async(y,j,P)=>{const D=await $j(_n,y,j),S=await St($e(he,"users",D.user.uid));if(S.exists()&&S.data().role!==P)throw await wd(_n),new Error(`This account is not registered as a ${P}`);const N=S.data();if(!((N==null?void 0:N.emailVerified)===!0))throw await wd(_n),new Error("Please verify your email before signing in. Check your inbox for the verification code.")},d=async(y,j,P,D,S)=>{try{const N=await aH(_n,y,j),T={email:y,fullName:P,role:D,createdAt:new Date().toISOString(),points:0,walletBalance:0,favorites:[],wishlist:[]};D==="host"&&S&&(T.policyAccepted=S.policyAccepted,T.policyAcceptedDate=S.policyAcceptedDate),await fg($e(he,"users",N.user.uid),T);try{const C=await lp(N.user.uid,y);console.log(" OTP generated:",C),await bx(y,P,C,D)?(console.log(" OTP verification email sent via EmailJS"),B.success("Verification code sent! Check your email.")):(console.error(" Failed to send OTP email via EmailJS"),B.error("Failed to send verification email. Please try again or contact support."))}catch(C){console.error(" Error in OTP email flow:",C),B.error(C.message||"Failed to send verification email. Please try again.")}s(D),a(T)}catch(N){if(N.code==="auth/email-already-in-use")try{const T=await $j(_n,y,j),C=await St($e(he,"users",T.user.uid));if(C.exists()){const I=C.data();if((I==null?void 0:I.emailVerified)===!0)throw await wd(_n),new Error("This email is already registered and verified. Please sign in instead.");try{const R=await lp(T.user.uid,y);await bx(y,I.fullName||P,R,I.role||D),s(I.role||D),a(I),n(T.user),B.success("Verification code resent! Please check your email.");return}catch(R){throw console.error(" Error resending OTP:",R),new Error("Account exists but not verified. Please check your email for the verification code or try signing in.")}}else throw await wd(_n),new Error("Account exists but data is missing. Please contact support.")}catch(T){throw T.code==="auth/wrong-password"||T.code==="auth/invalid-credential"?new Error("This email is already registered. Please sign in with your password, or use password reset if you forgot it."):new Error("This email is already registered. Please sign in to verify your account.")}else throw N}},f=async()=>{await wd(_n),s(null),a(null)},p=async()=>{if(!e)throw new Error("No user logged in");await lH(e)},g=async y=>{await oH(_n,y),_n.currentUser&&(await _n.currentUser.reload(),n(_n.currentUser))},_=async y=>{await sH(_n,y)},v=async(y,j)=>{await iH(_n,y,j)},w=async()=>{if(!e||!i)throw new Error("No user logged in");const y=await lp(e.uid,e.email||"");await bx(e.email||"",i.fullName,y,r||"guest")},b=async y=>{if(!e)throw new Error("No user logged in");return await jO(e.uid,y)?(await Mn($e(he,"users",e.uid),{emailVerified:!0,emailVerifiedAt:new Date().toISOString()}),i&&a({...i,emailVerified:!0,emailVerifiedAt:new Date().toISOString()}),_n.currentUser&&(await _n.currentUser.reload(),n(_n.currentUser)),!0):!1},x=async()=>{if(e)try{const y=await St($e(he,"users",e.uid));if(y.exists()){const j=y.data();s(j.role),a(j)}}catch(y){console.error("Error refreshing user profile:",y)}};return o.jsx(CO.Provider,{value:{user:e,userRole:r,userProfile:i,loading:l,signIn:u,signUp:d,signOut:f,sendVerificationEmail:p,verifyEmail:g,sendOTP:w,verifyOTPCode:b,sendPasswordReset:_,resetPassword:v,refreshUserProfile:x},children:t})},Zs=({size:t="md",className:e="",showText:n=!0})=>{const r={sm:"w-8 h-8",md:"w-12 h-12",lg:"w-16 h-16",xl:"w-20 h-20"},s={sm:"text-lg",md:"text-xl",lg:"text-2xl",xl:"text-3xl"};return o.jsxs("div",{className:`flex items-center space-x-3 ${e}`,children:[o.jsx("img",{src:"/logo.svg",alt:"Mojo Dojo Casa House Logo",className:`${r[t]} object-contain`}),n&&o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:`font-bold bg-gradient-to-r from-orange-500 via-blue-500 to-green-500 bg-clip-text text-transparent ${s[t]}`,children:"Mojo Dojo Casa House"}),o.jsx("span",{className:"text-xs text-muted-foreground -mt-1",children:"Your Gateway to Amazing Stays"})]})]})},Js=()=>o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-background",children:o.jsxs("div",{className:"flex flex-col items-center justify-center space-y-6",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Zs,{size:"lg"}),o.jsx("div",{className:"absolute inset-0 -z-10 blur-2xl",children:o.jsx("div",{className:"h-32 w-32 rounded-full bg-primary/20 animate-pulse"})})]}),o.jsxs("div",{className:"relative",children:[o.jsx(Eh,{className:"h-8 w-8 animate-spin text-primary"}),o.jsx("div",{className:"absolute inset-0 -z-10 blur-xl",children:o.jsx(Eh,{className:"h-8 w-8 animate-spin text-primary/30"})})]}),o.jsxs("div",{className:"text-center space-y-2",children:[o.jsx("p",{className:"text-lg font-medium text-foreground",children:"Loading..."}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Please wait while we prepare everything"})]}),o.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[o.jsx("div",{className:"absolute top-1/4 left-1/4 w-64 h-64 bg-primary/5 rounded-full blur-3xl animate-pulse"}),o.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-64 h-64 bg-secondary/5 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),o.jsx("div",{className:"absolute top-1/2 right-1/3 w-48 h-48 bg-accent/5 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}})]})]})}),$h=nv("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ie=m.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const a=r?zR:"button";return o.jsx(a,{className:Ne($h({variant:e,size:n,className:t})),ref:i,...s})});ie.displayName="Button";const ce=m.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:Ne("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));ce.displayName="Card";const ve=m.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:Ne("flex flex-col space-y-1.5 p-6",t),...e}));ve.displayName="CardHeader";const ye=m.forwardRef(({className:t,...e},n)=>o.jsx("h3",{ref:n,className:Ne("text-2xl font-semibold leading-none tracking-tight",t),...e}));ye.displayName="CardTitle";const ze=m.forwardRef(({className:t,...e},n)=>o.jsx("p",{ref:n,className:Ne("text-sm text-muted-foreground",t),...e}));ze.displayName="CardDescription";const Se=m.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:Ne("p-6 pt-0",t),...e}));Se.displayName="CardContent";const kO=m.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:Ne("flex items-center p-6 pt-0",t),...e}));kO.displayName="CardFooter";const Yu=({src:t,className:e="",overlay:n=!0,fallbackImage:r})=>{const s=m.useRef(null),[i,a]=m.useState(!1),[l,c]=m.useState(!1);m.useEffect(()=>{const d=()=>{a(window.innerWidth<768)};return d(),window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)},[]),m.useEffect(()=>{s.current&&!i&&!l&&(s.current.playbackRate=.8)},[i,l]);const u=()=>{c(!0)};return i||l?o.jsx("div",{className:`absolute inset-0 bg-cover bg-center bg-no-repeat ${e}`,style:{backgroundImage:r?`url(${r})`:void 0,backgroundColor:r?void 0:"hsl(var(--background))"},children:n&&o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-black/50 via-black/30 to-black/50"})}):o.jsxs("div",{className:`absolute inset-0 overflow-hidden ${e}`,children:[o.jsxs("video",{ref:s,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"absolute inset-0 w-full h-full object-cover",preload:"auto",onError:u,children:[o.jsx("source",{src:t,type:"video/mp4"}),"Your browser does not support the video tag."]}),n&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-black/50 via-black/30 to-black/50"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"})]})]})},Xc=({videoSrc:t,fallbackImage:e,icon:n,title:r,description:s,href:i,colorClass:a})=>{const l=m.useRef(null),[c,u]=m.useState(!1),[d,f]=m.useState(!1),[p,g]=m.useState(!1);m.useEffect(()=>{const b=()=>{u(window.innerWidth<768)};return b(),window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)},[]),m.useEffect(()=>{l.current&&!c&&!d&&(p?l.current.play().catch(()=>{f(!0)}):(l.current.pause(),l.current.currentTime=0))},[c,d,p]);const _=()=>{f(!0)},w={primary:{hoverBorder:"hover:border-primary/50",iconBg:"bg-primary/10",iconHover:"group-hover:bg-primary/20",iconColor:"text-primary",textHover:"group-hover:text-primary"},secondary:{hoverBorder:"hover:border-secondary/50",iconBg:"bg-secondary/10",iconHover:"group-hover:bg-secondary/20",iconColor:"text-secondary",textHover:"group-hover:text-secondary"},accent:{hoverBorder:"hover:border-accent/50",iconBg:"bg-accent/10",iconHover:"group-hover:bg-accent/20",iconColor:"text-accent",textHover:"group-hover:text-accent"}}[a];return o.jsx(cr,{to:i,className:"group block relative overflow-hidden rounded-lg h-full",onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1),children:o.jsxs("div",{className:`relative p-8 text-center shadow-medium hover:shadow-hover transition-all duration-300 border-2 border-transparent ${w.hoverBorder} bg-card h-full overflow-hidden`,children:[!c&&!d?o.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[o.jsx("video",{ref:l,loop:!0,muted:!0,playsInline:!0,className:"absolute inset-0 w-full h-full object-cover",preload:"metadata",onError:_,onLoadedMetadata:b=>{const x=b.currentTarget;x.pause(),x.currentTime=0},children:o.jsx("source",{src:t,type:"video/mp4"})}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-black/60 via-black/40 to-black/60 group-hover:from-black/50 group-hover:via-black/30 group-hover:to-black/50 transition-all duration-500"})]}):o.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:e?`url(${e})`:void 0,backgroundColor:e?void 0:"hsl(var(--background))"},children:o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-black/50 via-black/30 to-black/50"})}),o.jsxs("div",{className:"relative z-10 mb-6",children:[o.jsx("div",{className:`w-32 h-32 mx-auto mb-4 rounded-2xl overflow-hidden ${w.iconBg} ${w.iconHover} flex items-center justify-center group-hover:scale-105 transition-transform duration-300 backdrop-blur-sm border-2 border-white/20`,children:o.jsx(n,{className:`w-16 h-16 ${w.iconColor} drop-shadow-lg`})}),o.jsx("div",{className:`w-14 h-14 mx-auto rounded-full ${w.iconBg} ${w.iconHover} flex items-center justify-center group-hover:scale-110 transition-transform duration-300 backdrop-blur-sm`,children:o.jsx(n,{className:`w-7 h-7 ${w.iconColor}`})})]}),o.jsx("h3",{className:`text-2xl font-bold mb-3 ${w.textHover} transition-colors relative z-10 text-white drop-shadow-lg`,children:r}),o.jsx("p",{className:"text-white/90 text-base leading-relaxed relative z-10 drop-shadow-md",children:s})]})})};var bQ=m.createContext(void 0);function Af(t){const e=m.useContext(bQ);return t||e||"ltr"}var _x=0;function Uv(){m.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??rk()),document.body.insertAdjacentElement("beforeend",t[1]??rk()),_x++,()=>{_x===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),_x--}},[])}function rk(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Ex="focusScope.autoFocusOnMount",Nx="focusScope.autoFocusOnUnmount",sk={bubbles:!1,cancelable:!0},_Q="FocusScope",Df=m.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=t,[l,c]=m.useState(null),u=sn(s),d=sn(i),f=m.useRef(null),p=Ze(e,v=>c(v)),g=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let v=function(y){if(g.paused||!l)return;const j=y.target;l.contains(j)?f.current=j:Ao(f.current,{select:!0})},w=function(y){if(g.paused||!l)return;const j=y.relatedTarget;j!==null&&(l.contains(j)||Ao(f.current,{select:!0}))},b=function(y){if(document.activeElement===document.body)for(const P of y)P.removedNodes.length>0&&Ao(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",w);const x=new MutationObserver(b);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",w),x.disconnect()}}},[r,l,g.paused]),m.useEffect(()=>{if(l){ok.add(g);const v=document.activeElement;if(!l.contains(v)){const b=new CustomEvent(Ex,sk);l.addEventListener(Ex,u),l.dispatchEvent(b),b.defaultPrevented||(EQ(kQ(TO(l)),{select:!0}),document.activeElement===v&&Ao(l))}return()=>{l.removeEventListener(Ex,u),setTimeout(()=>{const b=new CustomEvent(Nx,sk);l.addEventListener(Nx,d),l.dispatchEvent(b),b.defaultPrevented||Ao(v??document.body,{select:!0}),l.removeEventListener(Nx,d),ok.remove(g)},0)}}},[l,u,d,g]);const _=m.useCallback(v=>{if(!n&&!r||g.paused)return;const w=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,b=document.activeElement;if(w&&b){const x=v.currentTarget,[y,j]=NQ(x);y&&j?!v.shiftKey&&b===j?(v.preventDefault(),n&&Ao(y,{select:!0})):v.shiftKey&&b===y&&(v.preventDefault(),n&&Ao(j,{select:!0})):b===x&&v.preventDefault()}},[n,r,g.paused]);return o.jsx(Ie.div,{tabIndex:-1,...a,ref:p,onKeyDown:_})});Df.displayName=_Q;function EQ(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ao(r,{select:e}),document.activeElement!==n)return}function NQ(t){const e=TO(t),n=ik(e,t),r=ik(e.reverse(),t);return[n,r]}function TO(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function ik(t,e){for(const n of t)if(!SQ(n,{upTo:e}))return n}function SQ(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function jQ(t){return t instanceof HTMLInputElement&&"select"in t}function Ao(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&jQ(t)&&e&&t.select()}}var ok=CQ();function CQ(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=ak(t,e),t.unshift(e)},remove(e){var n;t=ak(t,e),(n=t[0])==null||n.resume()}}}function ak(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function kQ(t){return t.filter(e=>e.tagName!=="A")}var Sx="rovingFocusGroup.onEntryFocus",TQ={bubbles:!1,cancelable:!0},Of="RovingFocusGroup",[P0,IO,IQ]=Jg(Of),[RQ,Bv]=er(Of,[IQ]),[PQ,AQ]=RQ(Of),RO=m.forwardRef((t,e)=>o.jsx(P0.Provider,{scope:t.__scopeRovingFocusGroup,children:o.jsx(P0.Slot,{scope:t.__scopeRovingFocusGroup,children:o.jsx(DQ,{...t,ref:e})})}));RO.displayName=Of;var DQ=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=t,p=m.useRef(null),g=Ze(e,p),_=Af(i),[v,w]=Ci({prop:a,defaultProp:l??null,onChange:c,caller:Of}),[b,x]=m.useState(!1),y=sn(u),j=IO(n),P=m.useRef(!1),[D,S]=m.useState(0);return m.useEffect(()=>{const N=p.current;if(N)return N.addEventListener(Sx,y),()=>N.removeEventListener(Sx,y)},[y]),o.jsx(PQ,{scope:n,orientation:r,dir:_,loop:s,currentTabStopId:v,onItemFocus:m.useCallback(N=>w(N),[w]),onItemShiftTab:m.useCallback(()=>x(!0),[]),onFocusableItemAdd:m.useCallback(()=>S(N=>N+1),[]),onFocusableItemRemove:m.useCallback(()=>S(N=>N-1),[]),children:o.jsx(Ie.div,{tabIndex:b||D===0?-1:0,"data-orientation":r,...f,ref:g,style:{outline:"none",...t.style},onMouseDown:be(t.onMouseDown,()=>{P.current=!0}),onFocus:be(t.onFocus,N=>{const T=!P.current;if(N.target===N.currentTarget&&T&&!b){const C=new CustomEvent(Sx,TQ);if(N.currentTarget.dispatchEvent(C),!C.defaultPrevented){const I=j().filter(H=>H.focusable),A=I.find(H=>H.active),R=I.find(H=>H.id===v),F=[A,R,...I].filter(Boolean).map(H=>H.ref.current);DO(F,d)}}P.current=!1}),onBlur:be(t.onBlur,()=>x(!1))})})}),PO="RovingFocusGroupItem",AO=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:a,...l}=t,c=Wn(),u=i||c,d=AQ(PO,n),f=d.currentTabStopId===u,p=IO(n),{onFocusableItemAdd:g,onFocusableItemRemove:_,currentTabStopId:v}=d;return m.useEffect(()=>{if(r)return g(),()=>_()},[r,g,_]),o.jsx(P0.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:o.jsx(Ie.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:e,onMouseDown:be(t.onMouseDown,w=>{r?d.onItemFocus(u):w.preventDefault()}),onFocus:be(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:be(t.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){d.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const b=LQ(w,d.orientation,d.dir);if(b!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let y=p().filter(j=>j.focusable).map(j=>j.ref.current);if(b==="last")y.reverse();else if(b==="prev"||b==="next"){b==="prev"&&y.reverse();const j=y.indexOf(w.currentTarget);y=d.loop?FQ(y,j+1):y.slice(j+1)}setTimeout(()=>DO(y))}}),children:typeof a=="function"?a({isCurrentTabStop:f,hasTabStop:v!=null}):a})})});AO.displayName=PO;var OQ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function MQ(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function LQ(t,e,n){const r=MQ(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return OQ[r]}function DO(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function FQ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var OO=RO,MO=AO,VQ=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},uc=new WeakMap,Pm=new WeakMap,Am={},jx=0,LO=function(t){return t&&(t.host||LO(t.parentNode))},$Q=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=LO(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},UQ=function(t,e,n,r){var s=$Q(e,Array.isArray(t)?t:[t]);Am[n]||(Am[n]=new WeakMap);var i=Am[n],a=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(p){if(l.has(p))d(p);else try{var g=p.getAttribute(r),_=g!==null&&g!=="false",v=(uc.get(p)||0)+1,w=(i.get(p)||0)+1;uc.set(p,v),i.set(p,w),a.push(p),v===1&&_&&Pm.set(p,!0),w===1&&p.setAttribute(n,"true"),_||p.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",p,b)}})};return d(e),l.clear(),jx++,function(){a.forEach(function(f){var p=uc.get(f)-1,g=i.get(f)-1;uc.set(f,p),i.set(f,g),p||(Pm.has(f)||f.removeAttribute(r),Pm.delete(f)),g||f.removeAttribute(n)}),jx--,jx||(uc=new WeakMap,uc=new WeakMap,Pm=new WeakMap,Am={})}},zv=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=VQ(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),UQ(r,s,n,"aria-hidden")):function(){return null}},fi=function(){return fi=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},fi.apply(this,arguments)};function FO(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function BQ(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var cp="right-scroll-bar-position",up="width-before-scroll-bar",zQ="with-scroll-bars-hidden",WQ="--removed-body-scroll-bar-size";function Cx(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function HQ(t,e){var n=m.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var qQ=typeof window<"u"?m.useLayoutEffect:m.useEffect,lk=new WeakMap;function GQ(t,e){var n=HQ(null,function(r){return t.forEach(function(s){return Cx(s,r)})});return qQ(function(){var r=lk.get(n);if(r){var s=new Set(r),i=new Set(t),a=n.current;s.forEach(function(l){i.has(l)||Cx(l,null)}),i.forEach(function(l){s.has(l)||Cx(l,a)})}lk.set(n,t)},[t]),n}function KQ(t){return t}function YQ(t,e){e===void 0&&(e=KQ);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var a=e(i,r);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(i){for(r=!0;n.length;){var a=n;n=[],a.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(i),a=n}var c=function(){var d=a;a=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),n}}}};return s}function QQ(t){t===void 0&&(t={});var e=YQ(null);return e.options=fi({async:!0,ssr:!1},t),e}var VO=function(t){var e=t.sideCar,n=FO(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,fi({},n))};VO.isSideCarExport=!0;function XQ(t,e){return t.useMedium(e),VO}var $O=QQ(),kx=function(){},Wv=m.forwardRef(function(t,e){var n=m.useRef(null),r=m.useState({onScrollCapture:kx,onWheelCapture:kx,onTouchMoveCapture:kx}),s=r[0],i=r[1],a=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,p=t.sideCar,g=t.noRelative,_=t.noIsolation,v=t.inert,w=t.allowPinchZoom,b=t.as,x=b===void 0?"div":b,y=t.gapMode,j=FO(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=p,D=GQ([n,e]),S=fi(fi({},j),s);return m.createElement(m.Fragment,null,d&&m.createElement(P,{sideCar:$O,removeScrollBar:u,shards:f,noRelative:g,noIsolation:_,inert:v,setCallbacks:i,allowPinchZoom:!!w,lockRef:n,gapMode:y}),a?m.cloneElement(m.Children.only(l),fi(fi({},S),{ref:D})):m.createElement(x,fi({},S,{className:c,ref:D}),l))});Wv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Wv.classNames={fullWidth:up,zeroRight:cp};var ZQ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function JQ(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=ZQ();return e&&t.setAttribute("nonce",e),t}function eX(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function tX(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var nX=function(){var t=0,e=null;return{add:function(n){t==0&&(e=JQ())&&(eX(e,n),tX(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},rX=function(){var t=nX();return function(e,n){m.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},UO=function(){var t=rX(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},sX={left:0,top:0,right:0,gap:0},Tx=function(t){return parseInt(t||"",10)||0},iX=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Tx(n),Tx(r),Tx(s)]},oX=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return sX;var e=iX(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},aX=UO(),Zc="data-scroll-locked",lX=function(t,e,n,r){var s=t.left,i=t.top,a=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(zQ,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Zc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(cp,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(up,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(cp," .").concat(cp,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(up," .").concat(up,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Zc,`] {
    `).concat(WQ,": ").concat(l,`px;
  }
`)},ck=function(){var t=parseInt(document.body.getAttribute(Zc)||"0",10);return isFinite(t)?t:0},cX=function(){m.useEffect(function(){return document.body.setAttribute(Zc,(ck()+1).toString()),function(){var t=ck()-1;t<=0?document.body.removeAttribute(Zc):document.body.setAttribute(Zc,t.toString())}},[])},uX=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;cX();var i=m.useMemo(function(){return oX(s)},[s]);return m.createElement(aX,{styles:lX(i,!e,s,n?"":"!important")})},A0=!1;if(typeof window<"u")try{var Dm=Object.defineProperty({},"passive",{get:function(){return A0=!0,!0}});window.addEventListener("test",Dm,Dm),window.removeEventListener("test",Dm,Dm)}catch{A0=!1}var dc=A0?{passive:!1}:!1,dX=function(t){return t.tagName==="TEXTAREA"},BO=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!dX(t)&&n[e]==="visible")},hX=function(t){return BO(t,"overflowY")},fX=function(t){return BO(t,"overflowX")},uk=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=zO(t,r);if(s){var i=WO(t,r),a=i[1],l=i[2];if(a>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},mX=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},pX=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},zO=function(t,e){return t==="v"?hX(e):fX(e)},WO=function(t,e){return t==="v"?mX(e):pX(e)},gX=function(t,e){return t==="h"&&e==="rtl"?-1:1},vX=function(t,e,n,r,s){var i=gX(t,window.getComputedStyle(e).direction),a=i*r,l=n.target,c=e.contains(l),u=!1,d=a>0,f=0,p=0;do{if(!l)break;var g=WO(t,l),_=g[0],v=g[1],w=g[2],b=v-w-i*_;(_||b)&&zO(t,l)&&(f+=b,p+=_);var x=l.parentNode;l=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(p)<1||!s))&&(u=!0),u},Om=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},dk=function(t){return[t.deltaX,t.deltaY]},hk=function(t){return t&&"current"in t?t.current:t},yX=function(t,e){return t[0]===e[0]&&t[1]===e[1]},xX=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},wX=0,hc=[];function bX(t){var e=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),s=m.useState(wX++)[0],i=m.useState(UO)[0],a=m.useRef(t);m.useEffect(function(){a.current=t},[t]),m.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var v=BQ([t.lockRef.current],(t.shards||[]).map(hk),!0).filter(Boolean);return v.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=m.useCallback(function(v,w){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!a.current.allowPinchZoom;var b=Om(v),x=n.current,y="deltaX"in v?v.deltaX:x[0]-b[0],j="deltaY"in v?v.deltaY:x[1]-b[1],P,D=v.target,S=Math.abs(y)>Math.abs(j)?"h":"v";if("touches"in v&&S==="h"&&D.type==="range")return!1;var N=uk(S,D);if(!N)return!0;if(N?P=S:(P=S==="v"?"h":"v",N=uk(S,D)),!N)return!1;if(!r.current&&"changedTouches"in v&&(y||j)&&(r.current=P),!P)return!0;var T=r.current||P;return vX(T,w,v,T==="h"?y:j,!0)},[]),c=m.useCallback(function(v){var w=v;if(!(!hc.length||hc[hc.length-1]!==i)){var b="deltaY"in w?dk(w):Om(w),x=e.current.filter(function(P){return P.name===w.type&&(P.target===w.target||w.target===P.shadowParent)&&yX(P.delta,b)})[0];if(x&&x.should){w.cancelable&&w.preventDefault();return}if(!x){var y=(a.current.shards||[]).map(hk).filter(Boolean).filter(function(P){return P.contains(w.target)}),j=y.length>0?l(w,y[0]):!a.current.noIsolation;j&&w.cancelable&&w.preventDefault()}}},[]),u=m.useCallback(function(v,w,b,x){var y={name:v,delta:w,target:b,should:x,shadowParent:_X(b)};e.current.push(y),setTimeout(function(){e.current=e.current.filter(function(j){return j!==y})},1)},[]),d=m.useCallback(function(v){n.current=Om(v),r.current=void 0},[]),f=m.useCallback(function(v){u(v.type,dk(v),v.target,l(v,t.lockRef.current))},[]),p=m.useCallback(function(v){u(v.type,Om(v),v.target,l(v,t.lockRef.current))},[]);m.useEffect(function(){return hc.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",c,dc),document.addEventListener("touchmove",c,dc),document.addEventListener("touchstart",d,dc),function(){hc=hc.filter(function(v){return v!==i}),document.removeEventListener("wheel",c,dc),document.removeEventListener("touchmove",c,dc),document.removeEventListener("touchstart",d,dc)}},[]);var g=t.removeScrollBar,_=t.inert;return m.createElement(m.Fragment,null,_?m.createElement(i,{styles:xX(s)}):null,g?m.createElement(uX,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function _X(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const EX=XQ($O,bX);var Mf=m.forwardRef(function(t,e){return m.createElement(Wv,fi({},t,{ref:e,sideCar:EX}))});Mf.classNames=Wv.classNames;var D0=["Enter"," "],NX=["ArrowDown","PageUp","Home"],HO=["ArrowUp","PageDown","End"],SX=[...NX,...HO],jX={ltr:[...D0,"ArrowRight"],rtl:[...D0,"ArrowLeft"]},CX={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Lf="Menu",[Uh,kX,TX]=Jg(Lf),[rc,qO]=er(Lf,[TX,$a,Bv]),Hv=$a(),GO=Bv(),[IX,sc]=rc(Lf),[RX,Ff]=rc(Lf),KO=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:a=!0}=t,l=Hv(e),[c,u]=m.useState(null),d=m.useRef(!1),f=sn(i),p=Af(s);return m.useEffect(()=>{const g=()=>{d.current=!0,document.addEventListener("pointerdown",_,{capture:!0,once:!0}),document.addEventListener("pointermove",_,{capture:!0,once:!0})},_=()=>d.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",_,{capture:!0}),document.removeEventListener("pointermove",_,{capture:!0})}},[]),o.jsx(N_,{...l,children:o.jsx(IX,{scope:e,open:n,onOpenChange:f,content:c,onContentChange:u,children:o.jsx(RX,{scope:e,onClose:m.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:p,modal:a,children:r})})})};KO.displayName=Lf;var PX="MenuAnchor",R1=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Hv(n);return o.jsx(uf,{...s,...r,ref:e})});R1.displayName=PX;var P1="MenuPortal",[AX,YO]=rc(P1,{forceMount:void 0}),QO=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=sc(P1,e);return o.jsx(AX,{scope:e,forceMount:n,children:o.jsx(Fn,{present:n||i.open,children:o.jsx(Mu,{asChild:!0,container:s,children:r})})})};QO.displayName=P1;var gs="MenuContent",[DX,A1]=rc(gs),XO=m.forwardRef((t,e)=>{const n=YO(gs,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=sc(gs,t.__scopeMenu),a=Ff(gs,t.__scopeMenu);return o.jsx(Uh.Provider,{scope:t.__scopeMenu,children:o.jsx(Fn,{present:r||i.open,children:o.jsx(Uh.Slot,{scope:t.__scopeMenu,children:a.modal?o.jsx(OX,{...s,ref:e}):o.jsx(MX,{...s,ref:e})})})})}),OX=m.forwardRef((t,e)=>{const n=sc(gs,t.__scopeMenu),r=m.useRef(null),s=Ze(e,r);return m.useEffect(()=>{const i=r.current;if(i)return zv(i)},[]),o.jsx(D1,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:be(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),MX=m.forwardRef((t,e)=>{const n=sc(gs,t.__scopeMenu);return o.jsx(D1,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),LX=ba("MenuContent.ScrollLock"),D1=m.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:p,onDismiss:g,disableOutsideScroll:_,...v}=t,w=sc(gs,n),b=Ff(gs,n),x=Hv(n),y=GO(n),j=kX(n),[P,D]=m.useState(null),S=m.useRef(null),N=Ze(e,S,w.onContentChange),T=m.useRef(0),C=m.useRef(""),I=m.useRef(0),A=m.useRef(null),R=m.useRef("right"),z=m.useRef(0),F=_?Mf:m.Fragment,H=_?{as:LX,allowPinchZoom:!0}:void 0,q=V=>{var J,K;const ee=C.current+V,_e=j().filter(ne=>!ne.disabled),U=document.activeElement,le=(J=_e.find(ne=>ne.ref.current===U))==null?void 0:J.textValue,de=_e.map(ne=>ne.textValue),fe=YX(de,ee,le),ke=(K=_e.find(ne=>ne.textValue===fe))==null?void 0:K.ref.current;(function ne(Z){C.current=Z,window.clearTimeout(T.current),Z!==""&&(T.current=window.setTimeout(()=>ne(""),1e3))})(ee),ke&&setTimeout(()=>ke.focus())};m.useEffect(()=>()=>window.clearTimeout(T.current),[]),Uv();const L=m.useCallback(V=>{var _e,U;return R.current===((_e=A.current)==null?void 0:_e.side)&&XX(V,(U=A.current)==null?void 0:U.area)},[]);return o.jsx(DX,{scope:n,searchRef:C,onItemEnter:m.useCallback(V=>{L(V)&&V.preventDefault()},[L]),onItemLeave:m.useCallback(V=>{var ee;L(V)||((ee=S.current)==null||ee.focus(),D(null))},[L]),onTriggerLeave:m.useCallback(V=>{L(V)&&V.preventDefault()},[L]),pointerGraceTimerRef:I,onPointerGraceIntentChange:m.useCallback(V=>{A.current=V},[]),children:o.jsx(F,{...H,children:o.jsx(Df,{asChild:!0,trapped:s,onMountAutoFocus:be(i,V=>{var ee;V.preventDefault(),(ee=S.current)==null||ee.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:o.jsx(Xl,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:p,onDismiss:g,children:o.jsx(OO,{asChild:!0,...y,dir:b.dir,orientation:"vertical",loop:r,currentTabStopId:P,onCurrentTabStopIdChange:D,onEntryFocus:be(c,V=>{b.isUsingKeyboardRef.current||V.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(av,{role:"menu","aria-orientation":"vertical","data-state":fM(w.open),"data-radix-menu-content":"",dir:b.dir,...x,...v,ref:N,style:{outline:"none",...v.style},onKeyDown:be(v.onKeyDown,V=>{const _e=V.target.closest("[data-radix-menu-content]")===V.currentTarget,U=V.ctrlKey||V.altKey||V.metaKey,le=V.key.length===1;_e&&(V.key==="Tab"&&V.preventDefault(),!U&&le&&q(V.key));const de=S.current;if(V.target!==de||!SX.includes(V.key))return;V.preventDefault();const ke=j().filter(J=>!J.disabled).map(J=>J.ref.current);HO.includes(V.key)&&ke.reverse(),GX(ke)}),onBlur:be(t.onBlur,V=>{V.currentTarget.contains(V.target)||(window.clearTimeout(T.current),C.current="")}),onPointerMove:be(t.onPointerMove,Bh(V=>{const ee=V.target,_e=z.current!==V.clientX;if(V.currentTarget.contains(ee)&&_e){const U=V.clientX>z.current?"right":"left";R.current=U,z.current=V.clientX}}))})})})})})})});XO.displayName=gs;var FX="MenuGroup",O1=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return o.jsx(Ie.div,{role:"group",...r,ref:e})});O1.displayName=FX;var VX="MenuLabel",ZO=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return o.jsx(Ie.div,{...r,ref:e})});ZO.displayName=VX;var vg="MenuItem",fk="menu.itemSelect",qv=m.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=m.useRef(null),a=Ff(vg,t.__scopeMenu),l=A1(vg,t.__scopeMenu),c=Ze(e,i),u=m.useRef(!1),d=()=>{const f=i.current;if(!n&&f){const p=new CustomEvent(fk,{bubbles:!0,cancelable:!0});f.addEventListener(fk,g=>r==null?void 0:r(g),{once:!0}),Jb(f,p),p.defaultPrevented?u.current=!1:a.onClose()}};return o.jsx(JO,{...s,ref:c,disabled:n,onClick:be(t.onClick,d),onPointerDown:f=>{var p;(p=t.onPointerDown)==null||p.call(t,f),u.current=!0},onPointerUp:be(t.onPointerUp,f=>{var p;u.current||(p=f.currentTarget)==null||p.click()}),onKeyDown:be(t.onKeyDown,f=>{const p=l.searchRef.current!=="";n||p&&f.key===" "||D0.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});qv.displayName=vg;var JO=m.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,a=A1(vg,n),l=GO(n),c=m.useRef(null),u=Ze(e,c),[d,f]=m.useState(!1),[p,g]=m.useState("");return m.useEffect(()=>{const _=c.current;_&&g((_.textContent??"").trim())},[i.children]),o.jsx(Uh.ItemSlot,{scope:n,disabled:r,textValue:s??p,children:o.jsx(MO,{asChild:!0,...l,focusable:!r,children:o.jsx(Ie.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:u,onPointerMove:be(t.onPointerMove,Bh(_=>{r?a.onItemLeave(_):(a.onItemEnter(_),_.defaultPrevented||_.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:be(t.onPointerLeave,Bh(_=>a.onItemLeave(_))),onFocus:be(t.onFocus,()=>f(!0)),onBlur:be(t.onBlur,()=>f(!1))})})})}),$X="MenuCheckboxItem",eM=m.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return o.jsx(iM,{scope:t.__scopeMenu,checked:n,children:o.jsx(qv,{role:"menuitemcheckbox","aria-checked":yg(n)?"mixed":n,...s,ref:e,"data-state":L1(n),onSelect:be(s.onSelect,()=>r==null?void 0:r(yg(n)?!0:!n),{checkForDefaultPrevented:!1})})})});eM.displayName=$X;var tM="MenuRadioGroup",[UX,BX]=rc(tM,{value:void 0,onValueChange:()=>{}}),nM=m.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=sn(r);return o.jsx(UX,{scope:t.__scopeMenu,value:n,onValueChange:i,children:o.jsx(O1,{...s,ref:e})})});nM.displayName=tM;var rM="MenuRadioItem",sM=m.forwardRef((t,e)=>{const{value:n,...r}=t,s=BX(rM,t.__scopeMenu),i=n===s.value;return o.jsx(iM,{scope:t.__scopeMenu,checked:i,children:o.jsx(qv,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":L1(i),onSelect:be(r.onSelect,()=>{var a;return(a=s.onValueChange)==null?void 0:a.call(s,n)},{checkForDefaultPrevented:!1})})})});sM.displayName=rM;var M1="MenuItemIndicator",[iM,zX]=rc(M1,{checked:!1}),oM=m.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=zX(M1,n);return o.jsx(Fn,{present:r||yg(i.checked)||i.checked===!0,children:o.jsx(Ie.span,{...s,ref:e,"data-state":L1(i.checked)})})});oM.displayName=M1;var WX="MenuSeparator",aM=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return o.jsx(Ie.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});aM.displayName=WX;var HX="MenuArrow",lM=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Hv(n);return o.jsx(lv,{...s,...r,ref:e})});lM.displayName=HX;var qX="MenuSub",[nae,cM]=rc(qX),Md="MenuSubTrigger",uM=m.forwardRef((t,e)=>{const n=sc(Md,t.__scopeMenu),r=Ff(Md,t.__scopeMenu),s=cM(Md,t.__scopeMenu),i=A1(Md,t.__scopeMenu),a=m.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:t.__scopeMenu},d=m.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return m.useEffect(()=>d,[d]),m.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),o.jsx(R1,{asChild:!0,...u,children:o.jsx(JO,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":fM(n.open),...t,ref:oo(e,s.onTriggerChange),onClick:f=>{var p;(p=t.onClick)==null||p.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:be(t.onPointerMove,Bh(f=>{i.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!n.open&&!a.current&&(i.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:be(t.onPointerLeave,Bh(f=>{var g,_;d();const p=(g=n.content)==null?void 0:g.getBoundingClientRect();if(p){const v=(_=n.content)==null?void 0:_.dataset.side,w=v==="right",b=w?-5:5,x=p[w?"left":"right"],y=p[w?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+b,y:f.clientY},{x,y:p.top},{x:y,y:p.top},{x:y,y:p.bottom},{x,y:p.bottom}],side:v}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:be(t.onKeyDown,f=>{var g;const p=i.searchRef.current!=="";t.disabled||p&&f.key===" "||jX[r.dir].includes(f.key)&&(n.onOpenChange(!0),(g=n.content)==null||g.focus(),f.preventDefault())})})})});uM.displayName=Md;var dM="MenuSubContent",hM=m.forwardRef((t,e)=>{const n=YO(gs,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=sc(gs,t.__scopeMenu),a=Ff(gs,t.__scopeMenu),l=cM(dM,t.__scopeMenu),c=m.useRef(null),u=Ze(e,c);return o.jsx(Uh.Provider,{scope:t.__scopeMenu,children:o.jsx(Fn,{present:r||i.open,children:o.jsx(Uh.Slot,{scope:t.__scopeMenu,children:o.jsx(D1,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;a.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:be(t.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:be(t.onEscapeKeyDown,d=>{a.onClose(),d.preventDefault()}),onKeyDown:be(t.onKeyDown,d=>{var g;const f=d.currentTarget.contains(d.target),p=CX[a.dir].includes(d.key);f&&p&&(i.onOpenChange(!1),(g=l.trigger)==null||g.focus(),d.preventDefault())})})})})})});hM.displayName=dM;function fM(t){return t?"open":"closed"}function yg(t){return t==="indeterminate"}function L1(t){return yg(t)?"indeterminate":t?"checked":"unchecked"}function GX(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function KX(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function YX(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let a=KX(t,Math.max(i,0));s.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function QX(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,a=e.length-1;i<e.length;a=i++){const l=e[i],c=e[a],u=l.x,d=l.y,f=c.x,p=c.y;d>r!=p>r&&n<(f-u)*(r-d)/(p-d)+u&&(s=!s)}return s}function XX(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return QX(n,e)}function Bh(t){return e=>e.pointerType==="mouse"?t(e):void 0}var ZX=KO,JX=R1,eZ=QO,tZ=XO,nZ=O1,rZ=ZO,sZ=qv,iZ=eM,oZ=nM,aZ=sM,lZ=oM,cZ=aM,uZ=lM,dZ=uM,hZ=hM,Gv="DropdownMenu",[fZ,rae]=er(Gv,[qO]),Er=qO(),[mZ,mM]=fZ(Gv),pM=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:a,modal:l=!0}=t,c=Er(e),u=m.useRef(null),[d,f]=Ci({prop:s,defaultProp:i??!1,onChange:a,caller:Gv});return o.jsx(mZ,{scope:e,triggerId:Wn(),triggerRef:u,contentId:Wn(),open:d,onOpenChange:f,onOpenToggle:m.useCallback(()=>f(p=>!p),[f]),modal:l,children:o.jsx(ZX,{...c,open:d,onOpenChange:f,dir:r,modal:l,children:n})})};pM.displayName=Gv;var gM="DropdownMenuTrigger",vM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=mM(gM,n),a=Er(n);return o.jsx(JX,{asChild:!0,...a,children:o.jsx(Ie.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:oo(e,i.triggerRef),onPointerDown:be(t.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:be(t.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});vM.displayName=gM;var pZ="DropdownMenuPortal",yM=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Er(e);return o.jsx(eZ,{...r,...n})};yM.displayName=pZ;var xM="DropdownMenuContent",wM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=mM(xM,n),i=Er(n),a=m.useRef(!1);return o.jsx(tZ,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:be(t.onCloseAutoFocus,l=>{var c;a.current||(c=s.triggerRef.current)==null||c.focus(),a.current=!1,l.preventDefault()}),onInteractOutside:be(t.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(a.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});wM.displayName=xM;var gZ="DropdownMenuGroup",vZ=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Er(n);return o.jsx(nZ,{...s,...r,ref:e})});vZ.displayName=gZ;var yZ="DropdownMenuLabel",bM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Er(n);return o.jsx(rZ,{...s,...r,ref:e})});bM.displayName=yZ;var xZ="DropdownMenuItem",_M=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Er(n);return o.jsx(sZ,{...s,...r,ref:e})});_M.displayName=xZ;var wZ="DropdownMenuCheckboxItem",EM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Er(n);return o.jsx(iZ,{...s,...r,ref:e})});EM.displayName=wZ;var bZ="DropdownMenuRadioGroup",_Z=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Er(n);return o.jsx(oZ,{...s,...r,ref:e})});_Z.displayName=bZ;var EZ="DropdownMenuRadioItem",NM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Er(n);return o.jsx(aZ,{...s,...r,ref:e})});NM.displayName=EZ;var NZ="DropdownMenuItemIndicator",SM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Er(n);return o.jsx(lZ,{...s,...r,ref:e})});SM.displayName=NZ;var SZ="DropdownMenuSeparator",jM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Er(n);return o.jsx(cZ,{...s,...r,ref:e})});jM.displayName=SZ;var jZ="DropdownMenuArrow",CZ=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Er(n);return o.jsx(uZ,{...s,...r,ref:e})});CZ.displayName=jZ;var kZ="DropdownMenuSubTrigger",CM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Er(n);return o.jsx(dZ,{...s,...r,ref:e})});CM.displayName=kZ;var TZ="DropdownMenuSubContent",kM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Er(n);return o.jsx(hZ,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});kM.displayName=TZ;var IZ=pM,RZ=vM,PZ=yM,TM=wM,IM=bM,RM=_M,PM=EM,AM=NM,DM=SM,OM=jM,MM=CM,LM=kM;const FM=IZ,VM=RZ,AZ=m.forwardRef(({className:t,inset:e,children:n,...r},s)=>o.jsxs(MM,{ref:s,className:Ne("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",e&&"pl-8",t),...r,children:[n,o.jsx(xP,{className:"ml-auto h-4 w-4"})]}));AZ.displayName=MM.displayName;const DZ=m.forwardRef(({className:t,...e},n)=>o.jsx(LM,{ref:n,className:Ne("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));DZ.displayName=LM.displayName;const F1=m.forwardRef(({className:t,sideOffset:e=4,...n},r)=>o.jsx(PZ,{children:o.jsx(TM,{ref:r,sideOffset:e,className:Ne("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));F1.displayName=TM.displayName;const Zo=m.forwardRef(({className:t,inset:e,...n},r)=>o.jsx(RM,{ref:r,className:Ne("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e&&"pl-8",t),...n}));Zo.displayName=RM.displayName;const OZ=m.forwardRef(({className:t,children:e,checked:n,...r},s)=>o.jsxs(PM,{ref:s,className:Ne("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),checked:n,...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(DM,{children:o.jsx(sf,{className:"h-4 w-4"})})}),e]}));OZ.displayName=PM.displayName;const MZ=m.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(AM,{ref:r,className:Ne("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(DM,{children:o.jsx(P9,{className:"h-2 w-2 fill-current"})})}),e]}));MZ.displayName=AM.displayName;const LZ=m.forwardRef(({className:t,inset:e,...n},r)=>o.jsx(IM,{ref:r,className:Ne("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));LZ.displayName=IM.displayName;const $M=m.forwardRef(({className:t,...e},n)=>o.jsx(OM,{ref:n,className:Ne("-mx-1 my-1 h-px bg-muted",t),...e}));$M.displayName=OM.displayName;function Nr(){const{setTheme:t}=FP();return o.jsxs(FM,{children:[o.jsx(VM,{asChild:!0,children:o.jsxs(ie,{variant:"outline",size:"icon",className:"border-border/50 hover:bg-muted",children:[o.jsx(G9,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),o.jsx(z9,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),o.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),o.jsxs(F1,{align:"end",children:[o.jsx(Zo,{onClick:()=>t("light"),children:"Light"}),o.jsx(Zo,{onClick:()=>t("dark"),children:"Dark"}),o.jsx(Zo,{onClick:()=>t("system"),children:"System"})]})]})}const qe=m.forwardRef(({className:t,type:e,...n},r)=>o.jsx("input",{type:e,className:Ne("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));qe.displayName="Input";const UM=()=>{const[t,e]=m.useState(""),[n,r]=m.useState(!1),s=a=>{a.preventDefault(),t&&(r(!0),e(""),setTimeout(()=>r(!1),3e3))},i=()=>{window.scrollTo({top:0,behavior:"smooth"})};return o.jsxs("footer",{className:"bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 opacity-5",children:o.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),o.jsxs("div",{className:"relative z-10",children:[o.jsx("div",{className:"container mx-auto px-6 py-16",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 lg:gap-12",children:[o.jsxs("div",{className:"lg:col-span-1",children:[o.jsx("div",{className:"mb-6",children:o.jsx(Zs,{size:"lg",showText:!0})}),o.jsx("p",{className:"text-slate-300 mb-6 leading-relaxed",children:"Your gateway to amazing stays. Discover unique accommodations, connect with hosts, and create unforgettable travel experiences."}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center space-x-3 text-slate-300",children:[o.jsx(zs,{className:"w-4 h-4 text-orange-400"}),o.jsx("span",{className:"text-sm",children:"hello@mojodojocasahouse.com"})]}),o.jsxs("div",{className:"flex items-center space-x-3 text-slate-300",children:[o.jsx(W9,{className:"w-4 h-4 text-blue-400"}),o.jsx("span",{className:"text-sm",children:"+1 (555) 123-4567"})]}),o.jsxs("div",{className:"flex items-center space-x-3 text-slate-300",children:[o.jsx(o_,{className:"w-4 h-4 text-green-400"}),o.jsx("span",{className:"text-sm",children:"San Francisco, CA"})]})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-semibold mb-6 text-white",children:"Quick Links"}),o.jsxs("ul",{className:"space-y-3",children:[o.jsx("li",{children:o.jsx(cr,{to:"/guest/browse",className:"text-slate-300 hover:text-blue-400 transition-colors flex items-center group",children:o.jsx("span",{className:"group-hover:translate-x-1 transition-transform",children:"Browse Listings"})})}),o.jsx("li",{children:o.jsx(cr,{to:"/host/login",className:"text-slate-300 hover:text-blue-400 transition-colors flex items-center group",children:o.jsx("span",{className:"group-hover:translate-x-1 transition-transform",children:"Become a Host"})})}),o.jsx("li",{children:o.jsx(cr,{to:"/guest/dashboard",className:"text-slate-300 hover:text-blue-400 transition-colors flex items-center group",children:o.jsx("span",{className:"group-hover:translate-x-1 transition-transform",children:"Guest Dashboard"})})}),o.jsx("li",{children:o.jsx(cr,{to:"/host/dashboard",className:"text-slate-300 hover:text-blue-400 transition-colors flex items-center group",children:o.jsx("span",{className:"group-hover:translate-x-1 transition-transform",children:"Host Dashboard"})})}),o.jsx("li",{children:o.jsx(cr,{to:"/guest/wallet",className:"text-slate-300 hover:text-blue-400 transition-colors flex items-center group",children:o.jsx("span",{className:"group-hover:translate-x-1 transition-transform",children:"Wallet"})})})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-semibold mb-6 text-white",children:"Support"}),o.jsxs("ul",{className:"space-y-3",children:[o.jsx("li",{children:o.jsxs("a",{href:"mailto:hello@mojodojocasahouse.com",className:"text-slate-300 hover:text-blue-400 transition-colors flex items-center group",children:[o.jsx(R9,{className:"w-4 h-4 mr-2"}),o.jsx("span",{className:"group-hover:translate-x-1 transition-transform",children:"Help Center"})]})}),o.jsx("li",{children:o.jsxs("a",{href:"mailto:hello@mojodojocasahouse.com",className:"text-slate-300 hover:text-blue-400 transition-colors flex items-center group",children:[o.jsx(zs,{className:"w-4 h-4 mr-2"}),o.jsx("span",{className:"group-hover:translate-x-1 transition-transform",children:"Contact Us"})]})}),o.jsx("li",{children:o.jsxs("a",{href:"mailto:hello@mojodojocasahouse.com",className:"text-slate-300 hover:text-blue-400 transition-colors flex items-center group",children:[o.jsx(ws,{className:"w-4 h-4 mr-2"}),o.jsx("span",{className:"group-hover:translate-x-1 transition-transform",children:"Safety"})]})}),o.jsx("li",{children:o.jsxs("a",{href:"mailto:hello@mojodojocasahouse.com",className:"text-slate-300 hover:text-blue-400 transition-colors flex items-center group",children:[o.jsx(Pl,{className:"w-4 h-4 mr-2"}),o.jsx("span",{className:"group-hover:translate-x-1 transition-transform",children:"Accessibility"})]})}),o.jsx("li",{children:o.jsxs("a",{href:"mailto:hello@mojodojocasahouse.com",className:"text-slate-300 hover:text-blue-400 transition-colors flex items-center group",children:[o.jsx(L9,{className:"w-4 h-4 mr-2"}),o.jsx("span",{className:"group-hover:translate-x-1 transition-transform",children:"System Status"})]})})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-semibold mb-6 text-white",children:"Stay Connected"}),o.jsxs("div",{className:"mb-6",children:[o.jsx("p",{className:"text-slate-300 text-sm mb-4",children:"Get the latest updates and exclusive offers"}),o.jsxs("form",{onSubmit:s,className:"space-y-3",children:[o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(qe,{type:"email",placeholder:"Enter your email",value:t,onChange:a=>e(a.target.value),className:"bg-slate-700 border-slate-600 text-white placeholder:text-slate-400 focus:border-blue-400",required:!0}),o.jsx(ie,{type:"submit",className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 px-6",children:"Subscribe"})]}),n&&o.jsxs("p",{className:"text-green-400 text-sm flex items-center",children:[o.jsx(yP,{className:"w-4 h-4 mr-1"}),"Thanks for subscribing!"]})]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-slate-300 text-sm mb-4",children:"Follow us"}),o.jsxs("div",{className:"flex space-x-4",children:[o.jsx("a",{href:"#",className:"w-10 h-10 bg-slate-700 hover:bg-blue-600 rounded-lg flex items-center justify-center transition-colors group","aria-label":"Facebook",children:o.jsx(_P,{className:"w-5 h-5 group-hover:scale-110 transition-transform"})}),o.jsx("a",{href:"#",className:"w-10 h-10 bg-slate-700 hover:bg-blue-400 rounded-lg flex items-center justify-center transition-colors group","aria-label":"Twitter",children:o.jsx(SP,{className:"w-5 h-5 group-hover:scale-110 transition-transform"})}),o.jsx("a",{href:"#",className:"w-10 h-10 bg-slate-700 hover:bg-pink-600 rounded-lg flex items-center justify-center transition-colors group","aria-label":"Instagram",children:o.jsx(F9,{className:"w-5 h-5 group-hover:scale-110 transition-transform"})}),o.jsx("a",{href:"#",className:"w-10 h-10 bg-slate-700 hover:bg-blue-700 rounded-lg flex items-center justify-center transition-colors group","aria-label":"LinkedIn",children:o.jsx($9,{className:"w-5 h-5 group-hover:scale-110 transition-transform"})})]})]})]})]})}),o.jsx("div",{className:"border-t border-slate-700",children:o.jsxs("div",{className:"container mx-auto px-6 py-8",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[o.jsxs("div",{className:"flex flex-col md:flex-row items-center space-y-2 md:space-y-0 md:space-x-6",children:[o.jsx("p",{className:"text-slate-400 text-sm",children:" 2024 Mojo Dojo Casa House. All rights reserved."}),o.jsxs("div",{className:"flex space-x-6",children:[o.jsxs("a",{href:"mailto:hello@mojodojocasahouse.com",className:"text-slate-400 hover:text-blue-400 text-sm transition-colors flex items-center",children:[o.jsx(la,{className:"w-3 h-3 mr-1"}),"Privacy Policy"]}),o.jsxs("a",{href:"mailto:hello@mojodojocasahouse.com",className:"text-slate-400 hover:text-blue-400 text-sm transition-colors flex items-center",children:[o.jsx(af,{className:"w-3 h-3 mr-1"}),"Terms of Service"]})]})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(Nr,{}),o.jsxs(ie,{onClick:i,variant:"ghost",size:"sm",className:"text-slate-400 hover:text-white hover:bg-slate-700",children:[o.jsx(wP,{className:"w-4 h-4 mr-1"}),"Back to Top"]})]})]}),o.jsx("div",{className:"mt-6 pt-6 border-t border-slate-700 text-center",children:o.jsxs("p",{className:"text-slate-500 text-sm flex items-center justify-center",children:["Made with ",o.jsx(_a,{className:"w-4 h-4 mx-1 text-red-500"})," by the Mojo Dojo Casa House team"]})})]})})]})]})},BM="/assets/hero-home-wHaVTWVM.jpg",zM="/assets/category-home-CguXhPF1.png",WM="/assets/category-experience-QjyKEEwQ.png",HM="/assets/category-service-CPpHHXfQ.png",FZ="/videos/landing-hero.mp4",VZ=()=>o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"absolute top-0 left-0 right-0 z-50 bg-black/20 backdrop-blur-md border-b border-white/10",children:o.jsxs("div",{className:"container mx-auto px-6 py-4 flex justify-between items-center",children:[o.jsx(Zs,{size:"md"}),o.jsx(Nr,{})]})}),o.jsxs("section",{className:"relative min-h-screen overflow-hidden",children:[o.jsx(Yu,{src:FZ,overlay:!0,fallbackImage:BM}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-black/60 via-black/40 to-black/60 z-10"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent z-10"}),o.jsxs("div",{className:"absolute inset-0 overflow-hidden z-10",children:[o.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-primary/10 rounded-full blur-3xl animate-pulse"}),o.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-secondary/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}})]}),o.jsx("div",{className:"relative z-20 container mx-auto px-4 sm:px-6 lg:px-8 h-full flex flex-col justify-center animate-fadeInUp py-32",children:o.jsxs("div",{className:"max-w-3xl",children:[o.jsxs("h1",{className:"text-5xl md:text-6xl lg:text-7xl font-bold mb-6 leading-tight text-white drop-shadow-2xl",children:["Welcome to"," ",o.jsx("span",{className:"bg-gradient-to-r from-orange-400 via-blue-400 to-green-400 bg-clip-text text-transparent drop-shadow-lg",children:"Mojo Dojo Casa House"})]}),o.jsx("p",{className:"text-xl md:text-2xl text-white/95 mb-10 leading-relaxed max-w-2xl drop-shadow-lg font-medium",children:"Your gateway to amazing stays. Connect with hosts and guests for unique experiences"}),o.jsxs("div",{className:"flex flex-wrap gap-4",children:[o.jsx(ie,{size:"lg",asChild:!0,className:"shadow-2xl hover:shadow-2xl hover:scale-105 transition-all h-14 px-8 text-lg bg-primary hover:bg-primary/90",children:o.jsx(cr,{to:"/guest/login",children:"Browse Listings"})}),o.jsx(ie,{size:"lg",variant:"outline",asChild:!0,className:"h-14 px-8 text-lg border-2 border-white/30 bg-white/10 backdrop-blur-md hover:bg-white/20 text-white hover:text-white",children:o.jsx(cr,{to:"/host/policies",children:"Become a Host"})})]})]})}),o.jsx("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 z-20 animate-bounce",children:o.jsx(s_,{className:"h-6 w-6 text-white drop-shadow-lg"})})]}),o.jsx("section",{className:"py-16 md:py-20 bg-muted/30",children:o.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Explore Categories"}),o.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Discover the perfect experience for your needs"})]}),o.jsxs("div",{className:"grid md:grid-cols-3 gap-8 max-w-6xl mx-auto",children:[o.jsx(Xc,{videoSrc:"/videos/category-home.mp4",fallbackImage:zM,icon:Ea,title:"Homes",description:"Discover comfortable stays for your next adventure",href:"/guest/browse?category=home",colorClass:"primary"}),o.jsx(Xc,{videoSrc:"/videos/category-experience.mp4",fallbackImage:WM,icon:bP,title:"Experiences",description:"Unique activities hosted by local experts",href:"/guest/browse?category=experience",colorClass:"secondary"}),o.jsx(Xc,{videoSrc:"/videos/category-service.mp4",fallbackImage:HM,icon:CP,title:"Services",description:"Professional services for your property",href:"/guest/browse?category=service",colorClass:"accent"})]})]})}),o.jsx("section",{className:"py-20 bg-background",children:o.jsxs("div",{className:"container mx-auto px-6",children:[o.jsx("h2",{className:"text-3xl font-bold text-center mb-4",children:"Get Started"}),o.jsx("p",{className:"text-center text-muted-foreground mb-12 max-w-2xl mx-auto",children:"Choose your role to access your personalized portal"}),o.jsxs("div",{className:"grid md:grid-cols-3 gap-8 max-w-6xl mx-auto",children:[o.jsxs(ce,{className:"group relative overflow-hidden border-2 hover:border-primary transition-all duration-300",children:[o.jsxs("div",{className:"p-8 text-center",children:[o.jsx("div",{className:"mb-6 mx-auto w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center group-hover:scale-110 transition-transform",children:o.jsx(Pl,{className:"w-8 h-8 text-primary"})}),o.jsx("h3",{className:"text-2xl font-bold mb-3",children:"For Guests"}),o.jsx("p",{className:"text-muted-foreground mb-6 min-h-[48px]",children:"Find and book amazing places to stay and experiences to enjoy"}),o.jsx(ie,{asChild:!0,className:"w-full shadow-soft hover:shadow-medium transition-all",children:o.jsx(cr,{to:"/guest/login",children:"Guest Portal"})})]}),o.jsx("div",{className:"absolute inset-x-0 bottom-0 h-1 bg-gradient-hero transform scale-x-0 group-hover:scale-x-100 transition-transform"})]}),o.jsxs(ce,{className:"group relative overflow-hidden border-2 hover:border-secondary transition-all duration-300",children:[o.jsxs("div",{className:"p-8 text-center",children:[o.jsx("div",{className:"mb-6 mx-auto w-16 h-16 rounded-full bg-secondary/10 flex items-center justify-center group-hover:scale-110 transition-transform",children:o.jsx($w,{className:"w-8 h-8 text-secondary"})}),o.jsx("h3",{className:"text-2xl font-bold mb-3",children:"For Hosts"}),o.jsx("p",{className:"text-muted-foreground mb-6 min-h-[48px]",children:"Share your space and earn by hosting guests from around the world"}),o.jsx(ie,{asChild:!0,className:"w-full shadow-soft hover:shadow-medium transition-all",variant:"secondary",children:o.jsx(cr,{to:"/host/login",children:"Host Portal"})})]}),o.jsx("div",{className:"absolute inset-x-0 bottom-0 h-1 bg-secondary transform scale-x-0 group-hover:scale-x-100 transition-transform"})]}),o.jsxs(ce,{className:"group relative overflow-hidden border-2 hover:border-accent transition-all duration-300",children:[o.jsxs("div",{className:"p-8 text-center",children:[o.jsx("div",{className:"mb-6 mx-auto w-16 h-16 rounded-full bg-accent/10 flex items-center justify-center group-hover:scale-110 transition-transform",children:o.jsx(ws,{className:"w-8 h-8 text-accent"})}),o.jsx("h3",{className:"text-2xl font-bold mb-3",children:"Admin"}),o.jsx("p",{className:"text-muted-foreground mb-6 min-h-[48px]",children:"Manage platform operations, policies, and user activities"}),o.jsx(ie,{asChild:!0,className:"w-full shadow-soft hover:shadow-medium transition-all",variant:"outline",children:o.jsx(cr,{to:"/admin/login",children:"Admin Portal"})})]}),o.jsx("div",{className:"absolute inset-x-0 bottom-0 h-1 bg-gradient-accent transform scale-x-0 group-hover:scale-x-100 transition-transform"})]})]})]})}),o.jsx(UM,{})]});var $Z="Label",qM=m.forwardRef((t,e)=>o.jsx(Ie.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));qM.displayName=$Z;var GM=qM;const UZ=nv("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Fe=m.forwardRef(({className:t,...e},n)=>o.jsx(GM,{ref:n,className:Ne(UZ(),t),...e}));Fe.displayName=GM.displayName;var Kv="Tabs",[BZ,sae]=er(Kv,[Bv]),KM=Bv(),[zZ,V1]=BZ(Kv),YM=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:a="horizontal",dir:l,activationMode:c="automatic",...u}=t,d=Af(l),[f,p]=Ci({prop:r,onChange:s,defaultProp:i??"",caller:Kv});return o.jsx(zZ,{scope:n,baseId:Wn(),value:f,onValueChange:p,orientation:a,dir:d,activationMode:c,children:o.jsx(Ie.div,{dir:d,"data-orientation":a,...u,ref:e})})});YM.displayName=Kv;var QM="TabsList",XM=m.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=V1(QM,n),a=KM(n);return o.jsx(OO,{asChild:!0,...a,orientation:i.orientation,dir:i.dir,loop:r,children:o.jsx(Ie.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});XM.displayName=QM;var ZM="TabsTrigger",JM=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,a=V1(ZM,n),l=KM(n),c=n4(a.baseId,r),u=r4(a.baseId,r),d=r===a.value;return o.jsx(MO,{asChild:!0,...l,focusable:!s,active:d,children:o.jsx(Ie.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:e,onMouseDown:be(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?a.onValueChange(r):f.preventDefault()}),onKeyDown:be(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(r)}),onFocus:be(t.onFocus,()=>{const f=a.activationMode!=="manual";!d&&!s&&f&&a.onValueChange(r)})})})});JM.displayName=ZM;var e4="TabsContent",t4=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...a}=t,l=V1(e4,n),c=n4(l.baseId,r),u=r4(l.baseId,r),d=r===l.value,f=m.useRef(d);return m.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),o.jsx(Fn,{present:s||d,children:({present:p})=>o.jsx(Ie.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:u,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:p&&i})})});t4.displayName=e4;function n4(t,e){return`${t}-trigger-${e}`}function r4(t,e){return`${t}-content-${e}`}var WZ=YM,s4=XM,i4=JM,o4=t4;const ic=WZ,qa=m.forwardRef(({className:t,...e},n)=>o.jsx(s4,{ref:n,className:Ne("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));qa.displayName=s4.displayName;const Rt=m.forwardRef(({className:t,...e},n)=>o.jsx(i4,{ref:n,className:Ne("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...e}));Rt.displayName=i4.displayName;const Ct=m.forwardRef(({className:t,...e},n)=>o.jsx(o4,{ref:n,className:Ne("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Ct.displayName=o4.displayName;const HZ="/videos/host-login-bg.mp4",qZ=()=>{var P;const[t,e]=m.useState(""),[n,r]=m.useState(""),[s,i]=m.useState(""),[a,l]=m.useState(""),[c,u]=m.useState(!1),[d,f]=m.useState(!1),[p,g]=m.useState(!1),{signIn:_,signUp:v}=Dt(),w=gt(),x=((P=Ba().state)==null?void 0:P.showSignup)===!0,y=async D=>{D.preventDefault(),g(!0);try{await _(t,n,"host"),B.success("Welcome back!"),w("/host/dashboard")}catch(S){B.error(S.message||"Failed to sign in")}finally{g(!1)}},j=async D=>{if(D.preventDefault(),g(!0),!sessionStorage.getItem("hostPolicyAccepted")){B.error("Please accept the policies and compliance terms first."),w("/host/policies"),g(!1);return}if(n!==s){B.error("Passwords do not match"),g(!1);return}try{const N=sessionStorage.getItem("hostPolicyAcceptedDate");await v(t,n,a,"host",{policyAccepted:!0,policyAcceptedDate:N||new Date().toISOString()}),sessionStorage.removeItem("hostPolicyAccepted"),sessionStorage.removeItem("hostPolicyAcceptedDate"),B.success("Account created! Please check your email to verify your account."),w("/verification-pending")}catch(N){B.error(N.message||"Failed to create account")}finally{g(!1)}};return o.jsxs("div",{className:"min-h-screen bg-background flex flex-col relative",children:[o.jsx(Yu,{src:HZ,overlay:!0,className:"z-0"}),o.jsx("header",{className:"relative z-10 border-b bg-card/95 backdrop-blur supports-[backdrop-filter]:bg-card/60",children:o.jsxs("div",{className:"container mx-auto px-6 py-4 flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(ie,{variant:"ghost",onClick:()=>w("/"),children:[o.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Back to Home"]}),o.jsx(Zs,{size:"sm"})]}),o.jsx(Nr,{})]})}),o.jsx("div",{className:"relative z-10 flex-1 flex items-center justify-center p-6",children:o.jsxs(ce,{className:"w-full max-w-md shadow-2xl border-border/50 bg-card/95 backdrop-blur-md",children:[o.jsxs(ve,{className:"space-y-4 text-center pb-8",children:[o.jsx("div",{className:"w-16 h-16 mx-auto rounded-2xl bg-secondary/10 flex items-center justify-center",children:o.jsx($w,{className:"w-8 h-8 text-secondary"})}),o.jsxs("div",{children:[o.jsx(ye,{className:"text-3xl font-bold",children:"Host Portal"}),o.jsx(ze,{className:"text-base mt-2",children:"Start hosting and earning today"})]})]}),o.jsxs(Se,{children:[o.jsxs(ic,{defaultValue:x?"signup":"signin",className:"w-full",children:[o.jsxs(qa,{className:"grid w-full grid-cols-2 mb-8",children:[o.jsx(Rt,{value:"signin",className:"text-base",children:"Sign In"}),o.jsx(Rt,{value:"signup",className:"text-base",children:"Sign Up"})]}),o.jsx(Ct,{value:"signin",children:o.jsxs("form",{onSubmit:y,className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Fe,{htmlFor:"signin-email",className:"text-base",children:"Email"}),o.jsxs("div",{className:"relative",children:[o.jsx(zs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),o.jsx(qe,{id:"signin-email",type:"email",placeholder:"host@example.com",value:t,onChange:D=>e(D.target.value),required:!0,className:"pl-10 h-12"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Fe,{htmlFor:"signin-password",className:"text-base",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(la,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),o.jsx(qe,{id:"signin-password",type:c?"text":"password",placeholder:"",value:n,onChange:D=>r(D.target.value),required:!0,className:"pl-10 pr-10 h-12"}),o.jsx("button",{type:"button",onClick:()=>u(!c),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:c?o.jsx(El,{className:"h-5 w-5"}):o.jsx(Nl,{className:"h-5 w-5"})})]})]}),o.jsx(ie,{type:"submit",className:"w-full h-12 text-base",disabled:p,variant:"secondary",children:p?"Signing in...":"Sign In"})]})}),o.jsxs(Ct,{value:"signup",children:[o.jsxs("div",{className:"mb-6 p-4 bg-primary/10 border border-primary/20 rounded-lg",children:[o.jsxs("p",{className:"text-sm text-foreground",children:[o.jsx("strong",{children:"Important:"})," Before creating your host account, you must read and accept our policies and compliance terms."]}),o.jsx(ie,{type:"button",variant:"outline",className:"mt-3 w-full",onClick:()=>w("/host/policies"),children:"Review Policies & Terms"})]}),o.jsxs("form",{onSubmit:j,className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Fe,{htmlFor:"signup-fullname",className:"text-base",children:"Full Name"}),o.jsxs("div",{className:"relative",children:[o.jsx($w,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),o.jsx(qe,{id:"signup-fullname",type:"text",placeholder:"Jane Smith",value:a,onChange:D=>l(D.target.value),required:!0,className:"pl-10 h-12"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Fe,{htmlFor:"signup-email",className:"text-base",children:"Email"}),o.jsxs("div",{className:"relative",children:[o.jsx(zs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),o.jsx(qe,{id:"signup-email",type:"email",placeholder:"host@example.com",value:t,onChange:D=>e(D.target.value),required:!0,className:"pl-10 h-12"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Fe,{htmlFor:"signup-password",className:"text-base",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(la,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),o.jsx(qe,{id:"signup-password",type:c?"text":"password",placeholder:"",value:n,onChange:D=>r(D.target.value),required:!0,minLength:6,className:"pl-10 pr-10 h-12"}),o.jsx("button",{type:"button",onClick:()=>u(!c),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:c?o.jsx(El,{className:"h-5 w-5"}):o.jsx(Nl,{className:"h-5 w-5"})})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Minimum 6 characters"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Fe,{htmlFor:"signup-confirm-password",className:"text-base",children:"Confirm Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(la,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),o.jsx(qe,{id:"signup-confirm-password",type:d?"text":"password",placeholder:"",value:s,onChange:D=>i(D.target.value),required:!0,minLength:6,className:"pl-10 pr-10 h-12"}),o.jsx("button",{type:"button",onClick:()=>f(!d),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:d?o.jsx(El,{className:"h-5 w-5"}):o.jsx(Nl,{className:"h-5 w-5"})})]}),n&&s&&n!==s&&o.jsx("p",{className:"text-xs text-red-500",children:"Passwords do not match"})]}),o.jsx(ie,{type:"submit",className:"w-full h-12 text-base",disabled:p,variant:"secondary",children:p?"Creating account...":"Create Account"})]})]})]}),o.jsx("div",{className:"mt-8 text-center text-sm text-muted-foreground",children:o.jsxs("p",{children:["Not a host? ",o.jsx(cr,{to:"/guest/login",className:"text-primary hover:underline font-medium",children:"Browse as Guest"})]})})]})]})})]})};function $1(t){const e=m.useRef({value:t,previous:t});return m.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Yv="Checkbox",[GZ,iae]=er(Yv),[KZ,U1]=GZ(Yv);function YZ(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:s,disabled:i,form:a,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=t,[p,g]=Ci({prop:n,defaultProp:s??!1,onChange:c,caller:Yv}),[_,v]=m.useState(null),[w,b]=m.useState(null),x=m.useRef(!1),y=_?!!a||!!_.closest("form"):!0,j={checked:p,disabled:i,setChecked:g,control:_,setControl:v,name:l,form:a,value:d,hasConsumerStoppedPropagationRef:x,required:u,defaultChecked:ga(s)?!1:s,isFormControl:y,bubbleInput:w,setBubbleInput:b};return o.jsx(KZ,{scope:e,...j,children:QZ(f)?f(j):r})}var a4="CheckboxTrigger",l4=m.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},s)=>{const{control:i,value:a,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:p,isFormControl:g,bubbleInput:_}=U1(a4,t),v=Ze(s,d),w=m.useRef(c);return m.useEffect(()=>{const b=i==null?void 0:i.form;if(b){const x=()=>f(w.current);return b.addEventListener("reset",x),()=>b.removeEventListener("reset",x)}},[i,f]),o.jsx(Ie.button,{type:"button",role:"checkbox","aria-checked":ga(c)?"mixed":c,"aria-required":u,"data-state":f4(c),"data-disabled":l?"":void 0,disabled:l,value:a,...r,ref:v,onKeyDown:be(e,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:be(n,b=>{f(x=>ga(x)?!0:!x),_&&g&&(p.current=b.isPropagationStopped(),p.current||b.stopPropagation())})})});l4.displayName=a4;var B1=m.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:a,disabled:l,value:c,onCheckedChange:u,form:d,...f}=t;return o.jsx(YZ,{__scopeCheckbox:n,checked:s,defaultChecked:i,disabled:l,required:a,onCheckedChange:u,name:r,form:d,value:c,internal_do_not_use_render:({isFormControl:p})=>o.jsxs(o.Fragment,{children:[o.jsx(l4,{...f,ref:e,__scopeCheckbox:n}),p&&o.jsx(h4,{__scopeCheckbox:n})]})})});B1.displayName=Yv;var c4="CheckboxIndicator",u4=m.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...s}=t,i=U1(c4,n);return o.jsx(Fn,{present:r||ga(i.checked)||i.checked===!0,children:o.jsx(Ie.span,{"data-state":f4(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});u4.displayName=c4;var d4="CheckboxBubbleInput",h4=m.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:a,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:p,setBubbleInput:g}=U1(d4,t),_=Ze(n,g),v=$1(i),w=b_(r);m.useEffect(()=>{const x=p;if(!x)return;const y=window.HTMLInputElement.prototype,P=Object.getOwnPropertyDescriptor(y,"checked").set,D=!s.current;if(v!==i&&P){const S=new Event("click",{bubbles:D});x.indeterminate=ga(i),P.call(x,ga(i)?!1:i),x.dispatchEvent(S)}},[p,v,i,s]);const b=m.useRef(ga(i)?!1:i);return o.jsx(Ie.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??b.current,required:l,disabled:c,name:u,value:d,form:f,...e,tabIndex:-1,ref:_,style:{...e.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});h4.displayName=d4;function QZ(t){return typeof t=="function"}function ga(t){return t==="indeterminate"}function f4(t){return ga(t)?"indeterminate":t?"checked":"unchecked"}const dp=m.forwardRef(({className:t,...e},n)=>o.jsx(B1,{ref:n,className:Ne("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:o.jsx(u4,{className:Ne("flex items-center justify-center text-current"),children:o.jsx(sf,{className:"h-4 w-4"})})}));dp.displayName=B1.displayName;const XZ="/videos/host-login-bg.mp4",ZZ=()=>{const t=gt(),[e,n]=m.useState(!1),[r,s]=m.useState(!1),[i,a]=m.useState(!1),[l,c]=m.useState(!1),u=`CANCELLATION POLICY

1. Free Cancellation: 
   - Full refund if cancelled 48+ hours before check-in
   - 50% refund if cancelled 24-48 hours before check-in
   - No refund if cancelled less than 24 hours before check-in

2. Host Cancellation:
   - Hosts may cancel up to 7 days before check-in without penalty
   - Last-minute host cancellations result in automatic full refund to guest
   - Repeated cancellations may result in account suspension`,d=`TERMS OF SERVICE

1. User Responsibilities:
   - Users must be 18+ years old
   - Accurate information must be provided
   - Properties must match their descriptions
   - Respect other users and properties

2. Platform Usage:
   - No illegal activities
   - No discrimination
   - Respect booking agreements
   - Pay all applicable fees

3. Liability:
   - Platform acts as intermediary only
   - Users responsible for their own safety
   - Insurance recommended for all parties

4. Host Obligations:
   - Maintain accurate property listings
   - Honor confirmed bookings
   - Provide safe and clean accommodations
   - Respond to guest inquiries promptly`,f=`HOUSE RULES & REGULATIONS

1. Guest Conduct:
   - Respect noise limitations
   - No smoking unless explicitly allowed
   - Maximum guest count must be respected
   - No parties without host permission

2. Property Care:
   - Report any damages immediately
   - Keep property clean and tidy
   - Dispose of trash properly
   - Follow check-out procedures

3. Security:
   - Lock all doors and windows
   - Don't share access codes
   - Report suspicious activity

4. Host Responsibilities:
   - Ensure property meets safety standards
   - Maintain accurate availability calendar
   - Provide clear check-in instructions
   - Address guest concerns promptly`,p=()=>{n(!0),s(!0),a(!0),c(!0)},g=()=>{e&&r&&i?(sessionStorage.setItem("hostPolicyAccepted","true"),sessionStorage.setItem("hostPolicyAcceptedDate",new Date().toISOString()),t("/host/login",{state:{showSignup:!0}})):alert("Please accept all policies and terms to continue.")};return o.jsxs("div",{className:"min-h-screen bg-background flex flex-col relative",children:[o.jsx(Yu,{src:XZ,overlay:!0,className:"z-0"}),o.jsx("header",{className:"relative z-10 border-b bg-card/95 backdrop-blur supports-[backdrop-filter]:bg-card/60",children:o.jsxs("div",{className:"container mx-auto px-6 py-4 flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(ie,{variant:"ghost",onClick:()=>t("/"),children:[o.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Back to Home"]}),o.jsx(Zs,{size:"sm"})]}),o.jsx(Nr,{})]})}),o.jsx("div",{className:"relative z-10 flex-1 flex items-center justify-center p-6",children:o.jsxs(ce,{className:"w-full max-w-4xl shadow-2xl border-border/50 bg-card/95 backdrop-blur-md max-h-[90vh] overflow-hidden flex flex-col",children:[o.jsxs(ve,{className:"space-y-4 text-center pb-6 border-b",children:[o.jsx("div",{className:"w-16 h-16 mx-auto rounded-2xl bg-primary/10 flex items-center justify-center",children:o.jsx(ws,{className:"w-8 h-8 text-primary"})}),o.jsxs("div",{children:[o.jsx(ye,{className:"text-3xl font-bold",children:"Host Policies & Compliance"}),o.jsx(ze,{className:"text-base mt-2",children:"Please read and accept all policies before creating your host account"})]})]}),o.jsxs(Se,{className:"flex-1 overflow-y-auto py-6 max-h-[60vh]",children:[o.jsxs(ic,{defaultValue:"cancellation",className:"w-full",children:[o.jsxs(qa,{className:"grid w-full grid-cols-3 mb-6",children:[o.jsxs(Rt,{value:"cancellation",className:"text-sm",children:[o.jsx(c_,{className:"h-4 w-4 mr-2"}),"Cancellation"]}),o.jsxs(Rt,{value:"terms",className:"text-sm",children:[o.jsx(af,{className:"h-4 w-4 mr-2"}),"Terms of Service"]}),o.jsxs(Rt,{value:"rules",className:"text-sm",children:[o.jsx(ws,{className:"h-4 w-4 mr-2"}),"House Rules"]})]}),o.jsxs(Ct,{value:"cancellation",className:"space-y-4",children:[o.jsx("div",{className:"bg-muted/50 rounded-lg p-4 border",children:o.jsx("pre",{className:"whitespace-pre-wrap text-sm font-sans text-foreground leading-relaxed",children:u})}),o.jsxs("div",{className:"flex items-center space-x-2 p-4 bg-muted/30 rounded-lg border",children:[o.jsx(dp,{id:"accept-cancellation",checked:e,onCheckedChange:_=>n(_===!0)}),o.jsx(Fe,{htmlFor:"accept-cancellation",className:"text-sm font-medium cursor-pointer flex-1",children:"I have read and agree to the Cancellation Policy"})]})]}),o.jsxs(Ct,{value:"terms",className:"space-y-4",children:[o.jsx("div",{className:"bg-muted/50 rounded-lg p-4 border",children:o.jsx("pre",{className:"whitespace-pre-wrap text-sm font-sans text-foreground leading-relaxed",children:d})}),o.jsxs("div",{className:"flex items-center space-x-2 p-4 bg-muted/30 rounded-lg border",children:[o.jsx(dp,{id:"accept-terms",checked:r,onCheckedChange:_=>s(_===!0)}),o.jsx(Fe,{htmlFor:"accept-terms",className:"text-sm font-medium cursor-pointer flex-1",children:"I have read and agree to the Terms of Service"})]})]}),o.jsxs(Ct,{value:"rules",className:"space-y-4",children:[o.jsx("div",{className:"bg-muted/50 rounded-lg p-4 border",children:o.jsx("pre",{className:"whitespace-pre-wrap text-sm font-sans text-foreground leading-relaxed",children:f})}),o.jsxs("div",{className:"flex items-center space-x-2 p-4 bg-muted/30 rounded-lg border",children:[o.jsx(dp,{id:"accept-rules",checked:i,onCheckedChange:_=>a(_===!0)}),o.jsx(Fe,{htmlFor:"accept-rules",className:"text-sm font-medium cursor-pointer flex-1",children:"I have read and agree to the House Rules & Regulations"})]})]})]}),o.jsx("div",{className:"mt-6 pt-6 border-t",children:o.jsxs(ie,{onClick:p,variant:"outline",className:"w-full mb-4",disabled:l,children:[o.jsx(Uw,{className:"h-4 w-4 mr-2"}),l?"All Policies Accepted":"Accept All Policies"]})})]}),o.jsx("div",{className:"border-t p-6 bg-muted/30",children:o.jsxs("div",{className:"flex items-center justify-between gap-4",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:e&&r&&i?o.jsxs("span",{className:"text-green-600 font-medium flex items-center gap-2",children:[o.jsx(Uw,{className:"h-4 w-4"}),"All policies accepted"]}):"Please accept all policies to continue"}),o.jsx(ie,{onClick:g,disabled:!e||!r||!i,className:"min-w-[150px]",size:"lg",children:"Continue to Registration"})]})})]})})]})},JZ="/videos/guest-login-bg.mp4",eJ=()=>{const[t,e]=m.useState(""),[n,r]=m.useState(""),[s,i]=m.useState(""),[a,l]=m.useState(""),[c,u]=m.useState(!1),[d,f]=m.useState(!1),[p,g]=m.useState(!1),{signIn:_,signUp:v}=Dt(),w=gt(),b=async y=>{y.preventDefault(),g(!0);try{await _(t,n,"guest"),B.success("Welcome back!"),w("/guest/dashboard")}catch(j){B.error(j.message||"Failed to sign in")}finally{g(!1)}},x=async y=>{if(y.preventDefault(),g(!0),n!==s){B.error("Passwords do not match"),g(!1);return}try{await v(t,n,a,"guest"),B.success("Account created! Please check your email to verify your account."),w("/verification-pending")}catch(j){B.error(j.message||"Failed to create account")}finally{g(!1)}};return o.jsxs("div",{className:"min-h-screen bg-background flex flex-col relative",children:[o.jsx(Yu,{src:JZ,overlay:!0,className:"z-0"}),o.jsx("header",{className:"relative z-10 border-b bg-card/95 backdrop-blur supports-[backdrop-filter]:bg-card/60",children:o.jsxs("div",{className:"container mx-auto px-6 py-4 flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(ie,{variant:"ghost",onClick:()=>w("/"),children:[o.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Back to Home"]}),o.jsx(Zs,{size:"sm"})]}),o.jsx(Nr,{})]})}),o.jsx("div",{className:"relative z-10 flex-1 flex items-center justify-center p-6",children:o.jsxs(ce,{className:"w-full max-w-md shadow-2xl border-border/50 bg-card/95 backdrop-blur-md",children:[o.jsxs(ve,{className:"space-y-4 text-center pb-8",children:[o.jsx("div",{className:"w-16 h-16 mx-auto rounded-2xl bg-primary/10 flex items-center justify-center",children:o.jsx(Pl,{className:"w-8 h-8 text-primary"})}),o.jsxs("div",{children:[o.jsx(ye,{className:"text-3xl font-bold",children:"Guest Portal"}),o.jsx(ze,{className:"text-base mt-2",children:"Start your adventure today"})]})]}),o.jsxs(Se,{children:[o.jsxs(ic,{defaultValue:"signin",className:"w-full",children:[o.jsxs(qa,{className:"grid w-full grid-cols-2 mb-8",children:[o.jsx(Rt,{value:"signin",className:"text-base",children:"Sign In"}),o.jsx(Rt,{value:"signup",className:"text-base",children:"Sign Up"})]}),o.jsx(Ct,{value:"signin",children:o.jsxs("form",{onSubmit:b,className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Fe,{htmlFor:"signin-email",className:"text-base",children:"Email"}),o.jsxs("div",{className:"relative",children:[o.jsx(zs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),o.jsx(qe,{id:"signin-email",type:"email",placeholder:"guest@example.com",value:t,onChange:y=>e(y.target.value),required:!0,className:"pl-10 h-12"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Fe,{htmlFor:"signin-password",className:"text-base",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(la,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),o.jsx(qe,{id:"signin-password",type:c?"text":"password",placeholder:"",value:n,onChange:y=>r(y.target.value),required:!0,className:"pl-10 pr-10 h-12"}),o.jsx("button",{type:"button",onClick:()=>u(!c),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:c?o.jsx(El,{className:"h-5 w-5"}):o.jsx(Nl,{className:"h-5 w-5"})})]})]}),o.jsx(ie,{type:"submit",className:"w-full h-12 text-base",disabled:p,children:p?"Signing in...":"Sign In"})]})}),o.jsx(Ct,{value:"signup",children:o.jsxs("form",{onSubmit:x,className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Fe,{htmlFor:"signup-fullname",className:"text-base",children:"Full Name"}),o.jsxs("div",{className:"relative",children:[o.jsx(Pl,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),o.jsx(qe,{id:"signup-fullname",type:"text",placeholder:"John Doe",value:a,onChange:y=>l(y.target.value),required:!0,className:"pl-10 h-12"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Fe,{htmlFor:"signup-email",className:"text-base",children:"Email"}),o.jsxs("div",{className:"relative",children:[o.jsx(zs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),o.jsx(qe,{id:"signup-email",type:"email",placeholder:"guest@example.com",value:t,onChange:y=>e(y.target.value),required:!0,className:"pl-10 h-12"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Fe,{htmlFor:"signup-password",className:"text-base",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(la,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),o.jsx(qe,{id:"signup-password",type:c?"text":"password",placeholder:"",value:n,onChange:y=>r(y.target.value),required:!0,minLength:6,className:"pl-10 pr-10 h-12"}),o.jsx("button",{type:"button",onClick:()=>u(!c),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:c?o.jsx(El,{className:"h-5 w-5"}):o.jsx(Nl,{className:"h-5 w-5"})})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Minimum 6 characters"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Fe,{htmlFor:"signup-confirm-password",className:"text-base",children:"Confirm Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(la,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),o.jsx(qe,{id:"signup-confirm-password",type:d?"text":"password",placeholder:"",value:s,onChange:y=>i(y.target.value),required:!0,minLength:6,className:"pl-10 pr-10 h-12"}),o.jsx("button",{type:"button",onClick:()=>f(!d),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:d?o.jsx(El,{className:"h-5 w-5"}):o.jsx(Nl,{className:"h-5 w-5"})})]}),n&&s&&n!==s&&o.jsx("p",{className:"text-xs text-red-500",children:"Passwords do not match"})]}),o.jsx(ie,{type:"submit",className:"w-full h-12 text-base",disabled:p,children:p?"Creating account...":"Create Account"})]})})]}),o.jsx("div",{className:"mt-8 text-center text-sm text-muted-foreground",children:o.jsxs("p",{children:["Want to host? ",o.jsx(cr,{to:"/host/login",className:"text-primary hover:underline font-medium",children:"Become a Host"})]})})]})]})})]})},tJ="/videos/admin-login-bg.mp4",nJ=()=>{const[t,e]=m.useState(""),[n,r]=m.useState(""),[s,i]=m.useState(!1),[a,l]=m.useState(!1),{signIn:c}=Dt(),u=gt(),d=async f=>{f.preventDefault(),l(!0);try{await c(t,n,"admin"),B.success("Admin access granted"),u("/admin/dashboard")}catch(p){B.error(p.message||"Failed to sign in")}finally{l(!1)}};return o.jsxs("div",{className:"min-h-screen bg-background flex flex-col relative",children:[o.jsx(Yu,{src:tJ,overlay:!0,className:"z-0"}),o.jsx("header",{className:"relative z-10 border-b bg-card/95 backdrop-blur supports-[backdrop-filter]:bg-card/60",children:o.jsxs("div",{className:"container mx-auto px-6 py-4 flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(ie,{variant:"ghost",onClick:()=>u("/"),children:[o.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Back to Home"]}),o.jsx(Zs,{size:"sm"})]}),o.jsx(Nr,{})]})}),o.jsx("div",{className:"relative z-10 flex-1 flex items-center justify-center p-6",children:o.jsxs(ce,{className:"w-full max-w-md shadow-2xl border-border/50 bg-card/95 backdrop-blur-md",children:[o.jsxs(ve,{className:"space-y-4 text-center pb-8",children:[o.jsx("div",{className:"w-16 h-16 mx-auto rounded-2xl bg-accent/10 flex items-center justify-center",children:o.jsx(ws,{className:"w-8 h-8 text-accent"})}),o.jsxs("div",{children:[o.jsx(ye,{className:"text-3xl font-bold",children:"Admin Portal"}),o.jsx(ze,{className:"text-base mt-2",children:"Platform management and oversight"})]})]}),o.jsxs(Se,{children:[o.jsxs("form",{onSubmit:d,className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Fe,{htmlFor:"email",className:"text-base",children:"Email"}),o.jsxs("div",{className:"relative",children:[o.jsx(zs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),o.jsx(qe,{id:"email",type:"email",placeholder:"admin@stayhub.com",value:t,onChange:f=>e(f.target.value),required:!0,className:"pl-10 h-12"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Fe,{htmlFor:"password",className:"text-base",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(la,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),o.jsx(qe,{id:"password",type:s?"text":"password",placeholder:"",value:n,onChange:f=>r(f.target.value),required:!0,className:"pl-10 pr-10 h-12"}),o.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:s?o.jsx(El,{className:"h-5 w-5"}):o.jsx(Nl,{className:"h-5 w-5"})})]})]}),o.jsx(ie,{type:"submit",className:"w-full h-12 text-base",disabled:a,children:a?"Signing in...":"Sign In as Admin"})]}),o.jsx("div",{className:"mt-8 p-4 bg-accent/10 rounded-lg border border-accent/20",children:o.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:[o.jsx(ws,{className:"w-4 h-4 inline mr-1 text-accent"}),"Admin access is restricted. Contact support if you need access."]})})]})]})})]})},rJ=()=>{const[t]=hf(),[e,n]=m.useState(!1),[r,s]=m.useState("verifying"),{verifyEmail:i,sendVerificationEmail:a,user:l,userRole:c}=Dt(),u=gt(),d=t.get("oobCode"),f=t.get("mode"),p=m.useCallback(async()=>{if(d){n(!0);try{await i(d),s("success"),B.success("Email verified successfully!")}catch(w){console.error("Verification error:",w),s("error"),B.error(w.message||"Failed to verify email")}finally{n(!1)}}},[d,i]);m.useEffect(()=>{d&&f==="verifyEmail"?p():s("error")},[d,f,p]),m.useEffect(()=>{if(r!=="success")return;(async()=>{const b=t.get("continueUrl");if(b){setTimeout(()=>u(b),1200);return}let x=0;const y=5,j=async()=>{if(x++,l){if(c){setTimeout(c==="guest"?()=>u("/guest/dashboard"):c==="host"?()=>u("/host/dashboard"):c==="admin"?()=>u("/admin/dashboard"):()=>u("/"),800);return}if(x<y){setTimeout(j,300);return}}(x>=y||!l)&&setTimeout(()=>u("/guest/login"),800)};setTimeout(j,500)})()},[r,l,c,u,t]);const g=async()=>{n(!0);try{await a(),B.success("Verification email sent! Check your inbox.")}catch(w){B.error(w.message||"Failed to send verification email")}finally{n(!1)}},v=r==="verifying"?{icon:o.jsx(Il,{className:"w-16 h-16 text-primary animate-spin"}),title:"Verifying Your Email...",description:"Please wait while we verify your email address.",showButton:!1}:r==="success"?{icon:o.jsx(zc,{className:"w-16 h-16 text-green-500"}),title:"Email Verified Successfully!",description:"Your email has been verified. Redirecting you now...",showButton:!1}:{icon:o.jsx(zs,{className:"w-16 h-16 text-red-500"}),title:"Verification Failed",description:"We couldn't verify your email. The link may have expired or been used already. Please request a new verification email.",showButton:!0,buttonText:"Resend Verification Email",buttonAction:g};return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex flex-col",children:[o.jsx("header",{className:"border-b bg-card/95 backdrop-blur supports-[backdrop-filter]:bg-card/60",children:o.jsxs("div",{className:"container mx-auto px-6 py-4 flex justify-between items-center",children:[o.jsxs(ie,{variant:"ghost",onClick:()=>u("/"),children:[o.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Back to Home"]}),o.jsx(Nr,{})]})}),o.jsx("div",{className:"flex-1 flex items-center justify-center p-6",children:o.jsxs(ce,{className:"w-full max-w-md shadow-2xl border-border/50 bg-card/95 backdrop-blur",children:[o.jsxs(ve,{className:"space-y-6 text-center pb-8 pt-12",children:[o.jsx("div",{className:"w-24 h-24 mx-auto rounded-full bg-gradient-to-br from-primary/10 to-secondary/10 flex items-center justify-center",children:v.icon}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ye,{className:"text-3xl font-bold bg-gradient-to-r from-orange-500 via-blue-500 to-green-500 bg-clip-text text-transparent",children:v.title}),o.jsx(ze,{className:"text-base leading-relaxed",children:v.description})]})]}),o.jsxs(Se,{className:"space-y-6 pb-12",children:[v.showButton&&o.jsx(ie,{onClick:v.buttonAction,className:"w-full h-12 text-base font-semibold",disabled:e,size:"lg",children:e?o.jsxs(o.Fragment,{children:[o.jsx(Il,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):v.buttonText}),r==="success"&&o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"w-full h-px bg-gradient-to-r from-transparent via-border to-transparent"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Welcome to our platform! We're excited to have you on board."})]}),r==="error"&&o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"w-full h-px bg-gradient-to-r from-transparent via-border to-transparent"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Need help? Contact our support team for assistance."}),o.jsx(ie,{variant:"outline",onClick:()=>u("/"),className:"w-full",children:"Return to Home"})]})]})]})})]})};var sJ=Object.defineProperty,iJ=Object.defineProperties,oJ=Object.getOwnPropertyDescriptors,xg=Object.getOwnPropertySymbols,m4=Object.prototype.hasOwnProperty,p4=Object.prototype.propertyIsEnumerable,mk=(t,e,n)=>e in t?sJ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,aJ=(t,e)=>{for(var n in e||(e={}))m4.call(e,n)&&mk(t,n,e[n]);if(xg)for(var n of xg(e))p4.call(e,n)&&mk(t,n,e[n]);return t},lJ=(t,e)=>iJ(t,oJ(e)),cJ=(t,e)=>{var n={};for(var r in t)m4.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&xg)for(var r of xg(t))e.indexOf(r)<0&&p4.call(t,r)&&(n[r]=t[r]);return n};function uJ(t){let e=setTimeout(t,0),n=setTimeout(t,10),r=setTimeout(t,50);return[e,n,r]}function dJ(t){let e=m.useRef();return m.useEffect(()=>{e.current=t}),e.current}var hJ=18,g4=40,fJ=`${g4}px`,mJ=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function pJ({containerRef:t,inputRef:e,pushPasswordManagerStrategy:n,isFocused:r}){let[s,i]=m.useState(!1),[a,l]=m.useState(!1),[c,u]=m.useState(!1),d=m.useMemo(()=>n==="none"?!1:(n==="increase-width"||n==="experimental-no-flickering")&&s&&a,[s,a,n]),f=m.useCallback(()=>{let p=t.current,g=e.current;if(!p||!g||c||n==="none")return;let _=p,v=_.getBoundingClientRect().left+_.offsetWidth,w=_.getBoundingClientRect().top+_.offsetHeight/2,b=v-hJ,x=w;document.querySelectorAll(mJ).length===0&&document.elementFromPoint(b,x)===p||(i(!0),u(!0))},[t,e,c,n]);return m.useEffect(()=>{let p=t.current;if(!p||n==="none")return;function g(){let v=window.innerWidth-p.getBoundingClientRect().right;l(v>=g4)}g();let _=setInterval(g,1e3);return()=>{clearInterval(_)}},[t,n]),m.useEffect(()=>{let p=r||document.activeElement===e.current;if(n==="none"||!p)return;let g=setTimeout(f,0),_=setTimeout(f,2e3),v=setTimeout(f,5e3),w=setTimeout(()=>{u(!0)},6e3);return()=>{clearTimeout(g),clearTimeout(_),clearTimeout(v),clearTimeout(w)}},[e,r,n,f]),{hasPWMBadge:s,willPushPWMBadge:d,PWM_BADGE_SPACE_WIDTH:fJ}}var v4=m.createContext({}),y4=m.forwardRef((t,e)=>{var n=t,{value:r,onChange:s,maxLength:i,textAlign:a="left",pattern:l,placeholder:c,inputMode:u="numeric",onComplete:d,pushPasswordManagerStrategy:f="increase-width",pasteTransformer:p,containerClassName:g,noScriptCSSFallback:_=gJ,render:v,children:w}=n,b=cJ(n,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]),x,y,j,P,D;let[S,N]=m.useState(typeof b.defaultValue=="string"?b.defaultValue:""),T=r??S,C=dJ(T),I=m.useCallback(Pe=>{s==null||s(Pe),N(Pe)},[s]),A=m.useMemo(()=>l?typeof l=="string"?new RegExp(l):l:null,[l]),R=m.useRef(null),z=m.useRef(null),F=m.useRef({value:T,onChange:I,isIOS:typeof window<"u"&&((y=(x=window==null?void 0:window.CSS)==null?void 0:x.supports)==null?void 0:y.call(x,"-webkit-touch-callout","none"))}),H=m.useRef({prev:[(j=R.current)==null?void 0:j.selectionStart,(P=R.current)==null?void 0:P.selectionEnd,(D=R.current)==null?void 0:D.selectionDirection]});m.useImperativeHandle(e,()=>R.current,[]),m.useEffect(()=>{let Pe=R.current,Ue=z.current;if(!Pe||!Ue)return;F.current.value!==Pe.value&&F.current.onChange(Pe.value),H.current.prev=[Pe.selectionStart,Pe.selectionEnd,Pe.selectionDirection];function ht(){if(document.activeElement!==Pe){U(null),de(null);return}let ue=Pe.selectionStart,M=Pe.selectionEnd,$=Pe.selectionDirection,G=Pe.maxLength,me=Pe.value,pe=H.current.prev,oe=-1,we=-1,We;if(me.length!==0&&ue!==null&&M!==null){let fr=ue===M,Li=ue===me.length&&me.length<G;if(fr&&!Li){let on=ue;if(on===0)oe=0,we=1,We="forward";else if(on===G)oe=on-1,we=on,We="backward";else if(G>1&&me.length>1){let kn=0;if(pe[0]!==null&&pe[1]!==null){We=on<pe[1]?"backward":"forward";let ti=pe[0]===pe[1]&&pe[0]<G;We==="backward"&&!ti&&(kn=-1)}oe=kn+on,we=kn+on+1}}oe!==-1&&we!==-1&&oe!==we&&R.current.setSelectionRange(oe,we,We)}let ft=oe!==-1?oe:ue,xn=we!==-1?we:M,Br=We??$;U(ft),de(xn),H.current.prev=[ft,xn,Br]}if(document.addEventListener("selectionchange",ht,{capture:!0}),ht(),document.activeElement===Pe&&ee(!0),!document.getElementById("input-otp-style")){let ue=document.createElement("style");if(ue.id="input-otp-style",document.head.appendChild(ue),ue.sheet){let M="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";bd(ue.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),bd(ue.sheet,`[data-input-otp]:autofill { ${M} }`),bd(ue.sheet,`[data-input-otp]:-webkit-autofill { ${M} }`),bd(ue.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),bd(ue.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let X=()=>{Ue&&Ue.style.setProperty("--root-height",`${Pe.clientHeight}px`)};X();let Q=new ResizeObserver(X);return Q.observe(Pe),()=>{document.removeEventListener("selectionchange",ht,{capture:!0}),Q.disconnect()}},[]);let[q,L]=m.useState(!1),[V,ee]=m.useState(!1),[_e,U]=m.useState(null),[le,de]=m.useState(null);m.useEffect(()=>{uJ(()=>{var Pe,Ue,ht,X;(Pe=R.current)==null||Pe.dispatchEvent(new Event("input"));let Q=(Ue=R.current)==null?void 0:Ue.selectionStart,ue=(ht=R.current)==null?void 0:ht.selectionEnd,M=(X=R.current)==null?void 0:X.selectionDirection;Q!==null&&ue!==null&&(U(Q),de(ue),H.current.prev=[Q,ue,M])})},[T,V]),m.useEffect(()=>{C!==void 0&&T!==C&&C.length<i&&T.length===i&&(d==null||d(T))},[i,d,C,T]);let fe=pJ({containerRef:z,inputRef:R,pushPasswordManagerStrategy:f,isFocused:V}),ke=m.useCallback(Pe=>{let Ue=Pe.currentTarget.value.slice(0,i);if(Ue.length>0&&A&&!A.test(Ue)){Pe.preventDefault();return}typeof C=="string"&&Ue.length<C.length&&document.dispatchEvent(new Event("selectionchange")),I(Ue)},[i,I,C,A]),J=m.useCallback(()=>{var Pe;if(R.current){let Ue=Math.min(R.current.value.length,i-1),ht=R.current.value.length;(Pe=R.current)==null||Pe.setSelectionRange(Ue,ht),U(Ue),de(ht)}ee(!0)},[i]),K=m.useCallback(Pe=>{var Ue,ht;let X=R.current;if(!p&&(!F.current.isIOS||!Pe.clipboardData||!X))return;let Q=Pe.clipboardData.getData("text/plain"),ue=p?p(Q):Q;Pe.preventDefault();let M=(Ue=R.current)==null?void 0:Ue.selectionStart,$=(ht=R.current)==null?void 0:ht.selectionEnd,G=(M!==$?T.slice(0,M)+ue+T.slice($):T.slice(0,M)+ue+T.slice(M)).slice(0,i);if(G.length>0&&A&&!A.test(G))return;X.value=G,I(G);let me=Math.min(G.length,i-1),pe=G.length;X.setSelectionRange(me,pe),U(me),de(pe)},[i,I,A,T]),ne=m.useMemo(()=>({position:"relative",cursor:b.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[b.disabled]),Z=m.useMemo(()=>({position:"absolute",inset:0,width:fe.willPushPWMBadge?`calc(100% + ${fe.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:fe.willPushPWMBadge?`inset(0 ${fe.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:a,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[fe.PWM_BADGE_SPACE_WIDTH,fe.willPushPWMBadge,a]),ge=m.useMemo(()=>m.createElement("input",lJ(aJ({autoComplete:b.autoComplete||"one-time-code"},b),{"data-input-otp":!0,"data-input-otp-placeholder-shown":T.length===0||void 0,"data-input-otp-mss":_e,"data-input-otp-mse":le,inputMode:u,pattern:A==null?void 0:A.source,"aria-placeholder":c,style:Z,maxLength:i,value:T,ref:R,onPaste:Pe=>{var Ue;K(Pe),(Ue=b.onPaste)==null||Ue.call(b,Pe)},onChange:ke,onMouseOver:Pe=>{var Ue;L(!0),(Ue=b.onMouseOver)==null||Ue.call(b,Pe)},onMouseLeave:Pe=>{var Ue;L(!1),(Ue=b.onMouseLeave)==null||Ue.call(b,Pe)},onFocus:Pe=>{var Ue;J(),(Ue=b.onFocus)==null||Ue.call(b,Pe)},onBlur:Pe=>{var Ue;ee(!1),(Ue=b.onBlur)==null||Ue.call(b,Pe)}})),[ke,J,K,u,Z,i,le,_e,b,A==null?void 0:A.source,T]),Re=m.useMemo(()=>({slots:Array.from({length:i}).map((Pe,Ue)=>{var ht;let X=V&&_e!==null&&le!==null&&(_e===le&&Ue===_e||Ue>=_e&&Ue<le),Q=T[Ue]!==void 0?T[Ue]:null,ue=T[0]!==void 0?null:(ht=c==null?void 0:c[Ue])!=null?ht:null;return{char:Q,placeholderChar:ue,isActive:X,hasFakeCaret:X&&Q===null}}),isFocused:V,isHovering:!b.disabled&&q}),[V,q,i,le,_e,b.disabled,T]),mt=m.useMemo(()=>v?v(Re):m.createElement(v4.Provider,{value:Re},w),[w,Re,v]);return m.createElement(m.Fragment,null,_!==null&&m.createElement("noscript",null,m.createElement("style",null,_)),m.createElement("div",{ref:z,"data-input-otp-container":!0,style:ne,className:g},mt,m.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},ge)))});y4.displayName="Input";function bd(t,e){try{t.insertRule(e)}catch{console.error("input-otp could not insert CSS rule:",e)}}var gJ=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`;const x4=m.forwardRef(({className:t,containerClassName:e,...n},r)=>o.jsx(y4,{ref:r,containerClassName:Ne("flex items-center gap-2 has-[:disabled]:opacity-50",e),className:Ne("disabled:cursor-not-allowed",t),...n}));x4.displayName="InputOTP";const w4=m.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:Ne("flex items-center",t),...e}));w4.displayName="InputOTPGroup";const ol=m.forwardRef(({index:t,className:e,...n},r)=>{const s=m.useContext(v4),{char:i,hasFakeCaret:a,isActive:l}=s.slots[t];return o.jsxs("div",{ref:r,className:Ne("relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md",l&&"z-10 ring-2 ring-ring ring-offset-background",e),...n,children:[i,a&&o.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:o.jsx("div",{className:"animate-caret-blink h-4 w-px bg-foreground duration-1000"})})]})});ol.displayName="InputOTPSlot";const vJ=m.forwardRef(({...t},e)=>o.jsx("div",{ref:e,role:"separator",...t,children:o.jsx(A9,{})}));vJ.displayName="InputOTPSeparator";const yJ=()=>{const[t,e]=m.useState(""),[n,r]=m.useState(!1),[s,i]=m.useState(!1),[a,l]=m.useState(0),{user:c,userProfile:u,sendOTP:d,verifyOTPCode:f,userRole:p}=Dt(),g=gt();m.useEffect(()=>{if(!c){B.error("Please sign in first"),g("/guest/login");return}l(60);const w=setInterval(()=>{l(b=>b<=1?(clearInterval(w),0):b-1)},1e3);return()=>clearInterval(w)},[c,g]);const _=async w=>{if(w.preventDefault(),t.length!==6){B.error("Please enter a 6-digit OTP code");return}r(!0);try{await f(t)?(B.success("Email verified successfully!"),setTimeout(()=>{g(p==="guest"?"/guest/dashboard":p==="host"?"/host/dashboard":p==="admin"?"/admin/dashboard":"/guest/login")},1500)):(B.error("Invalid OTP code. Please try again."),e(""))}catch(b){B.error(b.message||"Failed to verify OTP"),e("")}finally{r(!1)}},v=async()=>{if(a>0){B.error(`Please wait ${a} seconds before requesting a new code`);return}i(!0);try{await d(),B.success("OTP code sent! Check your email."),l(60),e("")}catch(w){B.error(w.message||"Failed to resend OTP")}finally{i(!1)}};return c?o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex flex-col",children:[o.jsx("header",{className:"border-b bg-card/95 backdrop-blur supports-[backdrop-filter]:bg-card/60",children:o.jsxs("div",{className:"container mx-auto px-6 py-4 flex justify-between items-center",children:[o.jsxs(ie,{variant:"ghost",onClick:()=>g(-1),children:[o.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Back"]}),o.jsx(Nr,{})]})}),o.jsx("div",{className:"flex-1 flex items-center justify-center p-6",children:o.jsxs(ce,{className:"w-full max-w-md shadow-2xl border-border/50 bg-card/95 backdrop-blur",children:[o.jsxs(ve,{className:"space-y-6 text-center pb-8 pt-12",children:[o.jsx("div",{className:"w-24 h-24 mx-auto rounded-full bg-gradient-to-br from-blue-100 to-purple-100 dark:from-blue-900/20 dark:to-purple-900/20 flex items-center justify-center",children:o.jsx(ws,{className:"w-16 h-16 text-blue-600 dark:text-blue-400"})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ye,{className:"text-3xl font-bold bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 bg-clip-text text-transparent",children:"Verify Your Email"}),o.jsxs(ze,{className:"text-base leading-relaxed",children:["We've sent a 6-digit verification code to ",o.jsx("strong",{children:c.email})]})]})]}),o.jsxs(Se,{className:"space-y-6 pb-12",children:[o.jsxs("form",{onSubmit:_,className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"flex justify-center",children:o.jsx(x4,{maxLength:6,value:t,onChange:w=>e(w),children:o.jsxs(w4,{children:[o.jsx(ol,{index:0}),o.jsx(ol,{index:1}),o.jsx(ol,{index:2}),o.jsx(ol,{index:3}),o.jsx(ol,{index:4}),o.jsx(ol,{index:5})]})})}),o.jsx("p",{className:"text-sm text-center text-muted-foreground",children:"Enter the 6-digit code sent to your email"})]}),o.jsx(ie,{type:"submit",className:"w-full h-12 text-base font-semibold",disabled:n||t.length!==6,size:"lg",children:n?o.jsxs(o.Fragment,{children:[o.jsx(Il,{className:"w-4 h-4 mr-2 animate-spin"}),"Verifying..."]}):o.jsxs(o.Fragment,{children:[o.jsx(zc,{className:"w-4 h-4 mr-2"}),"Verify Email"]})})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"text-center text-sm text-muted-foreground",children:"Didn't receive the code?"}),o.jsx(ie,{variant:"outline",className:"w-full",onClick:v,disabled:s||a>0,children:s?o.jsxs(o.Fragment,{children:[o.jsx(Il,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending..."]}):a>0?`Resend OTP (${a}s)`:o.jsxs(o.Fragment,{children:[o.jsx(zs,{className:"w-4 h-4 mr-2"}),"Resend OTP Code"]})})]}),o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"w-full h-px bg-gradient-to-r from-transparent via-border to-transparent"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Need help? Contact our support team for assistance."})]})]})]})})]}):null},xJ=()=>{const[t,e]=m.useState(!1),[n,r]=m.useState(!1),[s,i]=m.useState(!1),{sendOTP:a,user:l,userProfile:c,userRole:u}=Dt(),d=gt();m.useEffect(()=>{l&&c!=null&&c.emailVerified&&!s&&(i(!0),B.success("Email verified successfully! Redirecting to dashboard..."),setTimeout(()=>{d(u==="guest"?"/guest/dashboard":u==="host"?"/host/dashboard":u==="admin"?"/admin/dashboard":"/guest/dashboard")},2e3))},[l,c,u,s,d]),m.useEffect(()=>{if(!l||s||!c)return;const g=setInterval(()=>{c.emailVerified&&!s&&(i(!0),clearInterval(g),B.success("Email verified successfully! Redirecting to dashboard..."),setTimeout(()=>{d(u==="guest"?"/guest/dashboard":u==="host"?"/host/dashboard":u==="admin"?"/admin/dashboard":"/guest/dashboard")},2e3))},2e3);return()=>clearInterval(g)},[l,c,u,s,d]);const f=async()=>{e(!0);try{await a(),r(!0),B.success("Verification code sent! Check your inbox.")}catch(g){B.error(g.message||"Failed to send verification code")}finally{e(!1)}},p=async()=>{d("/guest/login")};return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex flex-col",children:[o.jsx("header",{className:"border-b bg-card/95 backdrop-blur supports-[backdrop-filter]:bg-card/60",children:o.jsxs("div",{className:"container mx-auto px-6 py-4 flex justify-between items-center",children:[o.jsxs(ie,{variant:"ghost",onClick:()=>d("/"),children:[o.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Back to Home"]}),o.jsx(Nr,{})]})}),o.jsx("div",{className:"flex-1 flex items-center justify-center p-6",children:o.jsxs(ce,{className:"w-full max-w-md shadow-2xl border-border/50 bg-card/95 backdrop-blur",children:[o.jsxs(ve,{className:"space-y-6 text-center pb-8 pt-12",children:[o.jsx("div",{className:"w-24 h-24 mx-auto flex items-center justify-center",children:o.jsx(Zs,{size:"xl",showText:!1})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ye,{className:"text-3xl font-bold bg-gradient-to-r from-orange-500 via-blue-500 to-green-500 bg-clip-text text-transparent",children:s?"Email Verified!":"Check Your Email"}),o.jsx(ze,{className:"text-base leading-relaxed",children:s?o.jsx(o.Fragment,{children:"Your email has been verified successfully! Redirecting you to dashboard..."}):o.jsxs(o.Fragment,{children:["Hi ",o.jsx("strong",{children:(c==null?void 0:c.fullName)||"there"}),"! We've sent a 6-digit verification code to ",o.jsx("strong",{children:l==null?void 0:l.email})]})})]})]}),o.jsxs(Se,{className:"space-y-6 pb-12",children:[s?o.jsxs("div",{className:"flex items-center space-x-2 p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[o.jsx(zc,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),o.jsx("span",{className:"text-sm text-green-800 dark:text-green-200",children:"Email verified! You will be redirected to the dashboard shortly..."})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[o.jsx(zc,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),o.jsxs("div",{className:"text-sm text-blue-800 dark:text-blue-200",children:[o.jsx("p",{className:"font-medium",children:"Next Steps:"}),o.jsxs("ol",{className:"mt-2 space-y-1 list-decimal list-inside",children:[o.jsx("li",{children:"Check your email inbox (and spam folder)"}),o.jsx("li",{children:"Copy the 6-digit verification code from the email"}),o.jsx("li",{children:"Click the button below to enter the code and verify your email"})]})]})]}),n&&o.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[o.jsx(zc,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),o.jsx("span",{className:"text-sm text-green-800 dark:text-green-200",children:"Verification code sent successfully!"})]}),o.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-amber-50 dark:bg-amber-900/20 rounded-lg",children:[o.jsx(rv,{className:"w-5 h-5 text-amber-600 dark:text-amber-400 mt-0.5 flex-shrink-0"}),o.jsxs("div",{className:"text-sm text-amber-800 dark:text-amber-200",children:[o.jsx("p",{className:"font-medium",children:"Didn't receive the email?"}),o.jsx("p",{className:"mt-1",children:"The verification code may take a few minutes to arrive. Check your spam folder or request a new one."})]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(ie,{onClick:()=>d("/verify-otp"),className:"w-full h-12 text-base font-semibold",size:"lg",children:"Enter Verification Code"}),o.jsx(ie,{onClick:f,className:"w-full",disabled:t,variant:"outline",children:t?o.jsxs(o.Fragment,{children:[o.jsx(Il,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Il,{className:"w-4 h-4 mr-2"}),"Resend Verification Code"]})}),o.jsx(ie,{onClick:p,variant:"ghost",className:"w-full",children:"Sign Out"})]})]}),o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"w-full h-px bg-gradient-to-r from-transparent via-border to-transparent"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Need help? Contact our support team for assistance."})]})]})]})})]})},wJ=nv("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Sn({className:t,variant:e,...n}){return o.jsx("div",{className:Ne(wJ({variant:e}),t),...n})}var Qv="Dialog",[b4,_4]=er(Qv),[bJ,ei]=b4(Qv),E4=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:a=!0}=t,l=m.useRef(null),c=m.useRef(null),[u,d]=Ci({prop:r,defaultProp:s??!1,onChange:i,caller:Qv});return o.jsx(bJ,{scope:e,triggerRef:l,contentRef:c,contentId:Wn(),titleId:Wn(),descriptionId:Wn(),open:u,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(f=>!f),[d]),modal:a,children:n})};E4.displayName=Qv;var N4="DialogTrigger",S4=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ei(N4,n),i=Ze(e,s.triggerRef);return o.jsx(Ie.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":H1(s.open),...r,ref:i,onClick:be(t.onClick,s.onOpenToggle)})});S4.displayName=N4;var z1="DialogPortal",[_J,j4]=b4(z1,{forceMount:void 0}),C4=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=ei(z1,e);return o.jsx(_J,{scope:e,forceMount:n,children:m.Children.map(r,a=>o.jsx(Fn,{present:n||i.open,children:o.jsx(Mu,{asChild:!0,container:s,children:a})}))})};C4.displayName=z1;var wg="DialogOverlay",k4=m.forwardRef((t,e)=>{const n=j4(wg,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=ei(wg,t.__scopeDialog);return i.modal?o.jsx(Fn,{present:r||i.open,children:o.jsx(NJ,{...s,ref:e})}):null});k4.displayName=wg;var EJ=ba("DialogOverlay.RemoveScroll"),NJ=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ei(wg,n);return o.jsx(Mf,{as:EJ,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(Ie.div,{"data-state":H1(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Bl="DialogContent",T4=m.forwardRef((t,e)=>{const n=j4(Bl,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=ei(Bl,t.__scopeDialog);return o.jsx(Fn,{present:r||i.open,children:i.modal?o.jsx(SJ,{...s,ref:e}):o.jsx(jJ,{...s,ref:e})})});T4.displayName=Bl;var SJ=m.forwardRef((t,e)=>{const n=ei(Bl,t.__scopeDialog),r=m.useRef(null),s=Ze(e,n.contentRef,r);return m.useEffect(()=>{const i=r.current;if(i)return zv(i)},[]),o.jsx(I4,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:be(t.onCloseAutoFocus,i=>{var a;i.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:be(t.onPointerDownOutside,i=>{const a=i.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&i.preventDefault()}),onFocusOutside:be(t.onFocusOutside,i=>i.preventDefault())})}),jJ=m.forwardRef((t,e)=>{const n=ei(Bl,t.__scopeDialog),r=m.useRef(!1),s=m.useRef(!1);return o.jsx(I4,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,l;(a=t.onCloseAutoFocus)==null||a.call(t,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),I4=m.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...a}=t,l=ei(Bl,n),c=m.useRef(null),u=Ze(e,c);return Uv(),o.jsxs(o.Fragment,{children:[o.jsx(Df,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:o.jsx(Xl,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":H1(l.open),...a,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(kJ,{titleId:l.titleId}),o.jsx(IJ,{contentRef:c,descriptionId:l.descriptionId})]})]})}),W1="DialogTitle",R4=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ei(W1,n);return o.jsx(Ie.h2,{id:s.titleId,...r,ref:e})});R4.displayName=W1;var P4="DialogDescription",A4=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ei(P4,n);return o.jsx(Ie.p,{id:s.descriptionId,...r,ref:e})});A4.displayName=P4;var D4="DialogClose",O4=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ei(D4,n);return o.jsx(Ie.button,{type:"button",...r,ref:e,onClick:be(t.onClick,()=>s.onOpenChange(!1))})});O4.displayName=D4;function H1(t){return t?"open":"closed"}var M4="DialogTitleWarning",[CJ,L4]=L6(M4,{contentName:Bl,titleName:W1,docsSlug:"dialog"}),kJ=({titleId:t})=>{const e=L4(M4),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return m.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},TJ="DialogDescriptionWarning",IJ=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${L4(TJ).contentName}}.`;return m.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},q1=E4,RJ=S4,G1=C4,Xv=k4,Zv=T4,K1=R4,Y1=A4,Q1=O4,F4="AlertDialog",[PJ,oae]=er(F4,[_4]),xo=_4(),V4=t=>{const{__scopeAlertDialog:e,...n}=t,r=xo(e);return o.jsx(q1,{...r,...n,modal:!0})};V4.displayName=F4;var AJ="AlertDialogTrigger",DJ=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=xo(n);return o.jsx(RJ,{...s,...r,ref:e})});DJ.displayName=AJ;var OJ="AlertDialogPortal",$4=t=>{const{__scopeAlertDialog:e,...n}=t,r=xo(e);return o.jsx(G1,{...r,...n})};$4.displayName=OJ;var MJ="AlertDialogOverlay",U4=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=xo(n);return o.jsx(Xv,{...s,...r,ref:e})});U4.displayName=MJ;var Jc="AlertDialogContent",[LJ,FJ]=PJ(Jc),VJ=HR("AlertDialogContent"),B4=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...s}=t,i=xo(n),a=m.useRef(null),l=Ze(e,a),c=m.useRef(null);return o.jsx(CJ,{contentName:Jc,titleName:z4,docsSlug:"alert-dialog",children:o.jsx(LJ,{scope:n,cancelRef:c,children:o.jsxs(Zv,{role:"alertdialog",...i,...s,ref:l,onOpenAutoFocus:be(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[o.jsx(VJ,{children:r}),o.jsx(UJ,{contentRef:a})]})})})});B4.displayName=Jc;var z4="AlertDialogTitle",W4=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=xo(n);return o.jsx(K1,{...s,...r,ref:e})});W4.displayName=z4;var H4="AlertDialogDescription",q4=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=xo(n);return o.jsx(Y1,{...s,...r,ref:e})});q4.displayName=H4;var $J="AlertDialogAction",G4=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=xo(n);return o.jsx(Q1,{...s,...r,ref:e})});G4.displayName=$J;var K4="AlertDialogCancel",Y4=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:s}=FJ(K4,n),i=xo(n),a=Ze(e,s);return o.jsx(Q1,{...i,...r,ref:a})});Y4.displayName=K4;var UJ=({contentRef:t})=>{const e=`\`${Jc}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Jc}\` by passing a \`${H4}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Jc}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return m.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},BJ=V4,zJ=$4,Q4=U4,X4=B4,Z4=G4,J4=Y4,eL=W4,tL=q4;const ur=BJ,WJ=zJ,nL=m.forwardRef(({className:t,...e},n)=>o.jsx(Q4,{className:Ne("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));nL.displayName=Q4.displayName;const Hn=m.forwardRef(({className:t,...e},n)=>o.jsxs(WJ,{children:[o.jsx(nL,{}),o.jsx(X4,{ref:n,className:Ne("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));Hn.displayName=X4.displayName;const qn=({className:t,...e})=>o.jsx("div",{className:Ne("flex flex-col space-y-2 text-center sm:text-left",t),...e});qn.displayName="AlertDialogHeader";const Gn=({className:t,...e})=>o.jsx("div",{className:Ne("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Gn.displayName="AlertDialogFooter";const Kn=m.forwardRef(({className:t,...e},n)=>o.jsx(eL,{ref:n,className:Ne("text-lg font-semibold",t),...e}));Kn.displayName=eL.displayName;const Yn=m.forwardRef(({className:t,...e},n)=>o.jsx(tL,{ref:n,className:Ne("text-sm text-muted-foreground",t),...e}));Yn.displayName=tL.displayName;const Qn=m.forwardRef(({className:t,...e},n)=>o.jsx(Z4,{ref:n,className:Ne($h(),t),...e}));Qn.displayName=Z4.displayName;const Xn=m.forwardRef(({className:t,...e},n)=>o.jsx(J4,{ref:n,className:Ne($h({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));Xn.displayName=J4.displayName;const HJ=()=>{const{user:t}=Dt(),[e,n]=m.useState([]),r=gt();return m.useEffect(()=>{if(!t)return;const s=new Date;s.setHours(0,0,0,0);const i=new Date(s);i.setDate(i.getDate()+1);const a=ps(vt(et(he,"bookings"),yt("hostId","==",t.uid)),l=>{const c=l.docs.map(u=>({id:u.id,...u.data()})).filter(u=>{const d=new Date(u.checkIn);d.setHours(0,0,0,0);const f=new Date(u.checkOut);return f.setHours(0,0,0,0),(d.getTime()===s.getTime()||f.getTime()===s.getTime())&&(u.status==="confirmed"||u.status==="pending")}).sort((u,d)=>new Date(u.checkIn).getTime()-new Date(d.checkIn).getTime());n(c)});return()=>a()},[t]),o.jsxs(ce,{className:"shadow-medium",children:[o.jsxs(ve,{children:[o.jsx(ye,{children:"Today's Schedule"}),o.jsx(ze,{children:e.length>0?`${e.length} booking${e.length>1?"s":""} today`:"No bookings scheduled for today"})]}),o.jsx(Se,{children:e.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(Jn,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"You're all set! No check-ins or check-outs today."})]}):o.jsx("div",{className:"space-y-3",children:e.map(s=>{const i=new Date(s.checkIn),a=new Date(s.checkOut),l=i.toDateString()===new Date().toDateString(),c=a.toDateString()===new Date().toDateString();return o.jsx("div",{className:"p-4 border rounded-lg hover:bg-muted/50 cursor-pointer transition-colors",onClick:()=>r("/host/bookings"),children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:l&&c?"Check-in & Check-out":l?"Check-in":"Check-out"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[i.toLocaleDateString()," - ",a.toLocaleDateString()]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.guests," guest",s.guests>1?"s":"","  ",Qe(s.totalPrice||0)]})]}),o.jsx(Sn,{children:s.status})]})},s.id)})})})]})},qJ=()=>{const{user:t,userRole:e,userProfile:n,signOut:r}=Dt(),s=gt(),[i,a]=m.useState({activeListings:0,upcomingBookings:0,totalEarnings:0,rewardPoints:(n==null?void 0:n.points)||0}),[l,c]=m.useState(!1);m.useEffect(()=>{if(!t||e!=="host"){s("/host/login");return}u();const f=ps(vt(et(he,"listing"),yt("hostId","==",t.uid)),g=>{const _=g.docs.filter(v=>v.data().status==="approved").length;a(v=>({...v,activeListings:_}))}),p=ps(vt(et(he,"bookings"),yt("hostId","==",t.uid)),g=>{const _=new Date,v=g.docs.filter(b=>{const x=b.data();return new Date(x.checkIn)>=_&&x.status==="confirmed"}).length,w=g.docs.filter(b=>b.data().status==="confirmed"||b.data().status==="completed").reduce((b,x)=>b+(x.data().totalPrice||0),0);a(b=>({...b,upcomingBookings:v,totalEarnings:w}))});return()=>{f(),p()}},[t,e,s]);const u=async()=>{if(t)try{const f=await yo({hostId:t.uid}),p=new Date;p.setHours(0,0,0,0);const g=f.filter(_=>{const v=new Date(_.checkIn);return v.setHours(0,0,0,0),v.getTime()===p.getTime()});n!=null&&n.points&&a(_=>({..._,rewardPoints:n.points}))}catch(f){console.error("Error loading dashboard data:",f)}},d=async()=>{await r(),s("/")};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"sticky top-0 z-50 border-b bg-card/95 backdrop-blur supports-[backdrop-filter]:bg-card/60 shadow-soft",children:o.jsxs("div",{className:"container mx-auto px-6 py-4 flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Zs,{size:"sm"}),o.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:o.jsx(Ea,{className:"w-5 h-5 text-primary"})}),o.jsxs("div",{children:[o.jsxs("h1",{className:"text-lg font-bold",children:["Welcome, ",(n==null?void 0:n.fullName)||"Host","!"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Manage your properties"})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Nr,{}),o.jsx(ie,{variant:"outline",onClick:()=>c(!0),children:"Sign Out"})]})]})}),o.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsxs("div",{className:"mb-8 p-6 rounded-xl bg-gradient-hero text-white",children:[o.jsxs("h2",{className:"text-3xl font-bold mb-2",children:["Welcome back, ",(n==null?void 0:n.fullName)||"Host","!"]}),o.jsx("p",{className:"text-white/90",children:(n==null?void 0:n.fullName)||"Host"})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[o.jsxs(ce,{className:"relative overflow-hidden border-0 shadow-md hover:shadow-xl transition-all duration-300 group",children:[o.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-primary via-secondary to-accent"}),o.jsx(ve,{className:"pb-3",children:o.jsx(ye,{className:"text-sm font-medium text-muted-foreground uppercase tracking-wide",children:"Active Listings"})}),o.jsx(Se,{children:o.jsx("div",{className:"flex items-baseline justify-between",children:o.jsx("div",{className:"text-4xl font-bold bg-gradient-to-br from-primary to-primary-glow bg-clip-text text-transparent",children:i.activeListings})})})]}),o.jsxs(ce,{className:"relative overflow-hidden border-0 shadow-md hover:shadow-xl transition-all duration-300 group",children:[o.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-secondary via-primary to-accent"}),o.jsx(ve,{className:"pb-3",children:o.jsx(ye,{className:"text-sm font-medium text-muted-foreground uppercase tracking-wide",children:"Upcoming Bookings"})}),o.jsx(Se,{children:o.jsx("div",{className:"flex items-baseline justify-between",children:o.jsx("div",{className:"text-4xl font-bold bg-gradient-to-br from-secondary to-secondary/80 bg-clip-text text-transparent",children:i.upcomingBookings})})})]}),o.jsxs(ce,{className:"relative overflow-hidden border-0 shadow-md hover:shadow-xl transition-all duration-300 group",children:[o.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-accent via-primary to-secondary"}),o.jsx(ve,{className:"pb-3",children:o.jsx(ye,{className:"text-sm font-medium text-muted-foreground uppercase tracking-wide",children:"Total Earnings"})}),o.jsx(Se,{children:o.jsx("div",{className:"flex items-baseline justify-between",children:o.jsx("div",{className:"text-4xl font-bold",children:Qe(i.totalEarnings)})})})]}),o.jsxs(ce,{className:"relative overflow-hidden border-0 shadow-md hover:shadow-xl transition-all duration-300 group",children:[o.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-accent via-green-500 to-green-600"}),o.jsx(ve,{className:"pb-3",children:o.jsx(ye,{className:"text-sm font-medium text-muted-foreground uppercase tracking-wide",children:"Reward Points"})}),o.jsx(Se,{children:o.jsx("div",{className:"flex items-baseline justify-between",children:o.jsx("div",{className:"text-4xl font-bold bg-gradient-accent bg-clip-text text-transparent",children:i.rewardPoints})})})]})]}),o.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[o.jsx(ce,{className:"shadow-medium hover:shadow-hover transition-all duration-300 cursor-pointer border-border/50 hover:border-primary/50 group",onClick:()=>s("/host/create-listing"),children:o.jsxs(ve,{className:"space-y-3",children:[o.jsx("div",{className:"w-14 h-14 rounded-xl bg-primary/10 flex items-center justify-center group-hover:scale-110 transition-transform",children:o.jsx(Bw,{className:"w-7 h-7 text-primary"})}),o.jsx(ye,{className:"group-hover:text-primary transition-colors",children:"Create New Listing"}),o.jsx(ze,{children:"Add a new property, experience, or service"})]})}),o.jsx(ce,{className:"shadow-medium hover:shadow-hover transition-all duration-300 cursor-pointer border-border/50 hover:border-primary/50 group",onClick:()=>s("/host/listings"),children:o.jsxs(ve,{className:"space-y-3",children:[o.jsx("div",{className:"w-14 h-14 rounded-xl bg-primary/10 flex items-center justify-center group-hover:scale-110 transition-transform",children:o.jsx(Ea,{className:"w-7 h-7 text-primary"})}),o.jsx(ye,{className:"group-hover:text-primary transition-colors",children:"My Listings"}),o.jsx(ze,{children:"View and manage your active listings"})]})}),o.jsx(ce,{className:"shadow-medium hover:shadow-hover transition-all duration-300 cursor-pointer border-border/50 hover:border-secondary/50 group",onClick:()=>s("/host/bookings"),children:o.jsxs(ve,{className:"space-y-3",children:[o.jsx("div",{className:"w-14 h-14 rounded-xl bg-secondary/10 flex items-center justify-center group-hover:scale-110 transition-transform",children:o.jsx(Jn,{className:"w-7 h-7 text-secondary"})}),o.jsx(ye,{className:"group-hover:text-secondary transition-colors",children:"Bookings"}),o.jsx(ze,{children:"Manage booking requests"})]})}),o.jsx(ce,{className:"shadow-medium hover:shadow-hover transition-all duration-300 cursor-pointer border-border/50 hover:border-secondary/50 group",onClick:()=>s("/host/messages"),children:o.jsxs(ve,{className:"space-y-3",children:[o.jsx("div",{className:"w-14 h-14 rounded-xl bg-secondary/10 flex items-center justify-center group-hover:scale-110 transition-transform",children:o.jsx(B9,{className:"w-7 h-7 text-secondary"})}),o.jsx(ye,{className:"group-hover:text-secondary transition-colors",children:"Messages"}),o.jsx(ze,{children:"Chat with guests and respond to inquiries"})]})}),o.jsx(ce,{className:"shadow-medium hover:shadow-hover transition-all duration-300 cursor-pointer border-border/50 hover:border-accent/50 group",onClick:()=>s("/host/payments"),children:o.jsxs(ve,{className:"space-y-3",children:[o.jsx("div",{className:"w-14 h-14 rounded-xl bg-accent/10 flex items-center justify-center group-hover:scale-110 transition-transform",children:o.jsx(of,{className:"w-7 h-7 text-accent"})}),o.jsx(ye,{className:"group-hover:text-accent transition-colors",children:"Payments"}),o.jsx(ze,{children:"View earnings and payment methods"})]})}),o.jsx(ce,{className:"shadow-medium hover:shadow-hover transition-all duration-300 cursor-pointer border-border/50 hover:border-accent/50 group",onClick:()=>s("/host/settings?tab=profile"),children:o.jsxs(ve,{className:"space-y-3",children:[o.jsx("div",{className:"w-14 h-14 rounded-xl bg-accent/10 flex items-center justify-center group-hover:scale-110 transition-transform",children:o.jsx(yP,{className:"w-7 h-7 text-accent"})}),o.jsx(ye,{className:"group-hover:text-accent transition-colors",children:"Points & Rewards"}),o.jsx(ze,{children:"Track your rewards and achievements"})]})}),o.jsx(ce,{className:"shadow-medium hover:shadow-hover transition-all duration-300 cursor-pointer border-border/50 hover:border-muted-foreground/50 group",onClick:()=>s("/host/settings"),children:o.jsxs(ve,{className:"space-y-3",children:[o.jsx("div",{className:"w-14 h-14 rounded-xl bg-muted/10 flex items-center justify-center group-hover:scale-110 transition-transform",children:o.jsx(a_,{className:"w-7 h-7 text-muted-foreground"})}),o.jsx(ye,{className:"group-hover:text-muted-foreground transition-colors",children:"Settings"}),o.jsx(ze,{children:"Manage your account preferences"})]})})]}),o.jsx(HJ,{})]}),o.jsx(ur,{open:l,onOpenChange:c,children:o.jsxs(Hn,{children:[o.jsxs(qn,{children:[o.jsx(Kn,{children:"Sign Out"}),o.jsx(Yn,{children:"Are you sure you want to sign out? You'll need to sign in again to access your account."})]}),o.jsxs(Gn,{children:[o.jsx(Xn,{children:"Cancel"}),o.jsx(Qn,{onClick:d,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Sign Out"})]})]})})]})},GJ="modulepreload",KJ=function(t){return"/"+t},pk={},An=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=KJ(c),c in pk)return;pk[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":GJ,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((p,g)=>{f.addEventListener("load",p),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},mo=({listing:t,onView:e,onFavorite:n,onWishlist:r,isFavorite:s,isInWishlist:i})=>{var a;return o.jsxs(ce,{className:"group relative overflow-hidden border-0 shadow-sm hover:shadow-xl transition-all duration-500 hover:-translate-y-1 h-full flex flex-col",children:[o.jsxs("div",{className:"relative h-56 overflow-hidden",children:[o.jsx("img",{src:((a=t.images)==null?void 0:a[0])||"/placeholder.svg",alt:t.title,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110",loading:"lazy"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),o.jsxs("div",{className:"absolute top-3 right-3 flex gap-2 z-10",children:[r&&o.jsx(ie,{variant:"ghost",size:"icon",className:"bg-white/90 backdrop-blur-sm hover:bg-white hover:scale-110 transition-all duration-300 shadow-lg",onClick:l=>{l.stopPropagation(),r()},title:i?"Remove from wishlist":"Add to wishlist",children:o.jsx(pu,{className:`h-5 w-5 transition-all ${i?"fill-blue-500 text-blue-500 scale-110":"text-gray-700"}`})}),n&&o.jsx(ie,{variant:"ghost",size:"icon",className:"bg-white/90 backdrop-blur-sm hover:bg-white hover:scale-110 transition-all duration-300 shadow-lg",onClick:l=>{l.stopPropagation(),n()},title:s?"Remove from favorites":"Add to favorites",children:o.jsx(_a,{className:`h-5 w-5 transition-all ${s?"fill-red-500 text-red-500 scale-110":"text-gray-700"}`})})]}),o.jsx(Sn,{className:"absolute top-3 left-3 bg-white/95 backdrop-blur-sm text-gray-900 font-semibold shadow-lg capitalize z-10 border border-white/20 px-3 py-1",children:t.category}),o.jsxs("div",{className:"absolute bottom-3 right-3 bg-white/95 backdrop-blur-sm px-3 py-1.5 rounded-full shadow-lg z-10 border border-white/20",children:[o.jsx("span",{className:"text-lg font-bold text-gray-900",children:Qe(t.price)}),o.jsx("span",{className:"text-xs text-gray-700 font-medium",children:"/night"})]})]}),o.jsxs(Se,{className:"p-5 flex-1 flex flex-col",children:[o.jsx("h3",{className:"font-semibold text-lg mb-2 line-clamp-1 group-hover:text-primary transition-colors text-foreground",children:t.title}),o.jsxs("div",{className:"flex items-center text-sm text-foreground/90 mb-3",children:[o.jsx(o_,{className:"h-4 w-4 mr-1.5 flex-shrink-0 text-foreground/80"}),o.jsx("span",{className:"line-clamp-1",children:t.location})]}),o.jsx("p",{className:"text-sm text-foreground/85 line-clamp-2 mb-4 leading-relaxed flex-1",children:t.description}),o.jsx("div",{className:"flex items-center justify-between pt-3 border-t border-border/50 mt-auto",children:o.jsxs("div",{className:"flex items-center gap-4 text-xs text-foreground/90 font-medium",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(ca,{className:"h-3.5 w-3.5 fill-yellow-400 text-yellow-400"}),o.jsxs("span",{children:[t.averageRating&&t.averageRating>0?t.averageRating.toFixed(1):"New",t.reviewCount&&t.reviewCount>0&&o.jsxs("span",{className:"text-foreground/60 ml-1",children:["(",t.reviewCount,")"]})]})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Pl,{className:"h-3.5 w-3.5 text-foreground/80"}),o.jsxs("span",{children:[t.maxGuests," guests"]})]})]})})]}),e&&o.jsx(kO,{className:"px-5 pb-5 pt-0 mt-auto",children:o.jsx(ie,{className:"w-full h-11",onClick:e,children:"View Details"})})]})},rL=async(t,e=6)=>{try{const n=await Gt(vt(et(he,"bookings"),yt("guestId","==",t)));if(n.empty)return gk(e);const r=n.docs.map(_=>_.data()),s=[...new Set(r.map(_=>_.listingId))],i=r.map(_=>_.listingId),a=[];for(const _ of i){const v=await St($e(he,"listing",_));v.exists()&&a.push({id:v.id,...v.data()})}const l=a.map(_=>_.category),c=a.map(_=>_.location.toLowerCase()),u=a.reduce((_,v)=>_+v.price,0)/a.length,d={min:u*.7,max:u*1.5};return(await Gt(vt(et(he,"listing"),yt("status","==","approved")))).docs.map(_=>({id:_.id,..._.data()})).filter(_=>!i.includes(_.id)).map(_=>{let v=0;l.includes(_.category)&&(v+=3);const w=_.location.toLowerCase();return c.forEach(b=>{(w.includes(b.split(",")[0])||b.includes(w.split(",")[0]))&&(v+=2)}),_.price>=d.min&&_.price<=d.max&&(v+=1),_.images&&_.images.length>3&&(v+=.5),{listing:_,score:v}}).sort((_,v)=>v.score-_.score).slice(0,e).map(_=>_.listing)}catch(n){return console.error("Error getting recommendations:",n),gk(e)}},gk=async t=>{try{return(await Gt(vt(et(he,"listing"),yt("status","==","approved")))).docs.map(r=>({id:r.id,...r.data()})).sort((r,s)=>new Date(s.createdAt).getTime()-new Date(r.createdAt).getTime()).slice(0,t)}catch(e){return console.error("Error getting popular listings:",e),[]}},YJ=async(t,e=4)=>{try{const n=await St($e(he,"listing",t));if(!n.exists())return[];const r={id:n.id,...n.data()};return(await Gt(vt(et(he,"listing"),yt("status","==","approved")))).docs.map(a=>({id:a.id,...a.data()})).filter(a=>a.id!==t).map(a=>{let l=0;a.category===r.category&&(l+=3);const c=r.location.toLowerCase(),u=a.location.toLowerCase();return(u.includes(c.split(",")[0])||c.includes(u.split(",")[0]))&&(l+=2),Math.abs(a.price-r.price)/r.price<=.3&&(l+=1),{listing:a,score:l}}).sort((a,l)=>l.score-a.score).slice(0,e).map(a=>a.listing)}catch(n){return console.error("Error getting similar listings:",n),[]}},QJ=Object.freeze(Object.defineProperty({__proto__:null,getRecommendations:rL,getSimilarListings:YJ},Symbol.toStringTag,{value:"Module"})),XJ="/videos/landing-hero.mp4",ZJ=()=>{const{user:t,userRole:e,userProfile:n,signOut:r}=Dt(),s=gt(),[i,a]=m.useState({favorites:0,wishlist:0,upcomingTrips:0,pastBookings:0,walletBalance:0}),[l,c]=m.useState([]),[u,d]=m.useState([]),[f,p]=m.useState(!0),[g,_]=m.useState(!1);m.useEffect(()=>{if(!t||e!=="guest"){s("/guest/login");return}v();const y=ps($e(he,"users",t.uid),j=>{if(j.exists()){const P=j.data();a(D=>{var S,N;return{...D,favorites:((S=P.favorites)==null?void 0:S.length)||0,wishlist:((N=P.wishlist)==null?void 0:N.length)||0,walletBalance:P.walletBalance||0}}),d(P.favorites||[])}});return()=>{y()}},[t,e,s]);const v=async()=>{if(t){p(!0);try{const y=await yo({guestId:t.uid}),j=new Date,P=y.filter(N=>new Date(N.checkIn)>=j&&N.status==="confirmed").length,D=y.filter(N=>new Date(N.checkOut)<j||N.status==="completed").length;a(N=>({...N,upcomingTrips:P,pastBookings:D}));const S=await rL(t.uid,6);if(S.length>0){const N=S.map(I=>I.id),T=await T1(N),C=S.map(I=>{const A=T.get(I.id);return{...I,averageRating:(A==null?void 0:A.averageRating)||0,reviewCount:(A==null?void 0:A.reviewCount)||0}});c(C)}else c(S)}catch(y){console.error("Error loading dashboard data:",y)}finally{p(!1)}}},w=async y=>{if(!t){B.error("Please login to add favorites");return}try{const j=await Pf(t.uid,y,u);d(j),B.success(j.includes(y)?"Added to favorites":"Removed from favorites")}catch{B.error("Failed to update favorites")}},b=async y=>{if(!t){B.error("Please login to add to wishlist");return}try{const{toggleWishlist:j}=await An(async()=>{const{toggleWishlist:N}=await Promise.resolve().then(()=>Si);return{toggleWishlist:N}},void 0),P=await St($e(he,"users",t.uid)),D=P.exists()?P.data().wishlist||[]:[],S=await j(t.uid,y,D);B.success(S.includes(y)?"Added to wishlist":"Removed from wishlist")}catch{B.error("Failed to update wishlist")}},x=async()=>{await r(),s("/")};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"sticky top-0 z-50 border-b bg-card/95 backdrop-blur supports-[backdrop-filter]:bg-card/60 shadow-soft",children:o.jsxs("div",{className:"container mx-auto px-6 py-4 flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Zs,{size:"sm"}),o.jsx("div",{className:"p-2 rounded-lg bg-secondary/10",children:o.jsx(lf,{className:"w-5 h-5 text-secondary"})}),o.jsxs("div",{children:[o.jsxs("h1",{className:"text-lg font-bold",children:["Welcome, ",(n==null?void 0:n.fullName)||"Guest","!"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Discover your next adventure"})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Nr,{}),o.jsx(ie,{variant:"outline",onClick:()=>_(!0),children:"Sign Out"})]})]})}),o.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsxs("div",{className:"relative mb-8 rounded-xl overflow-hidden h-64 md:h-80 lg:h-96 shadow-lg",children:[o.jsx(Yu,{src:XJ,overlay:!0,fallbackImage:BM}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-black/60 via-black/40 to-black/60 z-10"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent z-10"}),o.jsxs("div",{className:"relative z-20 h-full flex flex-col items-center justify-center text-center px-6",children:[o.jsx("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold mb-4 text-white drop-shadow-2xl",children:"Discover Your Next Adventure"}),o.jsxs("p",{className:"text-lg md:text-xl text-white/90 mb-6 max-w-2xl drop-shadow-lg",children:["Welcome back, ",(n==null?void 0:n.fullName)||"Guest","! Ready to explore amazing places?"]}),o.jsx(ie,{size:"lg",className:"h-12 px-8 text-lg bg-primary hover:bg-primary/90 shadow-2xl hover:shadow-2xl hover:scale-105 transition-all",onClick:()=>s("/guest/browse"),children:"Browse All Listings"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[o.jsxs(ce,{className:"relative overflow-hidden border-0 shadow-md hover:shadow-xl transition-all duration-300 group",children:[o.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-primary via-secondary to-accent"}),o.jsx(ve,{className:"pb-3",children:o.jsx(ye,{className:"text-sm font-medium text-muted-foreground uppercase tracking-wide",children:"Favorites"})}),o.jsx(Se,{children:o.jsx("div",{className:"text-3xl font-bold bg-gradient-to-br from-primary to-primary-glow bg-clip-text text-transparent",children:i.favorites})})]}),o.jsxs(ce,{className:"relative overflow-hidden border-0 shadow-md hover:shadow-xl transition-all duration-300 group",children:[o.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-blue-500 via-blue-400 to-blue-300"}),o.jsx(ve,{className:"pb-3",children:o.jsx(ye,{className:"text-sm font-medium text-muted-foreground uppercase tracking-wide",children:"Wishlist"})}),o.jsx(Se,{children:o.jsx("div",{className:"text-3xl font-bold bg-gradient-to-br from-blue-500 to-blue-600 bg-clip-text text-transparent",children:i.wishlist})})]}),o.jsxs(ce,{className:"relative overflow-hidden border-0 shadow-md hover:shadow-xl transition-all duration-300 group cursor-pointer",onClick:()=>s("/guest/bookings?filter=upcoming"),children:[o.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-secondary via-primary to-accent"}),o.jsx(ve,{className:"pb-3",children:o.jsx(ye,{className:"text-sm font-medium text-muted-foreground uppercase tracking-wide",children:"Upcoming Trips"})}),o.jsx(Se,{children:o.jsx("div",{className:"text-3xl font-bold bg-gradient-to-br from-secondary to-secondary/80 bg-clip-text text-transparent",children:i.upcomingTrips})})]}),o.jsxs(ce,{className:"relative overflow-hidden border-0 shadow-md hover:shadow-xl transition-all duration-300 group",children:[o.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-accent via-primary to-secondary"}),o.jsx(ve,{className:"pb-3",children:o.jsx(ye,{className:"text-sm font-medium text-muted-foreground uppercase tracking-wide",children:"Past Bookings"})}),o.jsx(Se,{children:o.jsx("div",{className:"text-3xl font-bold",children:i.pastBookings})})]}),o.jsxs(ce,{className:"relative overflow-hidden border-0 shadow-md hover:shadow-xl transition-all duration-300 group",children:[o.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-accent via-green-500 to-green-600"}),o.jsx(ve,{className:"pb-3",children:o.jsx(ye,{className:"text-sm font-medium text-muted-foreground uppercase tracking-wide",children:"Wallet Balance"})}),o.jsx(Se,{children:o.jsx("div",{className:"text-3xl font-bold text-accent",children:Qe(i.walletBalance)})})]})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h3",{className:"text-2xl font-bold mb-6",children:"Browse Categories"}),o.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[o.jsx(Xc,{videoSrc:"/videos/category-home.mp4",fallbackImage:zM,icon:Ea,title:"Homes",description:"Find your perfect stay",href:"/guest/browse?category=home",colorClass:"primary"}),o.jsx(Xc,{videoSrc:"/videos/category-experience.mp4",fallbackImage:WM,icon:bP,title:"Experiences",description:"Discover unique activities",href:"/guest/browse?category=experience",colorClass:"secondary"}),o.jsx(Xc,{videoSrc:"/videos/category-service.mp4",fallbackImage:HM,icon:CP,title:"Services",description:"Professional assistance",href:"/guest/browse?category=service",colorClass:"accent"})]})]}),l.length>0&&o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(q9,{className:"w-6 h-6 text-primary"}),o.jsx("h3",{className:"text-2xl font-bold",children:"Recommended for You"})]}),o.jsx(ie,{variant:"outline",onClick:()=>s("/guest/browse"),children:"View All"})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 items-stretch",children:l.slice(0,3).map(y=>o.jsx(mo,{listing:y,onView:()=>s(`/guest/listing/${y.id}`),onFavorite:()=>w(y.id),onWishlist:()=>b(y.id),isFavorite:u.includes(y.id)},y.id))})]}),o.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx(ce,{className:"shadow-medium hover:shadow-hover transition-smooth cursor-pointer",onClick:()=>s("/guest/settings?tab=favorites"),children:o.jsxs(ve,{children:[o.jsx(_a,{className:"w-8 h-8 text-primary mb-2"}),o.jsx(ye,{children:"Favorites"}),o.jsx(ze,{children:"Your saved listings"})]})}),o.jsx(ce,{className:"shadow-medium hover:shadow-hover transition-smooth cursor-pointer",onClick:()=>s("/guest/bookings"),children:o.jsxs(ve,{children:[o.jsx(Jn,{className:"w-8 h-8 text-secondary mb-2"}),o.jsx(ye,{children:"My Bookings"}),o.jsx(ze,{children:"View your trips"})]})}),o.jsx(ce,{className:"shadow-medium hover:shadow-hover transition-smooth cursor-pointer",onClick:()=>s("/guest/wallet"),children:o.jsxs(ve,{children:[o.jsx(u_,{className:"w-8 h-8 text-accent mb-2"}),o.jsx(ye,{children:"E-Wallet"}),o.jsx(ze,{children:"Manage your balance"})]})}),o.jsx(ce,{className:"shadow-medium hover:shadow-hover transition-smooth cursor-pointer",onClick:()=>s("/guest/settings"),children:o.jsxs(ve,{children:[o.jsx(a_,{className:"w-8 h-8 text-muted-foreground mb-2"}),o.jsx(ye,{children:"Settings"}),o.jsx(ze,{children:"Account preferences"})]})})]})]}),o.jsx(ur,{open:g,onOpenChange:_,children:o.jsxs(Hn,{children:[o.jsxs(qn,{children:[o.jsx(Kn,{children:"Sign Out"}),o.jsx(Yn,{children:"Are you sure you want to sign out? You'll need to sign in again to access your account."})]}),o.jsxs(Gn,{children:[o.jsx(Xn,{children:"Cancel"}),o.jsx(Qn,{onClick:x,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Sign Out"})]})]})})]})},JJ=()=>{const{user:t,userRole:e,userProfile:n,signOut:r}=Dt(),s=gt(),[i,a]=m.useState({totalUsers:0,totalHosts:0,totalGuests:0,totalAdmins:0,activeListings:0,totalBookings:0,cancelledBookings:0,serviceFees:0}),[l,c]=m.useState(!1);m.useEffect(()=>{if(!t||e!=="admin"){s("/admin/login");return}let d=null,f=null,p=null;return d=ps(et(he,"users"),g=>{const _=g.docs.map(x=>{const y=x.data();return{id:x.id,email:y.email,role:y.role,fullName:y.fullName,...y}});console.log(" All users fetched:",_.length),console.log(" User details:",_.map(x=>({id:x.id,email:x.email||"N/A",role:x.role||"unknown",fullName:x.fullName||"N/A"})));const v=_.filter(x=>x.role==="host").length,w=_.filter(x=>x.role==="guest").length,b=_.filter(x=>x.role==="admin").length;console.log(" Count breakdown:",{hosts:v,guests:w,admins:b,total:_.length}),a(x=>({...x,totalUsers:g.size,totalHosts:v,totalGuests:w,totalAdmins:b}))},g=>{console.error(" Error fetching users:",g),B.error(`Failed to load users: ${g.message}`)}),f=ps(et(he,"listing"),g=>{const _=g.docs.filter(v=>v.data().status==="approved").length;a(v=>({...v,activeListings:_}))},g=>{console.error("Error fetching listings:",g),B.error(`Failed to load listings: ${g.message}`)}),p=ps(et(he,"bookings"),g=>{const _=g.docs.map(y=>y.data()),v=_.filter(y=>y.status==="confirmed"||y.status==="completed"),w=_.filter(y=>y.status==="cancelled"),x=v.reduce((y,j)=>y+(j.totalPrice||0),0)*.1;a(y=>({...y,totalBookings:g.size,cancelledBookings:w.length,serviceFees:x}))},g=>{console.error("Error fetching bookings:",g),B.error(`Failed to load bookings: ${g.message}`)}),()=>{d&&d(),f&&f(),p&&p()}},[t,e,s]);const u=async()=>{await r(),s("/")};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"sticky top-0 z-50 border-b bg-card/95 backdrop-blur supports-[backdrop-filter]:bg-card/60 shadow-soft",children:o.jsxs("div",{className:"container mx-auto px-6 py-4 flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Zs,{size:"sm"}),o.jsx("div",{className:"p-2 rounded-lg bg-accent/10",children:o.jsx(ws,{className:"w-5 h-5 text-accent"})}),o.jsxs("div",{children:[o.jsxs("h1",{className:"text-lg font-bold",children:["Welcome, ",(n==null?void 0:n.fullName)||"Admin","!"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Platform management"})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Nr,{}),o.jsx(ie,{variant:"outline",onClick:()=>c(!0),children:"Sign Out"})]})]})}),o.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsxs("div",{className:"mb-8 p-6 rounded-xl bg-gradient-accent text-white",children:[o.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Platform Overview"}),o.jsxs("p",{className:"text-white/90",children:["Welcome back, ",(n==null?void 0:n.fullName)||"Admin","!"]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[o.jsxs(ce,{className:"shadow-soft",children:[o.jsx(ve,{className:"pb-3",children:o.jsx(ye,{className:"text-sm font-medium text-muted-foreground",children:"Total Users"})}),o.jsxs(Se,{children:[o.jsx("div",{className:"text-2xl font-bold",children:i.totalUsers}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[i.totalHosts," hosts, ",i.totalGuests," guests",i.totalAdmins>0?`, ${i.totalAdmins} admin${i.totalAdmins>1?"s":""}`:""]})]})]}),o.jsxs(ce,{className:"shadow-soft",children:[o.jsx(ve,{className:"pb-3",children:o.jsx(ye,{className:"text-sm font-medium text-muted-foreground",children:"Active Listings"})}),o.jsx(Se,{children:o.jsx("div",{className:"text-2xl font-bold",children:i.activeListings})})]}),o.jsxs(ce,{className:"shadow-soft",children:[o.jsx(ve,{className:"pb-3",children:o.jsx(ye,{className:"text-sm font-medium text-muted-foreground",children:"Total Bookings"})}),o.jsx(Se,{children:o.jsx("div",{className:"text-2xl font-bold",children:i.totalBookings})})]}),o.jsxs(ce,{className:"shadow-soft",children:[o.jsx(ve,{className:"pb-3",children:o.jsx(ye,{className:"text-sm font-medium text-muted-foreground",children:"Service Fees"})}),o.jsxs(Se,{children:[o.jsx("div",{className:"text-2xl font-bold text-accent",children:Qe(i.serviceFees)}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"10% commission"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[o.jsx(ce,{className:"shadow-medium hover:shadow-hover transition-smooth cursor-pointer",onClick:()=>s("/admin/users"),children:o.jsxs(ve,{children:[o.jsx(Pl,{className:"w-8 h-8 text-primary mb-2"}),o.jsx(ye,{children:"User Management"}),o.jsx(ze,{children:"Manage hosts, guests, and permissions"})]})}),o.jsx(ce,{className:"shadow-medium hover:shadow-hover transition-smooth cursor-pointer",onClick:()=>s("/admin/listings"),children:o.jsxs(ve,{children:[o.jsx(Ea,{className:"w-8 h-8 text-primary mb-2"}),o.jsx(ye,{children:"Listings Review"}),o.jsx(ze,{children:"Approve and moderate listings"})]})}),o.jsx(ce,{className:"shadow-medium hover:shadow-hover transition-smooth cursor-pointer",onClick:()=>s("/admin/payments"),children:o.jsxs(ve,{children:[o.jsx(of,{className:"w-8 h-8 text-accent mb-2"}),o.jsx(ye,{children:"Payment Management"}),o.jsx(ze,{children:"Review and confirm payments"})]})}),o.jsx(ce,{className:"shadow-medium hover:shadow-hover transition-smooth cursor-pointer",onClick:()=>s("/admin/analytics"),children:o.jsxs(ve,{children:[o.jsx(Rl,{className:"w-8 h-8 text-secondary mb-2"}),o.jsx(ye,{children:"Analytics"}),o.jsx(ze,{children:"View platform performance metrics"})]})}),o.jsx(ce,{className:"shadow-medium hover:shadow-hover transition-smooth cursor-pointer",onClick:()=>s("/admin/reports"),children:o.jsxs(ve,{children:[o.jsx(af,{className:"w-8 h-8 text-secondary mb-2"}),o.jsx(ye,{children:"Reports"}),o.jsx(ze,{children:"Generate platform reports"})]})}),o.jsx(ce,{className:"shadow-medium hover:shadow-hover transition-smooth cursor-pointer",onClick:()=>s("/admin/policies"),children:o.jsxs(ve,{children:[o.jsx(a_,{className:"w-8 h-8 text-muted-foreground mb-2"}),o.jsx(ye,{children:"Policies & Settings"}),o.jsx(ze,{children:"Manage platform policies"})]})})]}),o.jsxs(ce,{className:"shadow-medium",children:[o.jsxs(ve,{children:[o.jsx(ye,{children:"Recent Activity"}),o.jsx(ze,{children:"Latest platform events"})]}),o.jsx(Se,{children:o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(i_,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No recent activity to display"})]})})]})]}),o.jsx(ur,{open:l,onOpenChange:c,children:o.jsxs(Hn,{children:[o.jsxs(qn,{children:[o.jsx(Kn,{children:"Sign Out"}),o.jsx(Yn,{children:"Are you sure you want to sign out? You'll need to sign in again to access your account."})]}),o.jsxs(Gn,{children:[o.jsx(Xn,{children:"Cancel"}),o.jsx(Qn,{onClick:u,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Sign Out"})]})]})})]})};var Vf=t=>t.type==="checkbox",ml=t=>t instanceof Date,gr=t=>t==null;const sL=t=>typeof t=="object";var dn=t=>!gr(t)&&!Array.isArray(t)&&sL(t)&&!ml(t),iL=t=>dn(t)&&t.target?Vf(t.target)?t.target.checked:t.target.value:t,eee=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,oL=(t,e)=>t.has(eee(e)),tee=t=>{const e=t.constructor&&t.constructor.prototype;return dn(e)&&e.hasOwnProperty("isPrototypeOf")},X1=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function En(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(X1&&(t instanceof Blob||r))&&(n||dn(t)))if(e=n?[]:{},!n&&!tee(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=En(t[s]));else return t;return e}var Jv=t=>/^\w*$/.test(t),cn=t=>t===void 0,Z1=t=>Array.isArray(t)?t.filter(Boolean):[],J1=t=>Z1(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Ce=(t,e,n)=>{if(!e||!dn(t))return n;const r=(Jv(e)?[e]:J1(e)).reduce((s,i)=>gr(s)?s:s[i],t);return cn(r)||r===t?cn(t[e])?n:t[e]:r},Gr=t=>typeof t=="boolean",Tt=(t,e,n)=>{let r=-1;const s=Jv(e)?[e]:J1(e),i=s.length,a=i-1;for(;++r<i;){const l=s[r];let c=n;if(r!==a){const u=t[l];c=dn(u)||Array.isArray(u)?u:isNaN(+s[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}};const bg={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ds={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},$i={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},eE=te.createContext(null);eE.displayName="HookFormContext";const ey=()=>te.useContext(eE),nee=t=>{const{children:e,...n}=t;return te.createElement(eE.Provider,{value:n},e)};var aL=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const a=i;return e._proxyFormState[a]!==Ds.all&&(e._proxyFormState[a]=!r||Ds.all),n&&(n[a]=!0),t[a]}});return s};const tE=typeof window<"u"?te.useLayoutEffect:te.useEffect;function ree(t){const e=ey(),{control:n=e.control,disabled:r,name:s,exact:i}=t||{},[a,l]=te.useState(n._formState),c=te.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return tE(()=>n._subscribe({name:s,formState:c.current,exact:i,callback:u=>{!r&&l({...n._formState,...u})}}),[s,r,i]),te.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),te.useMemo(()=>aL(a,n,c.current,!1),[a,n])}var pi=t=>typeof t=="string",lL=(t,e,n,r,s)=>pi(t)?(r&&e.watch.add(t),Ce(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),Ce(n,i))):(r&&(e.watchAll=!0),n),O0=t=>gr(t)||!sL(t);function Gi(t,e,n=new WeakSet){if(O0(t)||O0(e))return t===e;if(ml(t)&&ml(e))return t.getTime()===e.getTime();const r=Object.keys(t),s=Object.keys(e);if(r.length!==s.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const i of r){const a=t[i];if(!s.includes(i))return!1;if(i!=="ref"){const l=e[i];if(ml(a)&&ml(l)||dn(a)&&dn(l)||Array.isArray(a)&&Array.isArray(l)?!Gi(a,l,n):a!==l)return!1}}return!0}function see(t){const e=ey(),{control:n=e.control,name:r,defaultValue:s,disabled:i,exact:a,compute:l}=t||{},c=te.useRef(s),u=te.useRef(l),d=te.useRef(void 0);u.current=l;const f=te.useMemo(()=>n._getWatch(r,c.current),[n,r]),[p,g]=te.useState(u.current?u.current(f):f);return tE(()=>n._subscribe({name:r,formState:{values:!0},exact:a,callback:_=>{if(!i){const v=lL(r,n._names,_.values||n._formValues,!1,c.current);if(u.current){const w=u.current(v);Gi(w,d.current)||(g(w),d.current=w)}else g(v)}}}),[n,i,r,a]),te.useEffect(()=>n._removeUnmounted()),p}function iee(t){const e=ey(),{name:n,disabled:r,control:s=e.control,shouldUnregister:i,defaultValue:a}=t,l=oL(s._names.array,n),c=te.useMemo(()=>Ce(s._formValues,n,Ce(s._defaultValues,n,a)),[s,n,a]),u=see({control:s,name:n,defaultValue:c,exact:!0}),d=ree({control:s,name:n,exact:!0}),f=te.useRef(t),p=te.useRef(s.register(n,{...t.rules,value:u,...Gr(t.disabled)?{disabled:t.disabled}:{}}));f.current=t;const g=te.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ce(d.errors,n)},isDirty:{enumerable:!0,get:()=>!!Ce(d.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Ce(d.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Ce(d.validatingFields,n)},error:{enumerable:!0,get:()=>Ce(d.errors,n)}}),[d,n]),_=te.useCallback(x=>p.current.onChange({target:{value:iL(x),name:n},type:bg.CHANGE}),[n]),v=te.useCallback(()=>p.current.onBlur({target:{value:Ce(s._formValues,n),name:n},type:bg.BLUR}),[n,s._formValues]),w=te.useCallback(x=>{const y=Ce(s._fields,n);y&&x&&(y._f.ref={focus:()=>x.focus&&x.focus(),select:()=>x.select&&x.select(),setCustomValidity:j=>x.setCustomValidity(j),reportValidity:()=>x.reportValidity()})},[s._fields,n]),b=te.useMemo(()=>({name:n,value:u,...Gr(r)||d.disabled?{disabled:d.disabled||r}:{},onChange:_,onBlur:v,ref:w}),[n,r,d.disabled,_,v,w,u]);return te.useEffect(()=>{const x=s._options.shouldUnregister||i;s.register(n,{...f.current.rules,...Gr(f.current.disabled)?{disabled:f.current.disabled}:{}});const y=(j,P)=>{const D=Ce(s._fields,j);D&&D._f&&(D._f.mount=P)};if(y(n,!0),x){const j=En(Ce(s._options.defaultValues,n));Tt(s._defaultValues,n,j),cn(Ce(s._formValues,n))&&Tt(s._formValues,n,j)}return!l&&s.register(n),()=>{(l?x&&!s._state.action:x)?s.unregister(n):y(n,!1)}},[n,s,l,i]),te.useEffect(()=>{s._setDisabledField({disabled:r,name:n})},[r,n,s]),te.useMemo(()=>({field:b,formState:d,fieldState:g}),[b,d,g])}const oee=t=>t.render(iee(t));var cL=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},rh=t=>Array.isArray(t)?t:[t],vk=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},Ir=t=>dn(t)&&!Object.keys(t).length,nE=t=>t.type==="file",Os=t=>typeof t=="function",_g=t=>{if(!X1)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},uL=t=>t.type==="select-multiple",rE=t=>t.type==="radio",aee=t=>rE(t)||Vf(t),Ix=t=>_g(t)&&t.isConnected;function lee(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=cn(t)?r++:t[e[r++]];return t}function cee(t){for(const e in t)if(t.hasOwnProperty(e)&&!cn(t[e]))return!1;return!0}function fn(t,e){const n=Array.isArray(e)?e:Jv(e)?[e]:J1(e),r=n.length===1?t:lee(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(dn(r)&&Ir(r)||Array.isArray(r)&&cee(r))&&fn(t,n.slice(0,-1)),t}var dL=t=>{for(const e in t)if(Os(t[e]))return!0;return!1};function Eg(t,e={}){const n=Array.isArray(t);if(dn(t)||n)for(const r in t)Array.isArray(t[r])||dn(t[r])&&!dL(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Eg(t[r],e[r])):gr(t[r])||(e[r]=!0);return e}function hL(t,e,n){const r=Array.isArray(t);if(dn(t)||r)for(const s in t)Array.isArray(t[s])||dn(t[s])&&!dL(t[s])?cn(e)||O0(n[s])?n[s]=Array.isArray(t[s])?Eg(t[s],[]):{...Eg(t[s])}:hL(t[s],gr(e)?{}:e[s],n[s]):n[s]=!Gi(t[s],e[s]);return n}var _d=(t,e)=>hL(t,e,Eg(e));const yk={value:!1,isValid:!1},xk={value:!0,isValid:!0};var fL=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!cn(t[0].attributes.value)?cn(t[0].value)||t[0].value===""?xk:{value:t[0].value,isValid:!0}:xk:yk}return yk},mL=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>cn(t)?t:e?t===""?NaN:t&&+t:n&&pi(t)?new Date(t):r?r(t):t;const wk={isValid:!1,value:null};var pL=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,wk):wk;function bk(t){const e=t.ref;return nE(e)?e.files:rE(e)?pL(t.refs).value:uL(e)?[...e.selectedOptions].map(({value:n})=>n):Vf(e)?fL(t.refs).value:mL(cn(e.value)?t.ref.value:e.value,t)}var uee=(t,e,n,r)=>{const s={};for(const i of t){const a=Ce(e,i);a&&Tt(s,i,a._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},Ng=t=>t instanceof RegExp,Ed=t=>cn(t)?t:Ng(t)?t.source:dn(t)?Ng(t.value)?t.value.source:t.value:t,_k=t=>({isOnSubmit:!t||t===Ds.onSubmit,isOnBlur:t===Ds.onBlur,isOnChange:t===Ds.onChange,isOnAll:t===Ds.all,isOnTouch:t===Ds.onTouched});const Ek="AsyncFunction";var dee=t=>!!t&&!!t.validate&&!!(Os(t.validate)&&t.validate.constructor.name===Ek||dn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===Ek)),hee=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),Nk=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const sh=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=Ce(t,s);if(i){const{_f:a,...l}=i;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],s)&&!r)return!0;if(a.ref&&e(a.ref,a.name)&&!r)return!0;if(sh(l,e))break}else if(dn(l)&&sh(l,e))break}}};function Sk(t,e,n){const r=Ce(t,n);if(r||Jv(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),a=Ce(e,i),l=Ce(t,i);if(a&&!Array.isArray(a)&&n!==i)return{name:n};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};s.pop()}return{name:n}}var fee=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return Ir(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(a=>e[a]===(!r||Ds.all))},mee=(t,e,n)=>!t||!e||t===e||rh(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),pee=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,gee=(t,e)=>!Z1(Ce(t,e)).length&&fn(t,e),vee=(t,e,n)=>{const r=rh(Ce(t,n));return Tt(r,"root",e[n]),Tt(t,n,r),t},hp=t=>pi(t);function jk(t,e,n="validate"){if(hp(t)||Array.isArray(t)&&t.every(hp)||Gr(t)&&!t)return{type:n,message:hp(t)?t:"",ref:e}}var fc=t=>dn(t)&&!Ng(t)?t:{value:t,message:""},Ck=async(t,e,n,r,s,i)=>{const{ref:a,refs:l,required:c,maxLength:u,minLength:d,min:f,max:p,pattern:g,validate:_,name:v,valueAsNumber:w,mount:b}=t._f,x=Ce(n,v);if(!b||e.has(v))return{};const y=l?l[0]:a,j=A=>{s&&y.reportValidity&&(y.setCustomValidity(Gr(A)?"":A||""),y.reportValidity())},P={},D=rE(a),S=Vf(a),N=D||S,T=(w||nE(a))&&cn(a.value)&&cn(x)||_g(a)&&a.value===""||x===""||Array.isArray(x)&&!x.length,C=cL.bind(null,v,r,P),I=(A,R,z,F=$i.maxLength,H=$i.minLength)=>{const q=A?R:z;P[v]={type:A?F:H,message:q,ref:a,...C(A?F:H,q)}};if(i?!Array.isArray(x)||!x.length:c&&(!N&&(T||gr(x))||Gr(x)&&!x||S&&!fL(l).isValid||D&&!pL(l).isValid)){const{value:A,message:R}=hp(c)?{value:!!c,message:c}:fc(c);if(A&&(P[v]={type:$i.required,message:R,ref:y,...C($i.required,R)},!r))return j(R),P}if(!T&&(!gr(f)||!gr(p))){let A,R;const z=fc(p),F=fc(f);if(!gr(x)&&!isNaN(x)){const H=a.valueAsNumber||x&&+x;gr(z.value)||(A=H>z.value),gr(F.value)||(R=H<F.value)}else{const H=a.valueAsDate||new Date(x),q=ee=>new Date(new Date().toDateString()+" "+ee),L=a.type=="time",V=a.type=="week";pi(z.value)&&x&&(A=L?q(x)>q(z.value):V?x>z.value:H>new Date(z.value)),pi(F.value)&&x&&(R=L?q(x)<q(F.value):V?x<F.value:H<new Date(F.value))}if((A||R)&&(I(!!A,z.message,F.message,$i.max,$i.min),!r))return j(P[v].message),P}if((u||d)&&!T&&(pi(x)||i&&Array.isArray(x))){const A=fc(u),R=fc(d),z=!gr(A.value)&&x.length>+A.value,F=!gr(R.value)&&x.length<+R.value;if((z||F)&&(I(z,A.message,R.message),!r))return j(P[v].message),P}if(g&&!T&&pi(x)){const{value:A,message:R}=fc(g);if(Ng(A)&&!x.match(A)&&(P[v]={type:$i.pattern,message:R,ref:a,...C($i.pattern,R)},!r))return j(R),P}if(_){if(Os(_)){const A=await _(x,n),R=jk(A,y);if(R&&(P[v]={...R,...C($i.validate,R.message)},!r))return j(R.message),P}else if(dn(_)){let A={};for(const R in _){if(!Ir(A)&&!r)break;const z=jk(await _[R](x,n),y,R);z&&(A={...z,...C(R,z.message)},j(z.message),r&&(P[v]=A))}if(!Ir(A)&&(P[v]={ref:y,...A},!r))return P}}return j(!0),P};const yee={mode:Ds.onSubmit,reValidateMode:Ds.onChange,shouldFocusError:!0};function xee(t={}){let e={...yee,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Os(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=dn(e.defaultValues)||dn(e.values)?En(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:En(s),a={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const p={array:vk(),state:vk()},g=e.criteriaMode===Ds.all,_=M=>$=>{clearTimeout(u),u=setTimeout(M,$)},v=async M=>{if(!e.disabled&&(d.isValid||f.isValid||M)){const $=e.resolver?Ir((await S()).errors):await T(r,!0);$!==n.isValid&&p.state.next({isValid:$})}},w=(M,$)=>{!e.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((M||Array.from(l.mount)).forEach(G=>{G&&($?Tt(n.validatingFields,G,$):fn(n.validatingFields,G))}),p.state.next({validatingFields:n.validatingFields,isValidating:!Ir(n.validatingFields)}))},b=(M,$=[],G,me,pe=!0,oe=!0)=>{if(me&&G&&!e.disabled){if(a.action=!0,oe&&Array.isArray(Ce(r,M))){const we=G(Ce(r,M),me.argA,me.argB);pe&&Tt(r,M,we)}if(oe&&Array.isArray(Ce(n.errors,M))){const we=G(Ce(n.errors,M),me.argA,me.argB);pe&&Tt(n.errors,M,we),gee(n.errors,M)}if((d.touchedFields||f.touchedFields)&&oe&&Array.isArray(Ce(n.touchedFields,M))){const we=G(Ce(n.touchedFields,M),me.argA,me.argB);pe&&Tt(n.touchedFields,M,we)}(d.dirtyFields||f.dirtyFields)&&(n.dirtyFields=_d(s,i)),p.state.next({name:M,isDirty:I(M,$),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Tt(i,M,$)},x=(M,$)=>{Tt(n.errors,M,$),p.state.next({errors:n.errors})},y=M=>{n.errors=M,p.state.next({errors:n.errors,isValid:!1})},j=(M,$,G,me)=>{const pe=Ce(r,M);if(pe){const oe=Ce(i,M,cn(G)?Ce(s,M):G);cn(oe)||me&&me.defaultChecked||$?Tt(i,M,$?oe:bk(pe._f)):z(M,oe),a.mount&&v()}},P=(M,$,G,me,pe)=>{let oe=!1,we=!1;const We={name:M};if(!e.disabled){if(!G||me){(d.isDirty||f.isDirty)&&(we=n.isDirty,n.isDirty=We.isDirty=I(),oe=we!==We.isDirty);const ft=Gi(Ce(s,M),$);we=!!Ce(n.dirtyFields,M),ft?fn(n.dirtyFields,M):Tt(n.dirtyFields,M,!0),We.dirtyFields=n.dirtyFields,oe=oe||(d.dirtyFields||f.dirtyFields)&&we!==!ft}if(G){const ft=Ce(n.touchedFields,M);ft||(Tt(n.touchedFields,M,G),We.touchedFields=n.touchedFields,oe=oe||(d.touchedFields||f.touchedFields)&&ft!==G)}oe&&pe&&p.state.next(We)}return oe?We:{}},D=(M,$,G,me)=>{const pe=Ce(n.errors,M),oe=(d.isValid||f.isValid)&&Gr($)&&n.isValid!==$;if(e.delayError&&G?(c=_(()=>x(M,G)),c(e.delayError)):(clearTimeout(u),c=null,G?Tt(n.errors,M,G):fn(n.errors,M)),(G?!Gi(pe,G):pe)||!Ir(me)||oe){const we={...me,...oe&&Gr($)?{isValid:$}:{},errors:n.errors,name:M};n={...n,...we},p.state.next(we)}},S=async M=>{w(M,!0);const $=await e.resolver(i,e.context,uee(M||l.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return w(M),$},N=async M=>{const{errors:$}=await S(M);if(M)for(const G of M){const me=Ce($,G);me?Tt(n.errors,G,me):fn(n.errors,G)}else n.errors=$;return $},T=async(M,$,G={valid:!0})=>{for(const me in M){const pe=M[me];if(pe){const{_f:oe,...we}=pe;if(oe){const We=l.array.has(oe.name),ft=pe._f&&dee(pe._f);ft&&d.validatingFields&&w([me],!0);const xn=await Ck(pe,l.disabled,i,g,e.shouldUseNativeValidation&&!$,We);if(ft&&d.validatingFields&&w([me]),xn[oe.name]&&(G.valid=!1,$))break;!$&&(Ce(xn,oe.name)?We?vee(n.errors,xn,oe.name):Tt(n.errors,oe.name,xn[oe.name]):fn(n.errors,oe.name))}!Ir(we)&&await T(we,$,G)}}return G.valid},C=()=>{for(const M of l.unMount){const $=Ce(r,M);$&&($._f.refs?$._f.refs.every(G=>!Ix(G)):!Ix($._f.ref))&&J(M)}l.unMount=new Set},I=(M,$)=>!e.disabled&&(M&&$&&Tt(i,M,$),!Gi(ee(),s)),A=(M,$,G)=>lL(M,l,{...a.mount?i:cn($)?s:pi(M)?{[M]:$}:$},G,$),R=M=>Z1(Ce(a.mount?i:s,M,e.shouldUnregister?Ce(s,M,[]):[])),z=(M,$,G={})=>{const me=Ce(r,M);let pe=$;if(me){const oe=me._f;oe&&(!oe.disabled&&Tt(i,M,mL($,oe)),pe=_g(oe.ref)&&gr($)?"":$,uL(oe.ref)?[...oe.ref.options].forEach(we=>we.selected=pe.includes(we.value)):oe.refs?Vf(oe.ref)?oe.refs.forEach(we=>{(!we.defaultChecked||!we.disabled)&&(Array.isArray(pe)?we.checked=!!pe.find(We=>We===we.value):we.checked=pe===we.value||!!pe)}):oe.refs.forEach(we=>we.checked=we.value===pe):nE(oe.ref)?oe.ref.value="":(oe.ref.value=pe,oe.ref.type||p.state.next({name:M,values:En(i)})))}(G.shouldDirty||G.shouldTouch)&&P(M,pe,G.shouldTouch,G.shouldDirty,!0),G.shouldValidate&&V(M)},F=(M,$,G)=>{for(const me in $){if(!$.hasOwnProperty(me))return;const pe=$[me],oe=M+"."+me,we=Ce(r,oe);(l.array.has(M)||dn(pe)||we&&!we._f)&&!ml(pe)?F(oe,pe,G):z(oe,pe,G)}},H=(M,$,G={})=>{const me=Ce(r,M),pe=l.array.has(M),oe=En($);Tt(i,M,oe),pe?(p.array.next({name:M,values:En(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&G.shouldDirty&&p.state.next({name:M,dirtyFields:_d(s,i),isDirty:I(M,oe)})):me&&!me._f&&!gr(oe)?F(M,oe,G):z(M,oe,G),Nk(M,l)&&p.state.next({...n,name:M}),p.state.next({name:a.mount?M:void 0,values:En(i)})},q=async M=>{a.mount=!0;const $=M.target;let G=$.name,me=!0;const pe=Ce(r,G),oe=ft=>{me=Number.isNaN(ft)||ml(ft)&&isNaN(ft.getTime())||Gi(ft,Ce(i,G,ft))},we=_k(e.mode),We=_k(e.reValidateMode);if(pe){let ft,xn;const Br=$.type?bk(pe._f):iL(M),fr=M.type===bg.BLUR||M.type===bg.FOCUS_OUT,Li=!hee(pe._f)&&!e.resolver&&!Ce(n.errors,G)&&!pe._f.deps||pee(fr,Ce(n.touchedFields,G),n.isSubmitted,We,we),on=Nk(G,l,fr);Tt(i,G,Br),fr?(pe._f.onBlur&&pe._f.onBlur(M),c&&c(0)):pe._f.onChange&&pe._f.onChange(M);const kn=P(G,Br,fr),ti=!Ir(kn)||on;if(!fr&&p.state.next({name:G,type:M.type,values:En(i)}),Li)return(d.isValid||f.isValid)&&(e.mode==="onBlur"?fr&&v():fr||v()),ti&&p.state.next({name:G,...on?{}:kn});if(!fr&&on&&p.state.next({...n}),e.resolver){const{errors:Vn}=await S([G]);if(oe(Br),me){const oc=Sk(n.errors,r,G),Fi=Sk(Vn,r,oc.name||G);ft=Fi.error,G=Fi.name,xn=Ir(Vn)}}else w([G],!0),ft=(await Ck(pe,l.disabled,i,g,e.shouldUseNativeValidation))[G],w([G]),oe(Br),me&&(ft?xn=!1:(d.isValid||f.isValid)&&(xn=await T(r,!0)));me&&(pe._f.deps&&V(pe._f.deps),D(G,xn,ft,kn))}},L=(M,$)=>{if(Ce(n.errors,$)&&M.focus)return M.focus(),1},V=async(M,$={})=>{let G,me;const pe=rh(M);if(e.resolver){const oe=await N(cn(M)?M:pe);G=Ir(oe),me=M?!pe.some(we=>Ce(oe,we)):G}else M?(me=(await Promise.all(pe.map(async oe=>{const we=Ce(r,oe);return await T(we&&we._f?{[oe]:we}:we)}))).every(Boolean),!(!me&&!n.isValid)&&v()):me=G=await T(r);return p.state.next({...!pi(M)||(d.isValid||f.isValid)&&G!==n.isValid?{}:{name:M},...e.resolver||!M?{isValid:G}:{},errors:n.errors}),$.shouldFocus&&!me&&sh(r,L,M?pe:l.mount),me},ee=M=>{const $={...a.mount?i:s};return cn(M)?$:pi(M)?Ce($,M):M.map(G=>Ce($,G))},_e=(M,$)=>({invalid:!!Ce(($||n).errors,M),isDirty:!!Ce(($||n).dirtyFields,M),error:Ce(($||n).errors,M),isValidating:!!Ce(n.validatingFields,M),isTouched:!!Ce(($||n).touchedFields,M)}),U=M=>{M&&rh(M).forEach($=>fn(n.errors,$)),p.state.next({errors:M?n.errors:{}})},le=(M,$,G)=>{const me=(Ce(r,M,{_f:{}})._f||{}).ref,pe=Ce(n.errors,M)||{},{ref:oe,message:we,type:We,...ft}=pe;Tt(n.errors,M,{...ft,...$,ref:me}),p.state.next({name:M,errors:n.errors,isValid:!1}),G&&G.shouldFocus&&me&&me.focus&&me.focus()},de=(M,$)=>Os(M)?p.state.subscribe({next:G=>"values"in G&&M(A(void 0,$),G)}):A(M,$,!0),fe=M=>p.state.subscribe({next:$=>{mee(M.name,$.name,M.exact)&&fee($,M.formState||d,X,M.reRenderRoot)&&M.callback({values:{...i},...n,...$,defaultValues:s})}}).unsubscribe,ke=M=>(a.mount=!0,f={...f,...M.formState},fe({...M,formState:f})),J=(M,$={})=>{for(const G of M?rh(M):l.mount)l.mount.delete(G),l.array.delete(G),$.keepValue||(fn(r,G),fn(i,G)),!$.keepError&&fn(n.errors,G),!$.keepDirty&&fn(n.dirtyFields,G),!$.keepTouched&&fn(n.touchedFields,G),!$.keepIsValidating&&fn(n.validatingFields,G),!e.shouldUnregister&&!$.keepDefaultValue&&fn(s,G);p.state.next({values:En(i)}),p.state.next({...n,...$.keepDirty?{isDirty:I()}:{}}),!$.keepIsValid&&v()},K=({disabled:M,name:$})=>{(Gr(M)&&a.mount||M||l.disabled.has($))&&(M?l.disabled.add($):l.disabled.delete($))},ne=(M,$={})=>{let G=Ce(r,M);const me=Gr($.disabled)||Gr(e.disabled);return Tt(r,M,{...G||{},_f:{...G&&G._f?G._f:{ref:{name:M}},name:M,mount:!0,...$}}),l.mount.add(M),G?K({disabled:Gr($.disabled)?$.disabled:e.disabled,name:M}):j(M,!0,$.value),{...me?{disabled:$.disabled||e.disabled}:{},...e.progressive?{required:!!$.required,min:Ed($.min),max:Ed($.max),minLength:Ed($.minLength),maxLength:Ed($.maxLength),pattern:Ed($.pattern)}:{},name:M,onChange:q,onBlur:q,ref:pe=>{if(pe){ne(M,$),G=Ce(r,M);const oe=cn(pe.value)&&pe.querySelectorAll&&pe.querySelectorAll("input,select,textarea")[0]||pe,we=aee(oe),We=G._f.refs||[];if(we?We.find(ft=>ft===oe):oe===G._f.ref)return;Tt(r,M,{_f:{...G._f,...we?{refs:[...We.filter(Ix),oe,...Array.isArray(Ce(s,M))?[{}]:[]],ref:{type:oe.type,name:M}}:{ref:oe}}}),j(M,!1,void 0,oe)}else G=Ce(r,M,{}),G._f&&(G._f.mount=!1),(e.shouldUnregister||$.shouldUnregister)&&!(oL(l.array,M)&&a.action)&&l.unMount.add(M)}}},Z=()=>e.shouldFocusError&&sh(r,L,l.mount),ge=M=>{Gr(M)&&(p.state.next({disabled:M}),sh(r,($,G)=>{const me=Ce(r,G);me&&($.disabled=me._f.disabled||M,Array.isArray(me._f.refs)&&me._f.refs.forEach(pe=>{pe.disabled=me._f.disabled||M}))},0,!1))},Re=(M,$)=>async G=>{let me;G&&(G.preventDefault&&G.preventDefault(),G.persist&&G.persist());let pe=En(i);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:oe,values:we}=await S();n.errors=oe,pe=En(we)}else await T(r);if(l.disabled.size)for(const oe of l.disabled)fn(pe,oe);if(fn(n.errors,"root"),Ir(n.errors)){p.state.next({errors:{}});try{await M(pe,G)}catch(oe){me=oe}}else $&&await $({...n.errors},G),Z(),setTimeout(Z);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ir(n.errors)&&!me,submitCount:n.submitCount+1,errors:n.errors}),me)throw me},mt=(M,$={})=>{Ce(r,M)&&(cn($.defaultValue)?H(M,En(Ce(s,M))):(H(M,$.defaultValue),Tt(s,M,En($.defaultValue))),$.keepTouched||fn(n.touchedFields,M),$.keepDirty||(fn(n.dirtyFields,M),n.isDirty=$.defaultValue?I(M,En(Ce(s,M))):I()),$.keepError||(fn(n.errors,M),d.isValid&&v()),p.state.next({...n}))},Pe=(M,$={})=>{const G=M?En(M):s,me=En(G),pe=Ir(M),oe=pe?s:me;if($.keepDefaultValues||(s=G),!$.keepValues){if($.keepDirtyValues){const we=new Set([...l.mount,...Object.keys(_d(s,i))]);for(const We of Array.from(we))Ce(n.dirtyFields,We)?Tt(oe,We,Ce(i,We)):H(We,Ce(oe,We))}else{if(X1&&cn(M))for(const we of l.mount){const We=Ce(r,we);if(We&&We._f){const ft=Array.isArray(We._f.refs)?We._f.refs[0]:We._f.ref;if(_g(ft)){const xn=ft.closest("form");if(xn){xn.reset();break}}}}if($.keepFieldsRef)for(const we of l.mount)H(we,Ce(oe,we));else r={}}i=e.shouldUnregister?$.keepDefaultValues?En(s):{}:En(oe),p.array.next({values:{...oe}}),p.state.next({values:{...oe}})}l={mount:$.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!d.isValid||!!$.keepIsValid||!!$.keepDirtyValues,a.watch=!!e.shouldUnregister,p.state.next({submitCount:$.keepSubmitCount?n.submitCount:0,isDirty:pe?!1:$.keepDirty?n.isDirty:!!($.keepDefaultValues&&!Gi(M,s)),isSubmitted:$.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:pe?{}:$.keepDirtyValues?$.keepDefaultValues&&i?_d(s,i):n.dirtyFields:$.keepDefaultValues&&M?_d(s,M):$.keepDirty?n.dirtyFields:{},touchedFields:$.keepTouched?n.touchedFields:{},errors:$.keepErrors?n.errors:{},isSubmitSuccessful:$.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Ue=(M,$)=>Pe(Os(M)?M(i):M,$),ht=(M,$={})=>{const G=Ce(r,M),me=G&&G._f;if(me){const pe=me.refs?me.refs[0]:me.ref;pe.focus&&(pe.focus(),$.shouldSelect&&Os(pe.select)&&pe.select())}},X=M=>{n={...n,...M}},ue={control:{register:ne,unregister:J,getFieldState:_e,handleSubmit:Re,setError:le,_subscribe:fe,_runSchema:S,_focusError:Z,_getWatch:A,_getDirty:I,_setValid:v,_setFieldArray:b,_setDisabledField:K,_setErrors:y,_getFieldArray:R,_reset:Pe,_resetDefaultValues:()=>Os(e.defaultValues)&&e.defaultValues().then(M=>{Ue(M,e.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:C,_disableForm:ge,_subjects:p,_proxyFormState:d,get _fields(){return r},get _formValues(){return i},get _state(){return a},set _state(M){a=M},get _defaultValues(){return s},get _names(){return l},set _names(M){l=M},get _formState(){return n},get _options(){return e},set _options(M){e={...e,...M}}},subscribe:ke,trigger:V,register:ne,handleSubmit:Re,watch:de,setValue:H,getValues:ee,reset:Ue,resetField:mt,clearErrors:U,unregister:J,setError:le,setFocus:ht,getFieldState:_e};return{...ue,formControl:ue}}function wee(t={}){const e=te.useRef(void 0),n=te.useRef(void 0),[r,s]=te.useState({isDirty:!1,isValidating:!1,isLoading:Os(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Os(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:r},t.defaultValues&&!Os(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:a,...l}=xee(t);e.current={...l,formState:r}}const i=e.current.control;return i._options=t,tE(()=>{const a=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),i._formState.isReady=!0,a},[i]),te.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),te.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode)},[i,t.mode,t.reValidateMode]),te.useEffect(()=>{t.errors&&(i._setErrors(t.errors),i._focusError())},[i,t.errors]),te.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),te.useEffect(()=>{if(i._proxyFormState.isDirty){const a=i._getDirty();a!==r.isDirty&&i._subjects.state.next({isDirty:a})}},[i,r.isDirty]),te.useEffect(()=>{t.values&&!Gi(t.values,n.current)?(i._reset(t.values,{keepFieldsRef:!0,...i._options.resetOptions}),n.current=t.values,s(a=>({...a}))):i._resetDefaultValues()},[i,t.values]),te.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=aL(r,i),e.current}const kk=(t,e,n)=>{if(t&&"reportValidity"in t){const r=Ce(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},gL=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?kk(r.ref,n,t):r.refs&&r.refs.forEach(s=>kk(s,n,t))}},bee=(t,e)=>{e.shouldUseNativeValidation&&gL(t,e);const n={};for(const r in t){const s=Ce(e.fields,r),i=Object.assign(t[r]||{},{ref:s&&s.ref});if(_ee(e.names||Object.keys(t),r)){const a=Object.assign({},Ce(n,r));Tt(a,"root",i),Tt(n,r,a)}else Tt(n,r,i)}return n},_ee=(t,e)=>t.some(n=>n.startsWith(e+"."));var Eee=function(t,e){for(var n={};t.length;){var r=t[0],s=r.code,i=r.message,a=r.path.join(".");if(!n[a])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];n[a]={message:l.message,type:l.code}}else n[a]={message:i,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return t.push(f)})}),e){var c=n[a].types,u=c&&c[r.code];n[a]=cL(a,e,n,s,u?[].concat(u,r.message):r.message)}t.shift()}return n},Nee=function(t,e,n){return n===void 0&&(n={}),function(r,s,i){try{return Promise.resolve(function(a,l){try{var c=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(u){return i.shouldUseNativeValidation&&gL({},i),{errors:{},values:n.raw?r:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(a){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(a))return{values:{},errors:bee(Eee(a.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw a}))}catch(a){return Promise.reject(a)}}};const ih=m.forwardRef(({className:t,...e},n)=>o.jsx("textarea",{className:Ne("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));ih.displayName="Textarea";function M0(t,[e,n]){return Math.min(n,Math.max(e,t))}var See=[" ","Enter","ArrowUp","ArrowDown"],jee=[" ","Enter"],zl="Select",[ty,ny,Cee]=Jg(zl),[Qu,aae]=er(zl,[Cee,$a]),ry=$a(),[kee,Ga]=Qu(zl),[Tee,Iee]=Qu(zl),vL=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:a,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:p,required:g,form:_}=t,v=ry(e),[w,b]=m.useState(null),[x,y]=m.useState(null),[j,P]=m.useState(!1),D=Af(u),[S,N]=Ci({prop:r,defaultProp:s??!1,onChange:i,caller:zl}),[T,C]=Ci({prop:a,defaultProp:l,onChange:c,caller:zl}),I=m.useRef(null),A=w?_||!!w.closest("form"):!0,[R,z]=m.useState(new Set),F=Array.from(R).map(H=>H.props.value).join(";");return o.jsx(N_,{...v,children:o.jsxs(kee,{required:g,scope:e,trigger:w,onTriggerChange:b,valueNode:x,onValueNodeChange:y,valueNodeHasChildren:j,onValueNodeHasChildrenChange:P,contentId:Wn(),value:T,onValueChange:C,open:S,onOpenChange:N,dir:D,triggerPointerDownPosRef:I,disabled:p,children:[o.jsx(ty.Provider,{scope:e,children:o.jsx(Tee,{scope:t.__scopeSelect,onNativeOptionAdd:m.useCallback(H=>{z(q=>new Set(q).add(H))},[]),onNativeOptionRemove:m.useCallback(H=>{z(q=>{const L=new Set(q);return L.delete(H),L})},[]),children:n})}),A?o.jsxs(UL,{"aria-hidden":!0,required:g,tabIndex:-1,name:d,autoComplete:f,value:T,onChange:H=>C(H.target.value),disabled:p,form:_,children:[T===void 0?o.jsx("option",{value:""}):null,Array.from(R)]},F):null]})})};vL.displayName=zl;var yL="SelectTrigger",xL=m.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=ry(n),a=Ga(yL,n),l=a.disabled||r,c=Ze(e,a.onTriggerChange),u=ny(n),d=m.useRef("touch"),[f,p,g]=zL(v=>{const w=u().filter(y=>!y.disabled),b=w.find(y=>y.value===a.value),x=WL(w,v,b);x!==void 0&&a.onValueChange(x.value)}),_=v=>{l||(a.onOpenChange(!0),g()),v&&(a.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return o.jsx(uf,{asChild:!0,...i,children:o.jsx(Ie.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":BL(a.value)?"":void 0,...s,ref:c,onClick:be(s.onClick,v=>{v.currentTarget.focus(),d.current!=="mouse"&&_(v)}),onPointerDown:be(s.onPointerDown,v=>{d.current=v.pointerType;const w=v.target;w.hasPointerCapture(v.pointerId)&&w.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(_(v),v.preventDefault())}),onKeyDown:be(s.onKeyDown,v=>{const w=f.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&p(v.key),!(w&&v.key===" ")&&See.includes(v.key)&&(_(),v.preventDefault())})})})});xL.displayName=yL;var wL="SelectValue",bL=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:a="",...l}=t,c=Ga(wL,n),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=Ze(e,c.onValueNodeChange);return hn(()=>{u(d)},[u,d]),o.jsx(Ie.span,{...l,ref:f,style:{pointerEvents:"none"},children:BL(c.value)?o.jsx(o.Fragment,{children:a}):i})});bL.displayName=wL;var Ree="SelectIcon",_L=m.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return o.jsx(Ie.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});_L.displayName=Ree;var Pee="SelectPortal",EL=t=>o.jsx(Mu,{asChild:!0,...t});EL.displayName=Pee;var Wl="SelectContent",NL=m.forwardRef((t,e)=>{const n=Ga(Wl,t.__scopeSelect),[r,s]=m.useState();if(hn(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Ql.createPortal(o.jsx(SL,{scope:t.__scopeSelect,children:o.jsx(ty.Slot,{scope:t.__scopeSelect,children:o.jsx("div",{children:t.children})})}),i):null}return o.jsx(jL,{...t,ref:e})});NL.displayName=Wl;var Cs=10,[SL,Ka]=Qu(Wl),Aee="SelectContentImpl",Dee=ba("SelectContent.RemoveScroll"),jL=m.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:a,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:g,sticky:_,hideWhenDetached:v,avoidCollisions:w,...b}=t,x=Ga(Wl,n),[y,j]=m.useState(null),[P,D]=m.useState(null),S=Ze(e,J=>j(J)),[N,T]=m.useState(null),[C,I]=m.useState(null),A=ny(n),[R,z]=m.useState(!1),F=m.useRef(!1);m.useEffect(()=>{if(y)return zv(y)},[y]),Uv();const H=m.useCallback(J=>{const[K,...ne]=A().map(Re=>Re.ref.current),[Z]=ne.slice(-1),ge=document.activeElement;for(const Re of J)if(Re===ge||(Re==null||Re.scrollIntoView({block:"nearest"}),Re===K&&P&&(P.scrollTop=0),Re===Z&&P&&(P.scrollTop=P.scrollHeight),Re==null||Re.focus(),document.activeElement!==ge))return},[A,P]),q=m.useCallback(()=>H([N,y]),[H,N,y]);m.useEffect(()=>{R&&q()},[R,q]);const{onOpenChange:L,triggerPointerDownPosRef:V}=x;m.useEffect(()=>{if(y){let J={x:0,y:0};const K=Z=>{var ge,Re;J={x:Math.abs(Math.round(Z.pageX)-(((ge=V.current)==null?void 0:ge.x)??0)),y:Math.abs(Math.round(Z.pageY)-(((Re=V.current)==null?void 0:Re.y)??0))}},ne=Z=>{J.x<=10&&J.y<=10?Z.preventDefault():y.contains(Z.target)||L(!1),document.removeEventListener("pointermove",K),V.current=null};return V.current!==null&&(document.addEventListener("pointermove",K),document.addEventListener("pointerup",ne,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",K),document.removeEventListener("pointerup",ne,{capture:!0})}}},[y,L,V]),m.useEffect(()=>{const J=()=>L(!1);return window.addEventListener("blur",J),window.addEventListener("resize",J),()=>{window.removeEventListener("blur",J),window.removeEventListener("resize",J)}},[L]);const[ee,_e]=zL(J=>{const K=A().filter(ge=>!ge.disabled),ne=K.find(ge=>ge.ref.current===document.activeElement),Z=WL(K,J,ne);Z&&setTimeout(()=>Z.ref.current.focus())}),U=m.useCallback((J,K,ne)=>{const Z=!F.current&&!ne;(x.value!==void 0&&x.value===K||Z)&&(T(J),Z&&(F.current=!0))},[x.value]),le=m.useCallback(()=>y==null?void 0:y.focus(),[y]),de=m.useCallback((J,K,ne)=>{const Z=!F.current&&!ne;(x.value!==void 0&&x.value===K||Z)&&I(J)},[x.value]),fe=r==="popper"?L0:CL,ke=fe===L0?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:g,sticky:_,hideWhenDetached:v,avoidCollisions:w}:{};return o.jsx(SL,{scope:n,content:y,viewport:P,onViewportChange:D,itemRefCallback:U,selectedItem:N,onItemLeave:le,itemTextRefCallback:de,focusSelectedItem:q,selectedItemText:C,position:r,isPositioned:R,searchRef:ee,children:o.jsx(Mf,{as:Dee,allowPinchZoom:!0,children:o.jsx(Df,{asChild:!0,trapped:x.open,onMountAutoFocus:J=>{J.preventDefault()},onUnmountAutoFocus:be(s,J=>{var K;(K=x.trigger)==null||K.focus({preventScroll:!0}),J.preventDefault()}),children:o.jsx(Xl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:J=>J.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:o.jsx(fe,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:J=>J.preventDefault(),...b,...ke,onPlaced:()=>z(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:be(b.onKeyDown,J=>{const K=J.ctrlKey||J.altKey||J.metaKey;if(J.key==="Tab"&&J.preventDefault(),!K&&J.key.length===1&&_e(J.key),["ArrowUp","ArrowDown","Home","End"].includes(J.key)){let Z=A().filter(ge=>!ge.disabled).map(ge=>ge.ref.current);if(["ArrowUp","End"].includes(J.key)&&(Z=Z.slice().reverse()),["ArrowUp","ArrowDown"].includes(J.key)){const ge=J.target,Re=Z.indexOf(ge);Z=Z.slice(Re+1)}setTimeout(()=>H(Z)),J.preventDefault()}})})})})})})});jL.displayName=Aee;var Oee="SelectItemAlignedPosition",CL=m.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=Ga(Wl,n),a=Ka(Wl,n),[l,c]=m.useState(null),[u,d]=m.useState(null),f=Ze(e,S=>d(S)),p=ny(n),g=m.useRef(!1),_=m.useRef(!0),{viewport:v,selectedItem:w,selectedItemText:b,focusSelectedItem:x}=a,y=m.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&v&&w&&b){const S=i.trigger.getBoundingClientRect(),N=u.getBoundingClientRect(),T=i.valueNode.getBoundingClientRect(),C=b.getBoundingClientRect();if(i.dir!=="rtl"){const ge=C.left-N.left,Re=T.left-ge,mt=S.left-Re,Pe=S.width+mt,Ue=Math.max(Pe,N.width),ht=window.innerWidth-Cs,X=M0(Re,[Cs,Math.max(Cs,ht-Ue)]);l.style.minWidth=Pe+"px",l.style.left=X+"px"}else{const ge=N.right-C.right,Re=window.innerWidth-T.right-ge,mt=window.innerWidth-S.right-Re,Pe=S.width+mt,Ue=Math.max(Pe,N.width),ht=window.innerWidth-Cs,X=M0(Re,[Cs,Math.max(Cs,ht-Ue)]);l.style.minWidth=Pe+"px",l.style.right=X+"px"}const I=p(),A=window.innerHeight-Cs*2,R=v.scrollHeight,z=window.getComputedStyle(u),F=parseInt(z.borderTopWidth,10),H=parseInt(z.paddingTop,10),q=parseInt(z.borderBottomWidth,10),L=parseInt(z.paddingBottom,10),V=F+H+R+L+q,ee=Math.min(w.offsetHeight*5,V),_e=window.getComputedStyle(v),U=parseInt(_e.paddingTop,10),le=parseInt(_e.paddingBottom,10),de=S.top+S.height/2-Cs,fe=A-de,ke=w.offsetHeight/2,J=w.offsetTop+ke,K=F+H+J,ne=V-K;if(K<=de){const ge=I.length>0&&w===I[I.length-1].ref.current;l.style.bottom="0px";const Re=u.clientHeight-v.offsetTop-v.offsetHeight,mt=Math.max(fe,ke+(ge?le:0)+Re+q),Pe=K+mt;l.style.height=Pe+"px"}else{const ge=I.length>0&&w===I[0].ref.current;l.style.top="0px";const mt=Math.max(de,F+v.offsetTop+(ge?U:0)+ke)+ne;l.style.height=mt+"px",v.scrollTop=K-de+v.offsetTop}l.style.margin=`${Cs}px 0`,l.style.minHeight=ee+"px",l.style.maxHeight=A+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[p,i.trigger,i.valueNode,l,u,v,w,b,i.dir,r]);hn(()=>y(),[y]);const[j,P]=m.useState();hn(()=>{u&&P(window.getComputedStyle(u).zIndex)},[u]);const D=m.useCallback(S=>{S&&_.current===!0&&(y(),x==null||x(),_.current=!1)},[y,x]);return o.jsx(Lee,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:D,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:o.jsx(Ie.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});CL.displayName=Oee;var Mee="SelectPopperPosition",L0=m.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Cs,...i}=t,a=ry(n);return o.jsx(av,{...a,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});L0.displayName=Mee;var[Lee,sE]=Qu(Wl,{}),F0="SelectViewport",kL=m.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=Ka(F0,n),a=sE(F0,n),l=Ze(e,i.onViewportChange),c=m.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),o.jsx(ty.Slot,{scope:n,children:o.jsx(Ie.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:be(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=a;if(p!=null&&p.current&&f){const g=Math.abs(c.current-d.scrollTop);if(g>0){const _=window.innerHeight-Cs*2,v=parseFloat(f.style.minHeight),w=parseFloat(f.style.height),b=Math.max(v,w);if(b<_){const x=b+g,y=Math.min(_,x),j=x-y;f.style.height=y+"px",f.style.bottom==="0px"&&(d.scrollTop=j>0?j:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});kL.displayName=F0;var TL="SelectGroup",[Fee,Vee]=Qu(TL),$ee=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Wn();return o.jsx(Fee,{scope:n,id:s,children:o.jsx(Ie.div,{role:"group","aria-labelledby":s,...r,ref:e})})});$ee.displayName=TL;var IL="SelectLabel",RL=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Vee(IL,n);return o.jsx(Ie.div,{id:s.id,...r,ref:e})});RL.displayName=IL;var Sg="SelectItem",[Uee,PL]=Qu(Sg),AL=m.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...a}=t,l=Ga(Sg,n),c=Ka(Sg,n),u=l.value===r,[d,f]=m.useState(i??""),[p,g]=m.useState(!1),_=Ze(e,x=>{var y;return(y=c.itemRefCallback)==null?void 0:y.call(c,x,r,s)}),v=Wn(),w=m.useRef("touch"),b=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(Uee,{scope:n,value:r,disabled:s,textId:v,isSelected:u,onItemTextChange:m.useCallback(x=>{f(y=>y||((x==null?void 0:x.textContent)??"").trim())},[]),children:o.jsx(ty.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:o.jsx(Ie.div,{role:"option","aria-labelledby":v,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:_,onFocus:be(a.onFocus,()=>g(!0)),onBlur:be(a.onBlur,()=>g(!1)),onClick:be(a.onClick,()=>{w.current!=="mouse"&&b()}),onPointerUp:be(a.onPointerUp,()=>{w.current==="mouse"&&b()}),onPointerDown:be(a.onPointerDown,x=>{w.current=x.pointerType}),onPointerMove:be(a.onPointerMove,x=>{var y;w.current=x.pointerType,s?(y=c.onItemLeave)==null||y.call(c):w.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:be(a.onPointerLeave,x=>{var y;x.currentTarget===document.activeElement&&((y=c.onItemLeave)==null||y.call(c))}),onKeyDown:be(a.onKeyDown,x=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&x.key===" "||(jee.includes(x.key)&&b(),x.key===" "&&x.preventDefault())})})})})});AL.displayName=Sg;var Ld="SelectItemText",DL=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,a=Ga(Ld,n),l=Ka(Ld,n),c=PL(Ld,n),u=Iee(Ld,n),[d,f]=m.useState(null),p=Ze(e,b=>f(b),c.onItemTextChange,b=>{var x;return(x=l.itemTextRefCallback)==null?void 0:x.call(l,b,c.value,c.disabled)}),g=d==null?void 0:d.textContent,_=m.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:v,onNativeOptionRemove:w}=u;return hn(()=>(v(_),()=>w(_)),[v,w,_]),o.jsxs(o.Fragment,{children:[o.jsx(Ie.span,{id:c.textId,...i,ref:p}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Ql.createPortal(i.children,a.valueNode):null]})});DL.displayName=Ld;var OL="SelectItemIndicator",ML=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return PL(OL,n).isSelected?o.jsx(Ie.span,{"aria-hidden":!0,...r,ref:e}):null});ML.displayName=OL;var V0="SelectScrollUpButton",LL=m.forwardRef((t,e)=>{const n=Ka(V0,t.__scopeSelect),r=sE(V0,t.__scopeSelect),[s,i]=m.useState(!1),a=Ze(e,r.onScrollButtonChange);return hn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(VL,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});LL.displayName=V0;var $0="SelectScrollDownButton",FL=m.forwardRef((t,e)=>{const n=Ka($0,t.__scopeSelect),r=sE($0,t.__scopeSelect),[s,i]=m.useState(!1),a=Ze(e,r.onScrollButtonChange);return hn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(VL,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});FL.displayName=$0;var VL=m.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=Ka("SelectScrollButton",n),a=m.useRef(null),l=ny(n),c=m.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),hn(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),o.jsx(Ie.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:be(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:be(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:be(s.onPointerLeave,()=>{c()})})}),Bee="SelectSeparator",$L=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return o.jsx(Ie.div,{"aria-hidden":!0,...r,ref:e})});$L.displayName=Bee;var U0="SelectArrow",zee=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=ry(n),i=Ga(U0,n),a=Ka(U0,n);return i.open&&a.position==="popper"?o.jsx(lv,{...s,...r,ref:e}):null});zee.displayName=U0;var Wee="SelectBubbleInput",UL=m.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=m.useRef(null),i=Ze(r,s),a=$1(e);return m.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==e&&d){const f=new Event("change",{bubbles:!0});d.call(l,e),l.dispatchEvent(f)}},[a,e]),o.jsx(Ie.select,{...n,style:{...YR,...n.style},ref:i,defaultValue:e})});UL.displayName=Wee;function BL(t){return t===""||t===void 0}function zL(t){const e=sn(t),n=m.useRef(""),r=m.useRef(0),s=m.useCallback(a=>{const l=n.current+a;e(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),i=m.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function WL(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let a=Hee(t,Math.max(i,0));s.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function Hee(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var qee=vL,HL=xL,Gee=bL,Kee=_L,Yee=EL,qL=NL,Qee=kL,GL=RL,KL=AL,Xee=DL,Zee=ML,YL=LL,QL=FL,XL=$L;const iE=qee,oE=Gee,sy=m.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(HL,{ref:r,className:Ne("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,o.jsx(Kee,{asChild:!0,children:o.jsx(s_,{className:"h-4 w-4 opacity-50"})})]}));sy.displayName=HL.displayName;const ZL=m.forwardRef(({className:t,...e},n)=>o.jsx(YL,{ref:n,className:Ne("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(wP,{className:"h-4 w-4"})}));ZL.displayName=YL.displayName;const JL=m.forwardRef(({className:t,...e},n)=>o.jsx(QL,{ref:n,className:Ne("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(s_,{className:"h-4 w-4"})}));JL.displayName=QL.displayName;const iy=m.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>o.jsx(Yee,{children:o.jsxs(qL,{ref:s,className:Ne("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[o.jsx(ZL,{}),o.jsx(Qee,{className:Ne("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),o.jsx(JL,{})]})}));iy.displayName=qL.displayName;const Jee=m.forwardRef(({className:t,...e},n)=>o.jsx(GL,{ref:n,className:Ne("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));Jee.displayName=GL.displayName;const hs=m.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(KL,{ref:r,className:Ne("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(Zee,{children:o.jsx(sf,{className:"h-4 w-4"})})}),o.jsx(Xee,{children:e})]}));hs.displayName=KL.displayName;const ete=m.forwardRef(({className:t,...e},n)=>o.jsx(XL,{ref:n,className:Ne("-mx-1 my-1 h-px bg-muted",t),...e}));ete.displayName=XL.displayName;const Tk=q1,tte=G1,eF=m.forwardRef(({className:t,...e},n)=>o.jsx(Xv,{ref:n,className:Ne("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));eF.displayName=Xv.displayName;const B0=m.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(tte,{children:[o.jsx(eF,{}),o.jsxs(Zv,{ref:r,className:Ne("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,o.jsxs(Q1,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[o.jsx(Na,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));B0.displayName=Zv.displayName;const z0=({className:t,...e})=>o.jsx("div",{className:Ne("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});z0.displayName="DialogHeader";const W0=m.forwardRef(({className:t,...e},n)=>o.jsx(K1,{ref:n,className:Ne("text-lg font-semibold leading-none tracking-tight",t),...e}));W0.displayName=K1.displayName;const H0=m.forwardRef(({className:t,...e},n)=>o.jsx(Y1,{ref:n,className:Ne("text-sm text-muted-foreground",t),...e}));H0.displayName=Y1.displayName;const nte=nee,tF=m.createContext({}),Hr=({...t})=>o.jsx(tF.Provider,{value:{name:t.name},children:o.jsx(oee,{...t})}),oy=()=>{const t=m.useContext(tF),e=m.useContext(nF),{getFieldState:n,formState:r}=ey(),s=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:i}=e;return{id:i,name:t.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},nF=m.createContext({}),jr=m.forwardRef(({className:t,...e},n)=>{const r=m.useId();return o.jsx(nF.Provider,{value:{id:r},children:o.jsx("div",{ref:n,className:Ne("space-y-2",t),...e})})});jr.displayName="FormItem";const Cr=m.forwardRef(({className:t,...e},n)=>{const{error:r,formItemId:s}=oy();return o.jsx(Fe,{ref:n,className:Ne(r&&"text-destructive",t),htmlFor:s,...e})});Cr.displayName="FormLabel";const kr=m.forwardRef(({...t},e)=>{const{error:n,formItemId:r,formDescriptionId:s,formMessageId:i}=oy();return o.jsx(zR,{ref:e,id:r,"aria-describedby":n?`${s} ${i}`:`${s}`,"aria-invalid":!!n,...t})});kr.displayName="FormControl";const zi=m.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:r}=oy();return o.jsx("p",{ref:n,id:r,className:Ne("text-sm text-muted-foreground",t),...e})});zi.displayName="FormDescription";const Tr=m.forwardRef(({className:t,children:e,...n},r)=>{const{error:s,formMessageId:i}=oy(),a=s?String(s==null?void 0:s.message):e;return a?o.jsx("p",{ref:r,id:i,className:Ne("text-sm font-medium text-destructive",t),...n,children:a}):null});Tr.displayName="FormMessage";var rF={exports:{}},st={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aE=Symbol.for("react.transitional.element"),rte=Symbol.for("react.portal"),ste=Symbol.for("react.fragment"),ite=Symbol.for("react.strict_mode"),ote=Symbol.for("react.profiler"),ate=Symbol.for("react.consumer"),lte=Symbol.for("react.context"),cte=Symbol.for("react.forward_ref"),ute=Symbol.for("react.suspense"),dte=Symbol.for("react.memo"),sF=Symbol.for("react.lazy"),hte=Symbol.for("react.activity"),Ik=Symbol.iterator;function fte(t){return t===null||typeof t!="object"?null:(t=Ik&&t[Ik]||t["@@iterator"],typeof t=="function"?t:null)}var iF={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},oF=Object.assign,aF={};function Xu(t,e,n){this.props=t,this.context=e,this.refs=aF,this.updater=n||iF}Xu.prototype.isReactComponent={};Xu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Xu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function lF(){}lF.prototype=Xu.prototype;function lE(t,e,n){this.props=t,this.context=e,this.refs=aF,this.updater=n||iF}var cE=lE.prototype=new lF;cE.constructor=lE;oF(cE,Xu.prototype);cE.isPureReactComponent=!0;var Rk=Array.isArray;function q0(){}var Ht={H:null,A:null,T:null,S:null},cF=Object.prototype.hasOwnProperty;function uE(t,e,n){var r=n.ref;return{$$typeof:aE,type:t,key:e,ref:r!==void 0?r:null,props:n}}function mte(t,e){return uE(t.type,e,t.props)}function dE(t){return typeof t=="object"&&t!==null&&t.$$typeof===aE}function pte(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Pk=/\/+/g;function Rx(t,e){return typeof t=="object"&&t!==null&&t.key!=null?pte(""+t.key):e.toString(36)}function gte(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(q0,q0):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function xc(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"bigint":case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case aE:case rte:a=!0;break;case sF:return a=t._init,xc(a(t._payload),e,n,r,s)}}if(a)return s=s(t),a=r===""?"."+Rx(t,0):r,Rk(s)?(n="",a!=null&&(n=a.replace(Pk,"$&/")+"/"),xc(s,e,n,"",function(u){return u})):s!=null&&(dE(s)&&(s=mte(s,n+(s.key==null||t&&t.key===s.key?"":(""+s.key).replace(Pk,"$&/")+"/")+a)),e.push(s)),1;a=0;var l=r===""?".":r+":";if(Rk(t))for(var c=0;c<t.length;c++)r=t[c],i=l+Rx(r,c),a+=xc(r,e,n,i,s);else if(c=fte(t),typeof c=="function")for(t=c.call(t),c=0;!(r=t.next()).done;)r=r.value,i=l+Rx(r,c++),a+=xc(r,e,n,i,s);else if(i==="object"){if(typeof t.then=="function")return xc(gte(t),e,n,r,s);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return a}function Mm(t,e,n){if(t==null)return t;var r=[],s=0;return xc(t,r,"","",function(i){return e.call(n,i,s++)}),r}function vte(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ak=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},yte={map:Mm,forEach:function(t,e,n){Mm(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Mm(t,function(){e++}),e},toArray:function(t){return Mm(t,function(e){return e})||[]},only:function(t){if(!dE(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};st.Activity=hte;st.Children=yte;st.Component=Xu;st.Fragment=ste;st.Profiler=ote;st.PureComponent=lE;st.StrictMode=ite;st.Suspense=ute;st.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ht;st.__COMPILER_RUNTIME={__proto__:null,c:function(t){return Ht.H.useMemoCache(t)}};st.cache=function(t){return function(){return t.apply(null,arguments)}};st.cacheSignal=function(){return null};st.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var r=oF({},t.props),s=t.key;if(e!=null)for(i in e.key!==void 0&&(s=""+e.key),e)!cF.call(e,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&e.ref===void 0||(r[i]=e[i]);var i=arguments.length-2;if(i===1)r.children=n;else if(1<i){for(var a=Array(i),l=0;l<i;l++)a[l]=arguments[l+2];r.children=a}return uE(t.type,s,r)};st.createContext=function(t){return t={$$typeof:lte,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:ate,_context:t},t};st.createElement=function(t,e,n){var r,s={},i=null;if(e!=null)for(r in e.key!==void 0&&(i=""+e.key),e)cF.call(e,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return uE(t,i,s)};st.createRef=function(){return{current:null}};st.forwardRef=function(t){return{$$typeof:cte,render:t}};st.isValidElement=dE;st.lazy=function(t){return{$$typeof:sF,_payload:{_status:-1,_result:t},_init:vte}};st.memo=function(t,e){return{$$typeof:dte,type:t,compare:e===void 0?null:e}};st.startTransition=function(t){var e=Ht.T,n={};Ht.T=n;try{var r=t(),s=Ht.S;s!==null&&s(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(q0,Ak)}catch(i){Ak(i)}finally{e!==null&&n.types!==null&&(e.types=n.types),Ht.T=e}};st.unstable_useCacheRefresh=function(){return Ht.H.useCacheRefresh()};st.use=function(t){return Ht.H.use(t)};st.useActionState=function(t,e,n){return Ht.H.useActionState(t,e,n)};st.useCallback=function(t,e){return Ht.H.useCallback(t,e)};st.useContext=function(t){return Ht.H.useContext(t)};st.useDebugValue=function(){};st.useDeferredValue=function(t,e){return Ht.H.useDeferredValue(t,e)};st.useEffect=function(t,e){return Ht.H.useEffect(t,e)};st.useEffectEvent=function(t){return Ht.H.useEffectEvent(t)};st.useId=function(){return Ht.H.useId()};st.useImperativeHandle=function(t,e,n){return Ht.H.useImperativeHandle(t,e,n)};st.useInsertionEffect=function(t,e){return Ht.H.useInsertionEffect(t,e)};st.useLayoutEffect=function(t,e){return Ht.H.useLayoutEffect(t,e)};st.useMemo=function(t,e){return Ht.H.useMemo(t,e)};st.useOptimistic=function(t,e){return Ht.H.useOptimistic(t,e)};st.useReducer=function(t,e,n){return Ht.H.useReducer(t,e,n)};st.useRef=function(t){return Ht.H.useRef(t)};st.useState=function(t){return Ht.H.useState(t)};st.useSyncExternalStore=function(t,e,n){return Ht.H.useSyncExternalStore(t,e,n)};st.useTransition=function(){return Ht.H.useTransition()};st.version="19.2.0";rF.exports=st;var hE=rF.exports;/*!
 * react-paypal-js v8.9.2 (2025-10-02T20:17:55.069Z)
 * Copyright 2020-present, PayPal, Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dk;(function(t){t.INITIAL="initial",t.PENDING="pending",t.REJECTED="rejected",t.RESOLVED="resolved"})(Dk||(Dk={}));var Ok;(function(t){t.LOADING_STATUS="setLoadingStatus",t.RESET_OPTIONS="resetOptions",t.SET_BRAINTREE_INSTANCE="braintreeInstance"})(Ok||(Ok={}));var Mk;(function(t){t.NUMBER="number",t.CVV="cvv",t.EXPIRATION_DATE="expirationDate",t.EXPIRATION_MONTH="expirationMonth",t.EXPIRATION_YEAR="expirationYear",t.POSTAL_CODE="postalCode"})(Mk||(Mk={}));hE.createContext(null);hE.createContext({});function Lk(){}hE.createContext({cardFieldsForm:null,fields:{},registerField:Lk,unregisterField:Lk});const xte=t=>o.jsx(wte,{...t}),wte=({amount:t,userId:e,description:n,onSuccess:r})=>{const[s,i]=m.useState(!1),a=async()=>{i(!0);try{await new Promise(l=>setTimeout(l,2e3)),await Ku({userId:e,type:"payment",amount:t,description:`PayPal payment (simulated): ${n}`,status:"completed",paymentMethod:"paypal"}),B.success("Payment successful! (Simulated - Configure PayPal SDK for real payments)"),r()}catch(l){B.error("Payment failed"),console.error(l)}finally{i(!1)}};return o.jsxs(ie,{onClick:a,disabled:s,className:"w-full bg-[#0070ba] hover:bg-[#003087]",children:[o.jsx(of,{className:"h-4 w-4 mr-2"}),s?"Processing...":`Pay ${Qe(t)} with PayPal (Simulated)`]})};function wt(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function ns(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function vr(t,e){const n=wt(t);return isNaN(e)?ns(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function Ks(t,e){const n=wt(t);if(isNaN(e))return ns(t,NaN);if(!e)return n;const r=n.getDate(),s=ns(t,n.getTime());s.setMonth(n.getMonth()+e+1,0);const i=s.getDate();return r>=i?s:(n.setFullYear(s.getFullYear(),s.getMonth(),r),n)}const fE=6048e5,bte=864e5;let _te={};function $f(){return _te}function Pi(t,e){var l,c,u,d;const n=$f(),r=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=wt(t),i=s.getDay(),a=(i<r?7:0)+i-r;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function Hl(t){return Pi(t,{weekStartsOn:1})}function uF(t){const e=wt(t),n=e.getFullYear(),r=ns(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=Hl(r),i=ns(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const a=Hl(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function Nu(t){const e=wt(t);return e.setHours(0,0,0,0),e}function jg(t){const e=wt(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function gi(t,e){const n=Nu(t),r=Nu(e),s=+n-jg(n),i=+r-jg(r);return Math.round((s-i)/bte)}function Ete(t){const e=uF(t),n=ns(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Hl(n)}function G0(t,e){const n=e*7;return vr(t,n)}function Nte(t,e){return Ks(t,e*12)}function Ste(t){let e;return t.forEach(function(n){const r=wt(n);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function jte(t){let e;return t.forEach(n=>{const r=wt(n);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function Mr(t,e){const n=Nu(t),r=Nu(e);return+n==+r}function mE(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Cte(t){if(!mE(t)&&typeof t!="number")return!1;const e=wt(t);return!isNaN(Number(e))}function zh(t,e){const n=wt(t),r=wt(e),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function kte(t,e,n){const r=Pi(t,n),s=Pi(e,n),i=+r-jg(r),a=+s-jg(s);return Math.round((i-a)/fE)}function pE(t){const e=wt(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function $r(t){const e=wt(t);return e.setDate(1),e.setHours(0,0,0,0),e}function dF(t){const e=wt(t),n=ns(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function gE(t,e){var l,c,u,d;const n=$f(),r=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=wt(t),i=s.getDay(),a=(i<r?-7:0)+6-(i-r);return s.setDate(s.getDate()+a),s.setHours(23,59,59,999),s}function hF(t){return gE(t,{weekStartsOn:1})}const Tte={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Ite=(t,e,n)=>{let r;const s=Tte[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Px(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Rte={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Pte={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Ate={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Dte={date:Px({formats:Rte,defaultWidth:"full"}),time:Px({formats:Pte,defaultWidth:"full"}),dateTime:Px({formats:Ate,defaultWidth:"full"})},Ote={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Mte=(t,e,n,r)=>Ote[t];function Nd(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,l=n!=null&&n.width?String(n.width):a;s=t.formattingValues[l]||t.formattingValues[a]}else{const a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[l]||t.values[a]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const Lte={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Fte={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Vte={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},$te={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Ute={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Bte={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},zte=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Wte={ordinalNumber:zte,era:Nd({values:Lte,defaultWidth:"wide"}),quarter:Nd({values:Fte,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Nd({values:Vte,defaultWidth:"wide"}),day:Nd({values:$te,defaultWidth:"wide"}),dayPeriod:Nd({values:Ute,defaultWidth:"wide",formattingValues:Bte,defaultFormattingWidth:"wide"})};function Sd(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const a=i[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?qte(l,f=>f.test(a)):Hte(l,f=>f.test(a));let u;u=t.valueCallback?t.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=e.slice(a.length);return{value:u,rest:d}}}function Hte(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function qte(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function Gte(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let a=t.valueCallback?t.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;const l=e.slice(s.length);return{value:a,rest:l}}}const Kte=/^(\d+)(th|st|nd|rd)?/i,Yte=/\d+/i,Qte={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Xte={any:[/^b/i,/^(a|c)/i]},Zte={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Jte={any:[/1/i,/2/i,/3/i,/4/i]},ene={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},tne={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},nne={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},rne={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},sne={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ine={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},one={ordinalNumber:Gte({matchPattern:Kte,parsePattern:Yte,valueCallback:t=>parseInt(t,10)}),era:Sd({matchPatterns:Qte,defaultMatchWidth:"wide",parsePatterns:Xte,defaultParseWidth:"any"}),quarter:Sd({matchPatterns:Zte,defaultMatchWidth:"wide",parsePatterns:Jte,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Sd({matchPatterns:ene,defaultMatchWidth:"wide",parsePatterns:tne,defaultParseWidth:"any"}),day:Sd({matchPatterns:nne,defaultMatchWidth:"wide",parsePatterns:rne,defaultParseWidth:"any"}),dayPeriod:Sd({matchPatterns:sne,defaultMatchWidth:"any",parsePatterns:ine,defaultParseWidth:"any"})},fF={code:"en-US",formatDistance:Ite,formatLong:Dte,formatRelative:Mte,localize:Wte,match:one,options:{weekStartsOn:0,firstWeekContainsDate:1}};function ane(t){const e=wt(t);return gi(e,dF(e))+1}function mF(t){const e=wt(t),n=+Hl(e)-+Ete(e);return Math.round(n/fE)+1}function pF(t,e){var d,f,p,g;const n=wt(t),r=n.getFullYear(),s=$f(),i=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((g=(p=s.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,a=ns(t,0);a.setFullYear(r+1,0,i),a.setHours(0,0,0,0);const l=Pi(a,e),c=ns(t,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const u=Pi(c,e);return n.getTime()>=l.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function lne(t,e){var l,c,u,d;const n=$f(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=pF(t,e),i=ns(t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),Pi(i,e)}function gF(t,e){const n=wt(t),r=+Pi(n,e)-+lne(n,e);return Math.round(r/fE)+1}function It(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Ro={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return It(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):It(n+1,2)},d(t,e){return It(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return It(t.getHours()%12||12,e.length)},H(t,e){return It(t.getHours(),e.length)},m(t,e){return It(t.getMinutes(),e.length)},s(t,e){return It(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return It(s,e.length)}},mc={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Fk={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Ro.y(t,e)},Y:function(t,e,n,r){const s=pF(t,r),i=s>0?s:1-s;if(e==="YY"){const a=i%100;return It(a,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):It(i,e.length)},R:function(t,e){const n=uF(t);return It(n,e.length)},u:function(t,e){const n=t.getFullYear();return It(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return It(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return It(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Ro.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return It(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=gF(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):It(s,e.length)},I:function(t,e,n){const r=mF(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):It(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Ro.d(t,e)},D:function(t,e,n){const r=ane(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):It(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return It(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return It(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return It(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=mc.noon:r===0?s=mc.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=mc.evening:r>=12?s=mc.afternoon:r>=4?s=mc.morning:s=mc.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ro.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Ro.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):It(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):It(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ro.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Ro.s(t,e)},S:function(t,e){return Ro.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return $k(r);case"XXXX":case"XX":return al(r);case"XXXXX":case"XXX":default:return al(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return $k(r);case"xxxx":case"xx":return al(r);case"xxxxx":case"xxx":default:return al(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Vk(r,":");case"OOOO":default:return"GMT"+al(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Vk(r,":");case"zzzz":default:return"GMT"+al(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return It(r,e.length)},T:function(t,e,n){const r=t.getTime();return It(r,e.length)}};function Vk(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+It(i,2)}function $k(t,e){return t%60===0?(t>0?"-":"+")+It(Math.abs(t)/60,2):al(t,e)}function al(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=It(Math.trunc(r/60),2),i=It(r%60,2);return n+s+e+i}const Uk=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},vF=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},cne=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return Uk(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",Uk(r,e)).replace("{{time}}",vF(s,e))},une={p:vF,P:cne},dne=/^D+$/,hne=/^Y+$/,fne=["D","DD","YY","YYYY"];function mne(t){return dne.test(t)}function pne(t){return hne.test(t)}function gne(t,e,n){const r=vne(t,e,n);if(console.warn(r),fne.includes(t))throw new RangeError(r)}function vne(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const yne=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,xne=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,wne=/^'([^]*?)'?$/,bne=/''/g,_ne=/[a-zA-Z]/;function vs(t,e,n){var d,f,p,g,_,v,w,b;const r=$f(),s=(n==null?void 0:n.locale)??r.locale??fF,i=(n==null?void 0:n.firstWeekContainsDate)??((f=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((g=(p=r.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,a=(n==null?void 0:n.weekStartsOn)??((v=(_=n==null?void 0:n.locale)==null?void 0:_.options)==null?void 0:v.weekStartsOn)??r.weekStartsOn??((b=(w=r.locale)==null?void 0:w.options)==null?void 0:b.weekStartsOn)??0,l=wt(t);if(!Cte(l))throw new RangeError("Invalid time value");let c=e.match(xne).map(x=>{const y=x[0];if(y==="p"||y==="P"){const j=une[y];return j(x,s.formatLong)}return x}).join("").match(yne).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const y=x[0];if(y==="'")return{isToken:!1,value:Ene(x)};if(Fk[y])return{isToken:!0,value:x};if(y.match(_ne))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:x}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:a,locale:s};return c.map(x=>{if(!x.isToken)return x.value;const y=x.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&pne(y)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&mne(y))&&gne(y,e,String(t));const j=Fk[y[0]];return j(l,y,s.localize,u)}).join("")}function Ene(t){const e=t.match(wne);return e?e[1].replace(bne,"'"):t}function Nne(t){const e=wt(t),n=e.getFullYear(),r=e.getMonth(),s=ns(t,0);return s.setFullYear(n,r+1,0),s.setHours(0,0,0,0),s.getDate()}function Sne(t){return Math.trunc(+wt(t)/1e3)}function jne(t){const e=wt(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}function Cne(t,e){return kte(jne(t),$r(t),e)+1}function K0(t,e){const n=wt(t),r=wt(e);return n.getTime()>r.getTime()}function yF(t,e){const n=wt(t),r=wt(e);return+n<+r}function vE(t,e){const n=wt(t),r=wt(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function kne(t,e){const n=wt(t),r=wt(e);return n.getFullYear()===r.getFullYear()}function Ax(t,e){return vr(t,-e)}function Dx(t,e){const n=wt(t),r=n.getFullYear(),s=n.getDate(),i=ns(t,0);i.setFullYear(r,e,15),i.setHours(0,0,0,0);const a=Nne(i);return n.setMonth(e,Math.min(s,a)),n}function Bk(t,e){const n=wt(t);return isNaN(+n)?ns(t,NaN):(n.setFullYear(e),n)}var Ye=function(){return Ye=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ye.apply(this,arguments)};function Tne(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function xF(t,e,n){for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function Uf(t){return t.mode==="multiple"}function Bf(t){return t.mode==="range"}function ay(t){return t.mode==="single"}var Ine={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Rne(t,e){return vs(t,"LLLL y",e)}function Pne(t,e){return vs(t,"d",e)}function Ane(t,e){return vs(t,"LLLL",e)}function Dne(t){return"".concat(t)}function One(t,e){return vs(t,"cccccc",e)}function Mne(t,e){return vs(t,"yyyy",e)}var Lne=Object.freeze({__proto__:null,formatCaption:Rne,formatDay:Pne,formatMonthCaption:Ane,formatWeekNumber:Dne,formatWeekdayName:One,formatYearCaption:Mne}),Fne=function(t,e,n){return vs(t,"do MMMM (EEEE)",n)},Vne=function(){return"Month: "},$ne=function(){return"Go to next month"},Une=function(){return"Go to previous month"},Bne=function(t,e){return vs(t,"cccc",e)},zne=function(t){return"Week n. ".concat(t)},Wne=function(){return"Year: "},Hne=Object.freeze({__proto__:null,labelDay:Fne,labelMonthDropdown:Vne,labelNext:$ne,labelPrevious:Une,labelWeekNumber:zne,labelWeekday:Bne,labelYearDropdown:Wne});function qne(){var t="buttons",e=Ine,n=fF,r={},s={},i=1,a={},l=new Date;return{captionLayout:t,classNames:e,formatters:Lne,labels:Hne,locale:n,modifiersClassNames:r,modifiers:s,numberOfMonths:i,styles:a,today:l,mode:"default"}}function Gne(t){var e=t.fromYear,n=t.toYear,r=t.fromMonth,s=t.toMonth,i=t.fromDate,a=t.toDate;return r?i=$r(r):e&&(i=new Date(e,0,1)),s?a=pE(s):n&&(a=new Date(n,11,31)),{fromDate:i?Nu(i):void 0,toDate:a?Nu(a):void 0}}var wF=m.createContext(void 0);function Kne(t){var e,n=t.initialProps,r=qne(),s=Gne(n),i=s.fromDate,a=s.toDate,l=(e=n.captionLayout)!==null&&e!==void 0?e:r.captionLayout;l!=="buttons"&&(!i||!a)&&(l="buttons");var c;(ay(n)||Uf(n)||Bf(n))&&(c=n.onSelect);var u=Ye(Ye(Ye({},r),n),{captionLayout:l,classNames:Ye(Ye({},r.classNames),n.classNames),components:Ye({},n.components),formatters:Ye(Ye({},r.formatters),n.formatters),fromDate:i,labels:Ye(Ye({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:Ye(Ye({},r.modifiers),n.modifiers),modifiersClassNames:Ye(Ye({},r.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:Ye(Ye({},r.styles),n.styles),toDate:a});return o.jsx(wF.Provider,{value:u,children:t.children})}function $t(){var t=m.useContext(wF);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function bF(t){var e=$t(),n=e.locale,r=e.classNames,s=e.styles,i=e.formatters.formatCaption;return o.jsx("div",{className:r.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:i(t.displayMonth,{locale:n})})}function Yne(t){return o.jsx("svg",Ye({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:o.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function _F(t){var e,n,r=t.onChange,s=t.value,i=t.children,a=t.caption,l=t.className,c=t.style,u=$t(),d=(n=(e=u.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&n!==void 0?n:Yne;return o.jsxs("div",{className:l,style:c,children:[o.jsx("span",{className:u.classNames.vhidden,children:t["aria-label"]}),o.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:s,onChange:r,children:i}),o.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[a,o.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function Qne(t){var e,n=$t(),r=n.fromDate,s=n.toDate,i=n.styles,a=n.locale,l=n.formatters.formatMonthCaption,c=n.classNames,u=n.components,d=n.labels.labelMonthDropdown;if(!r)return o.jsx(o.Fragment,{});if(!s)return o.jsx(o.Fragment,{});var f=[];if(kne(r,s))for(var p=$r(r),g=r.getMonth();g<=s.getMonth();g++)f.push(Dx(p,g));else for(var p=$r(new Date),g=0;g<=11;g++)f.push(Dx(p,g));var _=function(w){var b=Number(w.target.value),x=Dx($r(t.displayMonth),b);t.onChange(x)},v=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:_F;return o.jsx(v,{name:"months","aria-label":d(),className:c.dropdown_month,style:i.dropdown_month,onChange:_,value:t.displayMonth.getMonth(),caption:l(t.displayMonth,{locale:a}),children:f.map(function(w){return o.jsx("option",{value:w.getMonth(),children:l(w,{locale:a})},w.getMonth())})})}function Xne(t){var e,n=t.displayMonth,r=$t(),s=r.fromDate,i=r.toDate,a=r.locale,l=r.styles,c=r.classNames,u=r.components,d=r.formatters.formatYearCaption,f=r.labels.labelYearDropdown,p=[];if(!s)return o.jsx(o.Fragment,{});if(!i)return o.jsx(o.Fragment,{});for(var g=s.getFullYear(),_=i.getFullYear(),v=g;v<=_;v++)p.push(Bk(dF(new Date),v));var w=function(x){var y=Bk($r(n),Number(x.target.value));t.onChange(y)},b=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:_F;return o.jsx(b,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:w,value:n.getFullYear(),caption:d(n,{locale:a}),children:p.map(function(x){return o.jsx("option",{value:x.getFullYear(),children:d(x,{locale:a})},x.getFullYear())})})}function Zne(t,e){var n=m.useState(t),r=n[0],s=n[1],i=e===void 0?r:e;return[i,s]}function Jne(t){var e=t.month,n=t.defaultMonth,r=t.today,s=e||n||r||new Date,i=t.toDate,a=t.fromDate,l=t.numberOfMonths,c=l===void 0?1:l;if(i&&zh(i,s)<0){var u=-1*(c-1);s=Ks(i,u)}return a&&zh(s,a)<0&&(s=a),$r(s)}function ere(){var t=$t(),e=Jne(t),n=Zne(e,t.month),r=n[0],s=n[1],i=function(a){var l;if(!t.disableNavigation){var c=$r(a);s(c),(l=t.onMonthChange)===null||l===void 0||l.call(t,c)}};return[r,i]}function tre(t,e){for(var n=e.reverseMonths,r=e.numberOfMonths,s=$r(t),i=$r(Ks(s,r)),a=zh(i,s),l=[],c=0;c<a;c++){var u=Ks(s,c);l.push(u)}return n&&(l=l.reverse()),l}function nre(t,e){if(!e.disableNavigation){var n=e.toDate,r=e.pagedNavigation,s=e.numberOfMonths,i=s===void 0?1:s,a=r?i:1,l=$r(t);if(!n)return Ks(l,a);var c=zh(n,t);if(!(c<i))return Ks(l,a)}}function rre(t,e){if(!e.disableNavigation){var n=e.fromDate,r=e.pagedNavigation,s=e.numberOfMonths,i=s===void 0?1:s,a=r?i:1,l=$r(t);if(!n)return Ks(l,-a);var c=zh(l,n);if(!(c<=0))return Ks(l,-a)}}var EF=m.createContext(void 0);function sre(t){var e=$t(),n=ere(),r=n[0],s=n[1],i=tre(r,e),a=nre(r,e),l=rre(r,e),c=function(f){return i.some(function(p){return vE(f,p)})},u=function(f,p){c(f)||(p&&yF(f,p)?s(Ks(f,1+e.numberOfMonths*-1)):s(f))},d={currentMonth:r,displayMonths:i,goToMonth:s,goToDate:u,previousMonth:l,nextMonth:a,isDateDisplayed:c};return o.jsx(EF.Provider,{value:d,children:t.children})}function zf(){var t=m.useContext(EF);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function zk(t){var e,n=$t(),r=n.classNames,s=n.styles,i=n.components,a=zf().goToMonth,l=function(d){a(Ks(d,t.displayIndex?-t.displayIndex:0))},c=(e=i==null?void 0:i.CaptionLabel)!==null&&e!==void 0?e:bF,u=o.jsx(c,{id:t.id,displayMonth:t.displayMonth});return o.jsxs("div",{className:r.caption_dropdowns,style:s.caption_dropdowns,children:[o.jsx("div",{className:r.vhidden,children:u}),o.jsx(Qne,{onChange:l,displayMonth:t.displayMonth}),o.jsx(Xne,{onChange:l,displayMonth:t.displayMonth})]})}function ire(t){return o.jsx("svg",Ye({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:o.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function ore(t){return o.jsx("svg",Ye({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:o.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Cg=m.forwardRef(function(t,e){var n=$t(),r=n.classNames,s=n.styles,i=[r.button_reset,r.button];t.className&&i.push(t.className);var a=i.join(" "),l=Ye(Ye({},s.button_reset),s.button);return t.style&&Object.assign(l,t.style),o.jsx("button",Ye({},t,{ref:e,type:"button",className:a,style:l}))});function are(t){var e,n,r=$t(),s=r.dir,i=r.locale,a=r.classNames,l=r.styles,c=r.labels,u=c.labelPrevious,d=c.labelNext,f=r.components;if(!t.nextMonth&&!t.previousMonth)return o.jsx(o.Fragment,{});var p=u(t.previousMonth,{locale:i}),g=[a.nav_button,a.nav_button_previous].join(" "),_=d(t.nextMonth,{locale:i}),v=[a.nav_button,a.nav_button_next].join(" "),w=(e=f==null?void 0:f.IconRight)!==null&&e!==void 0?e:ore,b=(n=f==null?void 0:f.IconLeft)!==null&&n!==void 0?n:ire;return o.jsxs("div",{className:a.nav,style:l.nav,children:[!t.hidePrevious&&o.jsx(Cg,{name:"previous-month","aria-label":p,className:g,style:l.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:s==="rtl"?o.jsx(w,{className:a.nav_icon,style:l.nav_icon}):o.jsx(b,{className:a.nav_icon,style:l.nav_icon})}),!t.hideNext&&o.jsx(Cg,{name:"next-month","aria-label":_,className:v,style:l.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:s==="rtl"?o.jsx(b,{className:a.nav_icon,style:l.nav_icon}):o.jsx(w,{className:a.nav_icon,style:l.nav_icon})})]})}function Wk(t){var e=$t().numberOfMonths,n=zf(),r=n.previousMonth,s=n.nextMonth,i=n.goToMonth,a=n.displayMonths,l=a.findIndex(function(_){return vE(t.displayMonth,_)}),c=l===0,u=l===a.length-1,d=e>1&&(c||!u),f=e>1&&(u||!c),p=function(){r&&i(r)},g=function(){s&&i(s)};return o.jsx(are,{displayMonth:t.displayMonth,hideNext:d,hidePrevious:f,nextMonth:s,previousMonth:r,onPreviousClick:p,onNextClick:g})}function lre(t){var e,n=$t(),r=n.classNames,s=n.disableNavigation,i=n.styles,a=n.captionLayout,l=n.components,c=(e=l==null?void 0:l.CaptionLabel)!==null&&e!==void 0?e:bF,u;return s?u=o.jsx(c,{id:t.id,displayMonth:t.displayMonth}):a==="dropdown"?u=o.jsx(zk,{displayMonth:t.displayMonth,id:t.id}):a==="dropdown-buttons"?u=o.jsxs(o.Fragment,{children:[o.jsx(zk,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),o.jsx(Wk,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):u=o.jsxs(o.Fragment,{children:[o.jsx(c,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),o.jsx(Wk,{displayMonth:t.displayMonth,id:t.id})]}),o.jsx("div",{className:r.caption,style:i.caption,children:u})}function cre(t){var e=$t(),n=e.footer,r=e.styles,s=e.classNames.tfoot;return n?o.jsx("tfoot",{className:s,style:r.tfoot,children:o.jsx("tr",{children:o.jsx("td",{colSpan:8,children:n})})}):o.jsx(o.Fragment,{})}function ure(t,e,n){for(var r=n?Hl(new Date):Pi(new Date,{locale:t,weekStartsOn:e}),s=[],i=0;i<7;i++){var a=vr(r,i);s.push(a)}return s}function dre(){var t=$t(),e=t.classNames,n=t.styles,r=t.showWeekNumber,s=t.locale,i=t.weekStartsOn,a=t.ISOWeek,l=t.formatters.formatWeekdayName,c=t.labels.labelWeekday,u=ure(s,i,a);return o.jsxs("tr",{style:n.head_row,className:e.head_row,children:[r&&o.jsx("td",{style:n.head_cell,className:e.head_cell}),u.map(function(d,f){return o.jsx("th",{scope:"col",className:e.head_cell,style:n.head_cell,"aria-label":c(d,{locale:s}),children:l(d,{locale:s})},f)})]})}function hre(){var t,e=$t(),n=e.classNames,r=e.styles,s=e.components,i=(t=s==null?void 0:s.HeadRow)!==null&&t!==void 0?t:dre;return o.jsx("thead",{style:r.head,className:n.head,children:o.jsx(i,{})})}function fre(t){var e=$t(),n=e.locale,r=e.formatters.formatDay;return o.jsx(o.Fragment,{children:r(t.date,{locale:n})})}var yE=m.createContext(void 0);function mre(t){if(!Uf(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return o.jsx(yE.Provider,{value:e,children:t.children})}return o.jsx(pre,{initialProps:t.initialProps,children:t.children})}function pre(t){var e=t.initialProps,n=t.children,r=e.selected,s=e.min,i=e.max,a=function(u,d,f){var p,g;(p=e.onDayClick)===null||p===void 0||p.call(e,u,d,f);var _=!!(d.selected&&s&&(r==null?void 0:r.length)===s);if(!_){var v=!!(!d.selected&&i&&(r==null?void 0:r.length)===i);if(!v){var w=r?xF([],r):[];if(d.selected){var b=w.findIndex(function(x){return Mr(u,x)});w.splice(b,1)}else w.push(u);(g=e.onSelect)===null||g===void 0||g.call(e,w,u,d,f)}}},l={disabled:[]};r&&l.disabled.push(function(u){var d=i&&r.length>i-1,f=r.some(function(p){return Mr(p,u)});return!!(d&&!f)});var c={selected:r,onDayClick:a,modifiers:l};return o.jsx(yE.Provider,{value:c,children:n})}function xE(){var t=m.useContext(yE);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function gre(t,e){var n=e||{},r=n.from,s=n.to;return r&&s?Mr(s,t)&&Mr(r,t)?void 0:Mr(s,t)?{from:s,to:void 0}:Mr(r,t)?void 0:K0(r,t)?{from:t,to:s}:{from:r,to:t}:s?K0(t,s)?{from:s,to:t}:{from:t,to:s}:r?yF(t,r)?{from:t,to:r}:{from:r,to:t}:{from:t,to:void 0}}var wE=m.createContext(void 0);function vre(t){if(!Bf(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return o.jsx(wE.Provider,{value:e,children:t.children})}return o.jsx(yre,{initialProps:t.initialProps,children:t.children})}function yre(t){var e=t.initialProps,n=t.children,r=e.selected,s=r||{},i=s.from,a=s.to,l=e.min,c=e.max,u=function(g,_,v){var w,b;(w=e.onDayClick)===null||w===void 0||w.call(e,g,_,v);var x=gre(g,r);(b=e.onSelect)===null||b===void 0||b.call(e,x,g,_,v)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(d.range_start=[i],a?(d.range_end=[a],Mr(i,a)||(d.range_middle=[{after:i,before:a}])):d.range_end=[i]):a&&(d.range_start=[a],d.range_end=[a]),l&&(i&&!a&&d.disabled.push({after:Ax(i,l-1),before:vr(i,l-1)}),i&&a&&d.disabled.push({after:i,before:vr(i,l-1)}),!i&&a&&d.disabled.push({after:Ax(a,l-1),before:vr(a,l-1)})),c){if(i&&!a&&(d.disabled.push({before:vr(i,-c+1)}),d.disabled.push({after:vr(i,c-1)})),i&&a){var f=gi(a,i)+1,p=c-f;d.disabled.push({before:Ax(i,p)}),d.disabled.push({after:vr(a,p)})}!i&&a&&(d.disabled.push({before:vr(a,-c+1)}),d.disabled.push({after:vr(a,c-1)}))}return o.jsx(wE.Provider,{value:{selected:r,onDayClick:u,modifiers:d},children:n})}function bE(){var t=m.useContext(wE);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function fp(t){return Array.isArray(t)?xF([],t):t!==void 0?[t]:[]}function xre(t){var e={};return Object.entries(t).forEach(function(n){var r=n[0],s=n[1];e[r]=fp(s)}),e}var Ys;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(Ys||(Ys={}));var wre=Ys.Selected,Ui=Ys.Disabled,bre=Ys.Hidden,_re=Ys.Today,Ox=Ys.RangeEnd,Mx=Ys.RangeMiddle,Lx=Ys.RangeStart,Ere=Ys.Outside;function Nre(t,e,n){var r,s=(r={},r[wre]=fp(t.selected),r[Ui]=fp(t.disabled),r[bre]=fp(t.hidden),r[_re]=[t.today],r[Ox]=[],r[Mx]=[],r[Lx]=[],r[Ere]=[],r);return t.fromDate&&s[Ui].push({before:t.fromDate}),t.toDate&&s[Ui].push({after:t.toDate}),Uf(t)?s[Ui]=s[Ui].concat(e.modifiers[Ui]):Bf(t)&&(s[Ui]=s[Ui].concat(n.modifiers[Ui]),s[Lx]=n.modifiers[Lx],s[Mx]=n.modifiers[Mx],s[Ox]=n.modifiers[Ox]),s}var NF=m.createContext(void 0);function Sre(t){var e=$t(),n=xE(),r=bE(),s=Nre(e,n,r),i=xre(e.modifiers),a=Ye(Ye({},s),i);return o.jsx(NF.Provider,{value:a,children:t.children})}function SF(){var t=m.useContext(NF);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function jre(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function Cre(t){return!!(t&&typeof t=="object"&&"from"in t)}function kre(t){return!!(t&&typeof t=="object"&&"after"in t)}function Tre(t){return!!(t&&typeof t=="object"&&"before"in t)}function Ire(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function Rre(t,e){var n,r=e.from,s=e.to;if(r&&s){var i=gi(s,r)<0;i&&(n=[s,r],r=n[0],s=n[1]);var a=gi(t,r)>=0&&gi(s,t)>=0;return a}return s?Mr(s,t):r?Mr(r,t):!1}function Pre(t){return mE(t)}function Are(t){return Array.isArray(t)&&t.every(mE)}function Dre(t,e){return e.some(function(n){if(typeof n=="boolean")return n;if(Pre(n))return Mr(t,n);if(Are(n))return n.includes(t);if(Cre(n))return Rre(t,n);if(Ire(n))return n.dayOfWeek.includes(t.getDay());if(jre(n)){var r=gi(n.before,t),s=gi(n.after,t),i=r>0,a=s<0,l=K0(n.before,n.after);return l?a&&i:i||a}return kre(n)?gi(t,n.after)>0:Tre(n)?gi(n.before,t)>0:typeof n=="function"?n(t):!1})}function _E(t,e,n){var r=Object.keys(e).reduce(function(i,a){var l=e[a];return Dre(t,l)&&i.push(a),i},[]),s={};return r.forEach(function(i){return s[i]=!0}),n&&!vE(t,n)&&(s.outside=!0),s}function Ore(t,e){for(var n=$r(t[0]),r=pE(t[t.length-1]),s,i,a=n;a<=r;){var l=_E(a,e),c=!l.disabled&&!l.hidden;if(!c){a=vr(a,1);continue}if(l.selected)return a;l.today&&!i&&(i=a),s||(s=a),a=vr(a,1)}return i||s}var Mre=365;function jF(t,e){var n=e.moveBy,r=e.direction,s=e.context,i=e.modifiers,a=e.retry,l=a===void 0?{count:0,lastFocused:t}:a,c=s.weekStartsOn,u=s.fromDate,d=s.toDate,f=s.locale,p={day:vr,week:G0,month:Ks,year:Nte,startOfWeek:function(w){return s.ISOWeek?Hl(w):Pi(w,{locale:f,weekStartsOn:c})},endOfWeek:function(w){return s.ISOWeek?hF(w):gE(w,{locale:f,weekStartsOn:c})}},g=p[n](t,r==="after"?1:-1);r==="before"&&u?g=Ste([u,g]):r==="after"&&d&&(g=jte([d,g]));var _=!0;if(i){var v=_E(g,i);_=!v.disabled&&!v.hidden}return _?g:l.count>Mre?l.lastFocused:jF(g,{moveBy:n,direction:r,context:s,modifiers:i,retry:Ye(Ye({},l),{count:l.count+1})})}var CF=m.createContext(void 0);function Lre(t){var e=zf(),n=SF(),r=m.useState(),s=r[0],i=r[1],a=m.useState(),l=a[0],c=a[1],u=Ore(e.displayMonths,n),d=s??(l&&e.isDateDisplayed(l))?l:u,f=function(){c(s),i(void 0)},p=function(w){i(w)},g=$t(),_=function(w,b){if(s){var x=jF(s,{moveBy:w,direction:b,context:g,modifiers:n});Mr(s,x)||(e.goToDate(x,s),p(x))}},v={focusedDay:s,focusTarget:d,blur:f,focus:p,focusDayAfter:function(){return _("day","after")},focusDayBefore:function(){return _("day","before")},focusWeekAfter:function(){return _("week","after")},focusWeekBefore:function(){return _("week","before")},focusMonthBefore:function(){return _("month","before")},focusMonthAfter:function(){return _("month","after")},focusYearBefore:function(){return _("year","before")},focusYearAfter:function(){return _("year","after")},focusStartOfWeek:function(){return _("startOfWeek","before")},focusEndOfWeek:function(){return _("endOfWeek","after")}};return o.jsx(CF.Provider,{value:v,children:t.children})}function EE(){var t=m.useContext(CF);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function Fre(t,e){var n=SF(),r=_E(t,n,e);return r}var NE=m.createContext(void 0);function Vre(t){if(!ay(t.initialProps)){var e={selected:void 0};return o.jsx(NE.Provider,{value:e,children:t.children})}return o.jsx($re,{initialProps:t.initialProps,children:t.children})}function $re(t){var e=t.initialProps,n=t.children,r=function(i,a,l){var c,u,d;if((c=e.onDayClick)===null||c===void 0||c.call(e,i,a,l),a.selected&&!e.required){(u=e.onSelect)===null||u===void 0||u.call(e,void 0,i,a,l);return}(d=e.onSelect)===null||d===void 0||d.call(e,i,i,a,l)},s={selected:e.selected,onDayClick:r};return o.jsx(NE.Provider,{value:s,children:n})}function kF(){var t=m.useContext(NE);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function Ure(t,e){var n=$t(),r=kF(),s=xE(),i=bE(),a=EE(),l=a.focusDayAfter,c=a.focusDayBefore,u=a.focusWeekAfter,d=a.focusWeekBefore,f=a.blur,p=a.focus,g=a.focusMonthBefore,_=a.focusMonthAfter,v=a.focusYearBefore,w=a.focusYearAfter,b=a.focusStartOfWeek,x=a.focusEndOfWeek,y=function(q){var L,V,ee,_e;ay(n)?(L=r.onDayClick)===null||L===void 0||L.call(r,t,e,q):Uf(n)?(V=s.onDayClick)===null||V===void 0||V.call(s,t,e,q):Bf(n)?(ee=i.onDayClick)===null||ee===void 0||ee.call(i,t,e,q):(_e=n.onDayClick)===null||_e===void 0||_e.call(n,t,e,q)},j=function(q){var L;p(t),(L=n.onDayFocus)===null||L===void 0||L.call(n,t,e,q)},P=function(q){var L;f(),(L=n.onDayBlur)===null||L===void 0||L.call(n,t,e,q)},D=function(q){var L;(L=n.onDayMouseEnter)===null||L===void 0||L.call(n,t,e,q)},S=function(q){var L;(L=n.onDayMouseLeave)===null||L===void 0||L.call(n,t,e,q)},N=function(q){var L;(L=n.onDayPointerEnter)===null||L===void 0||L.call(n,t,e,q)},T=function(q){var L;(L=n.onDayPointerLeave)===null||L===void 0||L.call(n,t,e,q)},C=function(q){var L;(L=n.onDayTouchCancel)===null||L===void 0||L.call(n,t,e,q)},I=function(q){var L;(L=n.onDayTouchEnd)===null||L===void 0||L.call(n,t,e,q)},A=function(q){var L;(L=n.onDayTouchMove)===null||L===void 0||L.call(n,t,e,q)},R=function(q){var L;(L=n.onDayTouchStart)===null||L===void 0||L.call(n,t,e,q)},z=function(q){var L;(L=n.onDayKeyUp)===null||L===void 0||L.call(n,t,e,q)},F=function(q){var L;switch(q.key){case"ArrowLeft":q.preventDefault(),q.stopPropagation(),n.dir==="rtl"?l():c();break;case"ArrowRight":q.preventDefault(),q.stopPropagation(),n.dir==="rtl"?c():l();break;case"ArrowDown":q.preventDefault(),q.stopPropagation(),u();break;case"ArrowUp":q.preventDefault(),q.stopPropagation(),d();break;case"PageUp":q.preventDefault(),q.stopPropagation(),q.shiftKey?v():g();break;case"PageDown":q.preventDefault(),q.stopPropagation(),q.shiftKey?w():_();break;case"Home":q.preventDefault(),q.stopPropagation(),b();break;case"End":q.preventDefault(),q.stopPropagation(),x();break}(L=n.onDayKeyDown)===null||L===void 0||L.call(n,t,e,q)},H={onClick:y,onFocus:j,onBlur:P,onKeyDown:F,onKeyUp:z,onMouseEnter:D,onMouseLeave:S,onPointerEnter:N,onPointerLeave:T,onTouchCancel:C,onTouchEnd:I,onTouchMove:A,onTouchStart:R};return H}function Bre(){var t=$t(),e=kF(),n=xE(),r=bE(),s=ay(t)?e.selected:Uf(t)?n.selected:Bf(t)?r.selected:void 0;return s}function zre(t){return Object.values(Ys).includes(t)}function Wre(t,e){var n=[t.classNames.day];return Object.keys(e).forEach(function(r){var s=t.modifiersClassNames[r];if(s)n.push(s);else if(zre(r)){var i=t.classNames["day_".concat(r)];i&&n.push(i)}}),n}function Hre(t,e){var n=Ye({},t.styles.day);return Object.keys(e).forEach(function(r){var s;n=Ye(Ye({},n),(s=t.modifiersStyles)===null||s===void 0?void 0:s[r])}),n}function qre(t,e,n){var r,s,i,a=$t(),l=EE(),c=Fre(t,e),u=Ure(t,c),d=Bre(),f=!!(a.onDayClick||a.mode!=="default");m.useEffect(function(){var D;c.outside||l.focusedDay&&f&&Mr(l.focusedDay,t)&&((D=n.current)===null||D===void 0||D.focus())},[l.focusedDay,t,n,f,c.outside]);var p=Wre(a,c).join(" "),g=Hre(a,c),_=!!(c.outside&&!a.showOutsideDays||c.hidden),v=(i=(s=a.components)===null||s===void 0?void 0:s.DayContent)!==null&&i!==void 0?i:fre,w=o.jsx(v,{date:t,displayMonth:e,activeModifiers:c}),b={style:g,className:p,children:w,role:"gridcell"},x=l.focusTarget&&Mr(l.focusTarget,t)&&!c.outside,y=l.focusedDay&&Mr(l.focusedDay,t),j=Ye(Ye(Ye({},b),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=y||x?0:-1,r)),u),P={isButton:f,isHidden:_,activeModifiers:c,selectedDays:d,buttonProps:j,divProps:b};return P}function Gre(t){var e=m.useRef(null),n=qre(t.date,t.displayMonth,e);return n.isHidden?o.jsx("div",{role:"gridcell"}):n.isButton?o.jsx(Cg,Ye({name:"day",ref:e},n.buttonProps)):o.jsx("div",Ye({},n.divProps))}function Kre(t){var e=t.number,n=t.dates,r=$t(),s=r.onWeekNumberClick,i=r.styles,a=r.classNames,l=r.locale,c=r.labels.labelWeekNumber,u=r.formatters.formatWeekNumber,d=u(Number(e),{locale:l});if(!s)return o.jsx("span",{className:a.weeknumber,style:i.weeknumber,children:d});var f=c(Number(e),{locale:l}),p=function(g){s(e,n,g)};return o.jsx(Cg,{name:"week-number","aria-label":f,className:a.weeknumber,style:i.weeknumber,onClick:p,children:d})}function Yre(t){var e,n,r=$t(),s=r.styles,i=r.classNames,a=r.showWeekNumber,l=r.components,c=(e=l==null?void 0:l.Day)!==null&&e!==void 0?e:Gre,u=(n=l==null?void 0:l.WeekNumber)!==null&&n!==void 0?n:Kre,d;return a&&(d=o.jsx("td",{className:i.cell,style:s.cell,children:o.jsx(u,{number:t.weekNumber,dates:t.dates})})),o.jsxs("tr",{className:i.row,style:s.row,children:[d,t.dates.map(function(f){return o.jsx("td",{className:i.cell,style:s.cell,role:"presentation",children:o.jsx(c,{displayMonth:t.displayMonth,date:f})},Sne(f))})]})}function Hk(t,e,n){for(var r=n!=null&&n.ISOWeek?hF(e):gE(e,n),s=n!=null&&n.ISOWeek?Hl(t):Pi(t,n),i=gi(r,s),a=[],l=0;l<=i;l++)a.push(vr(s,l));var c=a.reduce(function(u,d){var f=n!=null&&n.ISOWeek?mF(d):gF(d,n),p=u.find(function(g){return g.weekNumber===f});return p?(p.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return c}function Qre(t,e){var n=Hk($r(t),pE(t),e);if(e!=null&&e.useFixedWeeks){var r=Cne(t,e);if(r<6){var s=n[n.length-1],i=s.dates[s.dates.length-1],a=G0(i,6-r),l=Hk(G0(i,1),a,e);n.push.apply(n,l)}}return n}function Xre(t){var e,n,r,s=$t(),i=s.locale,a=s.classNames,l=s.styles,c=s.hideHead,u=s.fixedWeeks,d=s.components,f=s.weekStartsOn,p=s.firstWeekContainsDate,g=s.ISOWeek,_=Qre(t.displayMonth,{useFixedWeeks:!!u,ISOWeek:g,locale:i,weekStartsOn:f,firstWeekContainsDate:p}),v=(e=d==null?void 0:d.Head)!==null&&e!==void 0?e:hre,w=(n=d==null?void 0:d.Row)!==null&&n!==void 0?n:Yre,b=(r=d==null?void 0:d.Footer)!==null&&r!==void 0?r:cre;return o.jsxs("table",{id:t.id,className:a.table,style:l.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!c&&o.jsx(v,{}),o.jsx("tbody",{className:a.tbody,style:l.tbody,children:_.map(function(x){return o.jsx(w,{displayMonth:t.displayMonth,dates:x.dates,weekNumber:x.weekNumber},x.weekNumber)})}),o.jsx(b,{displayMonth:t.displayMonth})]})}function Zre(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Jre=Zre()?m.useLayoutEffect:m.useEffect,Fx=!1,ese=0;function qk(){return"react-day-picker-".concat(++ese)}function tse(t){var e,n=t??(Fx?qk():null),r=m.useState(n),s=r[0],i=r[1];return Jre(function(){s===null&&i(qk())},[]),m.useEffect(function(){Fx===!1&&(Fx=!0)},[]),(e=t??s)!==null&&e!==void 0?e:void 0}function nse(t){var e,n,r=$t(),s=r.dir,i=r.classNames,a=r.styles,l=r.components,c=zf().displayMonths,u=tse(r.id?"".concat(r.id,"-").concat(t.displayIndex):void 0),d=r.id?"".concat(r.id,"-grid-").concat(t.displayIndex):void 0,f=[i.month],p=a.month,g=t.displayIndex===0,_=t.displayIndex===c.length-1,v=!g&&!_;s==="rtl"&&(e=[g,_],_=e[0],g=e[1]),g&&(f.push(i.caption_start),p=Ye(Ye({},p),a.caption_start)),_&&(f.push(i.caption_end),p=Ye(Ye({},p),a.caption_end)),v&&(f.push(i.caption_between),p=Ye(Ye({},p),a.caption_between));var w=(n=l==null?void 0:l.Caption)!==null&&n!==void 0?n:lre;return o.jsxs("div",{className:f.join(" "),style:p,children:[o.jsx(w,{id:u,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),o.jsx(Xre,{id:d,"aria-labelledby":u,displayMonth:t.displayMonth})]},t.displayIndex)}function rse(t){var e=$t(),n=e.classNames,r=e.styles;return o.jsx("div",{className:n.months,style:r.months,children:t.children})}function sse(t){var e,n,r=t.initialProps,s=$t(),i=EE(),a=zf(),l=m.useState(!1),c=l[0],u=l[1];m.useEffect(function(){s.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),u(!0)))},[s.initialFocus,c,i.focus,i.focusTarget,i]);var d=[s.classNames.root,s.className];s.numberOfMonths>1&&d.push(s.classNames.multiple_months),s.showWeekNumber&&d.push(s.classNames.with_weeknumber);var f=Ye(Ye({},s.styles.root),s.style),p=Object.keys(r).filter(function(_){return _.startsWith("data-")}).reduce(function(_,v){var w;return Ye(Ye({},_),(w={},w[v]=r[v],w))},{}),g=(n=(e=r.components)===null||e===void 0?void 0:e.Months)!==null&&n!==void 0?n:rse;return o.jsx("div",Ye({className:d.join(" "),style:f,dir:s.dir,id:s.id,nonce:r.nonce,title:r.title,lang:r.lang},p,{children:o.jsx(g,{children:a.displayMonths.map(function(_,v){return o.jsx(nse,{displayIndex:v,displayMonth:_},v)})})}))}function ise(t){var e=t.children,n=Tne(t,["children"]);return o.jsx(Kne,{initialProps:n,children:o.jsx(sre,{children:o.jsx(Vre,{initialProps:n,children:o.jsx(mre,{initialProps:n,children:o.jsx(vre,{initialProps:n,children:o.jsx(Sre,{children:o.jsx(Lre,{children:e})})})})})})})}function ose(t){return o.jsx(ise,Ye({},t,{children:o.jsx(sse,{initialProps:t})}))}function Su({className:t,classNames:e,showOutsideDays:n=!0,...r}){return o.jsx(ose,{showOutsideDays:n,className:Ne("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Ne($h({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Ne($h({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({...s})=>o.jsx(I9,{className:"h-4 w-4"}),IconRight:({...s})=>o.jsx(xP,{className:"h-4 w-4"})},...r})}Su.displayName="Calendar";var ly="Popover",[TF,lae]=er(ly,[$a]),Wf=$a(),[ase,Ya]=TF(ly),IF=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:a=!1}=t,l=Wf(e),c=m.useRef(null),[u,d]=m.useState(!1),[f,p]=Ci({prop:r,defaultProp:s??!1,onChange:i,caller:ly});return o.jsx(N_,{...l,children:o.jsx(ase,{scope:e,contentId:Wn(),triggerRef:c,open:f,onOpenChange:p,onOpenToggle:m.useCallback(()=>p(g=>!g),[p]),hasCustomAnchor:u,onCustomAnchorAdd:m.useCallback(()=>d(!0),[]),onCustomAnchorRemove:m.useCallback(()=>d(!1),[]),modal:a,children:n})})};IF.displayName=ly;var RF="PopoverAnchor",lse=m.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Ya(RF,n),i=Wf(n),{onCustomAnchorAdd:a,onCustomAnchorRemove:l}=s;return m.useEffect(()=>(a(),()=>l()),[a,l]),o.jsx(uf,{...i,...r,ref:e})});lse.displayName=RF;var PF="PopoverTrigger",AF=m.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Ya(PF,n),i=Wf(n),a=Ze(e,s.triggerRef),l=o.jsx(Ie.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":FF(s.open),...r,ref:a,onClick:be(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:o.jsx(uf,{asChild:!0,...i,children:l})});AF.displayName=PF;var SE="PopoverPortal",[cse,use]=TF(SE,{forceMount:void 0}),DF=t=>{const{__scopePopover:e,forceMount:n,children:r,container:s}=t,i=Ya(SE,e);return o.jsx(cse,{scope:e,forceMount:n,children:o.jsx(Fn,{present:n||i.open,children:o.jsx(Mu,{asChild:!0,container:s,children:r})})})};DF.displayName=SE;var ju="PopoverContent",OF=m.forwardRef((t,e)=>{const n=use(ju,t.__scopePopover),{forceMount:r=n.forceMount,...s}=t,i=Ya(ju,t.__scopePopover);return o.jsx(Fn,{present:r||i.open,children:i.modal?o.jsx(hse,{...s,ref:e}):o.jsx(fse,{...s,ref:e})})});OF.displayName=ju;var dse=ba("PopoverContent.RemoveScroll"),hse=m.forwardRef((t,e)=>{const n=Ya(ju,t.__scopePopover),r=m.useRef(null),s=Ze(e,r),i=m.useRef(!1);return m.useEffect(()=>{const a=r.current;if(a)return zv(a)},[]),o.jsx(Mf,{as:dse,allowPinchZoom:!0,children:o.jsx(MF,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:be(t.onCloseAutoFocus,a=>{var l;a.preventDefault(),i.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:be(t.onPointerDownOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:be(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),fse=m.forwardRef((t,e)=>{const n=Ya(ju,t.__scopePopover),r=m.useRef(!1),s=m.useRef(!1);return o.jsx(MF,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,l;(a=t.onCloseAutoFocus)==null||a.call(t,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),MF=m.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=t,p=Ya(ju,n),g=Wf(n);return Uv(),o.jsx(Df,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:o.jsx(Xl,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>p.onOpenChange(!1),children:o.jsx(av,{"data-state":FF(p.open),role:"dialog",id:p.contentId,...g,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),LF="PopoverClose",mse=m.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Ya(LF,n);return o.jsx(Ie.button,{type:"button",...r,ref:e,onClick:be(t.onClick,()=>s.onOpenChange(!1))})});mse.displayName=LF;var pse="PopoverArrow",gse=m.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Wf(n);return o.jsx(lv,{...s,...r,ref:e})});gse.displayName=pse;function FF(t){return t?"open":"closed"}var vse=IF,yse=AF,xse=DF,VF=OF;const kg=vse,Tg=yse,Wh=m.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},s)=>o.jsx(xse,{children:o.jsx(VF,{ref:s,align:e,sideOffset:n,className:Ne("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));Wh.displayName=VF.displayName;function wse({value:t,onChange:e,placeholder:n="Pick a date range",className:r,disabled:s,error:i}){const[a,l]=m.useState(!1),c=f=>{f&&(e==null||e(f),f.from&&f.to&&l(!1))},u=new Date;u.setHours(0,0,0,0);const d=s||(f=>{const p=new Date(f);return p.setHours(0,0,0,0),p<u});return o.jsxs(kg,{open:a,onOpenChange:l,children:[o.jsx(Tg,{asChild:!0,children:o.jsxs(ie,{variant:"outline",type:"button",className:Ne("w-full justify-start text-left font-normal",!(t!=null&&t.from)&&"text-muted-foreground",i&&"border-destructive",r),children:[o.jsx(Jn,{className:"mr-2 h-4 w-4"}),t!=null&&t.from?t.to?o.jsxs(o.Fragment,{children:[vs(t.from,"LLL dd, y")," -"," ",vs(t.to,"LLL dd, y")]}):vs(t.from,"LLL dd, y"):o.jsx("span",{children:n})]})}),o.jsx(Wh,{className:"w-auto p-0",align:"start",children:o.jsx(Su,{mode:"range",defaultMonth:(t==null?void 0:t.from)||u,selected:t,onSelect:c,numberOfMonths:2,disabled:d})})]})}var jE="Progress",CE=100,[bse,cae]=er(jE),[_se,Ese]=bse(jE),$F=m.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=Nse,...a}=t;(s||s===0)&&!Gk(s)&&console.error(Sse(`${s}`,"Progress"));const l=Gk(s)?s:CE;r!==null&&!Kk(r,l)&&console.error(jse(`${r}`,"Progress"));const c=Kk(r,l)?r:null,u=Ig(c)?i(c,l):void 0;return o.jsx(_se,{scope:n,value:c,max:l,children:o.jsx(Ie.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Ig(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":zF(c,l),"data-value":c??void 0,"data-max":l,...a,ref:e})})});$F.displayName=jE;var UF="ProgressIndicator",BF=m.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=Ese(UF,n);return o.jsx(Ie.div,{"data-state":zF(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});BF.displayName=UF;function Nse(t,e){return`${Math.round(t/e*100)}%`}function zF(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Ig(t){return typeof t=="number"}function Gk(t){return Ig(t)&&!isNaN(t)&&t>0}function Kk(t,e){return Ig(t)&&!isNaN(t)&&t<=e&&t>=0}function Sse(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${CE}\`.`}function jse(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${CE} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var WF=$F,Cse=BF;const kE=m.forwardRef(({className:t,value:e,...n},r)=>o.jsx(WF,{ref:r,className:Ne("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:o.jsx(Cse,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));kE.displayName=WF.displayName;const kse=({images:t,onRemove:e,uploadProgress:n=0,isUploading:r=!1})=>t.length===0?o.jsx("div",{className:"flex items-center justify-center w-full h-32 border-2 border-dashed rounded-lg border-muted-foreground/25",children:o.jsxs("div",{className:"text-center",children:[o.jsx(jP,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"No images selected"})]})}):o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:t.map((s,i)=>{const a=URL.createObjectURL(s);return o.jsxs("div",{className:"relative group",children:[o.jsx("div",{className:"aspect-square rounded-lg overflow-hidden border-2 border-border",children:o.jsx("img",{src:a,alt:`Preview ${i+1}`,className:"w-full h-full object-cover"})}),!r&&o.jsx(ie,{type:"button",variant:"destructive",size:"icon",className:"absolute top-1 right-1 h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>e(i),children:o.jsx(Na,{className:"h-4 w-4"})}),o.jsx("div",{className:"mt-1 text-xs text-muted-foreground truncate",children:s.name}),o.jsxs("div",{className:"mt-1 text-xs text-muted-foreground",children:[(s.size/1024/1024).toFixed(2)," MB"]})]},i)})}),r&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"Uploading images..."}),o.jsxs("span",{className:"text-muted-foreground",children:[n,"%"]})]}),o.jsx(kE,{value:n})]})]});var Nt;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const a of s)i[a]=a;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),a={};for(const l of i)a[l]=s[l];return t.objectValues(a)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&i.push(a);return i},t.find=(s,i)=>{for(const a of s)if(i(a))return a},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Nt||(Nt={}));var Yk;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Yk||(Yk={}));const Le=Nt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Mo=t=>{switch(typeof t){case"undefined":return Le.undefined;case"string":return Le.string;case"number":return Number.isNaN(t)?Le.nan:Le.number;case"boolean":return Le.boolean;case"function":return Le.function;case"bigint":return Le.bigint;case"symbol":return Le.symbol;case"object":return Array.isArray(t)?Le.array:t===null?Le.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Le.promise:typeof Map<"u"&&t instanceof Map?Le.map:typeof Set<"u"&&t instanceof Set?Le.set:typeof Date<"u"&&t instanceof Date?Le.date:Le.object;default:return Le.unknown}},Ee=Nt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class po extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(s);else if(a.code==="invalid_return_type")s(a.returnTypeError);else if(a.code==="invalid_arguments")s(a.argumentsError);else if(a.path.length===0)r._errors.push(n(a));else{let l=r,c=0;for(;c<a.path.length;){const u=a.path[c];c===a.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(n(a))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),r}static assert(e){if(!(e instanceof po))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Nt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];n[i]=n[i]||[],n[i].push(e(s))}else r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}po.create=t=>new po(t);const Y0=(t,e)=>{let n;switch(t.code){case Ee.invalid_type:t.received===Le.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case Ee.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Nt.jsonStringifyReplacer)}`;break;case Ee.unrecognized_keys:n=`Unrecognized key(s) in object: ${Nt.joinValues(t.keys,", ")}`;break;case Ee.invalid_union:n="Invalid input";break;case Ee.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Nt.joinValues(t.options)}`;break;case Ee.invalid_enum_value:n=`Invalid enum value. Expected ${Nt.joinValues(t.options)}, received '${t.received}'`;break;case Ee.invalid_arguments:n="Invalid function arguments";break;case Ee.invalid_return_type:n="Invalid function return type";break;case Ee.invalid_date:n="Invalid date";break;case Ee.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Nt.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case Ee.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case Ee.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case Ee.custom:n="Invalid input";break;case Ee.invalid_intersection_types:n="Intersection results could not be merged";break;case Ee.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case Ee.not_finite:n="Number must be finite";break;default:n=e.defaultError,Nt.assertNever(t)}return{message:n}};let Tse=Y0;function Ise(){return Tse}const Rse=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],a={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let l="";const c=r.filter(u=>!!u).slice().reverse();for(const u of c)l=u(a,{data:e,defaultError:l}).message;return{...s,path:i,message:l}};function Ae(t,e){const n=Ise(),r=Rse({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Y0?void 0:Y0].filter(s=>!!s)});t.common.issues.push(r)}class rs{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return Je;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,a=await s.value;r.push({key:i,value:a})}return rs.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:a}=s;if(i.status==="aborted"||a.status==="aborted")return Je;i.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||s.alwaysSet)&&(r[i.value]=a.value)}return{status:e.value,value:r}}}const Je=Object.freeze({status:"aborted"}),Fd=t=>({status:"dirty",value:t}),bs=t=>({status:"valid",value:t}),Qk=t=>t.status==="aborted",Xk=t=>t.status==="dirty",Cu=t=>t.status==="valid",Rg=t=>typeof Promise<"u"&&t instanceof Promise;var Ve;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Ve||(Ve={}));class Da{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Zk=(t,e)=>{if(Cu(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new po(t.common.issues);return this._error=n,this._error}}};function at(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(a,l)=>{const{message:c}=t;return a.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??r??l.defaultError}:a.code!=="invalid_type"?{message:l.defaultError}:{message:c??n??l.defaultError}},description:s}}class bt{get description(){return this._def.description}_getType(e){return Mo(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Mo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new rs,ctx:{common:e.parent.common,data:e.data,parsedType:Mo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Rg(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Mo(e)},s=this._parseSync({data:e,path:r.path,parent:r});return Zk(r,s)}"~validate"(e){var r,s;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Mo(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:n});return Cu(i)?{value:i.value}:{issues:n.common.issues}}catch(i){(s=(r=i==null?void 0:i.message)==null?void 0:r.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(i=>Cu(i)?{value:i.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Mo(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(Rg(s)?s:Promise.resolve(s));return Zk(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const a=e(s),l=()=>i.addIssue({code:Ee.custom,...r(s)});return typeof Promise<"u"&&a instanceof Promise?a.then(c=>c?!0:(l(),!1)):a?!0:(l(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new Tu({schema:this,typeName:tt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return va.create(this,this._def)}nullable(){return Iu.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ji.create(this)}promise(){return Dg.create(this,this._def)}or(e){return Pg.create([this,e],this._def)}and(e){return Ag.create(this,e,this._def)}transform(e){return new Tu({...at(this._def),schema:this,typeName:tt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new X0({...at(this._def),innerType:this,defaultValue:n,typeName:tt.ZodDefault})}brand(){return new eie({typeName:tt.ZodBranded,type:this,...at(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Z0({...at(this._def),innerType:this,catchValue:n,typeName:tt.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return TE.create(this,e)}readonly(){return J0.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Pse=/^c[^\s-]{8,}$/i,Ase=/^[0-9a-z]+$/,Dse=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Ose=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Mse=/^[a-z0-9_-]{21}$/i,Lse=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Fse=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Vse=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,$se="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Vx;const Use=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Bse=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,zse=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Wse=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Hse=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,qse=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,HF="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Gse=new RegExp(`^${HF}$`);function qF(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function Kse(t){return new RegExp(`^${qF(t)}$`)}function Yse(t){let e=`${HF}T${qF(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function Qse(t,e){return!!((e==="v4"||!e)&&Use.test(t)||(e==="v6"||!e)&&zse.test(t))}function Xse(t,e){if(!Lse.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function Zse(t,e){return!!((e==="v4"||!e)&&Bse.test(t)||(e==="v6"||!e)&&Wse.test(t))}class Jo extends bt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Le.string){const i=this._getOrReturnCtx(e);return Ae(i,{code:Ee.invalid_type,expected:Le.string,received:i.parsedType}),Je}const r=new rs;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),Ae(s,{code:Ee.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),Ae(s,{code:Ee.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const a=e.data.length>i.value,l=e.data.length<i.value;(a||l)&&(s=this._getOrReturnCtx(e,s),a?Ae(s,{code:Ee.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&Ae(s,{code:Ee.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")Vse.test(e.data)||(s=this._getOrReturnCtx(e,s),Ae(s,{validation:"email",code:Ee.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")Vx||(Vx=new RegExp($se,"u")),Vx.test(e.data)||(s=this._getOrReturnCtx(e,s),Ae(s,{validation:"emoji",code:Ee.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")Ose.test(e.data)||(s=this._getOrReturnCtx(e,s),Ae(s,{validation:"uuid",code:Ee.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")Mse.test(e.data)||(s=this._getOrReturnCtx(e,s),Ae(s,{validation:"nanoid",code:Ee.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")Pse.test(e.data)||(s=this._getOrReturnCtx(e,s),Ae(s,{validation:"cuid",code:Ee.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")Ase.test(e.data)||(s=this._getOrReturnCtx(e,s),Ae(s,{validation:"cuid2",code:Ee.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")Dse.test(e.data)||(s=this._getOrReturnCtx(e,s),Ae(s,{validation:"ulid",code:Ee.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),Ae(s,{validation:"url",code:Ee.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),Ae(s,{validation:"regex",code:Ee.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),Ae(s,{code:Ee.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),Ae(s,{code:Ee.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),Ae(s,{code:Ee.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?Yse(i).test(e.data)||(s=this._getOrReturnCtx(e,s),Ae(s,{code:Ee.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?Gse.test(e.data)||(s=this._getOrReturnCtx(e,s),Ae(s,{code:Ee.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?Kse(i).test(e.data)||(s=this._getOrReturnCtx(e,s),Ae(s,{code:Ee.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?Fse.test(e.data)||(s=this._getOrReturnCtx(e,s),Ae(s,{validation:"duration",code:Ee.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?Qse(e.data,i.version)||(s=this._getOrReturnCtx(e,s),Ae(s,{validation:"ip",code:Ee.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?Xse(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),Ae(s,{validation:"jwt",code:Ee.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?Zse(e.data,i.version)||(s=this._getOrReturnCtx(e,s),Ae(s,{validation:"cidr",code:Ee.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?Hse.test(e.data)||(s=this._getOrReturnCtx(e,s),Ae(s,{validation:"base64",code:Ee.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?qse.test(e.data)||(s=this._getOrReturnCtx(e,s),Ae(s,{validation:"base64url",code:Ee.invalid_string,message:i.message}),r.dirty()):Nt.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:Ee.invalid_string,...Ve.errToObj(r)})}_addCheck(e){return new Jo({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Ve.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Ve.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Ve.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Ve.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Ve.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Ve.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Ve.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Ve.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Ve.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Ve.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Ve.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Ve.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Ve.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...Ve.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Ve.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Ve.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Ve.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...Ve.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Ve.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Ve.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Ve.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Ve.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Ve.errToObj(n)})}nonempty(e){return this.min(1,Ve.errToObj(e))}trim(){return new Jo({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Jo({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Jo({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Jo.create=t=>new Jo({checks:[],typeName:tt.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...at(t)});function Jse(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=Number.parseInt(t.toFixed(s).replace(".","")),a=Number.parseInt(e.toFixed(s).replace(".",""));return i%a/10**s}class Hh extends bt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Le.number){const i=this._getOrReturnCtx(e);return Ae(i,{code:Ee.invalid_type,expected:Le.number,received:i.parsedType}),Je}let r;const s=new rs;for(const i of this._def.checks)i.kind==="int"?Nt.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Ae(r,{code:Ee.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),Ae(r,{code:Ee.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),Ae(r,{code:Ee.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?Jse(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),Ae(r,{code:Ee.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Ae(r,{code:Ee.not_finite,message:i.message}),s.dirty()):Nt.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Ve.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Ve.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Ve.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Ve.toString(n))}setLimit(e,n,r,s){return new Hh({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Ve.toString(s)}]})}_addCheck(e){return new Hh({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Ve.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ve.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ve.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ve.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ve.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Ve.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Ve.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ve.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ve.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Nt.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Hh.create=t=>new Hh({checks:[],typeName:tt.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...at(t)});class qh extends bt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Le.bigint)return this._getInvalidInput(e);let r;const s=new rs;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),Ae(r,{code:Ee.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),Ae(r,{code:Ee.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Ae(r,{code:Ee.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Nt.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return Ae(n,{code:Ee.invalid_type,expected:Le.bigint,received:n.parsedType}),Je}gte(e,n){return this.setLimit("min",e,!0,Ve.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Ve.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Ve.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Ve.toString(n))}setLimit(e,n,r,s){return new qh({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Ve.toString(s)}]})}_addCheck(e){return new qh({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ve.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ve.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ve.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ve.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Ve.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}qh.create=t=>new qh({checks:[],typeName:tt.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...at(t)});class Jk extends bt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Le.boolean){const r=this._getOrReturnCtx(e);return Ae(r,{code:Ee.invalid_type,expected:Le.boolean,received:r.parsedType}),Je}return bs(e.data)}}Jk.create=t=>new Jk({typeName:tt.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...at(t)});class Gh extends bt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Le.date){const i=this._getOrReturnCtx(e);return Ae(i,{code:Ee.invalid_type,expected:Le.date,received:i.parsedType}),Je}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return Ae(i,{code:Ee.invalid_date}),Je}const r=new rs;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),Ae(s,{code:Ee.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),Ae(s,{code:Ee.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):Nt.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Gh({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Ve.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Ve.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Gh.create=t=>new Gh({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:tt.ZodDate,...at(t)});class eT extends bt{_parse(e){if(this._getType(e)!==Le.symbol){const r=this._getOrReturnCtx(e);return Ae(r,{code:Ee.invalid_type,expected:Le.symbol,received:r.parsedType}),Je}return bs(e.data)}}eT.create=t=>new eT({typeName:tt.ZodSymbol,...at(t)});class tT extends bt{_parse(e){if(this._getType(e)!==Le.undefined){const r=this._getOrReturnCtx(e);return Ae(r,{code:Ee.invalid_type,expected:Le.undefined,received:r.parsedType}),Je}return bs(e.data)}}tT.create=t=>new tT({typeName:tt.ZodUndefined,...at(t)});class nT extends bt{_parse(e){if(this._getType(e)!==Le.null){const r=this._getOrReturnCtx(e);return Ae(r,{code:Ee.invalid_type,expected:Le.null,received:r.parsedType}),Je}return bs(e.data)}}nT.create=t=>new nT({typeName:tt.ZodNull,...at(t)});class Kh extends bt{constructor(){super(...arguments),this._any=!0}_parse(e){return bs(e.data)}}Kh.create=t=>new Kh({typeName:tt.ZodAny,...at(t)});class rT extends bt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return bs(e.data)}}rT.create=t=>new rT({typeName:tt.ZodUnknown,...at(t)});class Oa extends bt{_parse(e){const n=this._getOrReturnCtx(e);return Ae(n,{code:Ee.invalid_type,expected:Le.never,received:n.parsedType}),Je}}Oa.create=t=>new Oa({typeName:tt.ZodNever,...at(t)});class sT extends bt{_parse(e){if(this._getType(e)!==Le.undefined){const r=this._getOrReturnCtx(e);return Ae(r,{code:Ee.invalid_type,expected:Le.void,received:r.parsedType}),Je}return bs(e.data)}}sT.create=t=>new sT({typeName:tt.ZodVoid,...at(t)});class ji extends bt{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==Le.array)return Ae(n,{code:Ee.invalid_type,expected:Le.array,received:n.parsedType}),Je;if(s.exactLength!==null){const a=n.data.length>s.exactLength.value,l=n.data.length<s.exactLength.value;(a||l)&&(Ae(n,{code:a?Ee.too_big:Ee.too_small,minimum:l?s.exactLength.value:void 0,maximum:a?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(Ae(n,{code:Ee.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(Ae(n,{code:Ee.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((a,l)=>s.type._parseAsync(new Da(n,a,n.path,l)))).then(a=>rs.mergeArray(r,a));const i=[...n.data].map((a,l)=>s.type._parseSync(new Da(n,a,n.path,l)));return rs.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new ji({...this._def,minLength:{value:e,message:Ve.toString(n)}})}max(e,n){return new ji({...this._def,maxLength:{value:e,message:Ve.toString(n)}})}length(e,n){return new ji({...this._def,exactLength:{value:e,message:Ve.toString(n)}})}nonempty(e){return this.min(1,e)}}ji.create=(t,e)=>new ji({type:t,minLength:null,maxLength:null,exactLength:null,typeName:tt.ZodArray,...at(e)});function wc(t){if(t instanceof nn){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=va.create(wc(r))}return new nn({...t._def,shape:()=>e})}else return t instanceof ji?new ji({...t._def,type:wc(t.element)}):t instanceof va?va.create(wc(t.unwrap())):t instanceof Iu?Iu.create(wc(t.unwrap())):t instanceof ql?ql.create(t.items.map(e=>wc(e))):t}class nn extends bt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Nt.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==Le.object){const u=this._getOrReturnCtx(e);return Ae(u,{code:Ee.invalid_type,expected:Le.object,received:u.parsedType}),Je}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),l=[];if(!(this._def.catchall instanceof Oa&&this._def.unknownKeys==="strip"))for(const u in s.data)a.includes(u)||l.push(u);const c=[];for(const u of a){const d=i[u],f=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Da(s,f,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof Oa){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")l.length>0&&(Ae(s,{code:Ee.unrecognized_keys,keys:l}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Da(s,f,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,p=await d.value;u.push({key:f,value:p,alwaysSet:d.alwaysSet})}return u}).then(u=>rs.mergeObjectSync(r,u)):rs.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return Ve.errToObj,new nn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,a;const s=((a=(i=this._def).errorMap)==null?void 0:a.call(i,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:Ve.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new nn({...this._def,unknownKeys:"strip"})}passthrough(){return new nn({...this._def,unknownKeys:"passthrough"})}extend(e){return new nn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new nn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:tt.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new nn({...this._def,catchall:e})}pick(e){const n={};for(const r of Nt.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new nn({...this._def,shape:()=>n})}omit(e){const n={};for(const r of Nt.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new nn({...this._def,shape:()=>n})}deepPartial(){return wc(this)}partial(e){const n={};for(const r of Nt.objectKeys(this.shape)){const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}return new nn({...this._def,shape:()=>n})}required(e){const n={};for(const r of Nt.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof va;)i=i._def.innerType;n[r]=i}return new nn({...this._def,shape:()=>n})}keyof(){return GF(Nt.objectKeys(this.shape))}}nn.create=(t,e)=>new nn({shape:()=>t,unknownKeys:"strip",catchall:Oa.create(),typeName:tt.ZodObject,...at(e)});nn.strictCreate=(t,e)=>new nn({shape:()=>t,unknownKeys:"strict",catchall:Oa.create(),typeName:tt.ZodObject,...at(e)});nn.lazycreate=(t,e)=>new nn({shape:t,unknownKeys:"strip",catchall:Oa.create(),typeName:tt.ZodObject,...at(e)});class Pg extends bt{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const a=i.map(l=>new po(l.ctx.common.issues));return Ae(n,{code:Ee.invalid_union,unionErrors:a}),Je}if(n.common.async)return Promise.all(r.map(async i=>{const a={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:a}),ctx:a}})).then(s);{let i;const a=[];for(const c of r){const u={...n,common:{...n.common,issues:[]},parent:null},d=c._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&a.push(u.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const l=a.map(c=>new po(c));return Ae(n,{code:Ee.invalid_union,unionErrors:l}),Je}}get options(){return this._def.options}}Pg.create=(t,e)=>new Pg({options:t,typeName:tt.ZodUnion,...at(e)});function Q0(t,e){const n=Mo(t),r=Mo(e);if(t===e)return{valid:!0,data:t};if(n===Le.object&&r===Le.object){const s=Nt.objectKeys(e),i=Nt.objectKeys(t).filter(l=>s.indexOf(l)!==-1),a={...t,...e};for(const l of i){const c=Q0(t[l],e[l]);if(!c.valid)return{valid:!1};a[l]=c.data}return{valid:!0,data:a}}else if(n===Le.array&&r===Le.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const a=t[i],l=e[i],c=Q0(a,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return n===Le.date&&r===Le.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Ag extends bt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,a)=>{if(Qk(i)||Qk(a))return Je;const l=Q0(i.value,a.value);return l.valid?((Xk(i)||Xk(a))&&n.dirty(),{status:n.value,value:l.data}):(Ae(r,{code:Ee.invalid_intersection_types}),Je)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,a])=>s(i,a)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Ag.create=(t,e,n)=>new Ag({left:t,right:e,typeName:tt.ZodIntersection,...at(n)});class ql extends bt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Le.array)return Ae(r,{code:Ee.invalid_type,expected:Le.array,received:r.parsedType}),Je;if(r.data.length<this._def.items.length)return Ae(r,{code:Ee.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Je;!this._def.rest&&r.data.length>this._def.items.length&&(Ae(r,{code:Ee.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((a,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Da(r,a,r.path,l)):null}).filter(a=>!!a);return r.common.async?Promise.all(i).then(a=>rs.mergeArray(n,a)):rs.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new ql({...this._def,rest:e})}}ql.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ql({items:t,typeName:tt.ZodTuple,rest:null,...at(e)})};class iT extends bt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Le.map)return Ae(r,{code:Ee.invalid_type,expected:Le.map,received:r.parsedType}),Je;const s=this._def.keyType,i=this._def.valueType,a=[...r.data.entries()].map(([l,c],u)=>({key:s._parse(new Da(r,l,r.path,[u,"key"])),value:i._parse(new Da(r,c,r.path,[u,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of a){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Je;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),l.set(u.value,d.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of a){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Je;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),l.set(u.value,d.value)}return{status:n.value,value:l}}}}iT.create=(t,e,n)=>new iT({valueType:e,keyType:t,typeName:tt.ZodMap,...at(n)});class Yh extends bt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Le.set)return Ae(r,{code:Ee.invalid_type,expected:Le.set,received:r.parsedType}),Je;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(Ae(r,{code:Ee.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(Ae(r,{code:Ee.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function a(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Je;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const l=[...r.data.values()].map((c,u)=>i._parse(new Da(r,c,r.path,u)));return r.common.async?Promise.all(l).then(c=>a(c)):a(l)}min(e,n){return new Yh({...this._def,minSize:{value:e,message:Ve.toString(n)}})}max(e,n){return new Yh({...this._def,maxSize:{value:e,message:Ve.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Yh.create=(t,e)=>new Yh({valueType:t,minSize:null,maxSize:null,typeName:tt.ZodSet,...at(e)});class oT extends bt{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}oT.create=(t,e)=>new oT({getter:t,typeName:tt.ZodLazy,...at(e)});class aT extends bt{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Ae(n,{received:n.data,code:Ee.invalid_literal,expected:this._def.value}),Je}return{status:"valid",value:e.data}}get value(){return this._def.value}}aT.create=(t,e)=>new aT({value:t,typeName:tt.ZodLiteral,...at(e)});function GF(t,e){return new ku({values:t,typeName:tt.ZodEnum,...at(e)})}class ku extends bt{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Ae(n,{expected:Nt.joinValues(r),received:n.parsedType,code:Ee.invalid_type}),Je}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return Ae(n,{received:n.data,code:Ee.invalid_enum_value,options:r}),Je}return bs(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return ku.create(e,{...this._def,...n})}exclude(e,n=this._def){return ku.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}ku.create=GF;class lT extends bt{_parse(e){const n=Nt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Le.string&&r.parsedType!==Le.number){const s=Nt.objectValues(n);return Ae(r,{expected:Nt.joinValues(s),received:r.parsedType,code:Ee.invalid_type}),Je}if(this._cache||(this._cache=new Set(Nt.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=Nt.objectValues(n);return Ae(r,{received:r.data,code:Ee.invalid_enum_value,options:s}),Je}return bs(e.data)}get enum(){return this._def.values}}lT.create=(t,e)=>new lT({values:t,typeName:tt.ZodNativeEnum,...at(e)});class Dg extends bt{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Le.promise&&n.common.async===!1)return Ae(n,{code:Ee.invalid_type,expected:Le.promise,received:n.parsedType}),Je;const r=n.parsedType===Le.promise?n.data:Promise.resolve(n.data);return bs(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Dg.create=(t,e)=>new Dg({type:t,typeName:tt.ZodPromise,...at(e)});class Tu extends bt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===tt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:a=>{Ae(r,a),a.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const a=s.transform(r.data,i);if(r.common.async)return Promise.resolve(a).then(async l=>{if(n.value==="aborted")return Je;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?Je:c.status==="dirty"||n.value==="dirty"?Fd(c.value):c});{if(n.value==="aborted")return Je;const l=this._def.schema._parseSync({data:a,path:r.path,parent:r});return l.status==="aborted"?Je:l.status==="dirty"||n.value==="dirty"?Fd(l.value):l}}if(s.type==="refinement"){const a=l=>{const c=s.refinement(l,i);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?Je:(l.status==="dirty"&&n.dirty(),a(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?Je:(l.status==="dirty"&&n.dirty(),a(l.value).then(()=>({status:n.value,value:l.value}))))}if(s.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Cu(a))return Je;const l=s.transform(a.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>Cu(a)?Promise.resolve(s.transform(a.value,i)).then(l=>({status:n.value,value:l})):Je);Nt.assertNever(s)}}Tu.create=(t,e,n)=>new Tu({schema:t,typeName:tt.ZodEffects,effect:e,...at(n)});Tu.createWithPreprocess=(t,e,n)=>new Tu({schema:e,effect:{type:"preprocess",transform:t},typeName:tt.ZodEffects,...at(n)});class va extends bt{_parse(e){return this._getType(e)===Le.undefined?bs(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}va.create=(t,e)=>new va({innerType:t,typeName:tt.ZodOptional,...at(e)});class Iu extends bt{_parse(e){return this._getType(e)===Le.null?bs(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Iu.create=(t,e)=>new Iu({innerType:t,typeName:tt.ZodNullable,...at(e)});class X0 extends bt{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===Le.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}X0.create=(t,e)=>new X0({innerType:t,typeName:tt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...at(e)});class Z0 extends bt{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Rg(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new po(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new po(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Z0.create=(t,e)=>new Z0({innerType:t,typeName:tt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...at(e)});class cT extends bt{_parse(e){if(this._getType(e)!==Le.nan){const r=this._getOrReturnCtx(e);return Ae(r,{code:Ee.invalid_type,expected:Le.nan,received:r.parsedType}),Je}return{status:"valid",value:e.data}}}cT.create=t=>new cT({typeName:tt.ZodNaN,...at(t)});class eie extends bt{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class TE extends bt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Je:i.status==="dirty"?(n.dirty(),Fd(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Je:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new TE({in:e,out:n,typeName:tt.ZodPipeline})}}class J0 extends bt{_parse(e){const n=this._def.innerType._parse(e),r=s=>(Cu(s)&&(s.value=Object.freeze(s.value)),s);return Rg(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}J0.create=(t,e)=>new J0({innerType:t,typeName:tt.ZodReadonly,...at(e)});function uT(t,e){const n=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof n=="string"?{message:n}:n}function tie(t,e={},n){return t?Kh.create().superRefine((r,s)=>{const i=t(r);if(i instanceof Promise)return i.then(a=>{if(!a){const l=uT(e,r),c=l.fatal??n??!0;s.addIssue({code:"custom",...l,fatal:c})}});if(!i){const a=uT(e,r),l=a.fatal??n??!0;s.addIssue({code:"custom",...a,fatal:l})}}):Kh.create()}nn.lazycreate;var tt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(tt||(tt={}));const nie=(t,e={message:`Input not instance of ${t.name}`})=>tie(n=>n instanceof t,e),oi=Jo.create,dT=Gh.create;Kh.create;Oa.create;const rie=ji.create,hT=nn.create;nn.strictCreate;Pg.create;Ag.create;ql.create;const sie=ku.create;Dg.create;va.create;Iu.create;const iie=hT({title:oi().min(10,"Title must be at least 10 characters").max(100,"Title must not exceed 100 characters").trim(),description:oi().min(50,"Description must be at least 50 characters").max(2e3,"Description must not exceed 2000 characters").trim(),category:sie(["home","experience","service"],{required_error:"Please select a category"}),price:oi().min(1,"Price is required").refine(t=>!isNaN(Number(t))&&Number(t)>0,"Price must be a positive number"),discount:oi().optional().refine(t=>!t||t.trim()===""||!isNaN(Number(t))&&Number(t)>=0&&Number(t)<=100,"Discount must be between 0 and 100"),promo:oi().max(100,"Promo description must not exceed 100 characters").optional(),location:oi().min(5,"Location must be at least 5 characters").max(200,"Location must not exceed 200 characters").trim(),maxGuests:oi().min(1,"Max guests is required").refine(t=>!isNaN(Number(t))&&Number(t)>0&&Number.isInteger(Number(t)),"Max guests must be a positive integer"),bedrooms:oi().optional().refine(t=>!t||t.trim()===""||!isNaN(Number(t))&&Number(t)>=0&&Number.isInteger(Number(t)),"Bedrooms must be a non-negative integer"),bathrooms:oi().optional().refine(t=>!t||t.trim()===""||!isNaN(Number(t))&&Number(t)>=0,"Bathrooms must be a non-negative number (can be 0.5, 1, 1.5, etc.)"),amenities:oi().optional().default(""),dateRange:hT({from:dT().optional(),to:dT().optional()}).refine(t=>!t.from&&!t.to?!0:t.from&&t.to?t.to>=t.from:!0,{message:"End date must be after start date",path:["to"]}).refine(t=>{if(t.from){const e=new Date;return e.setHours(0,0,0,0),t.from>=e}return!0},{message:"Start date cannot be in the past",path:["from"]}),images:rie(nie(File)).max(10,"Maximum 10 images allowed").optional().default([])}),fT=5*1024*1024,mT=["image/jpeg","image/jpg","image/png","image/webp"],tl=10,oie=({onSuccess:t})=>{var Ue,ht;const{user:e}=Dt(),[n,r]=m.useState(!1),[s,i]=m.useState([]),[a,l]=m.useState(0),[c,u]=m.useState(!1),[d,f]=m.useState("idle"),[p,g]=m.useState([]),[_,v]=m.useState([]),[w,b]=m.useState(!1),[x,y]=m.useState(!1),[j,P]=m.useState(!1),[D,S]=m.useState(null),[N,T]=m.useState(!1),[C,I]=m.useState(!1),A=500,R=m.useRef(null),z=m.useRef(!1),F=wee({resolver:Nee(iie),defaultValues:{title:"",description:"",category:"home",price:"",discount:"",promo:"",location:"",maxGuests:"",bedrooms:"",bathrooms:"",amenities:"",dateRange:{from:void 0,to:void 0},images:[]},mode:"onChange"}),H=F.watch(),q=F.formState.errors,L=m.useCallback(()=>e?`${e.uid}_draft`:null,[e]),ee=m.useCallback(()=>{var ue,M;const X=[H.title,H.description,H.price,H.location,H.maxGuests,((ue=H.dateRange)==null?void 0:ue.from)&&((M=H.dateRange)==null?void 0:M.to),s.length>0],Q=X.filter(Boolean).length;return Math.round(Q/X.length*100)},[H,s.length])(),_e=(X,Q)=>{const ue=[],M=new Date(X);for(;M<=Q;)ue.push(M.toISOString().split("T")[0]),M.setDate(M.getDate()+1);return ue},U=X=>{const Q={};return Object.keys(X).forEach(ue=>{X[ue]!==void 0&&(Q[ue]=X[ue])}),Q},le=X=>mT.includes(X.type)?X.size>fT?`File size exceeds ${fT/1024/1024}MB limit`:null:`Invalid file type. Allowed types: ${mT.join(", ")}`,de=X=>{const Q=Array.from(X.target.files||[]),ue=[],M=[];Q.forEach(G=>{const me=le(G);me?M.push(`${G.name}: ${me}`):ue.push(G)}),M.length>0&&B.error(M.join(", "));const $=[...s,...ue].slice(0,tl);i($),F.setValue("images",$,{shouldValidate:!0}),$.length>tl&&B.warning(`Maximum ${tl} images allowed. Only the first ${tl} were added.`)},fe=X=>{const Q=s.filter((ue,M)=>M!==X);i(Q),F.setValue("images",Q,{shouldValidate:!0})},ke=m.useCallback(async X=>{var pe,oe;if(!e)return;const Q=L();if(!Q)return;const ue=F.getValues(),M=(pe=ue.dateRange)!=null&&pe.from&&((oe=ue.dateRange)!=null&&oe.to)?_e(ue.dateRange.from,ue.dateRange.to):p;let $=null;try{const we=await St($e(he,"listing",Q));we.exists()&&($=we.data().createdAt)}catch(we){console.error("Error checking existing draft:",we)}const G={hostId:e.uid,title:ue.title||"",description:ue.description||"",category:ue.category||"home",price:ue.price?Number(ue.price):void 0,discount:ue.discount&&ue.discount.trim()?Number(ue.discount):void 0,promo:ue.promo||void 0,location:ue.location||"",maxGuests:ue.maxGuests?Number(ue.maxGuests):void 0,bedrooms:ue.bedrooms&&ue.bedrooms.trim()?Number(ue.bedrooms):void 0,bathrooms:ue.bathrooms&&ue.bathrooms.trim()?Number(ue.bathrooms):void 0,amenities:ue.amenities?ue.amenities.split(",").map(we=>we.trim()).filter(Boolean):[],availableDates:M,blockedDates:_,images:[],status:"draft",createdAt:$||new Date().toISOString(),updatedAt:k0()},me=U(G);try{f("saving"),await fg($e(he,"listing",Q),me,{merge:!0}),S(Q),f("saved"),X!=null&&X.manual&&(B.success("Draft saved successfully"),setTimeout(()=>f("idle"),2e3))}catch(we){console.error("Failed to save draft:",we),f("error");const We=we.code==="permission-denied"?"Permission denied. Please check your permissions.":we.code==="unavailable"?"Network error. Please check your connection.":"Failed to save draft";X!=null&&X.manual?B.error(We):B.error("Auto-save failed. Please save manually.",{duration:3e3}),setTimeout(()=>f("idle"),3e3)}},[e,L,F,p,_]);m.useEffect(()=>{if(!z.current){z.current=!0;return}if(e)return R.current&&window.clearTimeout(R.current),R.current=window.setTimeout(()=>{F.formState.isDirty&&ke()},2e3),()=>{R.current&&window.clearTimeout(R.current)}},[H,s,e,F.formState.isDirty,ke]),m.useEffect(()=>{const X=()=>{e&&F.formState.isDirty&&ke()};return window.addEventListener("beforeunload",X),()=>window.removeEventListener("beforeunload",X)},[ke,e,F.formState.isDirty]),m.useEffect(()=>{(async()=>{if(!e)return;const Q=L();if(Q)try{const ue=await St($e(he,"listing",Q));ue.exists()&&ue.data().status==="draft"&&(y(!0),P(!0),S(Q))}catch(ue){ue.code!=="permission-denied"&&console.error("Failed to check draft:",ue)}})()},[e,L]);const J=async()=>{if(D)try{const X=await St($e(he,"listing",D));if(!X.exists())return;const Q=X.data();F.reset({title:Q.title||"",description:Q.description||"",category:Q.category||"home",price:Q.price?String(Q.price):"",discount:Q.discount?String(Q.discount):"",promo:Q.promo||"",location:Q.location||"",maxGuests:Q.maxGuests?String(Q.maxGuests):"",bedrooms:Q.bedrooms?String(Q.bedrooms):"",bathrooms:Q.bathrooms?String(Q.bathrooms):"",amenities:Array.isArray(Q.amenities)?Q.amenities.join(", "):Q.amenities||"",dateRange:Q.availableDates&&Q.availableDates.length>0?{from:new Date(Q.availableDates[0]),to:new Date(Q.availableDates[Q.availableDates.length-1])}:{from:void 0,to:void 0},images:[]}),Q.availableDates&&Array.isArray(Q.availableDates)&&g(Q.availableDates),Q.blockedDates&&Array.isArray(Q.blockedDates)&&v(Q.blockedDates),P(!1),B.success("Draft loaded successfully")}catch(X){console.error("Failed to load draft:",X);const Q=X.code==="permission-denied"?"Permission denied. Unable to load draft.":"Failed to load draft";B.error(Q)}},K=async()=>{if(!D){P(!1),y(!1),T(!1),F.reset();return}try{await Ul($e(he,"listing",D)),S(null),P(!1),y(!1),T(!1),F.reset(),g([]),v([]),i([]),B.success("Draft discarded")}catch(X){console.error("Failed to discard draft:",X);const Q=X.code==="permission-denied"?"Permission denied. Unable to discard draft.":"Failed to discard draft";B.error(Q)}},ne=async X=>{var me,pe;if(!e)throw new Error("No user");const Q=F.getValues(),ue=(me=Q.dateRange)!=null&&me.from&&((pe=Q.dateRange)!=null&&pe.to)?_e(Q.dateRange.from,Q.dateRange.to):p;let M=null;if(D&&X==="draft")try{const oe=await St($e(he,"listing",D));oe.exists()&&(M=oe.data().createdAt)}catch(oe){console.error("Error checking existing listing:",oe)}const $={hostId:e.uid,title:Q.title,description:Q.description,category:Q.category||"home",price:Number(Q.price),discount:Q.discount&&Q.discount.trim()?Number(Q.discount):void 0,promo:Q.promo||void 0,location:Q.location,maxGuests:Number(Q.maxGuests),bedrooms:Q.bedrooms&&Q.bedrooms.trim()?Number(Q.bedrooms):void 0,bathrooms:Q.bathrooms&&Q.bathrooms.trim()?Number(Q.bathrooms):void 0,amenities:Q.amenities?Q.amenities.split(",").map(oe=>oe.trim()).filter(Boolean):[],availableDates:ue,blockedDates:_,images:[],status:X,createdAt:M||new Date().toISOString(),updatedAt:new Date().toISOString()},G=U($);console.log("persistListing: Preparing payload with status:",G.status),console.log("persistListing: Full payload keys:",Object.keys(G));{console.log('persistListing: Creating listing with status "pending"');const oe=await yO(G);if(D)try{await Ul($e(he,"listing",D))}catch(we){console.error("Error deleting draft:",we)}return S(null),y(!1),oe}},Z=async(X,Q)=>{u(!0),l(0);try{const{uploadListingImages:ue}=await An(async()=>{const{uploadListingImages:G}=await import("./cloudinary-BPbL6VjZ.js");return{uploadListingImages:G}},[]),$=await ue(X,Q,G=>{l(G)});return l(100),$}finally{u(!1),setTimeout(()=>l(0),1e3)}},ge=async()=>{if(e){r(!0);try{console.log('createListingAfterPayment: Starting listing creation with status "pending"');const X=await ne("pending");if(console.log("createListingAfterPayment: Listing created with ID:",X),s.length>0){console.log("createListingAfterPayment: Uploading",s.length,"images");const Q=await Z(s,X);console.log("createListingAfterPayment: Images uploaded, updating listing with URLs"),await fg($e(he,"listing",X),{images:Q,updatedAt:k0()},{merge:!0}),console.log("createListingAfterPayment: Listing updated with images")}S(null),y(!1),console.log("createListingAfterPayment: Success! Listing ID:",X,"Status: pending"),B.success("Payment received. Listing submitted for review!"),t()}catch(X){console.error("createListingAfterPayment: Error occurred:",X),console.error("createListingAfterPayment: Error details:",{code:X.code,message:X.message,stack:X.stack});const Q=X.code==="permission-denied"?"Permission denied. Please check your permissions.":X.code==="unavailable"?"Network error. Please check your connection and try again.":X.message||"Failed to create listing after payment";B.error(Q)}finally{r(!1),b(!1)}}},Re=async()=>{const X=await F.trigger(),Q=F.getValues("dateRange");if(!X){B.error("Please fix the errors in the form before proceeding.");return}if(!(Q!=null&&Q.from)||!(Q!=null&&Q.to)){B.error("Please select an availability date range."),F.setError("dateRange.to",{message:"Date range is required"});return}if(s.length===0){B.error("Please upload at least one image."),F.setError("images",{message:"At least one image is required"});return}I(!0)},mt=()=>{I(!1),b(!0)},Pe=async()=>{await ke({manual:!0})};return o.jsxs(o.Fragment,{children:[o.jsx(Tk,{open:j,onOpenChange:P,children:o.jsxs(B0,{children:[o.jsxs(z0,{children:[o.jsx(W0,{children:"Unsaved Draft Found"}),o.jsx(H0,{children:"We found a saved draft for this account. Would you like to continue editing it or discard it and start fresh?"})]}),o.jsxs("div",{className:"mt-4 flex gap-2 justify-end",children:[o.jsx(ie,{variant:"outline",onClick:()=>{P(!1),T(!0)},children:"Discard Draft"}),o.jsx(ie,{onClick:J,children:"Continue Draft"})]})]})}),o.jsxs(ce,{children:[o.jsxs(ve,{children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(ye,{children:"Create New Listing"}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[d==="saving"&&o.jsxs(o.Fragment,{children:[o.jsx(Eh,{className:"h-4 w-4 animate-spin"}),o.jsx("span",{children:"Saving..."})]}),d==="saved"&&o.jsxs(o.Fragment,{children:[o.jsx(Uw,{className:"h-4 w-4 text-green-500"}),o.jsx("span",{children:"Saved"})]}),d==="error"&&o.jsxs(o.Fragment,{children:[o.jsx(i_,{className:"h-4 w-4 text-destructive"}),o.jsx("span",{children:"Save failed"})]})]})]}),o.jsxs("div",{className:"mt-4 space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"Form completion"}),o.jsxs("span",{className:"font-medium",children:[ee,"%"]})]}),o.jsx(kE,{value:ee,className:"h-2"})]})]}),o.jsx(Se,{children:o.jsx(nte,{...F,children:o.jsxs("form",{onSubmit:F.handleSubmit(Re),className:"space-y-6",children:[o.jsx(Hr,{control:F.control,name:"title",render:({field:X})=>{var Q;return o.jsxs(jr,{children:[o.jsxs(Cr,{children:["Title ",o.jsx("span",{className:"text-destructive",children:"*"})]}),o.jsx(kr,{children:o.jsx(qe,{placeholder:"Enter a descriptive title for your listing",...X,value:X.value||""})}),o.jsxs("div",{className:"flex justify-between",children:[o.jsxs(zi,{children:[((Q=X.value)==null?void 0:Q.length)||0,"/100 characters"]}),o.jsx(Tr,{})]})]})}}),o.jsx(Hr,{control:F.control,name:"description",render:({field:X})=>{var Q;return o.jsxs(jr,{children:[o.jsxs(Cr,{children:["Description ",o.jsx("span",{className:"text-destructive",children:"*"})]}),o.jsx(kr,{children:o.jsx(ih,{placeholder:"Describe your listing in detail. Include amenities, nearby attractions, and what makes it special.",className:"min-h-[120px]",...X,value:X.value||""})}),o.jsxs("div",{className:"flex justify-between",children:[o.jsxs(zi,{children:[((Q=X.value)==null?void 0:Q.length)||0,"/2000 characters (minimum 50)"]}),o.jsx(Tr,{})]})]})}}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(Hr,{control:F.control,name:"category",render:({field:X})=>o.jsxs(jr,{children:[o.jsxs(Cr,{children:["Category ",o.jsx("span",{className:"text-destructive",children:"*"})]}),o.jsxs(iE,{onValueChange:X.onChange,defaultValue:X.value,children:[o.jsx(kr,{children:o.jsx(sy,{children:o.jsx(oE,{placeholder:"Select category"})})}),o.jsxs(iy,{children:[o.jsx(hs,{value:"home",children:"Home"}),o.jsx(hs,{value:"experience",children:"Experience"}),o.jsx(hs,{value:"service",children:"Service"})]})]}),o.jsx(Tr,{})]})}),o.jsx(Hr,{control:F.control,name:"price",render:({field:X})=>o.jsxs(jr,{children:[o.jsxs(Cr,{children:["Price per Night () ",o.jsx("span",{className:"text-destructive",children:"*"})]}),o.jsx(kr,{children:o.jsx(qe,{type:"number",step:"0.01",min:"0",placeholder:"0.00",...X,value:X.value||"",onChange:Q=>X.onChange(Q.target.value)})}),o.jsx(Tr,{})]})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(Hr,{control:F.control,name:"discount",render:({field:X})=>o.jsxs(jr,{children:[o.jsx(Cr,{children:"Discount (%)"}),o.jsx(kr,{children:o.jsx(qe,{type:"number",min:"0",max:"100",placeholder:"0",...X,value:X.value||"",onChange:Q=>X.onChange(Q.target.value)})}),o.jsx(zi,{children:"Optional discount percentage (0-100)"}),o.jsx(Tr,{})]})}),o.jsx(Hr,{control:F.control,name:"promo",render:({field:X})=>o.jsxs(jr,{children:[o.jsx(Cr,{children:"Promo Description"}),o.jsx(kr,{children:o.jsx(qe,{placeholder:"e.g., 'Summer Special'",maxLength:100,...X,value:X.value||""})}),o.jsx(zi,{children:"Optional promotional message"}),o.jsx(Tr,{})]})})]}),o.jsx(Hr,{control:F.control,name:"location",render:({field:X})=>o.jsxs(jr,{children:[o.jsxs(Cr,{children:["Location ",o.jsx("span",{className:"text-destructive",children:"*"})]}),o.jsx(kr,{children:o.jsx(qe,{placeholder:"City, State, Country",...X,value:X.value||""})}),o.jsx(Tr,{})]})}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx(Hr,{control:F.control,name:"maxGuests",render:({field:X})=>o.jsxs(jr,{children:[o.jsxs(Cr,{children:["Max Guests ",o.jsx("span",{className:"text-destructive",children:"*"})]}),o.jsx(kr,{children:o.jsx(qe,{type:"number",min:"1",placeholder:"1",...X,value:X.value||"",onChange:Q=>X.onChange(Q.target.value)})}),o.jsx(Tr,{})]})}),o.jsx(Hr,{control:F.control,name:"bedrooms",render:({field:X})=>o.jsxs(jr,{children:[o.jsx(Cr,{children:"Bedrooms"}),o.jsx(kr,{children:o.jsx(qe,{type:"number",min:"0",placeholder:"0",...X,value:X.value||"",onChange:Q=>X.onChange(Q.target.value)})}),o.jsx(Tr,{})]})}),o.jsx(Hr,{control:F.control,name:"bathrooms",render:({field:X})=>o.jsxs(jr,{children:[o.jsx(Cr,{children:"Bathrooms"}),o.jsx(kr,{children:o.jsx(qe,{type:"number",min:"0",step:"0.5",placeholder:"0",...X,value:X.value||"",onChange:Q=>X.onChange(Q.target.value)})}),o.jsx(zi,{children:"Can be 0.5, 1, 1.5, etc."}),o.jsx(Tr,{})]})})]}),o.jsx(Hr,{control:F.control,name:"amenities",render:({field:X})=>o.jsxs(jr,{children:[o.jsx(Cr,{children:"Amenities"}),o.jsx(kr,{children:o.jsx(qe,{placeholder:"WiFi, Pool, Kitchen, Parking (comma separated)",...X,value:X.value||""})}),o.jsx(zi,{children:"Separate multiple amenities with commas"}),o.jsx(Tr,{})]})}),o.jsx(Hr,{control:F.control,name:"dateRange",render:({field:X})=>{var Q,ue;return o.jsxs(jr,{children:[o.jsxs(Cr,{children:["Availability Date Range ",o.jsx("span",{className:"text-destructive",children:"*"})]}),o.jsx(kr,{children:o.jsx(wse,{value:X.value,onChange:X.onChange,placeholder:"Select your listing availability period",className:"mt-2",error:!!q.dateRange})}),((Q=X.value)==null?void 0:Q.from)&&((ue=X.value)==null?void 0:ue.to)&&o.jsxs(zi,{children:["Available from ",X.value.from.toLocaleDateString()," to ",X.value.to.toLocaleDateString()]}),o.jsx(Tr,{})]})}}),o.jsx(Hr,{control:F.control,name:"images",render:()=>o.jsxs(jr,{children:[o.jsxs(Cr,{children:["Images ",o.jsx("span",{className:"text-destructive",children:"*"})]}),o.jsx(kr,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(qe,{id:"images",type:"file",multiple:!0,accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:de,className:"hidden"}),o.jsxs(ie,{type:"button",variant:"outline",onClick:()=>{var X;return(X=document.getElementById("images"))==null?void 0:X.click()},disabled:s.length>=tl,children:[o.jsx(jP,{className:"h-4 w-4 mr-2"}),"Upload Images (",s.length,"/",tl,")"]})]}),o.jsx(kse,{images:s,onRemove:fe,uploadProgress:a,isUploading:c})]})}),o.jsxs(zi,{children:["Upload at least 1 image (max ",tl,"). Accepted formats: JPG, PNG, WebP. Max size: 5MB per image."]}),o.jsx(Tr,{})]})}),o.jsxs("div",{className:"flex gap-2 pt-4",children:[o.jsx(ie,{type:"submit",disabled:n||c,className:"flex-1",children:n?o.jsxs(o.Fragment,{children:[o.jsx(Eh,{className:"h-4 w-4 mr-2 animate-spin"}),"Processing..."]}):`Pay & Publish (${Qe(A)})`}),o.jsxs(ie,{type:"button",variant:"outline",disabled:n||c,className:"flex-1",onClick:Pe,children:[o.jsx(EP,{className:"h-4 w-4 mr-2"}),"Save as Draft"]})]})]})})})]}),o.jsx(Tk,{open:w,onOpenChange:b,children:o.jsxs(B0,{children:[o.jsxs(z0,{children:[o.jsx(W0,{children:"Complete Subscription to Publish"}),o.jsxs(H0,{children:["Pay a one-time subscription fee of ",Qe(A)," to submit your listing for review."]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"rounded-lg border p-4",children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:"Listing Details"}),o.jsx("div",{className:"font-medium mt-1",children:H.title||"Untitled Listing"}),o.jsxs("div",{className:"text-sm text-muted-foreground mt-2",children:["Category: ",H.category]}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:["Location: ",H.location||"-"]}),o.jsx("div",{className:"text-sm text-muted-foreground",children:(Ue=H.dateRange)!=null&&Ue.from&&((ht=H.dateRange)!=null&&ht.to)?`Availability: ${H.dateRange.from.toLocaleDateString()} - ${H.dateRange.to.toLocaleDateString()}`:"Availability: Not set"})]}),o.jsxs("div",{className:"rounded-lg bg-muted p-4",children:[o.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[o.jsx("span",{children:"Subscription Fee:"}),o.jsx("span",{className:"font-medium",children:Qe(A)})]}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"This fee covers listing review and processing. Your listing will be reviewed by our team before going live."})]}),e&&o.jsx(xte,{amount:A,userId:e.uid,description:`Host subscription for listing: ${H.title||"Untitled"}`,onSuccess:ge})]})]})}),o.jsx(ur,{open:N,onOpenChange:T,children:o.jsxs(Hn,{children:[o.jsxs(qn,{children:[o.jsx(Kn,{children:"Discard Draft?"}),o.jsx(Yn,{children:"Are you sure you want to discard this draft? All unsaved changes will be permanently lost."})]}),o.jsxs(Gn,{children:[o.jsx(Xn,{children:"Cancel"}),o.jsx(Qn,{onClick:K,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Discard Draft"})]})]})}),o.jsx(ur,{open:C,onOpenChange:I,children:o.jsxs(Hn,{children:[o.jsxs(qn,{children:[o.jsx(Kn,{children:"Proceed to Payment?"}),o.jsxs(Yn,{children:["You're about to pay a one-time subscription fee of ",Qe(A)," to publish this listing. After payment, your listing will be submitted for admin review."]})]}),o.jsxs(Gn,{children:[o.jsx(Xn,{children:"Cancel"}),o.jsx(Qn,{onClick:mt,children:"Proceed to Payment"})]})]})})]})},aie=()=>{const t=gt();return o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsxs("div",{className:"max-w-3xl mx-auto",children:[o.jsxs(ie,{variant:"ghost",onClick:()=>t("/host/dashboard"),className:"mb-4",children:[o.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),o.jsx(oie,{onSuccess:()=>t("/host/listings")})]})})},lie=()=>{const t=gt(),{user:e}=Dt(),[n,r]=m.useState([]),[s,i]=m.useState(!0),[a,l]=m.useState(!1),[c,u]=m.useState(null);m.useEffect(()=>{e&&d()},[e]);const d=async()=>{if(e)try{i(!0),console.log("Loading listings for hostId:",e.uid);const g=await Rf({hostId:e.uid});console.log("Loaded listings:",g),r(g)}catch(g){console.error("Failed to load listings:",g),B.error(`Failed to load listings: ${g.message||"Unknown error"}`)}finally{i(!1)}},f=g=>{u(g),l(!0)},p=async()=>{if(c)try{await xO(c),B.success("Listing deleted"),d(),u(null)}catch{B.error("Failed to delete listing")}finally{l(!1)}};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"sticky top-0 z-50 border-b bg-card/95 backdrop-blur supports-[backdrop-filter]:bg-card/60 shadow-soft",children:o.jsxs("div",{className:"container mx-auto px-6 py-4 flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>t("/host/dashboard"),children:o.jsx(Vt,{className:"h-5 w-5"})}),o.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:o.jsx(Ea,{className:"w-5 h-5 text-primary"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-lg font-bold",children:"My Listings"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Manage your properties"})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Nr,{}),o.jsxs(ie,{onClick:()=>t("/host/create-listing"),children:[o.jsx(Bw,{className:"h-4 w-4 mr-2"}),"Create Listing"]})]})]})}),o.jsx("div",{className:"max-w-7xl mx-auto p-6",children:s?o.jsx("div",{className:"flex items-center justify-center py-20",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):n.length===0?o.jsxs("div",{className:"text-center py-20",children:[o.jsx("div",{className:"w-20 h-20 rounded-full bg-muted flex items-center justify-center mx-auto mb-4",children:o.jsx(Ea,{className:"w-10 h-10 text-muted-foreground"})}),o.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No listings yet"}),o.jsx("p",{className:"text-muted-foreground mb-6",children:"Create your first listing to start hosting"}),o.jsxs(ie,{size:"lg",onClick:()=>t("/host/create-listing"),children:[o.jsx(Bw,{className:"h-4 w-4 mr-2"}),"Create Your First Listing"]})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(g=>o.jsxs("div",{className:"group",children:[o.jsx(mo,{listing:g}),o.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[o.jsx(Sn,{variant:g.status==="draft"?"secondary":"default",children:g.status.charAt(0).toUpperCase()+g.status.slice(1)}),o.jsx("span",{className:"text-sm text-muted-foreground",children:g.category})]}),o.jsxs("div",{className:"mt-3 flex gap-2",children:[o.jsx(ie,{variant:"outline",size:"sm",className:"flex-1 hover:bg-primary hover:text-primary-foreground",onClick:()=>t(`/host/create-listing?edit=${g.id}`),children:g.status==="draft"?"Resume":"Edit"}),o.jsx(ie,{variant:"destructive",size:"sm",className:"flex-1",onClick:()=>f(g.id),children:"Delete"})]})]},g.id))})}),o.jsx(ur,{open:a,onOpenChange:l,children:o.jsxs(Hn,{children:[o.jsxs(qn,{children:[o.jsx(Kn,{children:"Delete Listing?"}),o.jsx(Yn,{children:"Are you sure you want to delete this listing? This action cannot be undone. Any associated bookings and reviews will be affected."})]}),o.jsxs(Gn,{children:[o.jsx(Xn,{onClick:()=>u(null),children:"Cancel"}),o.jsx(Qn,{onClick:p,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})};function nl({className:t,...e}){return o.jsx("div",{className:Ne("animate-pulse rounded-md bg-muted",t),...e})}const cie=()=>o.jsxs(ce,{className:"overflow-hidden border-0 shadow-sm",children:[o.jsx(nl,{className:"h-56 w-full"}),o.jsxs(Se,{className:"p-5 space-y-3",children:[o.jsx(nl,{className:"h-5 w-3/4"}),o.jsx(nl,{className:"h-4 w-1/2"}),o.jsx(nl,{className:"h-4 w-full"}),o.jsx(nl,{className:"h-4 w-2/3"}),o.jsx("div",{className:"flex items-center justify-between pt-3 border-t",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(nl,{className:"h-4 w-12"}),o.jsx(nl,{className:"h-4 w-16"})]})})]})]}),ya=({icon:t,title:e,description:n,action:r})=>o.jsxs("div",{className:"flex flex-col items-center justify-center py-16 px-4 text-center animate-fadeInUp",children:[o.jsx("div",{className:"mb-6 w-20 h-20 rounded-full bg-muted flex items-center justify-center text-muted-foreground",children:t}),o.jsx("h3",{className:"text-xl font-semibold mb-2",children:e}),o.jsx("p",{className:"text-muted-foreground max-w-md mb-6 leading-relaxed",children:n}),r]});var pT=1,uie=.9,die=.8,hie=.17,$x=.1,Ux=.999,fie=.9999,mie=.99,pie=/[\\\/_+.#"@\[\(\{&]/,gie=/[\\\/_+.#"@\[\(\{&]/g,vie=/[\s-]/,KF=/[\s-]/g;function eb(t,e,n,r,s,i,a){if(i===e.length)return s===t.length?pT:mie;var l=`${s},${i}`;if(a[l]!==void 0)return a[l];for(var c=r.charAt(i),u=n.indexOf(c,s),d=0,f,p,g,_;u>=0;)f=eb(t,e,n,r,u+1,i+1,a),f>d&&(u===s?f*=pT:pie.test(t.charAt(u-1))?(f*=die,g=t.slice(s,u-1).match(gie),g&&s>0&&(f*=Math.pow(Ux,g.length))):vie.test(t.charAt(u-1))?(f*=uie,_=t.slice(s,u-1).match(KF),_&&s>0&&(f*=Math.pow(Ux,_.length))):(f*=hie,s>0&&(f*=Math.pow(Ux,u-s))),t.charAt(u)!==e.charAt(i)&&(f*=fie)),(f<$x&&n.charAt(u-1)===r.charAt(i+1)||r.charAt(i+1)===r.charAt(i)&&n.charAt(u-1)!==r.charAt(i))&&(p=eb(t,e,n,r,u+1,i+2,a),p*$x>f&&(f=p*$x)),f>d&&(d=f),u=n.indexOf(c,u+1);return a[l]=d,d}function gT(t){return t.toLowerCase().replace(KF," ")}function yie(t,e,n){return t=n&&n.length>0?`${t+" "+n.join(" ")}`:t,eb(t,e,gT(t),gT(e),0,0,{})}var jd='[cmdk-group=""]',Bx='[cmdk-group-items=""]',xie='[cmdk-group-heading=""]',YF='[cmdk-item=""]',vT=`${YF}:not([aria-disabled="true"])`,tb="cmdk-item-select",bc="data-value",wie=(t,e,n)=>yie(t,e,n),QF=m.createContext(void 0),Hf=()=>m.useContext(QF),XF=m.createContext(void 0),IE=()=>m.useContext(XF),ZF=m.createContext(void 0),JF=m.forwardRef((t,e)=>{let n=_c(()=>{var U,le;return{search:"",value:(le=(U=t.value)!=null?U:t.defaultValue)!=null?le:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),r=_c(()=>new Set),s=_c(()=>new Map),i=_c(()=>new Map),a=_c(()=>new Set),l=eV(t),{label:c,children:u,value:d,onValueChange:f,filter:p,shouldFilter:g,loop:_,disablePointerSelection:v=!1,vimBindings:w=!0,...b}=t,x=Wn(),y=Wn(),j=Wn(),P=m.useRef(null),D=Rie();Gl(()=>{if(d!==void 0){let U=d.trim();n.current.value=U,S.emit()}},[d]),Gl(()=>{D(6,R)},[]);let S=m.useMemo(()=>({subscribe:U=>(a.current.add(U),()=>a.current.delete(U)),snapshot:()=>n.current,setState:(U,le,de)=>{var fe,ke,J,K;if(!Object.is(n.current[U],le)){if(n.current[U]=le,U==="search")A(),C(),D(1,I);else if(U==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let ne=document.getElementById(j);ne?ne.focus():(fe=document.getElementById(x))==null||fe.focus()}if(D(7,()=>{var ne;n.current.selectedItemId=(ne=z())==null?void 0:ne.id,S.emit()}),de||D(5,R),((ke=l.current)==null?void 0:ke.value)!==void 0){let ne=le??"";(K=(J=l.current).onValueChange)==null||K.call(J,ne);return}}S.emit()}},emit:()=>{a.current.forEach(U=>U())}}),[]),N=m.useMemo(()=>({value:(U,le,de)=>{var fe;le!==((fe=i.current.get(U))==null?void 0:fe.value)&&(i.current.set(U,{value:le,keywords:de}),n.current.filtered.items.set(U,T(le,de)),D(2,()=>{C(),S.emit()}))},item:(U,le)=>(r.current.add(U),le&&(s.current.has(le)?s.current.get(le).add(U):s.current.set(le,new Set([U]))),D(3,()=>{A(),C(),n.current.value||I(),S.emit()}),()=>{i.current.delete(U),r.current.delete(U),n.current.filtered.items.delete(U);let de=z();D(4,()=>{A(),(de==null?void 0:de.getAttribute("id"))===U&&I(),S.emit()})}),group:U=>(s.current.has(U)||s.current.set(U,new Set),()=>{i.current.delete(U),s.current.delete(U)}),filter:()=>l.current.shouldFilter,label:c||t["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:x,inputId:j,labelId:y,listInnerRef:P}),[]);function T(U,le){var de,fe;let ke=(fe=(de=l.current)==null?void 0:de.filter)!=null?fe:wie;return U?ke(U,n.current.search,le):0}function C(){if(!n.current.search||l.current.shouldFilter===!1)return;let U=n.current.filtered.items,le=[];n.current.filtered.groups.forEach(fe=>{let ke=s.current.get(fe),J=0;ke.forEach(K=>{let ne=U.get(K);J=Math.max(ne,J)}),le.push([fe,J])});let de=P.current;F().sort((fe,ke)=>{var J,K;let ne=fe.getAttribute("id"),Z=ke.getAttribute("id");return((J=U.get(Z))!=null?J:0)-((K=U.get(ne))!=null?K:0)}).forEach(fe=>{let ke=fe.closest(Bx);ke?ke.appendChild(fe.parentElement===ke?fe:fe.closest(`${Bx} > *`)):de.appendChild(fe.parentElement===de?fe:fe.closest(`${Bx} > *`))}),le.sort((fe,ke)=>ke[1]-fe[1]).forEach(fe=>{var ke;let J=(ke=P.current)==null?void 0:ke.querySelector(`${jd}[${bc}="${encodeURIComponent(fe[0])}"]`);J==null||J.parentElement.appendChild(J)})}function I(){let U=F().find(de=>de.getAttribute("aria-disabled")!=="true"),le=U==null?void 0:U.getAttribute(bc);S.setState("value",le||void 0)}function A(){var U,le,de,fe;if(!n.current.search||l.current.shouldFilter===!1){n.current.filtered.count=r.current.size;return}n.current.filtered.groups=new Set;let ke=0;for(let J of r.current){let K=(le=(U=i.current.get(J))==null?void 0:U.value)!=null?le:"",ne=(fe=(de=i.current.get(J))==null?void 0:de.keywords)!=null?fe:[],Z=T(K,ne);n.current.filtered.items.set(J,Z),Z>0&&ke++}for(let[J,K]of s.current)for(let ne of K)if(n.current.filtered.items.get(ne)>0){n.current.filtered.groups.add(J);break}n.current.filtered.count=ke}function R(){var U,le,de;let fe=z();fe&&(((U=fe.parentElement)==null?void 0:U.firstChild)===fe&&((de=(le=fe.closest(jd))==null?void 0:le.querySelector(xie))==null||de.scrollIntoView({block:"nearest"})),fe.scrollIntoView({block:"nearest"}))}function z(){var U;return(U=P.current)==null?void 0:U.querySelector(`${YF}[aria-selected="true"]`)}function F(){var U;return Array.from(((U=P.current)==null?void 0:U.querySelectorAll(vT))||[])}function H(U){let le=F()[U];le&&S.setState("value",le.getAttribute(bc))}function q(U){var le;let de=z(),fe=F(),ke=fe.findIndex(K=>K===de),J=fe[ke+U];(le=l.current)!=null&&le.loop&&(J=ke+U<0?fe[fe.length-1]:ke+U===fe.length?fe[0]:fe[ke+U]),J&&S.setState("value",J.getAttribute(bc))}function L(U){let le=z(),de=le==null?void 0:le.closest(jd),fe;for(;de&&!fe;)de=U>0?Tie(de,jd):Iie(de,jd),fe=de==null?void 0:de.querySelector(vT);fe?S.setState("value",fe.getAttribute(bc)):q(U)}let V=()=>H(F().length-1),ee=U=>{U.preventDefault(),U.metaKey?V():U.altKey?L(1):q(1)},_e=U=>{U.preventDefault(),U.metaKey?H(0):U.altKey?L(-1):q(-1)};return m.createElement(Ie.div,{ref:e,tabIndex:-1,...b,"cmdk-root":"",onKeyDown:U=>{var le;(le=b.onKeyDown)==null||le.call(b,U);let de=U.nativeEvent.isComposing||U.keyCode===229;if(!(U.defaultPrevented||de))switch(U.key){case"n":case"j":{w&&U.ctrlKey&&ee(U);break}case"ArrowDown":{ee(U);break}case"p":case"k":{w&&U.ctrlKey&&_e(U);break}case"ArrowUp":{_e(U);break}case"Home":{U.preventDefault(),H(0);break}case"End":{U.preventDefault(),V();break}case"Enter":{U.preventDefault();let fe=z();if(fe){let ke=new Event(tb);fe.dispatchEvent(ke)}}}}},m.createElement("label",{"cmdk-label":"",htmlFor:N.inputId,id:N.labelId,style:Aie},c),cy(t,U=>m.createElement(XF.Provider,{value:S},m.createElement(QF.Provider,{value:N},U))))}),bie=m.forwardRef((t,e)=>{var n,r;let s=Wn(),i=m.useRef(null),a=m.useContext(ZF),l=Hf(),c=eV(t),u=(r=(n=c.current)==null?void 0:n.forceMount)!=null?r:a==null?void 0:a.forceMount;Gl(()=>{if(!u)return l.item(s,a==null?void 0:a.id)},[u]);let d=tV(s,i,[t.value,t.children,i],t.keywords),f=IE(),p=Ma(D=>D.value&&D.value===d.current),g=Ma(D=>u||l.filter()===!1?!0:D.search?D.filtered.items.get(s)>0:!0);m.useEffect(()=>{let D=i.current;if(!(!D||t.disabled))return D.addEventListener(tb,_),()=>D.removeEventListener(tb,_)},[g,t.onSelect,t.disabled]);function _(){var D,S;v(),(S=(D=c.current).onSelect)==null||S.call(D,d.current)}function v(){f.setState("value",d.current,!0)}if(!g)return null;let{disabled:w,value:b,onSelect:x,forceMount:y,keywords:j,...P}=t;return m.createElement(Ie.div,{ref:oo(i,e),...P,id:s,"cmdk-item":"",role:"option","aria-disabled":!!w,"aria-selected":!!p,"data-disabled":!!w,"data-selected":!!p,onPointerMove:w||l.getDisablePointerSelection()?void 0:v,onClick:w?void 0:_},t.children)}),_ie=m.forwardRef((t,e)=>{let{heading:n,children:r,forceMount:s,...i}=t,a=Wn(),l=m.useRef(null),c=m.useRef(null),u=Wn(),d=Hf(),f=Ma(g=>s||d.filter()===!1?!0:g.search?g.filtered.groups.has(a):!0);Gl(()=>d.group(a),[]),tV(a,l,[t.value,t.heading,c]);let p=m.useMemo(()=>({id:a,forceMount:s}),[s]);return m.createElement(Ie.div,{ref:oo(l,e),...i,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},n&&m.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},n),cy(t,g=>m.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?u:void 0},m.createElement(ZF.Provider,{value:p},g))))}),Eie=m.forwardRef((t,e)=>{let{alwaysRender:n,...r}=t,s=m.useRef(null),i=Ma(a=>!a.search);return!n&&!i?null:m.createElement(Ie.div,{ref:oo(s,e),...r,"cmdk-separator":"",role:"separator"})}),Nie=m.forwardRef((t,e)=>{let{onValueChange:n,...r}=t,s=t.value!=null,i=IE(),a=Ma(u=>u.search),l=Ma(u=>u.selectedItemId),c=Hf();return m.useEffect(()=>{t.value!=null&&i.setState("search",t.value)},[t.value]),m.createElement(Ie.input,{ref:e,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:s?t.value:a,onChange:u=>{s||i.setState("search",u.target.value),n==null||n(u.target.value)}})}),Sie=m.forwardRef((t,e)=>{let{children:n,label:r="Suggestions",...s}=t,i=m.useRef(null),a=m.useRef(null),l=Ma(u=>u.selectedItemId),c=Hf();return m.useEffect(()=>{if(a.current&&i.current){let u=a.current,d=i.current,f,p=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let g=u.offsetHeight;d.style.setProperty("--cmdk-list-height",g.toFixed(1)+"px")})});return p.observe(u),()=>{cancelAnimationFrame(f),p.unobserve(u)}}},[]),m.createElement(Ie.div,{ref:oo(i,e),...s,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":r,id:c.listId},cy(t,u=>m.createElement("div",{ref:oo(a,c.listInnerRef),"cmdk-list-sizer":""},u)))}),jie=m.forwardRef((t,e)=>{let{open:n,onOpenChange:r,overlayClassName:s,contentClassName:i,container:a,...l}=t;return m.createElement(q1,{open:n,onOpenChange:r},m.createElement(G1,{container:a},m.createElement(Xv,{"cmdk-overlay":"",className:s}),m.createElement(Zv,{"aria-label":t.label,"cmdk-dialog":"",className:i},m.createElement(JF,{ref:e,...l}))))}),Cie=m.forwardRef((t,e)=>Ma(n=>n.filtered.count===0)?m.createElement(Ie.div,{ref:e,...t,"cmdk-empty":"",role:"presentation"}):null),kie=m.forwardRef((t,e)=>{let{progress:n,children:r,label:s="Loading...",...i}=t;return m.createElement(Ie.div,{ref:e,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":s},cy(t,a=>m.createElement("div",{"aria-hidden":!0},a)))}),Ur=Object.assign(JF,{List:Sie,Item:bie,Input:Nie,Group:_ie,Separator:Eie,Dialog:jie,Empty:Cie,Loading:kie});function Tie(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return n;n=n.nextElementSibling}}function Iie(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return n;n=n.previousElementSibling}}function eV(t){let e=m.useRef(t);return Gl(()=>{e.current=t}),e}var Gl=typeof window>"u"?m.useEffect:m.useLayoutEffect;function _c(t){let e=m.useRef();return e.current===void 0&&(e.current=t()),e}function Ma(t){let e=IE(),n=()=>t(e.snapshot());return m.useSyncExternalStore(e.subscribe,n,n)}function tV(t,e,n,r=[]){let s=m.useRef(),i=Hf();return Gl(()=>{var a;let l=(()=>{var u;for(let d of n){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(u=d.current.textContent)==null?void 0:u.trim():s.current}})(),c=r.map(u=>u.trim());i.value(t,l,c),(a=e.current)==null||a.setAttribute(bc,l),s.current=l}),s}var Rie=()=>{let[t,e]=m.useState(),n=_c(()=>new Map);return Gl(()=>{n.current.forEach(r=>r()),n.current=new Map},[t]),(r,s)=>{n.current.set(r,s),e({})}};function Pie(t){let e=t.type;return typeof e=="function"?e(t.props):"render"in e?e.render(t.props):t}function cy({asChild:t,children:e},n){return t&&m.isValidElement(e)?m.cloneElement(Pie(e),{ref:e.ref},n(e.props.children)):n(e)}var Aie={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const nV=m.forwardRef(({className:t,...e},n)=>o.jsx(Ur,{ref:n,className:Ne("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",t),...e}));nV.displayName=Ur.displayName;const rV=m.forwardRef(({className:t,...e},n)=>o.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[o.jsx(Wc,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),o.jsx(Ur.Input,{ref:n,className:Ne("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",t),...e})]}));rV.displayName=Ur.Input.displayName;const sV=m.forwardRef(({className:t,...e},n)=>o.jsx(Ur.List,{ref:n,className:Ne("max-h-[300px] overflow-y-auto overflow-x-hidden",t),...e}));sV.displayName=Ur.List.displayName;const iV=m.forwardRef((t,e)=>o.jsx(Ur.Empty,{ref:e,className:"py-6 text-center text-sm",...t}));iV.displayName=Ur.Empty.displayName;const mp=m.forwardRef(({className:t,...e},n)=>o.jsx(Ur.Group,{ref:n,className:Ne("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t),...e}));mp.displayName=Ur.Group.displayName;const Die=m.forwardRef(({className:t,...e},n)=>o.jsx(Ur.Separator,{ref:n,className:Ne("-mx-1 h-px bg-border",t),...e}));Die.displayName=Ur.Separator.displayName;const Vd=m.forwardRef(({className:t,...e},n)=>o.jsx(Ur.Item,{ref:n,className:Ne("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",t),...e}));Vd.displayName=Ur.Item.displayName;const Lm="recent_searches",Oie=5,Mie=({onSearch:t,placeholder:e="Search destinations, experiences, services...",className:n=""})=>{const[r,s]=m.useState(""),[i,a]=m.useState([]),[l,c]=m.useState([]),[u,d]=m.useState(!1),[f,p]=m.useState(!1),g=gt(),_=m.useRef(null);m.useEffect(()=>{v()},[]),m.useEffect(()=>{r.trim().length>2?y(r):a([])},[r]);const v=()=>{try{const N=localStorage.getItem(Lm);N&&c(JSON.parse(N))}catch(N){console.error("Error loading recent searches:",N)}},w=N=>{if(N.trim())try{const T=[...l],C=T.indexOf(N);C>-1&&T.splice(C,1),T.unshift(N);const I=T.slice(0,Oie);c(I),localStorage.setItem(Lm,JSON.stringify(I))}catch(T){console.error("Error saving recent search:",T)}},b=()=>{c([]),localStorage.removeItem(Lm),B.success("Recent searches cleared")},x=N=>{const T=l.filter(C=>C!==N);c(T),localStorage.setItem(Lm,JSON.stringify(T))},y=(()=>{let N;return T=>{clearTimeout(N),N=setTimeout(async()=>{await j(T)},300)}})(),j=async N=>{if(!N.trim()){a([]);return}p(!0);try{const T=await Rf({status:"approved"}),C=N.toLowerCase(),A=T.filter(R=>{const z=R.title.toLowerCase().includes(C),F=R.location.toLowerCase().includes(C),H=R.description.toLowerCase().includes(C),q=R.category.toLowerCase().includes(C);return z||F||H||q}).sort((R,z)=>{const F=R.title.toLowerCase().includes(C)?3:0,H=R.location.toLowerCase().includes(C)?2:0,q=R.description.toLowerCase().includes(C)?1:0,L=F+H+q,V=z.title.toLowerCase().includes(C)?3:0,ee=z.location.toLowerCase().includes(C)?2:0,_e=z.description.toLowerCase().includes(C)?1:0;return V+ee+_e-L});a(A.slice(0,5))}catch(T){console.error("Error searching:",T),B.error("Failed to load suggestions")}finally{p(!1)}},P=N=>{w(r),g(`/guest/listing/${N.id}`),d(!1),s("")},D=N=>{s(N),w(N),t&&t(N),g("/guest/browse"),d(!1)},S=N=>{N.preventDefault(),r.trim()&&(w(r),t&&t(r),g("/guest/browse"),d(!1))};return o.jsxs("form",{onSubmit:S,className:`relative flex gap-2 ${n}`,children:[o.jsxs(kg,{open:u,onOpenChange:d,children:[o.jsx(Tg,{asChild:!0,children:o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Wc,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground pointer-events-none z-10"}),o.jsx(qe,{ref:_,type:"search",placeholder:e,value:r,onChange:N=>s(N.target.value),onFocus:()=>d(!0),className:"pl-10 h-12 w-full",autoComplete:"off"})]})}),o.jsx(Wh,{className:"w-[var(--radix-popover-trigger-width)] p-0",align:"start",children:o.jsxs(nV,{shouldFilter:!1,children:[o.jsx(rV,{placeholder:"Search...",value:r,onValueChange:s}),o.jsxs(sV,{children:[f&&o.jsx("div",{className:"p-4 text-center text-sm text-muted-foreground",children:"Searching..."}),!f&&i.length===0&&r.trim().length>2&&o.jsx(iV,{children:"No results found."}),!f&&i.length>0&&o.jsx(mp,{heading:"Suggestions",children:i.map(N=>{var T;return o.jsx(Vd,{value:N.id,onSelect:()=>P(N),className:"cursor-pointer",children:o.jsxs("div",{className:"flex items-start gap-3 w-full",children:[o.jsx("img",{src:((T=N.images)==null?void 0:T[0])||"/placeholder.svg",alt:N.title,className:"w-12 h-12 object-cover rounded"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-medium truncate",children:N.title}),o.jsx("p",{className:"text-xs text-muted-foreground truncate",children:N.location}),o.jsxs("p",{className:"text-xs font-semibold text-primary mt-1",children:[Qe(N.price),"/night"]})]})]})},N.id)})}),!f&&l.length>0&&r.trim().length===0&&o.jsxs(mp,{heading:"Recent Searches",children:[l.map((N,T)=>o.jsx(Vd,{value:N,onSelect:()=>D(N),className:"cursor-pointer group",children:o.jsxs("div",{className:"flex items-center justify-between w-full",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(rv,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{children:N})]}),o.jsx(ie,{variant:"ghost",size:"icon",className:"h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity",onClick:C=>{C.stopPropagation(),x(N)},children:o.jsx(Na,{className:"h-3 w-3"})})]})},T)),o.jsx(Vd,{value:"clear-all",onSelect:b,className:"cursor-pointer text-muted-foreground",children:o.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[o.jsx(Na,{className:"h-3 w-3"}),"Clear all recent searches"]})})]}),!f&&r.trim().length>0&&o.jsx(mp,{children:o.jsx(Vd,{value:"search-all",onSelect:S,className:"cursor-pointer",children:o.jsxs("div",{className:"flex items-center gap-2 w-full",children:[o.jsx(Wc,{className:"h-4 w-4"}),o.jsxs("span",{children:['Search for "',r,'"']})]})})})]})]})})]}),o.jsxs(ie,{type:"submit",className:"h-12 px-6",children:[o.jsx(Wc,{className:"h-4 w-4 mr-2 sm:mr-0 sm:inline"}),o.jsx("span",{className:"hidden sm:inline",children:"Search"})]})]})},Lie=({onFilterChange:t,initialFilters:e})=>{const[n,r]=m.useState(e||{location:"",guests:1,category:"all"}),[s,i]=m.useState(!1);m.useEffect(()=>{e&&r(e)},[e]);const a=()=>{t(n)},l=()=>{const c={location:"",guests:1,category:"all"};r(c),t(c)};return o.jsxs(ce,{children:[o.jsx(ve,{children:o.jsxs(ye,{className:"flex items-center gap-2",children:[o.jsx(O9,{className:"h-5 w-5"}),"Search Filters"]})}),o.jsxs(Se,{className:"space-y-4",children:[o.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"location",children:"Where"}),o.jsx(qe,{id:"location",placeholder:"Location",value:n.location,onChange:c=>r({...n,location:c.target.value})})]}),o.jsxs("div",{children:[o.jsx(Fe,{children:"Check-in"}),o.jsxs(kg,{children:[o.jsx(Tg,{asChild:!0,children:o.jsxs(ie,{variant:"outline",className:"w-full justify-start",children:[o.jsx(Jn,{className:"mr-2 h-4 w-4"}),n.checkIn?vs(n.checkIn,"PP"):"Select date"]})}),o.jsx(Wh,{className:"w-auto p-0",children:o.jsx(Su,{mode:"single",selected:n.checkIn,onSelect:c=>r({...n,checkIn:c}),disabled:c=>c<new Date})})]})]}),o.jsxs("div",{children:[o.jsx(Fe,{children:"Check-out"}),o.jsxs(kg,{children:[o.jsx(Tg,{asChild:!0,children:o.jsxs(ie,{variant:"outline",className:"w-full justify-start",children:[o.jsx(Jn,{className:"mr-2 h-4 w-4"}),n.checkOut?vs(n.checkOut,"PP"):"Select date"]})}),o.jsx(Wh,{className:"w-auto p-0",children:o.jsx(Su,{mode:"single",selected:n.checkOut,onSelect:c=>r({...n,checkOut:c}),disabled:c=>c<(n.checkIn||new Date)})})]})]})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"guests",children:"Guests"}),o.jsx(qe,{id:"guests",type:"number",min:"1",value:n.guests,onChange:c=>r({...n,guests:Number(c.target.value)})})]}),o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"category",children:"Category"}),o.jsxs(iE,{value:n.category,onValueChange:c=>r({...n,category:c}),children:[o.jsx(sy,{children:o.jsx(oE,{})}),o.jsxs(iy,{children:[o.jsx(hs,{value:"all",children:"All Categories"}),o.jsx(hs,{value:"home",children:"Homes"}),o.jsx(hs,{value:"experience",children:"Experiences"}),o.jsx(hs,{value:"service",children:"Services"})]})]})]})]}),o.jsxs(ie,{variant:"ghost",onClick:()=>i(!s),className:"w-full",children:[s?"Hide":"Show"," Advanced Filters"]}),s&&o.jsxs("div",{className:"grid md:grid-cols-2 gap-4 pt-4 border-t",children:[o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"minPrice",children:"Min Price ()"}),o.jsx(qe,{id:"minPrice",type:"number",min:"0",value:n.minPrice||"",onChange:c=>r({...n,minPrice:Number(c.target.value)}),placeholder:"0"})]}),o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"maxPrice",children:"Max Price ()"}),o.jsx(qe,{id:"maxPrice",type:"number",min:"0",value:n.maxPrice||"",onChange:c=>r({...n,maxPrice:Number(c.target.value)}),placeholder:"No limit"})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ie,{onClick:a,className:"flex-1",children:"Apply Filters"}),o.jsx(ie,{onClick:l,variant:"outline",children:"Reset"})]})]})]})},Fie=()=>{const t=gt(),e=Ba(),{user:n}=Dt(),[r,s]=m.useState([]),[i,a]=m.useState([]),[l,c]=m.useState([]),[u,d]=m.useState(!0),[f,p]=m.useState(""),g=()=>{const N=new URLSearchParams(e.search).get("category");return N&&["home","experience","service"].includes(N)?N:"all"},[_,v]=m.useState({location:"",guests:1,category:g()});m.useEffect(()=>{w(),n&&(b(),x())},[n,_.category]),m.useEffect(()=>{const S=new URLSearchParams(e.search),N=S.get("q"),T=S.get("category");if(N&&p(N),T&&["home","experience","service"].includes(T)){const C=T;v(I=>I.category!==C?{...I,category:C}:I)}else T||v(C=>C.category!=="all"?{...C,category:"all"}:C)},[e.search]);const w=async()=>{try{const S=_.category!=="all"?{category:_.category,status:"approved"}:{status:"approved"},N=await Rf(S);if(N.length>0){const T=N.map(A=>A.id),C=await T1(T),I=N.map(A=>{const R=C.get(A.id);return{...A,averageRating:(R==null?void 0:R.averageRating)||0,reviewCount:(R==null?void 0:R.reviewCount)||0}});s(I)}else s(N)}catch{B.error("Failed to load listings")}finally{d(!1)}},b=async()=>{if(!n)return;const S=await St($e(he,"users",n.uid));S.exists()&&a(S.data().favorites||[])},x=async()=>{if(!n)return;const S=await St($e(he,"users",n.uid));S.exists()&&c(S.data().wishlist||[])},y=async S=>{if(!n){B.error("Please login to add favorites");return}const T=i.includes(S)?i.filter(C=>C!==S):[...i,S];a(T);try{const C=await Pf(n.uid,S,i);a(C),B.success(C.includes(S)?"Added to favorites":"Removed from favorites")}catch{a(i),B.error("Failed to update favorites")}},j=async S=>{if(!n){B.error("Please login to add to wishlist");return}const T=l.includes(S)?l.filter(C=>C!==S):[...l,S];c(T);try{const C=await $v(n.uid,S,l);c(C),B.success(C.includes(S)?"Added to wishlist":"Removed from wishlist")}catch{c(l),B.error("Failed to update wishlist")}},P=r.filter(S=>{if(f.trim()){const N=f.toLowerCase(),T=S.title.toLowerCase().includes(N),C=S.location.toLowerCase().includes(N),I=S.description.toLowerCase().includes(N),A=S.category.toLowerCase().includes(N);if(!T&&!C&&!I&&!A)return!1}return!(_.location&&!S.location.toLowerCase().includes(_.location.toLowerCase())||_.guests>S.maxGuests||_.minPrice&&S.price<_.minPrice||_.maxPrice&&S.price>_.maxPrice)}),D=S=>{v(S)};return o.jsx("div",{className:"min-h-screen bg-background",children:o.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-6 lg:py-8",children:[o.jsxs(ie,{variant:"ghost",onClick:()=>t("/guest/dashboard"),className:"mb-6",children:[o.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),o.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Browse Listings"}),o.jsx(ce,{className:"mb-6 shadow-md",children:o.jsx(Se,{className:"pt-6",children:o.jsx(Mie,{onSearch:S=>{p(S),t(`/guest/browse?q=${encodeURIComponent(S)}`)},placeholder:"Search destinations, experiences, services..."})})}),o.jsx("div",{className:"mb-6 flex flex-wrap gap-2",children:["all","home","experience","service"].map(S=>o.jsx("button",{className:`px-4 py-2 rounded-full text-sm font-medium border-2 transition-all ${_.category===S?"bg-primary text-primary-foreground border-primary shadow-md":"bg-background border-border text-foreground hover:bg-muted hover:border-primary/50"}`,onClick:()=>v({..._,category:S}),children:S==="all"?"All":S.charAt(0).toUpperCase()+S.slice(1)},S))}),o.jsx("div",{className:"mb-8",children:o.jsx(Lie,{onFilterChange:D,initialFilters:_})}),u?o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[...Array(8)].map((S,N)=>o.jsx(cie,{},N))}):P.length===0?o.jsx(ya,{icon:o.jsx(Wc,{className:"h-10 w-10"}),title:"No listings found",description:"Try adjusting your filters or browse a different category to find what you're looking for.",action:o.jsx(ie,{onClick:()=>v({..._,category:"all",location:"",guests:1}),children:"Clear Filters"})}):o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 items-stretch",children:P.map(S=>o.jsx(mo,{listing:S,onView:()=>t(`/guest/listing/${S.id}`),onFavorite:()=>y(S.id),onWishlist:()=>j(S.id),isFavorite:i.includes(S.id),isInWishlist:l.includes(S.id)},S.id))})]})})};var oV={exports:{}},aV={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ru=m;function Vie(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var $ie=typeof Object.is=="function"?Object.is:Vie,Uie=Ru.useState,Bie=Ru.useEffect,zie=Ru.useLayoutEffect,Wie=Ru.useDebugValue;function Hie(t,e){var n=e(),r=Uie({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return zie(function(){s.value=n,s.getSnapshot=e,zx(s)&&i({inst:s})},[t,n,e]),Bie(function(){return zx(s)&&i({inst:s}),t(function(){zx(s)&&i({inst:s})})},[t]),Wie(n),n}function zx(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!$ie(t,n)}catch{return!0}}function qie(t,e){return e()}var Gie=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?qie:Hie;aV.useSyncExternalStore=Ru.useSyncExternalStore!==void 0?Ru.useSyncExternalStore:Gie;oV.exports=aV;var Kie=oV.exports;function Yie(){return Kie.useSyncExternalStore(Qie,()=>!0,()=>!1)}function Qie(){return()=>{}}var RE="Avatar",[Xie,uae]=er(RE),[Zie,lV]=Xie(RE),cV=m.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,i]=m.useState("idle");return o.jsx(Zie,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:o.jsx(Ie.span,{...r,ref:e})})});cV.displayName=RE;var uV="AvatarImage",dV=m.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=t,a=lV(uV,n),l=Jie(r,i),c=sn(u=>{s(u),a.onImageLoadingStatusChange(u)});return hn(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?o.jsx(Ie.img,{...i,ref:e,src:r}):null});dV.displayName=uV;var hV="AvatarFallback",fV=m.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,i=lV(hV,n),[a,l]=m.useState(r===void 0);return m.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),a&&i.imageLoadingStatus!=="loaded"?o.jsx(Ie.span,{...s,ref:e}):null});fV.displayName=hV;function yT(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Jie(t,{referrerPolicy:e,crossOrigin:n}){const r=Yie(),s=m.useRef(null),i=r?(s.current||(s.current=new window.Image),s.current):null,[a,l]=m.useState(()=>yT(i,t));return hn(()=>{l(yT(i,t))},[i,t]),hn(()=>{const c=f=>()=>{l(f)};if(!i)return;const u=c("loaded"),d=c("error");return i.addEventListener("load",u),i.addEventListener("error",d),e&&(i.referrerPolicy=e),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,n,e]),a}var mV=cV,pV=dV,gV=fV;const PE=m.forwardRef(({className:t,...e},n)=>o.jsx(mV,{ref:n,className:Ne("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));PE.displayName=mV.displayName;const eoe=m.forwardRef(({className:t,...e},n)=>o.jsx(pV,{ref:n,className:Ne("aspect-square h-full w-full",t),...e}));eoe.displayName=pV.displayName;const AE=m.forwardRef(({className:t,...e},n)=>o.jsx(gV,{ref:n,className:Ne("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));AE.displayName=gV.displayName;const toe=({listingId:t})=>{const[e,n]=m.useState([]),[r,s]=m.useState(!0),[i,a]=m.useState("newest"),[l,c]=m.useState(new Set);m.useEffect(()=>{u(),d()},[t]);const u=async()=>{try{const v=await k1(t);n(v)}catch(v){console.error(v)}finally{s(!1)}},d=()=>{const v=localStorage.getItem(`helpful_reviews_${t}`);v&&c(new Set(JSON.parse(v)))},f=v=>{const w=new Set(l);w.has(v)?w.delete(v):w.add(v),c(w),localStorage.setItem(`helpful_reviews_${t}`,JSON.stringify(Array.from(w)))},p=m.useMemo(()=>{const v=[...e];switch(i){case"newest":return v.sort((w,b)=>new Date(b.createdAt).getTime()-new Date(w.createdAt).getTime());case"highest":return v.sort((w,b)=>b.rating-w.rating);case"lowest":return v.sort((w,b)=>w.rating-b.rating);case"most_helpful":return v.sort((w,b)=>{const x=l.has(w.id)?1:0,y=l.has(b.id)?1:0;return x!==y?y-x:b.rating-w.rating});default:return v}},[e,i,l]),g=m.useMemo(()=>e.length===0?0:(e.reduce((w,b)=>w+b.rating,0)/e.length).toFixed(1),[e]),_=m.useMemo(()=>{const v={5:0,4:0,3:0,2:0,1:0};return e.forEach(w=>{v[w.rating]++}),v},[e]);return r?o.jsx("p",{children:"Loading reviews..."}):e.length===0?o.jsx(ce,{children:o.jsx(Se,{className:"py-8 text-center text-muted-foreground",children:"No reviews yet"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"text-2xl font-semibold mb-2",children:["Reviews (",e.length,")"]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(ca,{className:"h-5 w-5 fill-yellow-400 text-yellow-400"}),o.jsx("span",{className:"text-lg font-bold ml-1",children:g})]}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",e.length," ",e.length===1?"review":"reviews",")"]})]})]}),o.jsxs(iE,{value:i,onValueChange:v=>a(v),children:[o.jsxs(sy,{className:"w-full sm:w-[200px]",children:[o.jsx(T9,{className:"h-4 w-4 mr-2"}),o.jsx(oE,{placeholder:"Sort by"})]}),o.jsxs(iy,{children:[o.jsx(hs,{value:"newest",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(rv,{className:"h-4 w-4"}),o.jsx("span",{children:"Newest First"})]})}),o.jsx(hs,{value:"highest",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Rl,{className:"h-4 w-4"}),o.jsx("span",{children:"Highest Rated"})]})}),o.jsx(hs,{value:"lowest",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Rl,{className:"h-4 w-4 rotate-180"}),o.jsx("span",{children:"Lowest Rated"})]})}),o.jsx(hs,{value:"most_helpful",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(US,{className:"h-4 w-4"}),o.jsx("span",{children:"Most Helpful"})]})})]})]})]}),o.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:"Rating Breakdown"}),o.jsx("div",{className:"space-y-2",children:[5,4,3,2,1].reverse().map(v=>{const w=_[v],b=w/e.length*100;return o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"flex items-center gap-1 w-20",children:[o.jsx("span",{className:"text-sm",children:v}),o.jsx(ca,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"})]}),o.jsx("div",{className:"flex-1 bg-background rounded-full h-2 overflow-hidden",children:o.jsx("div",{className:"bg-primary h-full rounded-full transition-all duration-300",style:{width:`${b}%`}})}),o.jsx("span",{className:"text-sm text-muted-foreground w-12 text-right",children:w})]},v)})})]}),o.jsx("div",{className:"space-y-4",children:p.map(v=>o.jsx(ce,{children:o.jsx(Se,{className:"pt-6",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx(PE,{children:o.jsx(AE,{children:v.guestId.slice(0,2).toUpperCase()})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"flex items-start justify-between mb-2",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"flex",children:[...Array(5)].map((w,b)=>o.jsx(ca,{className:`h-4 w-4 ${b<v.rating?"fill-yellow-400 text-yellow-400":"text-muted"}`},b))}),o.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(v.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})}),o.jsx("p",{className:"text-sm mb-3 leading-relaxed",children:v.comment}),o.jsxs(ie,{variant:"ghost",size:"sm",className:"h-8 text-xs",onClick:()=>f(v.id),children:[o.jsx(US,{className:`h-3 w-3 mr-1 ${l.has(v.id)?"fill-primary text-primary":""}`}),"Helpful ",l.has(v.id)&&"(1)"]})]})]})})},v.id))})]})},noe=({url:t,title:e,description:n="",variant:r="outline",size:s="default"})=>{const[i,a]=m.useState(!1),l=encodeURIComponent(t),c=encodeURIComponent(e),u=async()=>{try{await navigator.clipboard.writeText(t),a(!0),B.success("Link copied to clipboard!"),setTimeout(()=>a(!1),2e3)}catch{B.error("Failed to copy link")}},d=async()=>{if(navigator.share)try{await navigator.share({title:e,text:n,url:t})}catch(_){_.name!=="AbortError"&&console.error("Error sharing:",_)}else u()},f=()=>{const _=`https://www.facebook.com/sharer/sharer.php?u=${l}`;window.open(_,"_blank","noopener,noreferrer")},p=()=>{const _=`https://twitter.com/intent/tweet?url=${l}&text=${c}${n?"&hashtags=MojoDojoCasaHouse":""}`;window.open(_,"_blank","noopener,noreferrer")},g=()=>{const _=`https://api.whatsapp.com/send?text=${c}%20${l}`;window.open(_,"_blank","noopener,noreferrer")};return o.jsxs("div",{className:"flex items-center gap-2",children:[navigator.share&&o.jsxs(ie,{variant:r,size:s,onClick:d,className:"flex items-center gap-2",children:[o.jsx($S,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Share"})]}),o.jsxs(FM,{children:[o.jsx(VM,{asChild:!0,children:o.jsxs(ie,{variant:r,size:s,className:"flex items-center gap-2",children:[o.jsx($S,{className:"h-4 w-4"}),!navigator.share&&o.jsx("span",{children:"Share"}),navigator.share&&o.jsx("span",{className:"hidden sm:inline",children:"More"})]})}),o.jsxs(F1,{align:"end",className:"w-48",children:[o.jsx(Zo,{onClick:u,children:i?o.jsxs(o.Fragment,{children:[o.jsx(sf,{className:"h-4 w-4 mr-2 text-green-500"}),"Copied!"]}):o.jsxs(o.Fragment,{children:[o.jsx(V9,{className:"h-4 w-4 mr-2"}),"Copy Link"]})}),o.jsx($M,{}),o.jsxs(Zo,{onClick:f,children:[o.jsx(_P,{className:"h-4 w-4 mr-2 text-blue-600"}),"Share to Facebook"]}),o.jsxs(Zo,{onClick:p,children:[o.jsx(SP,{className:"h-4 w-4 mr-2 text-sky-500"}),"Share to Twitter"]}),o.jsxs(Zo,{onClick:g,children:[o.jsx(U9,{className:"h-4 w-4 mr-2 text-green-600"}),"Share to WhatsApp"]})]})]})]})},roe=()=>{const{id:t}=Y8(),e=gt(),{user:n}=Dt(),[r,s]=m.useState(null),[i,a]=m.useState(),[l,c]=m.useState(),[u,d]=m.useState(1),[f,p]=m.useState(!1),[g,_]=m.useState([]),[v,w]=m.useState([]),[b,x]=m.useState(null);m.useEffect(()=>{t&&y(),n&&(P(),D())},[t,n]);const y=async()=>{if(!t)return;const I=await wO(t);if(I){const A=await _O(t),R={...I,averageRating:A.averageRating,reviewCount:A.reviewCount};s(R),console.log(" Listing loaded:",{id:I.id,title:I.title,hostId:I.hostId,hasHostId:!!I.hostId,averageRating:A.averageRating,reviewCount:A.reviewCount}),I.hostId?await j(I.hostId):console.error(" Listing missing hostId!",I)}},j=async I=>{try{const A=await St($e(he,"users",I));if(A.exists()){const R=A.data();x({fullName:R.fullName||"Host",email:R.email||""})}else console.warn("Host user document not found:",I),x({fullName:"Host",email:""})}catch(A){console.error("Error loading host info:",A),x({fullName:"Host",email:""})}},P=async()=>{if(!n)return;const I=await St($e(he,"users",n.uid));I.exists()&&_(I.data().favorites||[])},D=async()=>{if(!n)return;const I=await St($e(he,"users",n.uid));I.exists()&&w(I.data().wishlist||[])},S=async()=>{if(!n||!r){B.error("Please login to add favorites");return}try{const{toggleFavorite:I}=await An(async()=>{const{toggleFavorite:R}=await Promise.resolve().then(()=>Si);return{toggleFavorite:R}},void 0),A=await I(n.uid,r.id,g);_(A),B.success(A.includes(r.id)?"Added to favorites":"Removed from favorites")}catch{B.error("Failed to update favorites")}},N=async()=>{if(!n||!r){B.error("Please login to add to wishlist");return}try{const{toggleWishlist:I}=await An(async()=>{const{toggleWishlist:R}=await Promise.resolve().then(()=>Si);return{toggleWishlist:R}},void 0),A=await I(n.uid,r.id,v);w(A),B.success(A.includes(r.id)?"Added to wishlist":"Removed from wishlist")}catch{B.error("Failed to update wishlist")}},T=()=>!i||!l||!r?0:Math.ceil((l.getTime()-i.getTime())/(1e3*60*60*24))*r.price,C=async()=>{var I;if(!n||!r||!i||!l){B.error("Please select dates and sign in");return}if(!r.hostId){B.error("Listing error: Missing host information. Please contact support."),console.error("Listing missing hostId:",r);return}p(!0);try{const A={listingId:r.id,guestId:n.uid,hostId:r.hostId,checkIn:i.toISOString(),checkOut:l.toISOString(),guests:u,totalPrice:T(),status:"pending"};console.log(" Creating booking with data:",{...A,hostIdValue:r.hostId,hostIdType:typeof r.hostId,hostIdLength:(I=r.hostId)==null?void 0:I.length});const R=await bO(A);console.log(" Booking created successfully:",R),console.log(" Booking details:",{bookingId:R,hostId:r.hostId,guestId:n.uid,listingId:r.id,status:"pending",checkIn:A.checkIn,checkOut:A.checkOut,guests:A.guests,totalPrice:A.totalPrice});try{const{getDoc:z,doc:F}=await An(async()=>{const{getDoc:L,doc:V}=await Promise.resolve().then(()=>T0);return{getDoc:L,doc:V}},void 0),{db:H}=await An(async()=>{const{db:L}=await Promise.resolve().then(()=>I0);return{db:L}},void 0),q=await z(F(H,"bookings",R));if(q.exists()){const L=q.data();if(console.log(" Verified booking in Firestore:",{id:R,hostId:L.hostId,hostIdType:typeof L.hostId,guestId:L.guestId,guestIdType:typeof L.guestId,status:L.status,createdAt:L.createdAt,listingId:L.listingId}),r.id){const V=await z(F(H,"listing",r.id));if(V.exists()){const ee=V.data();console.log(" Listing hostId comparison:",{listingHostId:ee.hostId,listingHostIdType:typeof ee.hostId,bookingHostId:L.hostId,bookingHostIdType:typeof L.hostId,match:String(ee.hostId)===String(L.hostId)})}}}}catch(z){console.error(" Error verifying booking:",z)}B.success("Booking request sent! The host will review your request."),e("/guest/dashboard")}catch(A){console.error(" Error creating booking:",A),B.error("Failed to create booking")}finally{p(!1)}};return r?o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsxs(ie,{variant:"ghost",onClick:()=>e("/guest/browse"),className:"mb-4",children:[o.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Back to Browse"]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[o.jsxs("div",{children:[o.jsx("img",{src:r.images[0]||"/placeholder.svg",alt:r.title,className:"w-full h-96 object-cover rounded-lg mb-4"}),o.jsx("div",{className:"grid grid-cols-3 gap-2",children:r.images.slice(1,4).map((I,A)=>o.jsx("img",{src:I,alt:"",className:"w-full h-24 object-cover rounded"},A))})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx(Sn,{children:r.category}),o.jsxs("div",{className:"flex items-center gap-2",children:[n&&r&&o.jsxs(o.Fragment,{children:[o.jsxs(ie,{variant:"outline",size:"sm",onClick:N,className:"flex items-center gap-2",title:v.includes(r.id)?"Remove from wishlist":"Add to wishlist",children:[o.jsx(pu,{className:`h-4 w-4 ${v.includes(r.id)?"fill-blue-500 text-blue-500":""}`}),v.includes(r.id)?"In Wishlist":"Wishlist"]}),o.jsxs(ie,{variant:"outline",size:"sm",onClick:S,className:"flex items-center gap-2",title:g.includes(r.id)?"Remove from favorites":"Add to favorites",children:[o.jsx(_a,{className:`h-4 w-4 ${g.includes(r.id)?"fill-red-500 text-red-500":""}`}),g.includes(r.id)?"Favorited":"Favorite"]})]}),r&&o.jsx(noe,{url:window.location.href,title:r.title,description:r.description,variant:"outline",size:"sm"})]})]}),o.jsx("h1",{className:"text-3xl font-bold mb-2",children:r.title}),o.jsxs("div",{className:"flex items-center text-muted-foreground mb-4",children:[o.jsx(o_,{className:"h-4 w-4 mr-1"}),o.jsx("span",{children:r.location})]}),o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Pl,{className:"h-4 w-4"}),r.maxGuests," guests"]}),r.bedrooms&&o.jsxs("span",{children:[r.bedrooms," bedrooms"]}),r.bathrooms&&o.jsxs("span",{children:[r.bathrooms," bathrooms"]})]}),b&&o.jsx(ce,{className:"mb-6 border-primary/20 bg-primary/5",children:o.jsx(Se,{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:o.jsx(lf,{className:"h-6 w-6 text-primary"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Hosted by"}),o.jsx("p",{className:"font-semibold text-lg",children:b.fullName})]})]})})}),o.jsx("p",{className:"text-muted-foreground mb-6",children:r.description}),r.amenities.length>0&&o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"font-semibold mb-2",children:"Amenities"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:r.amenities.map((I,A)=>o.jsx(Sn,{variant:"outline",children:I},A))})]}),o.jsxs(ce,{children:[o.jsx(ve,{children:o.jsxs(ye,{className:"flex items-center justify-between",children:[o.jsx("span",{children:Qe(r.price)}),o.jsx("span",{className:"text-sm font-normal text-muted-foreground",children:"per night"})]})}),o.jsxs(Se,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Check-in"}),o.jsx(Su,{mode:"single",selected:i,onSelect:a,disabled:I=>I<new Date,className:"rounded-md border"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Check-out"}),o.jsx(Su,{mode:"single",selected:l,onSelect:c,disabled:I=>!i||I<=i,className:"rounded-md border"})]}),i&&l&&o.jsx("div",{className:"pt-4 border-t",children:o.jsxs("div",{className:"flex justify-between mb-2",children:[o.jsx("span",{children:"Total"}),o.jsx("span",{className:"font-bold",children:Qe(T())})]})}),o.jsx(ie,{className:"w-full",onClick:C,disabled:!i||!l||f,children:f?"Booking...":"Request to Book"})]})]})]})]}),o.jsx("div",{className:"mt-12",children:o.jsx(toe,{listingId:r.id})}),o.jsx(soe,{listingId:r.id})]})}):o.jsx(Js,{})},soe=({listingId:t})=>{const e=gt(),{user:n}=Dt(),[r,s]=m.useState([]),[i,a]=m.useState([]),[l,c]=m.useState([]),[u,d]=m.useState(!0);m.useEffect(()=>{f(),n&&(p(),g())},[t,n]);const f=async()=>{try{const{getSimilarListings:w}=await An(async()=>{const{getSimilarListings:y}=await Promise.resolve().then(()=>QJ);return{getSimilarListings:y}},void 0),{getListingsRatings:b}=await An(async()=>{const{getListingsRatings:y}=await Promise.resolve().then(()=>Si);return{getListingsRatings:y}},void 0),x=await w(t,4);if(x.length>0){const y=x.map(D=>D.id),j=await b(y),P=x.map(D=>{const S=j.get(D.id);return{...D,averageRating:(S==null?void 0:S.averageRating)||0,reviewCount:(S==null?void 0:S.reviewCount)||0}});s(P)}else s(x)}catch(w){console.error("Error loading similar listings:",w)}finally{d(!1)}},p=async()=>{if(!n)return;const{doc:w,getDoc:b}=await An(async()=>{const{doc:j,getDoc:P}=await Promise.resolve().then(()=>T0);return{doc:j,getDoc:P}},void 0),{db:x}=await An(async()=>{const{db:j}=await Promise.resolve().then(()=>I0);return{db:j}},void 0),y=await b(w(x,"users",n.uid));y.exists()&&a(y.data().favorites||[])},g=async()=>{if(!n)return;const{doc:w,getDoc:b}=await An(async()=>{const{doc:j,getDoc:P}=await Promise.resolve().then(()=>T0);return{doc:j,getDoc:P}},void 0),{db:x}=await An(async()=>{const{db:j}=await Promise.resolve().then(()=>I0);return{db:j}},void 0),y=await b(w(x,"users",n.uid));y.exists()&&c(y.data().wishlist||[])},_=async w=>{if(!n){B.error("Please login to add favorites");return}try{const{toggleFavorite:b}=await An(async()=>{const{toggleFavorite:y}=await Promise.resolve().then(()=>Si);return{toggleFavorite:y}},void 0),x=await b(n.uid,w,i);a(x),B.success(x.includes(w)?"Added to favorites":"Removed from favorites")}catch{B.error("Failed to update favorites")}},v=async w=>{if(!n){B.error("Please login to add to wishlist");return}try{const{toggleWishlist:b}=await An(async()=>{const{toggleWishlist:y}=await Promise.resolve().then(()=>Si);return{toggleWishlist:y}},void 0),x=await b(n.uid,w,l);c(x),B.success(x.includes(w)?"Added to wishlist":"Removed from wishlist")}catch{B.error("Failed to update wishlist")}};return u||r.length===0?null:o.jsxs("div",{className:"mt-12",children:[o.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Similar Listings"}),o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:r.map(w=>o.jsx(mo,{listing:w,onView:()=>e(`/guest/listing/${w.id}`),onFavorite:()=>_(w.id),onWishlist:()=>v(w.id),isFavorite:i.includes(w.id),isInWishlist:l.includes(w.id)},w.id))})]})},ioe=()=>{const t=gt(),[e]=hf(),{user:n}=Dt(),[r,s]=m.useState([]),[i,a]=m.useState(!0),[l,c]=m.useState(!1),[u,d]=m.useState(null),[f,p]=m.useState(!1),g=e.get("filter");m.useEffect(()=>{if(!n)return;a(!0),console.log(" MyBookings: Setting up listener for guest:",n.uid);const x=vt(et(he,"bookings"),yt("guestId","==",n.uid)),y=ps(x,j=>{const P=j.docs.map(S=>{const N=S.data();return{id:S.id,...N}});P.sort((S,N)=>{const T=new Date(S.createdAt||0).getTime();return new Date(N.createdAt||0).getTime()-T}),console.log(" Real-time guest bookings update:",{guestUid:n.uid,count:P.length,filter:g,allBookings:j.docs.map(S=>({id:S.id,hostId:S.data().hostId,guestId:S.data().guestId,status:S.data().status,listingId:S.data().listingId,createdAt:S.data().createdAt}))});let D=P;if(g==="upcoming"){const S=new Date;D=P.filter(N=>new Date(N.checkIn)>=S&&N.status==="confirmed")}s(D),a(!1)},j=>{console.error(" Error in guest bookings listener:",j),a(!1),_()});return()=>y()},[n,g]);const _=async()=>{if(n)try{const x=await yo({guestId:n.uid});s(x),console.log(" Bookings loaded (fallback):",x.length,"bookings")}catch(x){console.error(" Error in fallback load:",x)}finally{a(!1)}},v=x=>{switch(x){case"confirmed":return"default";case"pending":return"secondary";case"cancelled":return"destructive";case"completed":return"outline";default:return"secondary"}},w=x=>{if(!x||!x.id){B.error("Invalid booking");return}if(x.status==="cancelled"){B.error("This booking is already cancelled");return}if(x.status==="completed"){B.error("Cannot cancel completed bookings");return}if(x.status!=="pending"&&x.status!=="confirmed"){B.error("This booking cannot be cancelled");return}if(new Date(x.checkIn)<new Date){B.error("Cannot cancel bookings with check-in dates in the past");return}d(x),c(!0)},b=async()=>{if(!u||!n){B.error("Invalid booking or user");return}if(u.status==="cancelled"||u.status==="completed"){B.error("This booking cannot be cancelled"),c(!1),d(null);return}if(new Date(u.checkIn)<new Date){B.error("Cannot cancel bookings with check-in dates in the past"),c(!1),d(null);return}p(!0);try{await Vv(u.id,{status:"cancelled"});const j=u.totalPrice||0;if(j>0)try{const D=await St($e(he,"users",n.uid));if(!D.exists())throw new Error("User document not found");const S=D.data().walletBalance||0,N=S+j;await Mn($e(he,"users",n.uid),{walletBalance:N}),await Ku({userId:n.uid,type:"refund",amount:j,description:`Refund for cancelled ${u.status} booking #${u.id.slice(0,8)}`,status:"completed"}),console.log(" Refund processed:",{bookingId:u.id,bookingStatus:u.status,refundAmount:j,previousBalance:S,newBalance:N})}catch(D){console.error("Error processing refund:",D),B.error(`Booking cancelled, but refund failed. Please contact support. Error: ${D.message}`)}const P=j>0?`${Qe(j)} has been refunded to your wallet.`:"No refund was processed for this booking.";B.success(`Booking cancelled successfully. ${P}`),c(!1),d(null)}catch(j){console.error("Error cancelling booking:",j);const P=j.message||"Unknown error occurred";B.error(`Failed to cancel booking: ${P}`)}finally{p(!1)}};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"sticky top-0 z-50 border-b bg-card/95 backdrop-blur supports-[backdrop-filter]:bg-card/60 shadow-soft",children:o.jsxs("div",{className:"container mx-auto px-6 py-4 flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>t("/guest/dashboard"),children:o.jsx(Vt,{className:"h-5 w-5"})}),o.jsx("div",{className:"p-2 rounded-lg bg-secondary/10",children:o.jsx(Jn,{className:"w-5 h-5 text-secondary"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-lg font-bold",children:g==="upcoming"?"Upcoming Trips":"My Bookings"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:g==="upcoming"?"Your confirmed upcoming trips":"View your trips"})]})]}),o.jsx(Nr,{})]})}),o.jsx("div",{className:"max-w-4xl mx-auto p-6",children:i?o.jsx(Js,{}):r.length===0?o.jsx(ce,{children:o.jsxs(Se,{className:"py-12 text-center text-muted-foreground",children:[o.jsx(Jn,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No bookings yet"})]})}):o.jsx("div",{className:"space-y-4",children:r.map(x=>{const y=(x.status==="pending"||x.status==="confirmed")&&new Date(x.checkIn)>=new Date;return o.jsxs(ce,{children:[o.jsx(ve,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(ye,{children:["Booking #",x.id.slice(0,8)]}),o.jsx(Sn,{variant:v(x.status),children:x.status})]})}),o.jsxs(Se,{children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Check-in"}),o.jsx("p",{className:"font-medium",children:new Date(x.checkIn).toLocaleDateString()})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Check-out"}),o.jsx("p",{className:"font-medium",children:new Date(x.checkOut).toLocaleDateString()})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Guests"}),o.jsx("p",{className:"font-medium",children:x.guests})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Total"}),o.jsx("p",{className:"font-medium",children:Qe(x.totalPrice||0)})]})]}),y&&o.jsx("div",{className:"pt-4 border-t",children:o.jsxs(ie,{variant:"destructive",size:"sm",onClick:()=>w(x),className:"w-full",children:[o.jsx(Na,{className:"h-4 w-4 mr-2"}),"Cancel Booking"]})})]})]},x.id)})})}),o.jsx(ur,{open:l,onOpenChange:c,children:o.jsxs(Hn,{children:[o.jsxs(qn,{children:[o.jsx(Kn,{children:"Cancel Booking"}),o.jsxs(Yn,{children:["Are you sure you want to cancel this booking?",u&&o.jsxs("div",{className:"mt-3 space-y-2",children:[o.jsxs("div",{className:"p-3 bg-muted rounded-md",children:[o.jsx("p",{className:"text-sm font-medium",children:"Booking Details:"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Status: ",o.jsx("span",{className:"font-medium capitalize",children:u.status})]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Check-in: ",new Date(u.checkIn).toLocaleDateString()]})]}),u.totalPrice>0&&o.jsxs("div",{className:"p-3 bg-primary/10 rounded-md border border-primary/20",children:[o.jsx("p",{className:"text-sm font-medium text-primary",children:"Refund Information:"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["A refund of ",Qe(u.totalPrice)," will be credited to your wallet balance."]})]})]})]})]}),o.jsxs(Gn,{children:[o.jsx(Xn,{disabled:f,children:"Keep Booking"}),o.jsx(Qn,{onClick:b,disabled:f,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:f?"Cancelling...":"Cancel Booking"})]})]})})]})},ooe=()=>{const t=gt(),{user:e}=Dt(),[n,r]=m.useState([]),[s,i]=m.useState(!0),[a,l]=m.useState(!1),[c,u]=m.useState(!1),[d,f]=m.useState(!1),[p,g]=m.useState(null);m.useEffect(()=>{if(!e)return;i(!0),console.log(" HostBookings: Setting up listener for host:",e.uid);const y=vt(et(he,"bookings"),yt("hostId","==",e.uid)),j=ps(y,P=>{const D=P.docs.map(N=>{const T=N.data();return{id:N.id,...T}});D.sort((N,T)=>{const C=new Date(N.createdAt||0).getTime();return new Date(T.createdAt||0).getTime()-C}),console.log(" Real-time bookings update:",{hostUid:e.uid,count:D.length,allBookings:P.docs.map(N=>({id:N.id,hostId:N.data().hostId,hostIdType:typeof N.data().hostId,guestId:N.data().guestId,status:N.data().status,listingId:N.data().listingId,createdAt:N.data().createdAt})),matchingBookings:D.filter(N=>String(N.hostId)===String(e.uid)).length});const S=D.filter(N=>{const T=String(N.hostId)===String(e.uid);return!T&&N.hostId&&console.warn(" Booking hostId mismatch:",{bookingId:N.id,bookingHostId:N.hostId,bookingHostIdType:typeof N.hostId,currentHostUid:e.uid,currentHostUidType:typeof e.uid,match:T}),T});r(S),i(!1),S.length===0&&D.length>0&&console.warn(" Found bookings but none match hostId:",{hostUid:e.uid,bookingHostIds:D.map(N=>({id:N.id,hostId:N.hostId,hostIdType:typeof N.hostId}))}),S.length===0&&(console.log(" Debug: No bookings found for host. Checking all bookings..."),_(e.uid),v(e.uid))},P=>{console.error(" Error in bookings listener:",P),i(!1),B.error(`Failed to load bookings: ${P.message||"Unknown error"}`),w()});return()=>j()},[e]);const _=async y=>{try{const j=vt(et(he,"bookings")),D=(await Gt(j)).docs.map(N=>({id:N.id,...N.data()})),S=D.filter(N=>String(N.hostId)===String(y));console.log(" DEBUG: All bookings in Firestore:",{total:D.length,bookings:D.map(N=>({id:N.id,hostId:N.hostId,hostIdType:typeof N.hostId,guestId:N.guestId,status:N.status,listingId:N.listingId,createdAt:N.createdAt})),hostUidLookingFor:y,matchingBookings:S.length,matchingBookingDetails:S.map(N=>({id:N.id,hostId:N.hostId,guestId:N.guestId,status:N.status}))}),S.length>0&&console.warn(" Found bookings with matching hostId in all bookings:",{hostUid:y,matchingBookingsCount:S.length,possibleCauses:["Firestore security rules may be blocking the where query","Index not deployed yet for where clause","Data type mismatch in query","Query timing issue - booking may not be indexed yet"]})}catch(j){console.error(" Error fetching all bookings for debug:",j),j.code==="permission-denied"&&console.error(" Permission denied - check Firestore security rules for bookings collection")}},v=async y=>{try{console.log(" Testing direct query with hostId:",y);const j=vt(et(he,"bookings"),yt("hostId","==",y)),D=(await Gt(j)).docs.map(S=>({id:S.id,...S.data()}));console.log(" Direct query result:",{hostUid:y,count:D.length,bookings:D.map(S=>({id:S.id,hostId:S.hostId,guestId:S.guestId,status:S.status}))})}catch(j){console.error(" Direct query failed:",j),j.code==="permission-denied"&&console.error(" Permission denied - Firestore rules may be blocking the query")}},w=async()=>{if(e)try{const y=await yo({hostId:e.uid});r(y),console.log(" Bookings loaded (fallback):",y.length,"bookings")}catch(y){console.error(" Error in fallback load:",y),B.error(`Failed to load bookings: ${y.message||"Unknown error"}`)}},b=(y,j)=>{if(g({id:y,action:j}),j==="confirmed")l(!0);else{const P=n.find(D=>D.id===y);(P==null?void 0:P.status)==="confirmed"?f(!0):u(!0)}},x=async()=>{if(p)try{const y=await St($e(he,"bookings",p.id)),j=y.exists()?y.data():null;if(await Vv(p.id,{status:p.action}),p.action==="cancelled"&&(j==null?void 0:j.status)==="confirmed"){const P=j.totalPrice||0;if(P>0&&j.guestId)try{const D=await St($e(he,"users",j.guestId)),N=(D.exists()&&D.data().walletBalance||0)+P;await Mn($e(he,"users",j.guestId),{walletBalance:N}),await Ku({userId:j.guestId,type:"refund",amount:P,description:`Refund for cancelled booking #${p.id.slice(0,8)} (cancelled by host)`,status:"completed"}),console.log(" Refund processed for host cancellation:",{bookingId:p.id,guestId:j.guestId,refundAmount:P,newBalance:N}),B.success(`Booking cancelled. ${P>0?`${P.toFixed(2)} has been refunded to guest's wallet.`:""}`)}catch(D){console.error("Error processing refund:",D),B.warning("Booking cancelled, but refund could not be processed. Please contact support.")}else B.success("Booking cancelled")}if(p.action==="confirmed")try{const P=await St($e(he,"bookings",p.id));if(P.exists()){const D=P.data(),S=await St($e(he,"listing",D.listingId));if(S.exists()){const N=S.data();try{const T=await St($e(he,"users",D.guestId));if(T.exists()){const C=T.data();console.log(" Preparing to send confirmation email to guest:",{guestId:D.guestId,guestEmail:C.email,guestName:C.fullName}),await yQ(C.email||D.guestId,C.fullName||"Guest",N.title||"Your Booking",N.location||"",D.checkIn,D.checkOut,D.guests||1,D.totalPrice||0,p.id)?B.success("Booking confirmed and confirmation email sent to guest!"):B.warning("Booking confirmed, but email could not be sent. Please check EmailJS configuration.")}else console.warn("Guest document not found for booking:",D.guestId),B.warning("Booking confirmed, but guest email not found.")}catch(T){console.error(" Error fetching guest document:",T),T.code==="permission-denied"?B.error("Permission denied: Cannot access guest information. Please check Firestore rules."):B.warning("Booking confirmed, but could not fetch guest information for email.")}}else console.warn("Listing document not found for booking:",D.listingId),B.success("Booking confirmed, but listing details not found.")}else console.warn("Booking document not found:",p.id),B.success("Booking confirmed, but details not found for email.")}catch(P){console.error("Failed to send confirmation email:",P),B.success("Booking confirmed, but email could not be sent.")}else p.action==="cancelled"&&(j==null?void 0:j.status)!=="confirmed"&&B.success("Booking declined");g(null)}catch(y){console.error("Error updating booking:",y),B.error("Failed to update booking")}finally{l(!1),u(!1),f(!1)}};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"sticky top-0 z-50 border-b bg-card/95 backdrop-blur supports-[backdrop-filter]:bg-card/60 shadow-soft",children:o.jsxs("div",{className:"container mx-auto px-6 py-4 flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>t("/host/dashboard"),children:o.jsx(Vt,{className:"h-5 w-5"})}),o.jsx("div",{className:"p-2 rounded-lg bg-secondary/10",children:o.jsx(Jn,{className:"w-5 h-5 text-secondary"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-lg font-bold",children:"Booking Requests"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Manage reservations"})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>{console.log(" Manual refresh triggered for host:",e==null?void 0:e.uid),w()},title:"Refresh bookings",children:o.jsx(Il,{className:"h-5 w-5"})}),o.jsx(Nr,{})]})]})}),o.jsx("div",{className:"max-w-6xl mx-auto p-6",children:s?o.jsx(Js,{}):n.length===0?o.jsx(ce,{children:o.jsxs(Se,{className:"py-12 text-center",children:[o.jsx("p",{className:"text-muted-foreground mb-4",children:"No booking requests"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Bookings will appear here when guests make reservation requests for your listings."}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Current host ID: ",e==null?void 0:e.uid]})]})}):o.jsx("div",{className:"grid gap-4",children:n.map(y=>o.jsxs(ce,{children:[o.jsx(ve,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(ye,{children:["Booking #",y.id.slice(0,8)]}),o.jsx(Sn,{children:y.status})]})}),o.jsx(Se,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4 flex-1",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Check-in"}),o.jsx("p",{className:"font-medium",children:new Date(y.checkIn).toLocaleDateString()})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Check-out"}),o.jsx("p",{className:"font-medium",children:new Date(y.checkOut).toLocaleDateString()})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Total"}),o.jsx("p",{className:"font-medium",children:Qe(y.totalPrice||0)})]})]}),y.status==="pending"&&o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ie,{size:"sm",onClick:()=>b(y.id,"confirmed"),children:"Confirm"}),o.jsx(ie,{size:"sm",variant:"destructive",onClick:()=>b(y.id,"cancelled"),children:"Decline"})]}),y.status==="confirmed"&&new Date(y.checkIn)>=new Date&&o.jsx("div",{className:"pt-4 border-t",children:o.jsxs(ie,{variant:"destructive",size:"sm",onClick:()=>b(y.id,"cancelled"),className:"w-full",children:[o.jsx(Na,{className:"h-4 w-4 mr-2"}),"Cancel Booking"]})})]})})]},y.id))})}),o.jsx(ur,{open:a,onOpenChange:l,children:o.jsxs(Hn,{children:[o.jsxs(qn,{children:[o.jsx(Kn,{children:"Confirm Booking?"}),o.jsx(Yn,{children:"Are you sure you want to confirm this booking? The guest will be notified and the booking will be finalized."})]}),o.jsxs(Gn,{children:[o.jsx(Xn,{onClick:()=>g(null),children:"Cancel"}),o.jsx(Qn,{onClick:x,children:"Confirm Booking"})]})]})}),o.jsx(ur,{open:c,onOpenChange:u,children:o.jsxs(Hn,{children:[o.jsxs(qn,{children:[o.jsx(Kn,{children:"Decline Booking?"}),o.jsx(Yn,{children:"Are you sure you want to decline this booking request? The guest will be notified and this action cannot be undone."})]}),o.jsxs(Gn,{children:[o.jsx(Xn,{onClick:()=>g(null),children:"Cancel"}),o.jsx(Qn,{onClick:x,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Decline Booking"})]})]})}),o.jsx(ur,{open:d,onOpenChange:f,children:o.jsxs(Hn,{children:[o.jsxs(qn,{children:[o.jsx(Kn,{children:"Cancel Booking?"}),o.jsxs(Yn,{children:["Are you sure you want to cancel this confirmed booking?",p&&(()=>{const y=n.find(j=>j.id===p.id);return y&&y.totalPrice>0?o.jsxs("div",{className:"mt-2 p-3 bg-muted rounded-md",children:[o.jsx("p",{className:"text-sm font-medium",children:"Refund Information:"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["A refund of ",Qe(y.totalPrice)," will be credited to the guest's wallet balance."]})]}):null})()]})]}),o.jsxs(Gn,{children:[o.jsx(Xn,{onClick:()=>g(null),children:"Keep Booking"}),o.jsx(Qn,{onClick:x,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Cancel Booking"})]})]})})]})},aoe=()=>{const t=gt(),{user:e,userRole:n}=Dt(),[r,s]=m.useState(!0),[i,a]=m.useState({totalEarnings:0,pendingEarnings:0,completedEarnings:0,serviceFees:0}),[l,c]=m.useState([]),[u,d]=m.useState([]);m.useEffect(()=>{!e||n!=="host"?t("/host/login"):f()},[e,n,t]);const f=async()=>{if(e){s(!0);try{const p=await yo({hostId:e.uid});c(p);const g=p.filter(j=>j.status==="confirmed"||j.status==="completed"),_=p.filter(j=>j.status==="pending"),v=g.reduce((j,P)=>j+(P.totalPrice||0),0),w=_.reduce((j,P)=>j+(P.totalPrice||0),0),b=v*.1,x=v-b;a({totalEarnings:v,pendingEarnings:w,completedEarnings:x,serviceFees:b});const y=await I1(e.uid);d(y)}catch(p){console.error("Error loading payments data:",p),B.error(`Failed to load payments: ${p.message||"Unknown error"}`)}finally{s(!1)}}};return r?o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsx("div",{className:"max-w-7xl mx-auto",children:o.jsx(Js,{})})}):o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[o.jsxs(ie,{variant:"ghost",onClick:()=>t("/host/dashboard"),children:[o.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Payments & Earnings"}),o.jsx("p",{className:"text-muted-foreground",children:"View your earnings and payment history"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[o.jsxs(ce,{children:[o.jsx(ve,{className:"pb-3",children:o.jsx(ye,{className:"text-sm font-medium text-muted-foreground",children:"Total Earnings"})}),o.jsxs(Se,{children:[o.jsx("div",{className:"text-2xl font-bold text-primary",children:Qe(i.totalEarnings)}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"From all confirmed bookings"})]})]}),o.jsxs(ce,{children:[o.jsx(ve,{className:"pb-3",children:o.jsx(ye,{className:"text-sm font-medium text-muted-foreground",children:"Your Earnings"})}),o.jsxs(Se,{children:[o.jsx("div",{className:"text-2xl font-bold text-green-600",children:Qe(i.completedEarnings)}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"After 10% service fee"})]})]}),o.jsxs(ce,{children:[o.jsx(ve,{className:"pb-3",children:o.jsx(ye,{className:"text-sm font-medium text-muted-foreground",children:"Pending Earnings"})}),o.jsxs(Se,{children:[o.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:Qe(i.pendingEarnings)}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Awaiting confirmation"})]})]}),o.jsxs(ce,{children:[o.jsx(ve,{className:"pb-3",children:o.jsx(ye,{className:"text-sm font-medium text-muted-foreground",children:"Service Fees"})}),o.jsxs(Se,{children:[o.jsx("div",{className:"text-2xl font-bold text-accent",children:Qe(i.serviceFees)}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"10% commission"})]})]})]}),o.jsxs(ce,{className:"mb-8",children:[o.jsxs(ve,{children:[o.jsx(ye,{children:"Recent Bookings"}),o.jsx(ze,{children:"Your recent booking payments"})]}),o.jsx(Se,{children:l.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(Jn,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No bookings yet"})]}):o.jsx("div",{className:"space-y-4",children:l.slice(0,5).map(p=>o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-lg bg-primary/10 flex items-center justify-center",children:o.jsx(Jn,{className:"h-6 w-6 text-primary"})}),o.jsxs("div",{children:[o.jsxs("p",{className:"font-medium",children:["Booking #",p.id.slice(0,8)]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[new Date(p.checkIn).toLocaleDateString()," - ",new Date(p.checkOut).toLocaleDateString()]}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[p.guests," guest",p.guests>1?"s":""]})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-lg font-bold",children:Qe(p.totalPrice||0)}),o.jsx(Sn,{className:p.status==="confirmed"||p.status==="completed"?"bg-green-500":p.status==="pending"?"bg-yellow-500":"bg-red-500",children:p.status})]})]},p.id))})})]}),o.jsxs(ce,{children:[o.jsxs(ve,{children:[o.jsx(ye,{children:"Transaction History"}),o.jsx(ze,{children:"Your payment and withdrawal history"})]}),o.jsx(Se,{children:u.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(u_,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No transactions yet"})]}):o.jsx("div",{className:"space-y-4",children:u.map(p=>o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${p.type==="deposit"||p.type==="reward"?"bg-green-500/10":"bg-red-500/10"}`,children:p.type==="deposit"||p.type==="reward"?o.jsx(Rl,{className:"h-6 w-6 text-green-500"}):o.jsx(Rl,{className:"h-6 w-6 text-red-500 rotate-180"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:p.description}),o.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(p.createdAt).toLocaleString()}),p.paymentMethod&&o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Method: ",p.paymentMethod]})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:`text-lg font-bold ${p.type==="deposit"||p.type==="reward"?"text-green-500":"text-red-500"}`,children:[p.type==="deposit"||p.type==="reward"?"+":"-",Qe(p.amount)]}),p.status&&o.jsx(Sn,{className:p.status==="completed"?"bg-green-500":p.status==="pending"?"bg-yellow-500":p.status==="failed"?"bg-red-500":"bg-gray-500",children:p.status})]})]},p.id))})})]})]})})},loe=({points:t,onRedeem:e})=>{const n=[{points:100,reward:"$10 discount",discount:10},{points:250,reward:"$30 discount",discount:30},{points:500,reward:"$75 discount",discount:75},{points:1e3,reward:"$200 discount",discount:200}];return o.jsxs(ce,{children:[o.jsx(ve,{children:o.jsxs(ye,{className:"flex items-center gap-2",children:[o.jsx(ca,{className:"h-5 w-5 text-yellow-500"}),"Points & Rewards"]})}),o.jsxs(Se,{className:"space-y-4",children:[o.jsxs("div",{className:"text-center p-4 bg-primary/10 rounded-lg",children:[o.jsx("div",{className:"text-3xl font-bold text-primary",children:t}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Points"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"font-semibold text-sm",children:"Available Rewards:"}),n.map(r=>o.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(M9,{className:"h-4 w-4 text-primary"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-sm",children:r.reward}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:[r.points," points"]})]})]}),o.jsx(ie,{size:"sm",disabled:t<r.points,onClick:()=>e==null?void 0:e(r.points),children:"Redeem"})]},r.points))]}),o.jsxs("div",{className:"text-xs text-muted-foreground mt-4 p-3 bg-muted rounded",children:[o.jsx("p",{className:"font-semibold mb-1",children:"How to earn points:"}),o.jsxs("ul",{className:"space-y-1",children:[o.jsx("li",{children:" Complete a booking: +50 points"}),o.jsx("li",{children:" Write a review: +20 points"}),o.jsx("li",{children:" Refer a friend: +100 points"}),o.jsx("li",{children:" Host a property: +30 points per booking"})]})]})]})]})},DE=({coupons:t,onApplyCoupon:e})=>{const[n,r]=m.useState(""),s=()=>{if(!n.trim()){B.error("Please enter a coupon code");return}e==null||e(n),r("")},i=t.filter(l=>!l.used),a=t.filter(l=>l.used);return o.jsxs(ce,{children:[o.jsx(ve,{children:o.jsxs(ye,{className:"flex items-center gap-2",children:[o.jsx(l_,{className:"h-5 w-5"}),"Coupons & Discounts"]})}),o.jsxs(Se,{className:"space-y-4",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsx(qe,{placeholder:"Enter coupon code",value:n,onChange:l=>r(l.target.value.toUpperCase())}),o.jsx(ie,{onClick:s,children:"Apply"})]}),i.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"font-semibold text-sm",children:"Available Coupons:"}),i.map(l=>o.jsx("div",{className:"p-3 border rounded-lg border-primary/20 bg-primary/5",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-mono font-bold text-primary",children:l.code}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:[l.discount,"% off",l.minSpend&&` on orders over $${l.minSpend}`]}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:["Valid until: ",new Date(l.validUntil).toLocaleDateString()]})]}),o.jsxs(Sn,{variant:"secondary",children:[l.discount,"%"]})]})},l.id))]}),a.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"font-semibold text-sm text-muted-foreground",children:"Used Coupons:"}),a.map(l=>o.jsx("div",{className:"p-3 border rounded-lg opacity-50",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"font-mono text-sm",children:l.code}),o.jsx(sf,{className:"h-4 w-4 text-green-500"})]})},l.id))]})]})]})},coe=()=>{const t=gt(),{user:e}=Dt(),[n,r]=m.useState(0),[s,i]=m.useState(0),[a,l]=m.useState([]),[c,u]=m.useState([]),[d,f]=m.useState(""),[p,g]=m.useState(!1);m.useEffect(()=>{e&&(_(),v())},[e]);const _=async()=>{if(!e)return;const y=await St($e(he,"users",e.uid));y.exists()&&(r(y.data().walletBalance||0),i(y.data().points||0),l(y.data().coupons||[]))},v=async()=>{if(!e)return;const y=await I1(e.uid);u(y)},w=async()=>{if(!e||!d||Number(d)<=0){B.error("Enter a valid amount");return}g(!0);try{const y=n+Number(d);await Mn($e(he,"users",e.uid),{walletBalance:y}),await Ku({userId:e.uid,type:"deposit",amount:Number(d),description:"Wallet deposit"}),r(y),f(""),v(),B.success("Deposit successful!")}catch{B.error("Deposit failed")}finally{g(!1)}},b=async y=>{if(e){if(s<y){B.error("Not enough points");return}try{const j=y===100?10:y===250?30:y===500?75:200,P={id:`REWARD${Date.now()}`,code:`REWARD${Date.now()}`,discount:j/n*100,validUntil:new Date(Date.now()+30*24*60*60*1e3).toISOString(),used:!1},D=s-y;await Mn($e(he,"users",e.uid),{points:D,coupons:[...a,P]}),i(D),l([...a,P]),B.success(`Redeemed ${y} points for ${Qe(j)} coupon!`)}catch{B.error("Failed to redeem points")}}},x=y=>{const j=a.find(P=>P.code===y&&!P.used);if(!j){B.error("Invalid or already used coupon");return}B.success(`Coupon ${y} applied! ${j.discount}% discount`)};return o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsxs(ie,{variant:"ghost",onClick:()=>t("/guest/dashboard"),className:"mb-6",children:[o.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),o.jsx("h1",{className:"text-3xl font-bold mb-6",children:"E-Wallet & Rewards"}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[o.jsxs(ce,{children:[o.jsx(ve,{children:o.jsxs(ye,{className:"flex items-center gap-2",children:[o.jsx(u_,{className:"h-5 w-5"}),"Current Balance"]})}),o.jsxs(Se,{children:[o.jsx("p",{className:"text-4xl font-bold text-primary mb-6",children:Qe(n)}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(qe,{type:"number",placeholder:"Amount",value:d,onChange:y=>f(y.target.value)}),o.jsx(ie,{onClick:w,disabled:p,children:"Deposit"})]})]})]}),o.jsx(loe,{points:s,onRedeem:b})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[o.jsx(DE,{coupons:a,onApplyCoupon:x}),o.jsxs(ce,{children:[o.jsx(ve,{children:o.jsx(ye,{children:"Transaction History"})}),o.jsx(Se,{children:c.length===0?o.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No transactions yet"}):o.jsx("div",{className:"space-y-3",children:c.map(y=>o.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[y.type==="deposit"||y.type==="reward"?o.jsx(Rl,{className:"h-5 w-5 text-green-500"}):o.jsx(zw,{className:"h-5 w-5 text-red-500"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:y.description}),o.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(y.createdAt).toLocaleString()})]})]}),o.jsxs("p",{className:`font-semibold ${y.type==="deposit"||y.type==="reward"?"text-green-500":"text-red-500"}`,children:[y.type==="deposit"||y.type==="reward"?"+":"-",Qe(y.amount)]})]},y.id))})})]})]})]})})},vV=m.forwardRef(({className:t,...e},n)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:n,className:Ne("w-full caption-bottom text-sm",t),...e})}));vV.displayName="Table";const yV=m.forwardRef(({className:t,...e},n)=>o.jsx("thead",{ref:n,className:Ne("[&_tr]:border-b",t),...e}));yV.displayName="TableHeader";const xV=m.forwardRef(({className:t,...e},n)=>o.jsx("tbody",{ref:n,className:Ne("[&_tr:last-child]:border-0",t),...e}));xV.displayName="TableBody";const uoe=m.forwardRef(({className:t,...e},n)=>o.jsx("tfoot",{ref:n,className:Ne("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));uoe.displayName="TableFooter";const nb=m.forwardRef(({className:t,...e},n)=>o.jsx("tr",{ref:n,className:Ne("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",t),...e}));nb.displayName="TableRow";const ll=m.forwardRef(({className:t,...e},n)=>o.jsx("th",{ref:n,className:Ne("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));ll.displayName="TableHead";const cl=m.forwardRef(({className:t,...e},n)=>o.jsx("td",{ref:n,className:Ne("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));cl.displayName="TableCell";const doe=m.forwardRef(({className:t,...e},n)=>o.jsx("caption",{ref:n,className:Ne("mt-4 text-sm text-muted-foreground",t),...e}));doe.displayName="TableCaption";const hoe=()=>{const t=gt(),{user:e,userRole:n}=Dt(),[r,s]=m.useState([]),[i,a]=m.useState(!0),[l,c]=m.useState(null);m.useEffect(()=>{if(!e||n!=="admin"){t("/admin/login");return}u()},[e,n,t]);const u=async()=>{a(!0),c(null);try{const f=(await Gt(et(he,"users"))).docs.map(p=>({id:p.id,...p.data()}));s(f),f.length===0&&c("No users found in the database.")}catch(d){console.error("Failed to load users",d);const f=d.code==="permission-denied"?"Permission denied. Please check that your admin role is set correctly in Firestore.":d.message||"Failed to load users. Please check the console for details.";c(f),B.error(f)}finally{a(!1)}};return o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs(ie,{variant:"ghost",onClick:()=>t("/admin/dashboard"),className:"mb-6",children:[o.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),o.jsx("h1",{className:"text-3xl font-bold mb-6",children:"User Management"}),i?o.jsx(ce,{children:o.jsxs(Se,{className:"py-12 text-center",children:[o.jsx(Eh,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-primary"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading users..."})]})}):l?o.jsx(ce,{children:o.jsxs(Se,{className:"py-12 text-center",children:[o.jsx(i_,{className:"h-12 w-12 mx-auto mb-4 text-destructive"}),o.jsx("p",{className:"text-destructive font-medium mb-2",children:l}),o.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:'Make sure your admin user has the role field set to "admin" in Firestore.'}),o.jsx(ie,{onClick:u,variant:"outline",children:"Retry"})]})}):r.length===0?o.jsx(ce,{children:o.jsx(Se,{className:"py-12 text-center",children:o.jsx("p",{className:"text-muted-foreground",children:"No users found in the database."})})}):o.jsx(ce,{children:o.jsxs(vV,{children:[o.jsx(yV,{children:o.jsxs(nb,{children:[o.jsx(ll,{children:"Full Name"}),o.jsx(ll,{children:"Email"}),o.jsx(ll,{children:"Role"}),o.jsx(ll,{children:"Points"}),o.jsx(ll,{children:"Wallet Balance"}),o.jsx(ll,{children:"Joined"})]})}),o.jsx(xV,{children:r.map(d=>o.jsxs(nb,{children:[o.jsx(cl,{className:"font-medium",children:d.fullName||"N/A"}),o.jsx(cl,{children:d.email}),o.jsx(cl,{children:o.jsx(Sn,{variant:d.role==="admin"?"default":"secondary",children:d.role})}),o.jsx(cl,{children:d.points||0}),o.jsx(cl,{children:Qe(d.walletBalance||0)}),o.jsx(cl,{children:d.createdAt?new Date(d.createdAt).toLocaleDateString():"N/A"})]},d.id))})]})})]})})},foe=()=>{const t=gt(),[e,n]=m.useState([]),[r,s]=m.useState(!0),[i,a]=m.useState(!1),[l,c]=m.useState(!1),[u,d]=m.useState(null);m.useEffect(()=>{f()},[]);const f=async()=>{try{s(!0),console.log("ReviewListings: Loading pending listings...");const w=await Rf({status:"pending"});console.log(`ReviewListings: Found ${w.length} pending listings:`,w),console.log("ReviewListings: Listing details:",w.map(b=>({id:b.id,title:b.title,status:b.status,hostId:b.hostId}))),n(w),w.length===0&&console.log('ReviewListings: No pending listings found. Check if listings exist with status "pending" in Firestore.')}catch(w){console.error("ReviewListings: Error loading pending listings:",w),console.error("ReviewListings: Error details:",{message:w.message,code:w.code,stack:w.stack}),B.error(`Failed to load listings: ${w.message||"Unknown error"}`)}finally{s(!1)}},p=w=>{d(w),a(!0)},g=w=>{d(w),c(!0)},_=async()=>{if(u)try{await R0(u,{status:"approved"}),B.success("Listing approved"),f(),d(null)}catch{B.error("Failed to approve listing")}finally{a(!1)}},v=async()=>{if(u)try{await R0(u,{status:"rejected"}),B.success("Listing rejected"),f(),d(null)}catch{B.error("Failed to reject listing")}finally{c(!1)}};return o.jsxs("div",{className:"min-h-screen bg-background p-6",children:[o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs(ie,{variant:"ghost",onClick:()=>t("/admin/dashboard"),className:"mb-6",children:[o.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),o.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Review Pending Listings"}),r?o.jsx(Js,{}):e.length===0?o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-muted-foreground",children:"No pending listings"})}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(w=>o.jsxs("div",{children:[o.jsx(mo,{listing:w}),o.jsxs("div",{className:"mt-2 flex gap-2",children:[o.jsx(ie,{variant:"default",size:"sm",className:"flex-1",onClick:()=>p(w.id),children:"Approve"}),o.jsx(ie,{variant:"destructive",size:"sm",className:"flex-1",onClick:()=>g(w.id),children:"Reject"})]})]},w.id))})]}),o.jsx(ur,{open:i,onOpenChange:a,children:o.jsxs(Hn,{children:[o.jsxs(qn,{children:[o.jsx(Kn,{children:"Approve Listing?"}),o.jsx(Yn,{children:"Are you sure you want to approve this listing? It will be published and visible to all users."})]}),o.jsxs(Gn,{children:[o.jsx(Xn,{onClick:()=>d(null),children:"Cancel"}),o.jsx(Qn,{onClick:_,children:"Approve"})]})]})}),o.jsx(ur,{open:l,onOpenChange:c,children:o.jsxs(Hn,{children:[o.jsxs(qn,{children:[o.jsx(Kn,{children:"Reject Listing?"}),o.jsx(Yn,{children:"Are you sure you want to reject this listing? The host will be notified and the listing will not be published."})]}),o.jsxs(Gn,{children:[o.jsx(Xn,{onClick:()=>d(null),children:"Cancel"}),o.jsx(Qn,{onClick:v,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Reject"})]})]})})]})},moe=()=>{const t=gt(),[e]=hf(),{user:n,userRole:r,refreshUserProfile:s}=Dt(),[i,a]=m.useState(null),[l,c]=m.useState(!1),[u,d]=m.useState([]),[f,p]=m.useState([]),[g,_]=m.useState([]),[v,w]=m.useState([]),[b,x]=m.useState([]),[y,j]=m.useState([]),[P,D]=m.useState(e.get("tab")||"profile");m.useEffect(()=>{n&&S()},[n,r]),m.useEffect(()=>{const F=e.get("tab");F&&D(F)},[e]),m.useEffect(()=>{n&&i&&r==="guest"?(N(),T(),C()):n&&r==="host"&&C()},[n,i,r]);const S=async()=>{if(n)try{const F=await St($e(he,"users",n.uid));if(F.exists()){const H=F.data();a(H),w(H.favorites||[]),x(H.wishlist||[]),j(H.coupons||[])}}catch(F){console.error(F)}},N=async()=>{var F;if(!n||!((F=i==null?void 0:i.favorites)!=null&&F.length)){d([]);return}try{const{getListing:H}=await An(async()=>{const{getListing:L}=await Promise.resolve().then(()=>Si);return{getListing:L}},void 0),q=await Promise.all(i.favorites.map(L=>H(L)));d(q.filter(L=>L!==null))}catch(H){console.error("Error loading favorite listings:",H),d([])}},T=async()=>{var F;if(!n||!((F=i==null?void 0:i.wishlist)!=null&&F.length)){p([]);return}try{const{getListing:H}=await An(async()=>{const{getListing:L}=await Promise.resolve().then(()=>Si);return{getListing:L}},void 0),q=await Promise.all(i.wishlist.map(L=>H(L)));p(q.filter(L=>L!==null))}catch(H){console.error("Error loading wishlist listings:",H),p([])}},C=async()=>{if(n)try{const F=await yo(r==="guest"?{guestId:n.uid}:{hostId:n.uid});_(F)}catch(F){console.error("Error loading bookings:",F)}},I=async F=>{if(!n){B.error("Please login to manage favorites");return}try{const H=await Pf(n.uid,F,v);w(H),a(q=>q?{...q,favorites:H}:null),r==="guest"&&N(),B.success(H.includes(F)?"Added to favorites":"Removed from favorites")}catch{B.error("Failed to update favorites")}},A=async F=>{if(!n){B.error("Please login to manage wishlist");return}try{const H=await $v(n.uid,F,b);x(H),a(q=>q?{...q,wishlist:H}:null),r==="guest"&&T(),B.success(H.includes(F)?"Added to wishlist":"Removed from wishlist")}catch{B.error("Failed to update wishlist")}},R=async()=>{if(!(!n||!i)){c(!0);try{await Mn($e(he,"users",n.uid),{fullName:i.fullName}),await S(),await s(),B.success("Profile updated successfully!")}catch{B.error("Failed to update profile")}finally{c(!1)}}},z=()=>{t(r==="host"?"/host/dashboard":r==="guest"?"/guest/dashboard":"/admin/dashboard")};return i?o.jsx("div",{className:"min-h-screen bg-background",children:o.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-6 lg:py-8 max-w-4xl",children:[o.jsxs(ie,{variant:"ghost",onClick:z,className:"mb-6",children:[o.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),o.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Account Settings"}),o.jsxs(ic,{value:P,onValueChange:D,className:"space-y-6",children:[o.jsxs(qa,{className:`grid w-full ${r==="guest"?"grid-cols-6":r==="host"?"grid-cols-5":"grid-cols-4"}`,children:[o.jsxs(Rt,{value:"profile",children:[o.jsx(lf,{className:"h-4 w-4 mr-2"}),"Profile"]}),r==="guest"&&o.jsxs(o.Fragment,{children:[o.jsxs(Rt,{value:"favorites",children:[o.jsx(_a,{className:"h-4 w-4 mr-2"}),"Favorites"]}),o.jsxs(Rt,{value:"wishlist",children:[o.jsx(pu,{className:"h-4 w-4 mr-2"}),"Wishlist"]})]}),o.jsxs(Rt,{value:"bookings",children:[o.jsx(Jn,{className:"h-4 w-4 mr-2"}),"Bookings"]}),r==="host"&&o.jsxs(Rt,{value:"coupons",children:[o.jsx(l_,{className:"h-4 w-4 mr-2"}),"Coupons"]}),o.jsxs(Rt,{value:"notifications",children:[o.jsx(r_,{className:"h-4 w-4 mr-2"}),"Notifications"]}),o.jsxs(Rt,{value:"security",children:[o.jsx(ws,{className:"h-4 w-4 mr-2"}),"Security"]})]}),o.jsx(Ct,{value:"profile",children:o.jsxs(ce,{children:[o.jsxs(ve,{children:[o.jsx(ye,{children:"Profile Information"}),o.jsx(ze,{children:"Update your account details"})]}),o.jsxs(Se,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"fullName",children:"Full Name"}),o.jsx(qe,{id:"fullName",type:"text",value:i.fullName,onChange:F=>a({...i,fullName:F.target.value}),placeholder:"Enter your full name"})]}),o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"email",children:"Email"}),o.jsx(qe,{id:"email",type:"email",value:i.email,disabled:!0})]}),o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"role",children:"Role"}),o.jsx(qe,{id:"role",value:i.role,disabled:!0})]}),o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"points",children:"Reward Points"}),o.jsx(qe,{id:"points",value:i.points,disabled:!0})]}),o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"balance",children:"Wallet Balance"}),o.jsx(qe,{id:"balance",value:Qe(i.walletBalance),disabled:!0})]}),o.jsx(ie,{onClick:R,disabled:l,children:l?"Saving...":"Save Changes"})]})]})}),r==="guest"&&o.jsx(Ct,{value:"favorites",children:o.jsxs(ce,{children:[o.jsxs(ve,{children:[o.jsx(ye,{children:"Your Favorites"}),o.jsx(ze,{children:"Listings you've liked and saved"})]}),o.jsx(Se,{children:u.length===0?o.jsx(ya,{icon:o.jsx(_a,{className:"h-10 w-10"}),title:"No favorites yet",description:"Start exploring and add listings to your favorites!",action:o.jsx(ie,{onClick:()=>t("/guest/browse"),children:"Browse Listings"})}):o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(F=>o.jsx(mo,{listing:F,onView:()=>t(`/guest/listing/${F.id}`),onFavorite:()=>I(F.id),onWishlist:()=>A(F.id),isFavorite:v.includes(F.id),isInWishlist:b.includes(F.id)},F.id))})})]})}),r==="guest"&&o.jsx(Ct,{value:"wishlist",children:o.jsxs(ce,{children:[o.jsxs(ve,{children:[o.jsx(ye,{children:"Your Wishlist"}),o.jsx(ze,{children:"Listings you're planning to book in the future"})]}),o.jsx(Se,{children:f.length===0?o.jsx(ya,{icon:o.jsx(pu,{className:"h-10 w-10"}),title:"No wishlist items yet",description:"Add listings to your wishlist for future trips!",action:o.jsx(ie,{onClick:()=>t("/guest/browse"),children:"Browse Listings"})}):o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(F=>o.jsx(mo,{listing:F,onView:()=>t(`/guest/listing/${F.id}`),onFavorite:()=>I(F.id),onWishlist:()=>A(F.id),isFavorite:v.includes(F.id),isInWishlist:b.includes(F.id)},F.id))})})]})}),o.jsx(Ct,{value:"bookings",children:o.jsxs(ce,{children:[o.jsxs(ve,{children:[o.jsx(ye,{children:r==="guest"?"My Bookings":"Host Bookings"}),o.jsx(ze,{children:r==="guest"?"View your booking history":"Manage your property bookings"})]}),o.jsx(Se,{children:g.length===0?o.jsx(ya,{icon:o.jsx(Jn,{className:"h-10 w-10"}),title:"No bookings yet",description:r==="guest"?"Start exploring amazing places to stay!":"No booking requests at this time.",action:r==="guest"?o.jsx(ie,{onClick:()=>t("/guest/browse"),children:"Browse Listings"}):void 0}):o.jsx("div",{className:"space-y-4",children:g.map(F=>o.jsxs("div",{className:"p-4 border rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{children:[o.jsxs("p",{className:"font-medium",children:["Booking #",F.id.slice(0,8)]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[new Date(F.checkIn).toLocaleDateString()," - ",new Date(F.checkOut).toLocaleDateString()]})]}),o.jsx(Sn,{children:F.status})]}),o.jsxs("div",{className:"flex items-center justify-between mt-2",children:[o.jsxs("p",{className:"text-sm text-muted-foreground",children:[F.guests," guest",F.guests>1?"s":""]}),o.jsx("p",{className:"font-semibold",children:Qe(F.totalPrice||0)})]})]},F.id))})})]})}),r==="host"&&o.jsx(Ct,{value:"coupons",children:o.jsxs(ce,{children:[o.jsxs(ve,{children:[o.jsx(ye,{children:"Coupons"}),o.jsx(ze,{children:"Manage your promotional coupons"})]}),o.jsx(Se,{children:o.jsx(DE,{coupons:y,onApplyCoupon:F=>B.info(`Coupon ${F} applied`)})})]})}),o.jsx(Ct,{value:"notifications",children:o.jsxs(ce,{children:[o.jsxs(ve,{children:[o.jsx(ye,{children:"Notification Preferences"}),o.jsx(ze,{children:"Manage how you receive updates"})]}),o.jsx(Se,{children:o.jsx("p",{className:"text-muted-foreground",children:"Notification settings coming soon"})})]})}),o.jsx(Ct,{value:"payments",children:o.jsxs(ce,{children:[o.jsxs(ve,{children:[o.jsx(ye,{children:"Payment Methods"}),o.jsx(ze,{children:"Manage your payment options"})]}),o.jsx(Se,{children:o.jsx("p",{className:"text-muted-foreground",children:"Payment method management coming soon"})})]})}),o.jsx(Ct,{value:"security",children:o.jsxs(ce,{children:[o.jsxs(ve,{children:[o.jsx(ye,{children:"Security Settings"}),o.jsx(ze,{children:"Manage your account security"})]}),o.jsx(Se,{children:o.jsx("p",{className:"text-muted-foreground",children:"Security settings coming soon"})})]})})]})]})}):o.jsx(Js,{})};var uy="Switch",[poe,dae]=er(uy),[goe,voe]=poe(uy),wV=m.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:a,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=t,[p,g]=m.useState(null),_=Ze(e,y=>g(y)),v=m.useRef(!1),w=p?d||!!p.closest("form"):!0,[b,x]=Ci({prop:s,defaultProp:i??!1,onChange:u,caller:uy});return o.jsxs(goe,{scope:n,checked:b,disabled:l,children:[o.jsx(Ie.button,{type:"button",role:"switch","aria-checked":b,"aria-required":a,"data-state":NV(b),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:_,onClick:be(t.onClick,y=>{x(j=>!j),w&&(v.current=y.isPropagationStopped(),v.current||y.stopPropagation())})}),w&&o.jsx(EV,{control:p,bubbles:!v.current,name:r,value:c,checked:b,required:a,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});wV.displayName=uy;var bV="SwitchThumb",_V=m.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=voe(bV,n);return o.jsx(Ie.span,{"data-state":NV(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});_V.displayName=bV;var yoe="SwitchBubbleInput",EV=m.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...s},i)=>{const a=m.useRef(null),l=Ze(a,i),c=$1(n),u=b_(e);return m.useEffect(()=>{const d=a.current;if(!d)return;const f=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&g){const _=new Event("click",{bubbles:r});g.call(d,n),d.dispatchEvent(_)}},[c,n,r]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});EV.displayName=yoe;function NV(t){return t?"checked":"unchecked"}var SV=wV,xoe=_V;const an=m.forwardRef(({className:t,...e},n)=>o.jsx(SV,{className:Ne("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",t),...e,ref:n,children:o.jsx(xoe,{className:Ne("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));an.displayName=SV.displayName;const woe=()=>{const t=gt(),[e]=hf(),{user:n,userRole:r,refreshUserProfile:s,signOut:i}=Dt(),[a,l]=m.useState(null),[c,u]=m.useState(!1),[d,f]=m.useState([]),[p,g]=m.useState([]),[_,v]=m.useState(e.get("tab")||"profile"),[w,b]=m.useState(!1),[x,y]=m.useState({email:{bookingConfirmations:!0,bookingCancellations:!0,bookingReminders:!0,newMessages:!0,paymentUpdates:!0,promotionalOffers:!0},inApp:{bookingUpdates:!0,newMessages:!0,paymentNotifications:!0,systemAlerts:!0}});m.useEffect(()=>{if(n&&r!=="host"){t("/host/login");return}n&&j()},[n,r,t]),m.useEffect(()=>{const C=e.get("tab");C&&v(C)},[e]),m.useEffect(()=>{n&&r==="host"&&(P(),a!=null&&a.notifications&&y(a.notifications))},[n,r,a]);const j=async()=>{if(n)try{const C=await St($e(he,"users",n.uid));if(C.exists()){const I=C.data();l(I),g(I.coupons||[])}}catch(C){console.error(C)}},P=async()=>{if(n)try{const C=await yo({hostId:n.uid});f(C)}catch(C){console.error("Error loading bookings:",C)}},D=async()=>{if(!(!n||!a)){u(!0);try{await Mn($e(he,"users",n.uid),{fullName:a.fullName}),await j(),await s(),B.success("Profile updated successfully!")}catch{B.error("Failed to update profile")}finally{u(!1)}}},S=()=>{t("/host/dashboard")},N=async()=>{if(n){u(!0);try{await Mn($e(he,"users",n.uid),{notifications:x}),await s(),B.success("Notification preferences saved!")}catch(C){console.error("Error saving notification preferences:",C),B.error("Failed to save notification preferences")}finally{u(!1)}}},T=async()=>{await i(),t("/")};return a?o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-6 lg:py-8 max-w-4xl",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs(ie,{variant:"ghost",onClick:S,children:[o.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),o.jsx(ie,{variant:"outline",onClick:()=>b(!0),children:"Sign Out"})]}),o.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Account Settings"}),o.jsxs(ic,{value:_,onValueChange:v,className:"space-y-6",children:[o.jsxs(qa,{className:"grid w-full grid-cols-5",children:[o.jsxs(Rt,{value:"profile",children:[o.jsx(lf,{className:"h-4 w-4 mr-2"}),"Profile"]}),o.jsxs(Rt,{value:"bookings",children:[o.jsx(Jn,{className:"h-4 w-4 mr-2"}),"Bookings"]}),o.jsxs(Rt,{value:"coupons",children:[o.jsx(l_,{className:"h-4 w-4 mr-2"}),"Coupons"]}),o.jsxs(Rt,{value:"notifications",children:[o.jsx(r_,{className:"h-4 w-4 mr-2"}),"Notifications"]}),o.jsxs(Rt,{value:"security",children:[o.jsx(ws,{className:"h-4 w-4 mr-2"}),"Security"]})]}),o.jsx(Ct,{value:"profile",children:o.jsxs(ce,{children:[o.jsxs(ve,{children:[o.jsx(ye,{children:"Profile Information"}),o.jsx(ze,{children:"Update your account details"})]}),o.jsxs(Se,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"fullName",children:"Full Name"}),o.jsx(qe,{id:"fullName",type:"text",value:a.fullName,onChange:C=>l({...a,fullName:C.target.value}),placeholder:"Enter your full name"})]}),o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"email",children:"Email"}),o.jsx(qe,{id:"email",type:"email",value:a.email,disabled:!0})]}),o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"role",children:"Role"}),o.jsx(qe,{id:"role",value:a.role,disabled:!0})]}),o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"points",children:"Reward Points"}),o.jsx(qe,{id:"points",value:a.points,disabled:!0})]}),o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"balance",children:"Wallet Balance"}),o.jsx(qe,{id:"balance",value:Qe(a.walletBalance),disabled:!0})]}),o.jsx(ie,{onClick:D,disabled:c,children:c?"Saving...":"Save Changes"})]})]})}),o.jsx(Ct,{value:"bookings",children:o.jsxs(ce,{children:[o.jsxs(ve,{children:[o.jsx(ye,{children:"Host Bookings"}),o.jsx(ze,{children:"Manage your property bookings"})]}),o.jsx(Se,{children:d.length===0?o.jsx(ya,{icon:o.jsx(Jn,{className:"h-10 w-10"}),title:"No bookings yet",description:"No booking requests at this time."}):o.jsx("div",{className:"space-y-4",children:d.map(C=>o.jsxs("div",{className:"p-4 border rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{children:[o.jsxs("p",{className:"font-medium",children:["Booking #",C.id.slice(0,8)]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[new Date(C.checkIn).toLocaleDateString()," - ",new Date(C.checkOut).toLocaleDateString()]})]}),o.jsx(Sn,{variant:C.status==="confirmed"?"default":C.status==="pending"?"secondary":C.status==="cancelled"?"destructive":C.status==="completed"?"outline":"secondary",children:C.status})]}),o.jsxs("div",{className:"flex items-center justify-between mt-2",children:[o.jsxs("p",{className:"text-sm text-muted-foreground",children:[C.guests," guest",C.guests>1?"s":""]}),o.jsx("p",{className:"font-semibold",children:Qe(C.totalPrice||0)})]})]},C.id))})})]})}),o.jsx(Ct,{value:"coupons",children:o.jsxs(ce,{children:[o.jsxs(ve,{children:[o.jsx(ye,{children:"Coupons"}),o.jsx(ze,{children:"Manage your promotional coupons"})]}),o.jsx(Se,{children:o.jsx(DE,{coupons:p,onApplyCoupon:C=>B.info(`Coupon ${C} applied`)})})]})}),o.jsx(Ct,{value:"notifications",children:o.jsxs(ce,{children:[o.jsxs(ve,{children:[o.jsx(ye,{children:"Notification Preferences"}),o.jsx(ze,{children:"Manage how you receive updates"})]}),o.jsxs(Se,{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b",children:[o.jsx(zs,{className:"h-5 w-5 text-primary"}),o.jsx("h3",{className:"text-lg font-semibold",children:"Email Notifications"})]}),o.jsxs("div",{className:"space-y-3 pl-7",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"email-booking-confirmations",children:"Booking Confirmations"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Receive emails when bookings are confirmed"})]}),o.jsx(an,{id:"email-booking-confirmations",checked:x.email.bookingConfirmations,onCheckedChange:C=>y(I=>({...I,email:{...I.email,bookingConfirmations:C}}))})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"email-booking-cancellations",children:"Booking Cancellations"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Receive emails when bookings are cancelled"})]}),o.jsx(an,{id:"email-booking-cancellations",checked:x.email.bookingCancellations,onCheckedChange:C=>y(I=>({...I,email:{...I.email,bookingCancellations:C}}))})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"email-booking-reminders",children:"Booking Reminders"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Receive reminders about upcoming bookings"})]}),o.jsx(an,{id:"email-booking-reminders",checked:x.email.bookingReminders,onCheckedChange:C=>y(I=>({...I,email:{...I.email,bookingReminders:C}}))})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"email-new-messages",children:"New Messages"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Receive emails for new messages"})]}),o.jsx(an,{id:"email-new-messages",checked:x.email.newMessages,onCheckedChange:C=>y(I=>({...I,email:{...I.email,newMessages:C}}))})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"email-payment-updates",children:"Payment Updates"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Receive emails about payment transactions"})]}),o.jsx(an,{id:"email-payment-updates",checked:x.email.paymentUpdates,onCheckedChange:C=>y(I=>({...I,email:{...I.email,paymentUpdates:C}}))})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"email-promotional-offers",children:"Promotional Offers"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Receive promotional emails and special offers"})]}),o.jsx(an,{id:"email-promotional-offers",checked:x.email.promotionalOffers,onCheckedChange:C=>y(I=>({...I,email:{...I.email,promotionalOffers:C}}))})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b",children:[o.jsx(NP,{className:"h-5 w-5 text-secondary"}),o.jsx("h3",{className:"text-lg font-semibold",children:"In-App Notifications"})]}),o.jsxs("div",{className:"space-y-3 pl-7",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"inapp-booking-updates",children:"Booking Updates"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Get notified about booking status changes"})]}),o.jsx(an,{id:"inapp-booking-updates",checked:x.inApp.bookingUpdates,onCheckedChange:C=>y(I=>({...I,inApp:{...I.inApp,bookingUpdates:C}}))})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"inapp-new-messages",children:"New Messages"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Get notified about new messages"})]}),o.jsx(an,{id:"inapp-new-messages",checked:x.inApp.newMessages,onCheckedChange:C=>y(I=>({...I,inApp:{...I.inApp,newMessages:C}}))})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"inapp-payment-notifications",children:"Payment Notifications"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Get notified about payment activities"})]}),o.jsx(an,{id:"inapp-payment-notifications",checked:x.inApp.paymentNotifications,onCheckedChange:C=>y(I=>({...I,inApp:{...I.inApp,paymentNotifications:C}}))})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"inapp-system-alerts",children:"System Alerts"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Receive important system notifications"})]}),o.jsx(an,{id:"inapp-system-alerts",checked:x.inApp.systemAlerts,onCheckedChange:C=>y(I=>({...I,inApp:{...I.inApp,systemAlerts:C}}))})]})]})]}),o.jsx("div",{className:"pt-4 border-t",children:o.jsx(ie,{onClick:N,disabled:c,children:c?"Saving...":"Save Preferences"})})]})]})}),o.jsx(Ct,{value:"security",children:o.jsxs(ce,{children:[o.jsxs(ve,{children:[o.jsx(ye,{children:"Security Settings"}),o.jsx(ze,{children:"Manage your account security"})]}),o.jsx(Se,{children:o.jsx("p",{className:"text-muted-foreground",children:"Security settings coming soon"})})]})})]})]}),o.jsx(ur,{open:w,onOpenChange:b,children:o.jsxs(Hn,{children:[o.jsxs(qn,{children:[o.jsx(Kn,{children:"Sign Out"}),o.jsx(Yn,{children:"Are you sure you want to sign out? You'll need to sign in again to access your account."})]}),o.jsxs(Gn,{children:[o.jsx(Xn,{children:"Cancel"}),o.jsx(Qn,{onClick:T,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Sign Out"})]})]})})]}):o.jsx(Js,{})},boe=()=>{const t=gt(),[e]=hf(),{user:n,userRole:r,refreshUserProfile:s,signOut:i}=Dt(),[a,l]=m.useState(null),[c,u]=m.useState(!1),[d,f]=m.useState([]),[p,g]=m.useState([]),[_,v]=m.useState([]),[w,b]=m.useState([]),[x,y]=m.useState([]),[j,P]=m.useState(e.get("tab")||"profile"),[D,S]=m.useState(!1),[N,T]=m.useState(!1),[C,I]=m.useState(null),[A,R]=m.useState(!1),[z,F]=m.useState({email:{bookingConfirmations:!0,bookingCancellations:!0,bookingReminders:!0,newMessages:!0,paymentUpdates:!0,promotionalOffers:!0},inApp:{bookingUpdates:!0,newMessages:!0,paymentNotifications:!0,systemAlerts:!0}});m.useEffect(()=>{if(n&&r!=="guest"){t("/guest/login");return}n&&H()},[n,r,t]),m.useEffect(()=>{const K=e.get("tab");K&&P(K)},[e]),m.useEffect(()=>{n&&a&&r==="guest"&&(q(),L(),V(),a.notifications&&F(a.notifications))},[n,a,r]);const H=async()=>{if(n)try{const K=await St($e(he,"users",n.uid));if(K.exists()){const ne=K.data();l(ne),b(ne.favorites||[]),y(ne.wishlist||[])}}catch(K){console.error(K)}},q=async()=>{var K;if(!n||!((K=a==null?void 0:a.favorites)!=null&&K.length)){f([]);return}try{const{getListing:ne}=await An(async()=>{const{getListing:ge}=await Promise.resolve().then(()=>Si);return{getListing:ge}},void 0),Z=await Promise.all(a.favorites.map(ge=>ne(ge)));f(Z.filter(ge=>ge!==null))}catch(ne){console.error("Error loading favorite listings:",ne),f([])}},L=async()=>{var K;if(!n||!((K=a==null?void 0:a.wishlist)!=null&&K.length)){g([]);return}try{const{getListing:ne}=await An(async()=>{const{getListing:ge}=await Promise.resolve().then(()=>Si);return{getListing:ge}},void 0),Z=await Promise.all(a.wishlist.map(ge=>ne(ge)));g(Z.filter(ge=>ge!==null))}catch(ne){console.error("Error loading wishlist listings:",ne),g([])}},V=async()=>{if(n)try{const K=await yo({guestId:n.uid});v(K)}catch(K){console.error("Error loading bookings:",K)}},ee=K=>{if(!K||!K.id){B.error("Invalid booking");return}if(K.status==="cancelled"){B.error("This booking is already cancelled");return}if(K.status==="completed"){B.error("Cannot cancel completed bookings");return}if(K.status!=="pending"&&K.status!=="confirmed"){B.error("This booking cannot be cancelled");return}if(new Date(K.checkIn)<new Date){B.error("Cannot cancel bookings with check-in dates in the past");return}I(K),T(!0)},_e=async()=>{if(!C||!n){B.error("Invalid booking or user");return}if(C.status==="cancelled"||C.status==="completed"){B.error("This booking cannot be cancelled"),T(!1),I(null);return}if(new Date(C.checkIn)<new Date){B.error("Cannot cancel bookings with check-in dates in the past"),T(!1),I(null);return}R(!0);try{await Vv(C.id,{status:"cancelled"});const Z=C.totalPrice||0;if(Z>0)try{const Re=await St($e(he,"users",n.uid));if(!Re.exists())throw new Error("User document not found");const mt=Re.data().walletBalance||0,Pe=mt+Z;await Mn($e(he,"users",n.uid),{walletBalance:Pe}),await Ku({userId:n.uid,type:"refund",amount:Z,description:`Refund for cancelled ${C.status} booking #${C.id.slice(0,8)}`,status:"completed"}),console.log(" Refund processed:",{bookingId:C.id,bookingStatus:C.status,refundAmount:Z,previousBalance:mt,newBalance:Pe})}catch(Re){console.error("Error processing refund:",Re),B.error(`Booking cancelled, but refund failed. Please contact support. Error: ${Re.message}`)}const ge=Z>0?`${Qe(Z)} has been refunded to your wallet.`:"No refund was processed for this booking.";B.success(`Booking cancelled successfully. ${ge}`),T(!1),I(null),V()}catch(Z){console.error("Error cancelling booking:",Z);const ge=Z.message||"Unknown error occurred";B.error(`Failed to cancel booking: ${ge}`)}finally{R(!1)}},U=async K=>{if(!n){B.error("Please login to manage favorites");return}try{const ne=await Pf(n.uid,K,w);b(ne),l(Z=>Z?{...Z,favorites:ne}:null),q(),B.success(ne.includes(K)?"Added to favorites":"Removed from favorites")}catch{B.error("Failed to update favorites")}},le=async K=>{if(!n){B.error("Please login to manage wishlist");return}try{const ne=await $v(n.uid,K,x);y(ne),l(Z=>Z?{...Z,wishlist:ne}:null),L(),B.success(ne.includes(K)?"Added to wishlist":"Removed from wishlist")}catch{B.error("Failed to update wishlist")}},de=async()=>{if(!(!n||!a)){u(!0);try{await Mn($e(he,"users",n.uid),{fullName:a.fullName}),await H(),await s(),B.success("Profile updated successfully!")}catch{B.error("Failed to update profile")}finally{u(!1)}}},fe=()=>{t("/guest/dashboard")},ke=async()=>{if(n){u(!0);try{await Mn($e(he,"users",n.uid),{notifications:z}),await s(),B.success("Notification preferences saved!")}catch(K){console.error("Error saving notification preferences:",K),B.error("Failed to save notification preferences")}finally{u(!1)}}},J=async()=>{await i(),t("/")};return a?o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-6 lg:py-8 max-w-4xl",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs(ie,{variant:"ghost",onClick:fe,children:[o.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),o.jsx(ie,{variant:"outline",onClick:()=>S(!0),children:"Sign Out"})]}),o.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Account Settings"}),o.jsxs(ic,{value:j,onValueChange:P,className:"space-y-6",children:[o.jsxs(qa,{className:"grid w-full grid-cols-6",children:[o.jsxs(Rt,{value:"profile",children:[o.jsx(lf,{className:"h-4 w-4 mr-2"}),"Profile"]}),o.jsxs(Rt,{value:"favorites",children:[o.jsx(_a,{className:"h-4 w-4 mr-2"}),"Favorites"]}),o.jsxs(Rt,{value:"wishlist",children:[o.jsx(pu,{className:"h-4 w-4 mr-2"}),"Wishlist"]}),o.jsxs(Rt,{value:"bookings",children:[o.jsx(Jn,{className:"h-4 w-4 mr-2"}),"Bookings"]}),o.jsxs(Rt,{value:"notifications",children:[o.jsx(r_,{className:"h-4 w-4 mr-2"}),"Notifications"]}),o.jsxs(Rt,{value:"security",children:[o.jsx(ws,{className:"h-4 w-4 mr-2"}),"Security"]})]}),o.jsx(Ct,{value:"profile",children:o.jsxs(ce,{children:[o.jsxs(ve,{children:[o.jsx(ye,{children:"Profile Information"}),o.jsx(ze,{children:"Update your account details"})]}),o.jsxs(Se,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"fullName",children:"Full Name"}),o.jsx(qe,{id:"fullName",type:"text",value:a.fullName,onChange:K=>l({...a,fullName:K.target.value}),placeholder:"Enter your full name"})]}),o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"email",children:"Email"}),o.jsx(qe,{id:"email",type:"email",value:a.email,disabled:!0})]}),o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"role",children:"Role"}),o.jsx(qe,{id:"role",value:a.role,disabled:!0})]}),o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"points",children:"Reward Points"}),o.jsx(qe,{id:"points",value:a.points,disabled:!0})]}),o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"balance",children:"Wallet Balance"}),o.jsx(qe,{id:"balance",value:Qe(a.walletBalance),disabled:!0})]}),o.jsx(ie,{onClick:de,disabled:c,children:c?"Saving...":"Save Changes"})]})]})}),o.jsx(Ct,{value:"favorites",children:o.jsxs(ce,{children:[o.jsxs(ve,{children:[o.jsx(ye,{children:"Your Favorites"}),o.jsx(ze,{children:"Listings you've liked and saved"})]}),o.jsx(Se,{children:d.length===0?o.jsx(ya,{icon:o.jsx(_a,{className:"h-10 w-10"}),title:"No favorites yet",description:"Start exploring and add listings to your favorites!",action:o.jsx(ie,{onClick:()=>t("/guest/browse"),children:"Browse Listings"})}):o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(K=>o.jsx(mo,{listing:K,onView:()=>t(`/guest/listing/${K.id}`),onFavorite:()=>U(K.id),onWishlist:()=>le(K.id),isFavorite:w.includes(K.id),isInWishlist:x.includes(K.id)},K.id))})})]})}),o.jsx(Ct,{value:"wishlist",children:o.jsxs(ce,{children:[o.jsxs(ve,{children:[o.jsx(ye,{children:"Your Wishlist"}),o.jsx(ze,{children:"Listings you're planning to book in the future"})]}),o.jsx(Se,{children:p.length===0?o.jsx(ya,{icon:o.jsx(pu,{className:"h-10 w-10"}),title:"No wishlist items yet",description:"Add listings to your wishlist for future trips!",action:o.jsx(ie,{onClick:()=>t("/guest/browse"),children:"Browse Listings"})}):o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map(K=>o.jsx(mo,{listing:K,onView:()=>t(`/guest/listing/${K.id}`),onFavorite:()=>U(K.id),onWishlist:()=>le(K.id),isFavorite:w.includes(K.id),isInWishlist:x.includes(K.id)},K.id))})})]})}),o.jsx(Ct,{value:"bookings",children:o.jsxs(ce,{children:[o.jsxs(ve,{children:[o.jsx(ye,{children:"My Bookings"}),o.jsx(ze,{children:"View your booking history"})]}),o.jsx(Se,{children:_.length===0?o.jsx(ya,{icon:o.jsx(Jn,{className:"h-10 w-10"}),title:"No bookings yet",description:"Start exploring amazing places to stay!",action:o.jsx(ie,{onClick:()=>t("/guest/browse"),children:"Browse Listings"})}):o.jsx("div",{className:"space-y-4",children:_.map(K=>{const ne=(K.status==="pending"||K.status==="confirmed")&&new Date(K.checkIn)>=new Date;return o.jsxs("div",{className:"p-4 border rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{children:[o.jsxs("p",{className:"font-medium",children:["Booking #",K.id.slice(0,8)]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[new Date(K.checkIn).toLocaleDateString()," - ",new Date(K.checkOut).toLocaleDateString()]})]}),o.jsx(Sn,{children:K.status})]}),o.jsxs("div",{className:"flex items-center justify-between mt-2",children:[o.jsxs("p",{className:"text-sm text-muted-foreground",children:[K.guests," guest",K.guests>1?"s":""]}),o.jsx("p",{className:"font-semibold",children:Qe(K.totalPrice||0)})]}),ne&&o.jsx("div",{className:"pt-4 mt-4 border-t",children:o.jsxs(ie,{variant:"destructive",size:"sm",onClick:()=>ee(K),className:"w-full",children:[o.jsx(Na,{className:"h-4 w-4 mr-2"}),"Cancel Booking"]})})]},K.id)})})})]})}),o.jsx(Ct,{value:"notifications",children:o.jsxs(ce,{children:[o.jsxs(ve,{children:[o.jsx(ye,{children:"Notification Preferences"}),o.jsx(ze,{children:"Manage how you receive updates"})]}),o.jsxs(Se,{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b",children:[o.jsx(zs,{className:"h-5 w-5 text-primary"}),o.jsx("h3",{className:"text-lg font-semibold",children:"Email Notifications"})]}),o.jsxs("div",{className:"space-y-3 pl-7",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"email-booking-confirmations",children:"Booking Confirmations"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Receive emails when bookings are confirmed"})]}),o.jsx(an,{id:"email-booking-confirmations",checked:z.email.bookingConfirmations,onCheckedChange:K=>F(ne=>({...ne,email:{...ne.email,bookingConfirmations:K}}))})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"email-booking-cancellations",children:"Booking Cancellations"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Receive emails when bookings are cancelled"})]}),o.jsx(an,{id:"email-booking-cancellations",checked:z.email.bookingCancellations,onCheckedChange:K=>F(ne=>({...ne,email:{...ne.email,bookingCancellations:K}}))})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"email-booking-reminders",children:"Booking Reminders"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Receive reminders about upcoming bookings"})]}),o.jsx(an,{id:"email-booking-reminders",checked:z.email.bookingReminders,onCheckedChange:K=>F(ne=>({...ne,email:{...ne.email,bookingReminders:K}}))})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"email-new-messages",children:"New Messages"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Receive emails for new messages"})]}),o.jsx(an,{id:"email-new-messages",checked:z.email.newMessages,onCheckedChange:K=>F(ne=>({...ne,email:{...ne.email,newMessages:K}}))})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"email-payment-updates",children:"Payment Updates"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Receive emails about payment transactions"})]}),o.jsx(an,{id:"email-payment-updates",checked:z.email.paymentUpdates,onCheckedChange:K=>F(ne=>({...ne,email:{...ne.email,paymentUpdates:K}}))})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"email-promotional-offers",children:"Promotional Offers"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Receive promotional emails and special offers"})]}),o.jsx(an,{id:"email-promotional-offers",checked:z.email.promotionalOffers,onCheckedChange:K=>F(ne=>({...ne,email:{...ne.email,promotionalOffers:K}}))})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b",children:[o.jsx(NP,{className:"h-5 w-5 text-secondary"}),o.jsx("h3",{className:"text-lg font-semibold",children:"In-App Notifications"})]}),o.jsxs("div",{className:"space-y-3 pl-7",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"inapp-booking-updates",children:"Booking Updates"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Get notified about booking status changes"})]}),o.jsx(an,{id:"inapp-booking-updates",checked:z.inApp.bookingUpdates,onCheckedChange:K=>F(ne=>({...ne,inApp:{...ne.inApp,bookingUpdates:K}}))})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"inapp-new-messages",children:"New Messages"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Get notified about new messages"})]}),o.jsx(an,{id:"inapp-new-messages",checked:z.inApp.newMessages,onCheckedChange:K=>F(ne=>({...ne,inApp:{...ne.inApp,newMessages:K}}))})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"inapp-payment-notifications",children:"Payment Notifications"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Get notified about payment activities"})]}),o.jsx(an,{id:"inapp-payment-notifications",checked:z.inApp.paymentNotifications,onCheckedChange:K=>F(ne=>({...ne,inApp:{...ne.inApp,paymentNotifications:K}}))})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"inapp-system-alerts",children:"System Alerts"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Receive important system notifications"})]}),o.jsx(an,{id:"inapp-system-alerts",checked:z.inApp.systemAlerts,onCheckedChange:K=>F(ne=>({...ne,inApp:{...ne.inApp,systemAlerts:K}}))})]})]})]}),o.jsx("div",{className:"pt-4 border-t",children:o.jsx(ie,{onClick:ke,disabled:c,children:c?"Saving...":"Save Preferences"})})]})]})}),o.jsx(Ct,{value:"security",children:o.jsxs(ce,{children:[o.jsxs(ve,{children:[o.jsx(ye,{children:"Security Settings"}),o.jsx(ze,{children:"Manage your account security"})]}),o.jsx(Se,{children:o.jsx("p",{className:"text-muted-foreground",children:"Security settings coming soon"})})]})})]})]}),o.jsx(ur,{open:N,onOpenChange:T,children:o.jsxs(Hn,{children:[o.jsxs(qn,{children:[o.jsx(Kn,{children:"Cancel Booking"}),o.jsxs(Yn,{children:["Are you sure you want to cancel this booking?",C&&o.jsxs("div",{className:"mt-3 space-y-2",children:[o.jsxs("div",{className:"p-3 bg-muted rounded-md",children:[o.jsx("p",{className:"text-sm font-medium",children:"Booking Details:"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Status: ",o.jsx("span",{className:"font-medium capitalize",children:C.status})]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Check-in: ",new Date(C.checkIn).toLocaleDateString()]})]}),C.totalPrice>0&&o.jsxs("div",{className:"p-3 bg-primary/10 rounded-md border border-primary/20",children:[o.jsx("p",{className:"text-sm font-medium text-primary",children:"Refund Information:"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["A refund of ",Qe(C.totalPrice)," will be credited to your wallet balance."]})]})]})]})]}),o.jsxs(Gn,{children:[o.jsx(Xn,{disabled:A,children:"Keep Booking"}),o.jsx(Qn,{onClick:_e,disabled:A,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:A?"Cancelling...":"Cancel Booking"})]})]})}),o.jsx(ur,{open:D,onOpenChange:S,children:o.jsxs(Hn,{children:[o.jsxs(qn,{children:[o.jsx(Kn,{children:"Sign Out"}),o.jsx(Yn,{children:"Are you sure you want to sign out? You'll need to sign in again to access your account."})]}),o.jsxs(Gn,{children:[o.jsx(Xn,{children:"Cancel"}),o.jsx(Qn,{onClick:J,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Sign Out"})]})]})})]}):o.jsx(Js,{})};function _oe(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var OE="ScrollArea",[jV,hae]=er(OE),[Eoe,_s]=jV(OE),CV=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:i=600,...a}=t,[l,c]=m.useState(null),[u,d]=m.useState(null),[f,p]=m.useState(null),[g,_]=m.useState(null),[v,w]=m.useState(null),[b,x]=m.useState(0),[y,j]=m.useState(0),[P,D]=m.useState(!1),[S,N]=m.useState(!1),T=Ze(e,I=>c(I)),C=Af(s);return o.jsx(Eoe,{scope:n,type:r,dir:C,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:p,scrollbarX:g,onScrollbarXChange:_,scrollbarXEnabled:P,onScrollbarXEnabledChange:D,scrollbarY:v,onScrollbarYChange:w,scrollbarYEnabled:S,onScrollbarYEnabledChange:N,onCornerWidthChange:x,onCornerHeightChange:j,children:o.jsx(Ie.div,{dir:C,...a,ref:T,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":y+"px",...t.style}})})});CV.displayName=OE;var kV="ScrollAreaViewport",TV=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:s,...i}=t,a=_s(kV,n),l=m.useRef(null),c=Ze(e,l,a.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),o.jsx(Ie.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...t.style},children:o.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});TV.displayName=kV;var Mi="ScrollAreaScrollbar",ME=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=_s(Mi,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:a}=s,l=t.orientation==="horizontal";return m.useEffect(()=>(l?i(!0):a(!0),()=>{l?i(!1):a(!1)}),[l,i,a]),s.type==="hover"?o.jsx(Noe,{...r,ref:e,forceMount:n}):s.type==="scroll"?o.jsx(Soe,{...r,ref:e,forceMount:n}):s.type==="auto"?o.jsx(IV,{...r,ref:e,forceMount:n}):s.type==="always"?o.jsx(LE,{...r,ref:e}):null});ME.displayName=Mi;var Noe=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=_s(Mi,t.__scopeScrollArea),[i,a]=m.useState(!1);return m.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),a(!0)},d=()=>{c=window.setTimeout(()=>a(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),o.jsx(Fn,{present:n||i,children:o.jsx(IV,{"data-state":i?"visible":"hidden",...r,ref:e})})}),Soe=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=_s(Mi,t.__scopeScrollArea),i=t.orientation==="horizontal",a=hy(()=>c("SCROLL_END"),100),[l,c]=_oe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),m.useEffect(()=>{const u=s.viewport,d=i?"scrollLeft":"scrollTop";if(u){let f=u[d];const p=()=>{const g=u[d];f!==g&&(c("SCROLL"),a()),f=g};return u.addEventListener("scroll",p),()=>u.removeEventListener("scroll",p)}},[s.viewport,i,c,a]),o.jsx(Fn,{present:n||l!=="hidden",children:o.jsx(LE,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:be(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:be(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),IV=m.forwardRef((t,e)=>{const n=_s(Mi,t.__scopeScrollArea),{forceMount:r,...s}=t,[i,a]=m.useState(!1),l=t.orientation==="horizontal",c=hy(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;a(l?u:d)}},10);return Pu(n.viewport,c),Pu(n.content,c),o.jsx(Fn,{present:r||i,children:o.jsx(LE,{"data-state":i?"visible":"hidden",...s,ref:e})})}),LE=m.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,s=_s(Mi,t.__scopeScrollArea),i=m.useRef(null),a=m.useRef(0),[l,c]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=OV(l.viewport,l.content),d={...r,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:p=>i.current=p,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:p=>a.current=p};function f(p,g){return Roe(p,a.current,l,g)}return n==="horizontal"?o.jsx(joe,{...d,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const p=s.viewport.scrollLeft,g=xT(p,l,s.dir);i.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollLeft=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollLeft=f(p,s.dir))}}):n==="vertical"?o.jsx(Coe,{...d,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const p=s.viewport.scrollTop,g=xT(p,l);i.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollTop=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollTop=f(p))}}):null}),joe=m.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=_s(Mi,t.__scopeScrollArea),[a,l]=m.useState(),c=m.useRef(null),u=Ze(e,c,i.onScrollbarXChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(PV,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":dy(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(i.viewport){const p=i.viewport.scrollLeft+d.deltaX;t.onWheelScroll(p),LV(p,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&a&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Mg(a.paddingLeft),paddingEnd:Mg(a.paddingRight)}})}})}),Coe=m.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=_s(Mi,t.__scopeScrollArea),[a,l]=m.useState(),c=m.useRef(null),u=Ze(e,c,i.onScrollbarYChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(PV,{"data-orientation":"vertical",...s,ref:u,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":dy(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(i.viewport){const p=i.viewport.scrollTop+d.deltaY;t.onWheelScroll(p),LV(p,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&a&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Mg(a.paddingTop),paddingEnd:Mg(a.paddingBottom)}})}})}),[koe,RV]=jV(Mi),PV=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:a,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...p}=t,g=_s(Mi,n),[_,v]=m.useState(null),w=Ze(e,T=>v(T)),b=m.useRef(null),x=m.useRef(""),y=g.viewport,j=r.content-r.viewport,P=sn(d),D=sn(c),S=hy(f,10);function N(T){if(b.current){const C=T.clientX-b.current.left,I=T.clientY-b.current.top;u({x:C,y:I})}}return m.useEffect(()=>{const T=C=>{const I=C.target;(_==null?void 0:_.contains(I))&&P(C,j)};return document.addEventListener("wheel",T,{passive:!1}),()=>document.removeEventListener("wheel",T,{passive:!1})},[y,_,j,P]),m.useEffect(D,[r,D]),Pu(_,S),Pu(g.content,S),o.jsx(koe,{scope:n,scrollbar:_,hasThumb:s,onThumbChange:sn(i),onThumbPointerUp:sn(a),onThumbPositionChange:D,onThumbPointerDown:sn(l),children:o.jsx(Ie.div,{...p,ref:w,style:{position:"absolute",...p.style},onPointerDown:be(t.onPointerDown,T=>{T.button===0&&(T.target.setPointerCapture(T.pointerId),b.current=_.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),N(T))}),onPointerMove:be(t.onPointerMove,N),onPointerUp:be(t.onPointerUp,T=>{const C=T.target;C.hasPointerCapture(T.pointerId)&&C.releasePointerCapture(T.pointerId),document.body.style.webkitUserSelect=x.current,g.viewport&&(g.viewport.style.scrollBehavior=""),b.current=null})})})}),Og="ScrollAreaThumb",AV=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=RV(Og,t.__scopeScrollArea);return o.jsx(Fn,{present:n||s.hasThumb,children:o.jsx(Toe,{ref:e,...r})})}),Toe=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...s}=t,i=_s(Og,n),a=RV(Og,n),{onThumbPositionChange:l}=a,c=Ze(e,f=>a.onThumbChange(f)),u=m.useRef(void 0),d=hy(()=>{u.current&&(u.current(),u.current=void 0)},100);return m.useEffect(()=>{const f=i.viewport;if(f){const p=()=>{if(d(),!u.current){const g=Poe(f,l);u.current=g,l()}};return l(),f.addEventListener("scroll",p),()=>f.removeEventListener("scroll",p)}},[i.viewport,d,l]),o.jsx(Ie.div,{"data-state":a.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:be(t.onPointerDownCapture,f=>{const g=f.target.getBoundingClientRect(),_=f.clientX-g.left,v=f.clientY-g.top;a.onThumbPointerDown({x:_,y:v})}),onPointerUp:be(t.onPointerUp,a.onThumbPointerUp)})});AV.displayName=Og;var FE="ScrollAreaCorner",DV=m.forwardRef((t,e)=>{const n=_s(FE,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?o.jsx(Ioe,{...t,ref:e}):null});DV.displayName=FE;var Ioe=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,s=_s(FE,n),[i,a]=m.useState(0),[l,c]=m.useState(0),u=!!(i&&l);return Pu(s.scrollbarX,()=>{var f;const d=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),Pu(s.scrollbarY,()=>{var f;const d=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(d),a(d)}),u?o.jsx(Ie.div,{...r,ref:e,style:{width:i,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Mg(t){return t?parseInt(t,10):0}function OV(t,e){const n=t/e;return isNaN(n)?0:n}function dy(t){const e=OV(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function Roe(t,e,n,r="ltr"){const s=dy(n),i=s/2,a=e||i,l=s-a,c=n.scrollbar.paddingStart+a,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,d=n.content-n.viewport,f=r==="ltr"?[0,d]:[d*-1,0];return MV([c,u],f)(t)}function xT(t,e,n="ltr"){const r=dy(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-s,a=e.content-e.viewport,l=i-r,c=n==="ltr"?[0,a]:[a*-1,0],u=M0(t,c);return MV([0,a],[0,l])(u)}function MV(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function LV(t,e){return t>0&&t<e}var Poe=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function s(){const i={left:t.scrollLeft,top:t.scrollTop},a=n.left!==i.left,l=n.top!==i.top;(a||l)&&e(),n=i,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function hy(t,e){const n=sn(t),r=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),m.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function Pu(t,e){const n=sn(e);hn(()=>{let r=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(t),()=>{window.cancelAnimationFrame(r),s.unobserve(t)}}},[t,n])}var FV=CV,Aoe=TV,Doe=DV;const rb=m.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(FV,{ref:r,className:Ne("relative overflow-hidden",t),...n,children:[o.jsx(Aoe,{className:"h-full w-full rounded-[inherit]",children:e}),o.jsx(VV,{}),o.jsx(Doe,{})]}));rb.displayName=FV.displayName;const VV=m.forwardRef(({className:t,orientation:e="vertical",...n},r)=>o.jsx(ME,{ref:r,orientation:e,className:Ne("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:o.jsx(AV,{className:"relative flex-1 rounded-full bg-border"})}));VV.displayName=ME.displayName;const $V=()=>{const{user:t}=Dt(),[e,n]=m.useState([]),[r,s]=m.useState(""),[i,a]=m.useState(null),[l,c]=m.useState({}),[u,d]=m.useState(!0),f=m.useMemo(()=>{if(!t||e.length===0)return[];const v=new Map;return e.forEach(w=>{const b=w.senderId===t.uid?w.receiverId:w.senderId;if(!v.has(b))v.set(b,{participantId:b,participantName:l[b]||"Unknown User",lastMessage:w,unreadCount:e.filter(x=>(x.senderId===b||x.receiverId===b)&&x.receiverId===t.uid&&!x.read).length});else{const x=v.get(b);new Date(w.createdAt)>new Date(x.lastMessage.createdAt)&&(x.lastMessage=w)}}),Array.from(v.values()).sort((w,b)=>new Date(b.lastMessage.createdAt).getTime()-new Date(w.lastMessage.createdAt).getTime())},[e,t,l]);m.useEffect(()=>{(async()=>{if(!t||f.length===0)return;const w=[];if(f.forEach(x=>{l[x.participantId]||w.push(x.participantId)}),w.length===0)return;const b={};await Promise.all(w.map(async x=>{const y=await NO(x);y&&(b[x]=y.fullName||y.email||"Unknown User")})),Object.keys(b).length>0&&c(x=>({...x,...b}))})()},[f,t]),m.useEffect(()=>{if(!t){d(!1);return}d(!0);const v=SO(t.uid,w=>{n(w),d(!1)});return()=>{v()}},[t]);const p=m.useMemo(()=>!i||!t?[]:e.filter(v=>v.senderId===i&&v.receiverId===t.uid||v.senderId===t.uid&&v.receiverId===i).sort((v,w)=>new Date(v.createdAt).getTime()-new Date(w.createdAt).getTime()),[e,i,t]),g=i?l[i]||"Unknown User":null,_=async()=>{if(!(!t||!i||!r.trim()))try{await EO({senderId:t.uid,receiverId:i,content:r.trim(),read:!1}),s(""),B.success("Message sent")}catch(v){console.error("Error sending message:",v),B.error("Failed to send message")}};return u?o.jsx(Js,{}):o.jsxs("div",{className:"grid md:grid-cols-3 gap-4 h-[600px]",children:[o.jsxs(ce,{className:"md:col-span-1",children:[o.jsx(ve,{children:o.jsx(ye,{children:"Conversations"})}),o.jsx(Se,{className:"p-0",children:o.jsx(rb,{className:"h-[500px]",children:f.length===0?o.jsx("p",{className:"text-center text-muted-foreground p-4",children:"No conversations yet"}):f.map(v=>o.jsx("div",{className:`p-4 border-b cursor-pointer hover:bg-accent transition-colors ${i===v.participantId?"bg-accent":""}`,onClick:()=>a(v.participantId),children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(PE,{children:o.jsx(AE,{children:v.participantName.charAt(0).toUpperCase()})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center justify-between gap-2",children:[o.jsx("p",{className:"font-medium text-sm truncate",children:v.participantName}),v.unreadCount>0&&o.jsx("span",{className:"bg-primary text-primary-foreground text-xs rounded-full px-2 py-0.5 min-w-[20px] text-center",children:v.unreadCount})]}),o.jsx("p",{className:"text-xs text-muted-foreground line-clamp-1",children:v.lastMessage.content}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:new Date(v.lastMessage.createdAt).toLocaleDateString()===new Date().toLocaleDateString()?new Date(v.lastMessage.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):new Date(v.lastMessage.createdAt).toLocaleDateString()})]})]})},v.participantId))})})]}),o.jsxs(ce,{className:"md:col-span-2",children:[o.jsx(ve,{children:o.jsx(ye,{children:g?`Chat with ${g}`:"Chat"})}),o.jsx(Se,{children:i?o.jsxs("div",{className:"space-y-4 flex flex-col h-[500px]",children:[o.jsx(rb,{className:"flex-1 pr-4",children:p.length===0?o.jsx("div",{className:"h-full flex items-center justify-center text-muted-foreground",children:"No messages yet. Start the conversation!"}):o.jsx("div",{className:"space-y-4",children:p.map(v=>o.jsx("div",{className:`flex ${v.senderId===(t==null?void 0:t.uid)?"justify-end":"justify-start"}`,children:o.jsxs("div",{className:`max-w-[70%] rounded-lg p-3 ${v.senderId===(t==null?void 0:t.uid)?"bg-primary text-primary-foreground":"bg-muted"}`,children:[o.jsx("p",{className:"text-sm whitespace-pre-wrap break-words",children:v.content}),o.jsx("p",{className:`text-xs mt-1 ${v.senderId===(t==null?void 0:t.uid)?"opacity-70":"text-muted-foreground"}`,children:new Date(v.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},v.id))})}),o.jsxs("div",{className:"flex gap-2 pt-2 border-t",children:[o.jsx(qe,{placeholder:"Type a message...",value:r,onChange:v=>s(v.target.value),onKeyPress:v=>{v.key==="Enter"&&!v.shiftKey&&(v.preventDefault(),_())}}),o.jsx(ie,{onClick:_,disabled:!r.trim(),children:o.jsx(H9,{className:"h-4 w-4"})})]})]}):o.jsx("div",{className:"h-[500px] flex items-center justify-center text-muted-foreground",children:"Select a conversation to start chatting"})})]})]})},Ooe=()=>{const t=gt();return o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsxs(ie,{variant:"ghost",onClick:()=>t("/host/dashboard"),className:"mb-6",children:[o.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),o.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Messages"}),o.jsx($V,{})]})})},Moe=()=>{const t=gt();return o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsxs(ie,{variant:"ghost",onClick:()=>t("/guest/dashboard"),className:"mb-6",children:[o.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),o.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Messages"}),o.jsx($V,{})]})})},Loe=()=>{const t=gt(),{user:e,userRole:n}=Dt(),[r,s]=m.useState(!0),[i,a]=m.useState({totalUsers:0,totalHosts:0,totalGuests:0,totalListings:0,totalBookings:0,totalRevenue:0,avgRating:0}),[l,c]=m.useState([]),[u,d]=m.useState([]),[f,p]=m.useState([]),[g,_]=m.useState(0),[v,w]=m.useState(0);m.useEffect(()=>{!e||n!=="admin"?t("/admin/login"):b()},[e,n,t]);const b=async()=>{s(!0);try{const[y,j,P,D]=await Promise.all([Gt(et(he,"users")),Gt(et(he,"listing")),Gt(et(he,"bookings")),Gt(et(he,"reviews"))]),S=y.docs.map(Z=>Z.data()),N=S.filter(Z=>Z.role==="host").length,T=S.filter(Z=>Z.role==="guest").length,C=j.docs.map(Z=>({id:Z.id,...Z.data()})),I=P.docs.map(Z=>({id:Z.id,...Z.data()})),A=D.docs.map(Z=>({id:Z.id,...Z.data()})),R=I.filter(Z=>Z.status==="confirmed"||Z.status==="completed"),F=R.reduce((Z,ge)=>Z+(ge.totalPrice||0),0)*.1,H=A.length>0?A.reduce((Z,ge)=>Z+ge.rating,0)/A.length:0,q=new Map;A.forEach(Z=>{const ge=q.get(Z.listingId)||{totalRating:0,count:0};q.set(Z.listingId,{totalRating:ge.totalRating+Z.rating,count:ge.count+1})});const L=Array.from(q.entries()).map(([Z,ge])=>{const Re=C.find(mt=>mt.id===Z);return Re?{id:Z,title:Re.title,rating:ge.totalRating/ge.count,reviewCount:ge.count,price:Re.price}:null}).filter(Z=>Z!==null).sort((Z,ge)=>ge.rating!==Z.rating?ge.rating-Z.rating:ge.reviewCount-Z.reviewCount).slice(0,3);c(L);const V=Array.from(q.entries()).map(([Z,ge])=>{const Re=C.find(mt=>mt.id===Z);return Re?{id:Z,title:Re.title,rating:ge.totalRating/ge.count,reviewCount:ge.count,price:Re.price}:null}).filter(Z=>Z!==null).sort((Z,ge)=>Z.rating!==ge.rating?Z.rating-ge.rating:ge.reviewCount-Z.reviewCount).slice(0,3);d(V);const ee=new Date,_e=new Date(ee.getTime()-30*24*60*60*1e3),U=[],le=Math.max(...R.map(Z=>Z.totalPrice||0),1);for(let Z=0;Z<4;Z++){const ge=new Date(_e);ge.setDate(ge.getDate()+Z*7);const Re=new Date(ge);Re.setDate(Re.getDate()+7);const Pe=R.filter(X=>{const Q=new Date(X.createdAt);return Q>=ge&&Q<Re}).reduce((X,Q)=>X+(Q.totalPrice||0),0),Ue=Pe*.1,ht=le>0?Pe/le*100:0;U.push({week:`Week ${Z+1}`,revenue:Ue,percentage:Math.min(ht,100)})}p(U);const de=R.filter(Z=>{const ge=new Date(Z.createdAt),Re=(ee.getTime()-ge.getTime())/(1e3*60*60*24);return Re<=30&&Re>15}).length,fe=R.filter(Z=>{const ge=new Date(Z.createdAt);return(ee.getTime()-ge.getTime())/(1e3*60*60*24)<=15}).length,ke=de>0?(fe-de)/de*100:0,J=C.filter(Z=>{const ge=new Date(Z.createdAt),Re=(ee.getTime()-ge.getTime())/(1e3*60*60*24);return Re<=30&&Re>15}).length,K=C.filter(Z=>{const ge=new Date(Z.createdAt);return(ee.getTime()-ge.getTime())/(1e3*60*60*24)<=15}).length,ne=J>0?(K-J)/J*100:0;a({totalUsers:y.size,totalHosts:N,totalGuests:T,totalListings:j.size,totalBookings:P.size,totalRevenue:F,avgRating:H}),_(ne),w(ke)}catch(y){console.error("Error loading analytics:",y)}finally{s(!1)}},x=y=>{const j=y>=0?"+":"",P=y>=0?"text-green-600":"text-red-600",D=y>=0?Rl:zw;return o.jsxs("div",{className:`flex items-center text-xs ${P} mt-1`,children:[o.jsx(D,{className:"h-3 w-3 mr-1"}),j,y.toFixed(1),"% from last period"]})};return r?o.jsx("div",{className:"min-h-screen bg-background p-6 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading analytics..."})]})}):o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs(ie,{variant:"ghost",onClick:()=>t("/admin/dashboard"),className:"mb-6",children:[o.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),o.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Platform Analytics"}),o.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[o.jsxs(ce,{children:[o.jsx(ve,{children:o.jsx(ye,{className:"text-sm text-muted-foreground",children:"Total Users"})}),o.jsxs(Se,{children:[o.jsx("div",{className:"text-3xl font-bold",children:i.totalUsers}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[i.totalHosts," hosts, ",i.totalGuests," guests"]})]})]}),o.jsxs(ce,{children:[o.jsx(ve,{children:o.jsx(ye,{className:"text-sm text-muted-foreground",children:"Total Listings"})}),o.jsxs(Se,{children:[o.jsx("div",{className:"text-3xl font-bold",children:i.totalListings}),x(g)]})]}),o.jsxs(ce,{children:[o.jsx(ve,{children:o.jsx(ye,{className:"text-sm text-muted-foreground",children:"Total Bookings"})}),o.jsxs(Se,{children:[o.jsx("div",{className:"text-3xl font-bold",children:i.totalBookings}),x(v)]})]}),o.jsxs(ce,{children:[o.jsx(ve,{children:o.jsx(ye,{className:"text-sm text-muted-foreground",children:"Service Fees"})}),o.jsxs(Se,{children:[o.jsx("div",{className:"text-3xl font-bold text-accent",children:Qe(i.totalRevenue)}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"10% commission"})]})]})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[o.jsxs(ce,{children:[o.jsxs(ve,{children:[o.jsx(ye,{children:"Top Rated Listings"}),o.jsx(ze,{children:"Highest performing listings"})]}),o.jsx(Se,{children:l.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(ca,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No reviews yet"})]}):o.jsx("div",{className:"space-y-4",children:l.map((y,j)=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:y.title}),o.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[o.jsx(ca,{className:"h-3 w-3 fill-yellow-400 text-yellow-400 mr-1"}),y.rating.toFixed(1)," (",y.reviewCount," reviews)"]})]}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:[Qe(y.price),"/night"]})]},y.id))})})]}),o.jsxs(ce,{children:[o.jsxs(ve,{children:[o.jsx(ye,{children:"Lowest Rated Listings"}),o.jsx(ze,{children:"Listings needing attention"})]}),o.jsx(Se,{children:u.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(zw,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No reviews yet"})]}):o.jsx("div",{className:"space-y-4",children:u.map(y=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:y.title}),o.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[o.jsx(ca,{className:"h-3 w-3 fill-yellow-400 text-yellow-400 mr-1"}),y.rating.toFixed(1)," (",y.reviewCount," reviews)"]})]}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:[Qe(y.price),"/night"]})]},y.id))})})]}),o.jsxs(ce,{children:[o.jsxs(ve,{children:[o.jsx(ye,{children:"Revenue Trends"}),o.jsx(ze,{children:"Last 30 days performance"})]}),o.jsx(Se,{children:f.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(of,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No revenue data yet"})]}):o.jsx("div",{className:"space-y-4",children:f.map((y,j)=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm",children:y.week}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-32 bg-muted rounded-full h-2",children:o.jsx("div",{className:"bg-primary h-2 rounded-full",style:{width:`${y.percentage}%`}})}),o.jsx("span",{className:"text-sm font-medium",children:Qe(y.revenue)})]})]},j))})})]})]})]})})},Foe=()=>{const t=gt(),{user:e,userRole:n}=Dt(),[r,s]=m.useState(!0),[i,a]=m.useState([]),[l,c]=m.useState(null),[u,d]=m.useState(!1),[f,p]=m.useState(null);m.useEffect(()=>{!e||n!=="admin"?t("/admin/login"):g()},[e,n,t]);const g=async()=>{try{s(!0);const y=et(he,"transactions"),j=vt(y,us("createdAt","desc")),P=await Gt(j),D=await Promise.all(P.docs.map(async S=>{const N=S.data();let T="Unknown",C="Unknown";try{const I=await St($e(he,"users",N.userId));if(I.exists()){const A=I.data();T=A.email||"Unknown",C=A.fullName||"Unknown"}}catch(I){console.error("Error fetching user data:",I)}return{id:S.id,...N,userEmail:T,userName:C}}));a(D)}catch(y){console.error("Error loading transactions:",y),B.error(`Failed to load transactions: ${y.message||"Unknown error"}`)}finally{s(!1)}},_=(y,j)=>{c(y),p(j),d(!0)},v=async()=>{if(!(!l||!f))try{const y=$e(he,"transactions",l);await Mn(y,{status:f==="confirm"?"completed":"refunded"}),B.success(`Transaction ${f==="confirm"?"confirmed":"refunded"}`),g(),c(null),p(null)}catch(y){B.error(`Failed to ${f} transaction`),console.error(y)}finally{d(!1)}},w=y=>{switch(y){case"completed":return o.jsxs(Sn,{className:"bg-green-500",children:[o.jsx(zc,{className:"h-3 w-3 mr-1"}),"Completed"]});case"pending":return o.jsxs(Sn,{className:"bg-yellow-500",children:[o.jsx(rv,{className:"h-3 w-3 mr-1"}),"Pending"]});case"failed":return o.jsxs(Sn,{className:"bg-red-500",children:[o.jsx(VS,{className:"h-3 w-3 mr-1"}),"Failed"]});case"refunded":return o.jsxs(Sn,{className:"bg-gray-500",children:[o.jsx(VS,{className:"h-3 w-3 mr-1"}),"Refunded"]});default:return o.jsx(Sn,{children:y||"Unknown"})}},b=i.filter(y=>y.status==="pending"),x=i.filter(y=>y.status==="completed").reduce((y,j)=>y+j.amount,0);return r?o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsx("div",{className:"max-w-7xl mx-auto",children:o.jsx(Js,{})})}):o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[o.jsxs(ie,{variant:"ghost",onClick:()=>t("/admin/dashboard"),children:[o.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Back"]}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Payment Management"}),o.jsx("p",{className:"text-muted-foreground",children:"Review and manage all platform transactions"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[o.jsxs(ce,{children:[o.jsx(ve,{children:o.jsx(ye,{className:"text-sm font-medium text-muted-foreground",children:"Total Revenue"})}),o.jsx(Se,{children:o.jsx("div",{className:"text-2xl font-bold",children:Qe(x)})})]}),o.jsxs(ce,{children:[o.jsx(ve,{children:o.jsx(ye,{className:"text-sm font-medium text-muted-foreground",children:"Pending Transactions"})}),o.jsx(Se,{children:o.jsx("div",{className:"text-2xl font-bold",children:b.length})})]}),o.jsxs(ce,{children:[o.jsx(ve,{children:o.jsx(ye,{className:"text-sm font-medium text-muted-foreground",children:"Total Transactions"})}),o.jsx(Se,{children:o.jsx("div",{className:"text-2xl font-bold",children:i.length})})]})]}),o.jsxs(ce,{children:[o.jsxs(ve,{children:[o.jsx(ye,{children:"All Transactions"}),o.jsx(ze,{children:"Review and manage payment transactions"})]}),o.jsx(Se,{children:i.length===0?o.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[o.jsx(of,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No transactions found"})]}):o.jsx("div",{className:"space-y-4",children:i.map(y=>o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[o.jsx("p",{className:"font-medium",children:y.userName}),w(y.status)]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:y.description}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[y.userEmail,"  ",new Date(y.createdAt).toLocaleDateString()]}),y.paymentId&&o.jsxs("p",{className:"text-xs text-muted-foreground",children:["Payment ID: ",y.paymentId]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-lg font-bold",children:Qe(y.amount)}),o.jsx("p",{className:"text-xs text-muted-foreground",children:y.paymentMethod||"N/A"})]}),y.status==="pending"&&o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ie,{size:"sm",onClick:()=>_(y.id,"confirm"),children:"Confirm"}),o.jsx(ie,{size:"sm",variant:"destructive",onClick:()=>_(y.id,"refund"),children:"Refund"})]})]})]},y.id))})})]}),o.jsx(ur,{open:u,onOpenChange:d,children:o.jsxs(Hn,{children:[o.jsxs(qn,{children:[o.jsx(Kn,{children:f==="confirm"?"Confirm Transaction?":"Refund Transaction?"}),o.jsx(Yn,{children:f==="confirm"?"Are you sure you want to confirm this transaction? This action cannot be undone.":"Are you sure you want to refund this transaction? The payment will be reversed."})]}),o.jsxs(Gn,{children:[o.jsx(Xn,{children:"Cancel"}),o.jsx(Qn,{onClick:v,children:f==="confirm"?"Confirm":"Refund"})]})]})})]})})},Voe=()=>{const t=gt(),[e,n]=m.useState(!1),[r,s]=m.useState({totalBookings:0,totalRevenue:0,totalServiceFees:0,totalUsers:0,totalListings:0,activeHosts:0,activeGuests:0});m.useEffect(()=>{i()},[]);const i=async()=>{n(!0);try{const[l,c,u]=await Promise.all([Gt(et(he,"bookings")),Gt(et(he,"users")),Gt(et(he,"listing"))]),d=l.docs.map(_=>_.data()),f=c.docs.map(_=>_.data()),p=d.reduce((_,v)=>_+(v.totalPrice||0),0);s({totalBookings:d.length,totalRevenue:p,totalServiceFees:p*.15,totalUsers:f.length,totalListings:u.size,activeHosts:f.filter(_=>_.role==="host").length,activeGuests:f.filter(_=>_.role==="guest").length})}catch{B.error("Failed to load report data")}finally{n(!1)}},a=()=>{const l=`Platform Analytics Report
Generated: ${new Date().toLocaleString()}

Metric,Value
Total Bookings,${r.totalBookings}
Total Revenue,${r.totalRevenue.toFixed(2)}
Service Fees Collected,${r.totalServiceFees.toFixed(2)}
Total Users,${r.totalUsers}
Active Hosts,${r.activeHosts}
Active Guests,${r.activeGuests}
Total Listings,${r.totalListings}
`,c=new Blob([l],{type:"text/csv"}),u=window.URL.createObjectURL(c),d=document.createElement("a");d.href=u,d.download=`platform-report-${Date.now()}.csv`,d.click(),B.success("Report downloaded successfully")};return o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs(ie,{variant:"ghost",onClick:()=>t("/admin/dashboard"),className:"mb-6",children:[o.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Platform Reports"}),o.jsx("p",{className:"text-muted-foreground",children:"Generate and download comprehensive platform analytics"})]}),o.jsxs(ie,{onClick:a,children:[o.jsx(D9,{className:"h-4 w-4 mr-2"}),"Download CSV Report"]})]}),e?o.jsx("p",{children:"Loading report data..."}):o.jsxs("div",{className:"grid gap-6",children:[o.jsxs(ce,{children:[o.jsx(ve,{children:o.jsxs(ye,{className:"flex items-center gap-2",children:[o.jsx(af,{className:"h-5 w-5"}),"Summary Report"]})}),o.jsx(Se,{children:o.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"p-4 border rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-primary",children:r.totalBookings}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Bookings"})]}),o.jsxs("div",{className:"p-4 border rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-green-600",children:Qe(r.totalRevenue)}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Revenue"})]}),o.jsxs("div",{className:"p-4 border rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-blue-600",children:Qe(r.totalServiceFees)}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Service Fees (15%)"})]}),o.jsxs("div",{className:"p-4 border rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold",children:r.totalUsers}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Users"})]}),o.jsxs("div",{className:"p-4 border rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold",children:r.activeHosts}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Active Hosts"})]}),o.jsxs("div",{className:"p-4 border rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold",children:r.activeGuests}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Active Guests"})]}),o.jsxs("div",{className:"p-4 border rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold",children:r.totalListings}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Listings"})]})]})})]}),o.jsxs(ce,{children:[o.jsx(ve,{children:o.jsx(ye,{children:"Service Fee Breakdown"})}),o.jsx(Se,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center p-3 bg-muted rounded",children:[o.jsx("span",{children:"Gross Revenue"}),o.jsx("span",{className:"font-bold",children:Qe(r.totalRevenue)})]}),o.jsxs("div",{className:"flex justify-between items-center p-3 bg-muted rounded",children:[o.jsx("span",{children:"Platform Fee (15%)"}),o.jsx("span",{className:"font-bold text-blue-600",children:Qe(r.totalServiceFees)})]}),o.jsxs("div",{className:"flex justify-between items-center p-3 bg-primary/10 rounded",children:[o.jsx("span",{className:"font-semibold",children:"Net to Hosts"}),o.jsx("span",{className:"font-bold",children:Qe(r.totalRevenue-r.totalServiceFees)})]})]})})]})]})]})})},$oe=()=>{const t=gt(),[e,n]=m.useState(`
CANCELLATION POLICY

1. Free Cancellation: 
   - Full refund if cancelled 48+ hours before check-in
   - 50% refund if cancelled 24-48 hours before check-in
   - No refund if cancelled less than 24 hours before check-in

2. Host Cancellation:
   - Hosts may cancel up to 7 days before check-in without penalty
   - Last-minute host cancellations result in automatic full refund to guest
  `),[r,s]=m.useState(`
TERMS OF SERVICE

1. User Responsibilities:
   - Users must be 18+ years old
   - Accurate information must be provided
   - Properties must match their descriptions
   - Respect other users and properties

2. Platform Usage:
   - No illegal activities
   - No discrimination
   - Respect booking agreements
   - Pay all applicable fees

3. Liability:
   - Platform acts as intermediary only
   - Users responsible for their own safety
   - Insurance recommended for all parties
  `),[i,a]=m.useState(`
HOUSE RULES & REGULATIONS

1. Guest Conduct:
   - Respect noise limitations
   - No smoking unless explicitly allowed
   - Maximum guest count must be respected
   - No parties without host permission

2. Property Care:
   - Report any damages immediately
   - Keep property clean and tidy
   - Dispose of trash properly
   - Follow check-out procedures

3. Security:
   - Lock all doors and windows
   - Don't share access codes
   - Report suspicious activity
  `),l=()=>{B.success("Policies updated successfully")};return o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsxs(ie,{variant:"ghost",onClick:()=>t("/admin/dashboard"),className:"mb-6",children:[o.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Policies & Compliance"}),o.jsx("p",{className:"text-muted-foreground",children:"Manage platform rules, regulations, and policies"})]}),o.jsxs(ie,{onClick:l,children:[o.jsx(EP,{className:"h-4 w-4 mr-2"}),"Save All Changes"]})]}),o.jsxs(ic,{defaultValue:"cancellation",className:"space-y-4",children:[o.jsxs(qa,{className:"grid w-full grid-cols-3",children:[o.jsx(Rt,{value:"cancellation",children:"Cancellation"}),o.jsx(Rt,{value:"terms",children:"Terms of Service"}),o.jsx(Rt,{value:"rules",children:"House Rules"})]}),o.jsx(Ct,{value:"cancellation",children:o.jsxs(ce,{children:[o.jsx(ve,{children:o.jsxs(ye,{className:"flex items-center gap-2",children:[o.jsx(c_,{className:"h-5 w-5"}),"Cancellation Policy"]})}),o.jsx(Se,{children:o.jsx(ih,{value:e,onChange:c=>n(c.target.value),rows:15,className:"font-mono text-sm"})})]})}),o.jsx(Ct,{value:"terms",children:o.jsxs(ce,{children:[o.jsx(ve,{children:o.jsxs(ye,{className:"flex items-center gap-2",children:[o.jsx(af,{className:"h-5 w-5"}),"Terms of Service"]})}),o.jsx(Se,{children:o.jsx(ih,{value:r,onChange:c=>s(c.target.value),rows:15,className:"font-mono text-sm"})})]})}),o.jsx(Ct,{value:"rules",children:o.jsxs(ce,{children:[o.jsx(ve,{children:o.jsxs(ye,{className:"flex items-center gap-2",children:[o.jsx(ws,{className:"h-5 w-5"}),"House Rules & Regulations"]})}),o.jsx(Se,{children:o.jsx(ih,{value:i,onChange:c=>a(c.target.value),rows:15,className:"font-mono text-sm"})})]})})]})]})})},Uoe=()=>{const t=Ba();return m.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 flex flex-col",children:[o.jsx("div",{className:"flex-1 flex items-center justify-center p-6",children:o.jsxs(ce,{className:"w-full max-w-md shadow-2xl border-border/50",children:[o.jsxs(ve,{className:"space-y-6 text-center pb-8 pt-12",children:[o.jsx("div",{className:"w-24 h-24 mx-auto rounded-full bg-gradient-to-br from-red-100 to-orange-100 dark:from-red-900/20 dark:to-orange-900/20 flex items-center justify-center",children:o.jsx(c_,{className:"w-16 h-16 text-red-500"})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ye,{className:"text-6xl font-bold bg-gradient-to-r from-red-500 to-orange-500 bg-clip-text text-transparent",children:"404"}),o.jsx(ze,{className:"text-xl",children:"Oops! Page not found"})]})]}),o.jsxs(Se,{className:"space-y-6 pb-12",children:[o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("p",{className:"text-muted-foreground",children:"The page you're looking for doesn't exist or has been moved."}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Requested path: ",o.jsx("code",{className:"bg-muted px-2 py-1 rounded text-xs",children:t.pathname})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(ie,{asChild:!0,className:"w-full h-12 text-base font-semibold",size:"lg",children:o.jsxs(cr,{to:"/",children:[o.jsx(Ea,{className:"w-4 h-4 mr-2"}),"Return to Home"]})}),o.jsx(ie,{asChild:!0,variant:"outline",className:"w-full",children:o.jsxs(cr,{to:"/guest/browse",children:[o.jsx(Wc,{className:"w-4 h-4 mr-2"}),"Browse Listings"]})})]}),o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"w-full h-px bg-gradient-to-r from-transparent via-border to-transparent"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Need help? ",o.jsx(cr,{to:"/contact",className:"text-primary hover:underline",children:"Contact our support team"})]})]})]})]})}),o.jsx(UM,{})]})},Boe=new y8,zoe=()=>{const{loading:t}=Dt();return t?o.jsx(Js,{}):o.jsxs(u7,{children:[o.jsx(Et,{path:"/",element:o.jsx(VZ,{})}),o.jsx(Et,{path:"/host/policies",element:o.jsx(ZZ,{})}),o.jsx(Et,{path:"/host/login",element:o.jsx(qZ,{})}),o.jsx(Et,{path:"/guest/login",element:o.jsx(eJ,{})}),o.jsx(Et,{path:"/admin/login",element:o.jsx(nJ,{})}),o.jsx(Et,{path:"/verify-email",element:o.jsx(rJ,{})}),o.jsx(Et,{path:"/verify-otp",element:o.jsx(yJ,{})}),o.jsx(Et,{path:"/verification-pending",element:o.jsx(xJ,{})}),o.jsx(Et,{path:"/host/dashboard",element:o.jsx(qJ,{})}),o.jsx(Et,{path:"/host/create-listing",element:o.jsx(aie,{})}),o.jsx(Et,{path:"/host/listings",element:o.jsx(lie,{})}),o.jsx(Et,{path:"/host/bookings",element:o.jsx(ooe,{})}),o.jsx(Et,{path:"/host/payments",element:o.jsx(aoe,{})}),o.jsx(Et,{path:"/host/messages",element:o.jsx(Ooe,{})}),o.jsx(Et,{path:"/host/settings",element:o.jsx(woe,{})}),o.jsx(Et,{path:"/guest/dashboard",element:o.jsx(ZJ,{})}),o.jsx(Et,{path:"/guest/browse",element:o.jsx(Fie,{})}),o.jsx(Et,{path:"/guest/listing/:id",element:o.jsx(roe,{})}),o.jsx(Et,{path:"/guest/bookings",element:o.jsx(ioe,{})}),o.jsx(Et,{path:"/guest/wallet",element:o.jsx(coe,{})}),o.jsx(Et,{path:"/guest/messages",element:o.jsx(Moe,{})}),o.jsx(Et,{path:"/guest/settings",element:o.jsx(boe,{})}),o.jsx(Et,{path:"/admin/dashboard",element:o.jsx(JJ,{})}),o.jsx(Et,{path:"/admin/users",element:o.jsx(hoe,{})}),o.jsx(Et,{path:"/admin/listings",element:o.jsx(foe,{})}),o.jsx(Et,{path:"/admin/payments",element:o.jsx(Foe,{})}),o.jsx(Et,{path:"/admin/analytics",element:o.jsx(Loe,{})}),o.jsx(Et,{path:"/admin/reports",element:o.jsx(Voe,{})}),o.jsx(Et,{path:"/admin/policies",element:o.jsx($oe,{})}),o.jsx(Et,{path:"/settings",element:o.jsx(moe,{})}),o.jsx(Et,{path:"*",element:o.jsx(Uoe,{})})]})},Woe=()=>o.jsx(w8,{client:Boe,children:o.jsx(P$,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:o.jsxs(KB,{children:[o.jsx(T$,{}),o.jsx(uU,{}),o.jsx(y7,{children:o.jsx(wQ,{children:o.jsx(zoe,{})})})]})})});BR(document.getElementById("root")).render(o.jsx(Woe,{}));
